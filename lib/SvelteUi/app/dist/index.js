var ru=Object.defineProperty;var fu=(t,e,l)=>e in t?ru(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ki=(t,e,l)=>(fu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function He(){}function dl(t,e){for(const l in e)t[l]=e[l];return t}function Zr(t){return t()}function Ls(){return Object.create(null)}function Ut(t){t.forEach(Zr)}function Gi(t){return typeof t=="function"}function Ct(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Zn;function an(t,e){return t===e?!0:(Zn||(Zn=document.createElement("a")),Zn.href=e,t===Zn.href)}function uu(t){return Object.keys(t).length===0}function Yi(t,...e){if(t==null){for(const n of e)n(void 0);return He}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Zl(t){let e;return Yi(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Yi(e,l))}function Ji(t,e,l,n){if(t){const i=xr(t,e,l,n);return t[0](i)}}function xr(t,e,l,n){return t[1]&&n?dl(l.ctx.slice(),t[1](n(e))):l.ctx}function Xi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function Qi(t,e,l,n,i,s){if(i){const o=xr(e,l,n,s);t.p(o,i)}}function Zi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ai(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ri(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const cu=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function Zt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function Nt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function g(){return w(" ")}function tl(){return w("")}function he(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Gn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const mu=["width","height"];function vn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&mu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function ef(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function bt(t){return t===""?null:+t}function _u(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function pu(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function du(t,e,l){~cu.indexOf(l)?pu(t,e):q(t,e)}function x(t,e){t.value=e??""}function xl(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ft(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function ll(t){const e=t.querySelector(":checked");return e&&e.__value}let xn;function hu(){if(xn===void 0){xn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{xn=!0}}return xn}function xi(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=hu();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=he(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=he(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),P(n)}}function Ql(t,e,l){t.classList.toggle(e,!!l)}function gu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Is(t,e){return new t(e)}let Hn;function Rn(t){Hn=t}function Yn(){if(!Hn)throw new Error("Function called outside component initialization");return Hn}function es(t){Yn().$$.on_mount.push(t)}function ts(t){Yn().$$.on_destroy.push(t)}function bu(){const t=Yn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=gu(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Yn().$$.context.set(t,e),e}function tn(t){return Yn().$$.context.get(t)}const mn=[],fi=[];let gn=[];const Ds=[],tf=Promise.resolve();let Ei=!1;function lf(){Ei||(Ei=!0,tf.then(nf))}function vu(){return lf(),tf}function Yt(t){gn.push(t)}const wi=new Set;let un=0;function nf(){if(un!==0)return;const t=Hn;do{try{for(;un<mn.length;){const e=mn[un];un++,Rn(e),ku(e.$$)}}catch(e){throw mn.length=0,un=0,e}for(Rn(null),mn.length=0,un=0;fi.length;)fi.pop()();for(let e=0;e<gn.length;e+=1){const l=gn[e];wi.has(l)||(wi.add(l),l())}gn.length=0}while(mn.length);for(;Ds.length;)Ds.pop()();Ei=!1,wi.clear(),Rn(t)}function ku(t){if(t.fragment!==null){t.update(),Ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Yt)}}function wu(t){const e=[],l=[];gn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),gn=e}const ii=new Set;let nn;function vt(){nn={r:0,c:[],p:nn}}function kt(){nn.r||Ut(nn.c),nn=nn.p}function J(t,e){t&&t.i&&(ii.delete(t),t.i(e))}function le(t,e,l,n){if(t&&t.o){if(ii.has(t))return;ii.add(t),nn.c.push(()=>{ii.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Xe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function sf(t,e){t.d(1),e.delete(t.key)}function of(t,e,l,n,i,s,o,f,r,c,m,d){let _=t.length,h=s.length,b=_;const M={};for(;b--;)M[t[b].key]=b;const S=[],k=new Map,E=new Map,F=[];for(b=h;b--;){const T=d(i,s,b),j=l(T);let I=o.get(j);I?n&&F.push(()=>I.p(T,e)):(I=c(j,T),I.c()),k.set(j,S[b]=I),j in M&&E.set(j,Math.abs(b-M[j]))}const R=new Set,y=new Set;function O(T){J(T,1),T.m(f,m),o.set(T.key,T),m=T.first,h--}for(;_&&h;){const T=S[h-1],j=t[_-1],I=T.key,D=j.key;T===j?(m=T.first,_--,h--):k.has(D)?!o.has(I)||R.has(I)?O(T):y.has(D)?_--:E.get(I)>E.get(D)?(y.add(I),O(T)):(R.add(D),_--):(r(j,o),_--)}for(;_--;){const T=t[_];k.has(T.key)||r(T,o)}for(;h;)O(S[h-1]);return Ut(F),S}function Ai(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function ei(t){return typeof t=="object"&&t!==null?t:{}}function ye(t){t&&t.c()}function Me(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Yt(()=>{const s=t.$$.on_mount.map(Zr).filter(Gi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ut(s),t.$$.on_mount=[]}),i.forEach(Yt)}function Se(t,e){const l=t.$$;l.fragment!==null&&(wu(l.after_update),Ut(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Mu(t,e){t.$$.dirty[0]===-1&&(mn.push(t),lf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,l,n,i,s,o=null,f=[-1]){const r=Hn;Rn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:He,not_equal:i,bound:Ls(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Ls(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(d,_,...h)=>{const b=h.length?h[0]:_;return c.ctx&&i(c.ctx[d],c.ctx[d]=b)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](b),m&&Mu(t,d)),_}):[],c.update(),m=!0,Ut(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=_u(e.target);c.fragment&&c.fragment.l(d),d.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&J(t.$$.fragment),Me(t,e.target,e.anchor),nf()}Rn(r)}class At{constructor(){ki(this,"$$");ki(this,"$$set")}$destroy(){Se(this,1),this.$destroy=He}$on(e,l){if(!Gi(l))return He;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!uu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Su="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Su);const Os=t=>typeof t>"u",af=t=>typeof t=="function",rf=t=>typeof t=="number";function yu(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ff(){let t=0;return()=>t++}function Nu(){return Math.random().toString(36).substring(2)}const ql=typeof window>"u";function uf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const cf=(t,e)=>t?{}:{style:e},qi=t=>({"aria-hidden":"true",...cf(t,"display:none;")}),cn=[];function mf(t,e){return{subscribe:nl(t,e).subscribe}}function nl(t,e=He){let l;const n=new Set;function i(f){if(Ct(t,f)&&(t=f,l)){const r=!cn.length;for(const c of n)c[1](),cn.push(c,t);if(r){for(let c=0;c<cn.length;c+=2)cn[c][0](cn[c+1]);cn.length=0}}}function s(f){i(f(t))}function o(f,r=He){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||He),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Pu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return mf(l,(o,f)=>{let r=!1;const c=[];let m=0,d=He;const _=()=>{if(m)return;d();const b=e(n?c[0]:c,o,f);s?o(b):d=Gi(b)?b:He},h=i.map((b,M)=>Yi(b,S=>{c[M]=S,m&=~(1<<M),r&&_()},()=>{m|=1<<M}));return r=!0,_(),function(){Ut(h),d(),r=!1}})}const Jn=t=>`@@svnav-ctx__${t}`,Li=Jn("LOCATION"),kn=Jn("ROUTER"),_f=Jn("ROUTE"),Cu=Jn("ROUTE_PARAMS"),Tu=Jn("FOCUS_ELEM"),pf=/^:(.+)/,On=(t,e,l)=>t.substr(e,l),Ii=(t,e)=>On(t,0,e.length)===e,Eu=t=>t==="",Au=t=>pf.test(t),df=t=>t[0]==="*",qu=t=>t.replace(/\*.*$/,""),hf=t=>t.replace(/(^\/+|\/+$)/g,"");function Cl(t,e=!1){const l=hf(t).split("/");return e?l.filter(Boolean):l}const Mi=(t,e)=>t+(e?`?${e}`:""),ls=t=>`/${hf(t)}`;function Xn(...t){const e=n=>Cl(n,!0).join("/"),l=t.map(e).join("/");return ls(l)}const ns=1,gi=2,rn=3,Lu=4,gf=5,Iu=6,bf=7,Du=8,Ou=9,vf=10,kf=11,Fu={[ns]:"Link",[gi]:"Route",[rn]:"Router",[Lu]:"useFocus",[gf]:"useLocation",[Iu]:"useMatch",[bf]:"useNavigate",[Du]:"useParams",[Ou]:"useResolvable",[vf]:"useResolve",[kf]:"navigate"},is=t=>Fu[t];function Ru(t,e){let l;return t===gi?l=e.path?`path="${e.path}"`:"default":t===ns?l=`to="${e.to}"`:t===rn&&(l=`basepath="${e.basepath||""}"`),`<${is(t)} ${l||""} />`}function ju(t,e,l,n){const i=l&&Ru(n||t,l),s=i?`

Occurred in: ${i}`:"",o=is(t),f=af(e)?e(o):e;return`<${o}> ${f}${s}`}const wf=t=>(...e)=>t(ju(...e)),Mf=wf(t=>{throw new Error(t)}),ui=wf(console.warn),Fs=4,Bu=3,Uu=2,Hu=1,Wu=1;function zu(t,e){const l=t.default?0:Cl(t.fullPath).reduce((n,i)=>{let s=n;return s+=Fs,Eu(i)?s+=Wu:Au(i)?s+=Uu:df(i)?s-=Fs+Hu:s+=Bu,s},0);return{route:t,score:l,index:e}}function Ku(t){return t.map(zu).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Sf(t,e){let l,n;const[i]=e.split("?"),s=Cl(i),o=s[0]==="",f=Ku(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let d=!1;const _={},h=k=>({...m,params:_,uri:k});if(m.default){n=h(e);continue}const b=Cl(m.fullPath),M=Math.max(s.length,b.length);let S=0;for(;S<M;S++){const k=b[S],E=s[S];if(!Os(k)&&df(k)){const R=k==="*"?"*":k.slice(1);_[R]=s.slice(S).map(decodeURIComponent).join("/");break}if(Os(E)){d=!0;break}const F=pf.exec(k);if(F&&!o){const R=decodeURIComponent(E);_[F[1]]=R}else if(k!==E){d=!0;break}}if(!d){l=h(Xn(...s.slice(0,S)));break}}return l||n||null}function yf(t,e){return Sf([t],e)}function $u(t,e){if(Ii(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Cl(l),o=Cl(i);if(s[0]==="")return Mi(i,n);if(!Ii(s[0],".")){const c=o.concat(s).join("/");return Mi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),Mi(`/${r.join("/")}`,n)}function Rs(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=Cl(e,!0),f=Cl(l,!0);for(;o.length;)o[0]!==f[0]&&Mf(rn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:Xn(...f),hash:n,search:i,state:s}}const js=t=>t.length===1?"":t,ss=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?js(On(t,l)):"",o=i?On(t,0,l):t,f=n?js(On(o,e)):"";return{pathname:(n?On(o,0,e):o)||"/",search:f,hash:s}},Vu=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function Gu(t,e,l){return Xn(l,$u(t,e))}function Yu(t,e){const l=ls(qu(t)),n=Cl(l,!0),i=Cl(e,!0).slice(0,n.length),s=yf({fullPath:l},Xn(...i));return s&&s.uri}const Si="POP",Ju="PUSH",Xu="REPLACE";function yi(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function Qu(t){let e=[],l=yi(t),n=Si;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=yi(t),n=Si,i([s])};i([s]);const f=uf(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?Xu:Ju,rf(s))o&&ui(kf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Si,t.history.go(s);else{const c={...f,_key:Nu()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=yi(t),i()}}}function Ni(t,e){return{...ss(e),state:t}}function Zu(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const xu=!!(!ql&&window.document&&window.document.createElement),ec=!ql&&window.location.origin==="null",Nf=Qu(xu&&!ec?window:Zu()),{navigate:Wn}=Nf;let Tl=null,Pf=!0;function tc(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function lc(t){(!Tl||t.level>Tl.level||t.level===Tl.level&&tc(t.routerId,Tl.routerId))&&(Tl=t)}function nc(){Tl=null}function ic(){Pf=!1}function Bs(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=uf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function sc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function oc(t){return/^H[1-6]$/i.test(t.tagName)}function Us(t,e=document){return e.querySelector(t)}function ac(t){let l=Us(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!sc(l,t);){if(oc(l))return l;const n=Us("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function rc(t){Promise.resolve(Zl(t.focusElement)).then(e=>{const l=e||ac(t.id);l||ui(rn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gi),!Bs(l)&&Bs(document.documentElement)})}const fc=(t,e,l)=>(n,i)=>vu().then(()=>{if(!Tl||Pf){ic();return}if(n&&rc(Tl.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=Tl.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},Zl(l));Promise.resolve(m).then(d=>{e.set(d)})}nc()}),uc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function cc(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},cf(t[6],uc)],i={};for(let s=0;s<n.length;s+=1)i=dl(i,n[s]);return{c(){e=p("div"),l=w(t[0]),vn(e,i)},m(s,o){C(s,e,o),a(e,l)},p(s,o){o[0]&1&&du(l,s[0],i.contenteditable)},d(s){s&&P(e)}}}function mc(t){let e,l,n,i,s,o=[qi(t[6]),{"data-svnav-router":t[3]}],f={};for(let d=0;d<o.length;d+=1)f=dl(f,o[d]);const r=t[22].default,c=Ji(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&cc(t);return{c(){e=p("div"),l=g(),c&&c.c(),n=g(),m&&m.c(),i=tl(),vn(e,f)},m(d,_){C(d,e,_),C(d,l,_),c&&c.m(d,_),C(d,n,_),m&&m.m(d,_),C(d,i,_),s=!0},p(d,_){c&&c.p&&(!s||_[0]&2097152)&&Qi(c,r,d,d[21],s?Xi(r,d[21],_,null):Zi(d[21]),null),d[2]&&d[4]&&d[1].announcements&&m.p(d,_)},i(d){s||(J(c,d),s=!0)},o(d){le(c,d),s=!1},d(d){d&&(P(e),P(l),P(n),P(i)),c&&c.d(d),m&&m.d(d)}}}const _c=ff(),Hs="/";function pc(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Hs}=e,{url:d=null}=e,{history:_=Nf}=e,{primary:h=!0}=e,{a11y:b={}}=e,{disableInlineStyles:M=!1}=e;const S={createAnnouncement:H=>`Navigated to ${H.uri}`,announcements:!0,...b},k=m,E=ls(m),F=tn(Li),R=tn(kn),y=!F,O=_c(),T=h&&!(R&&!R.manageFocus),j=nl("");Pl(t,j,H=>l(0,f=H));const I=R?R.disableInlineStyles:M,D=nl([]);Pl(t,D,H=>l(20,o=H));const U=nl(null);Pl(t,U,H=>l(18,i=H));let z=!1;const V=y?0:R.level+1,G=y?nl((()=>Rs(ql?ss(d):_.location,E))()):F;Pl(t,G,H=>l(17,n=H));const Y=nl(n);Pl(t,Y,H=>l(19,s=H));const B=fc(S,j,G),K=H=>X=>X.filter(pe=>pe.id!==H);function Z(H){if(ql){if(z)return;const X=yf(H,n.pathname);if(X)return z=!0,X}else D.update(X=>{const pe=K(H.id)(X);return pe.push(H),pe})}function te(H){D.update(K(H))}return!y&&m!==Hs&&ui(rn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),y&&(es(()=>_.listen(X=>{const pe=Rs(X.location,E);Y.set(n),G.set(pe)})),jn(Li,G)),jn(kn,{activeRoute:U,registerRoute:Z,unregisterRoute:te,manageFocus:T,level:V,id:O,history:y?_:R.history,basepath:y?E:R.basepath,disableInlineStyles:I}),t.$$set=H=>{"basepath"in H&&l(11,m=H.basepath),"url"in H&&l(12,d=H.url),"history"in H&&l(13,_=H.history),"primary"in H&&l(14,h=H.primary),"a11y"in H&&l(15,b=H.a11y),"disableInlineStyles"in H&&l(16,M=H.disableInlineStyles),"$$scope"in H&&l(21,c=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==k&&ui(rn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const H=Sf(o,n.pathname);U.set(H)}if(t.$$.dirty[0]&655360&&y){const H=!!n.hash,X=!H&&T,pe=!H||n.pathname!==s.pathname;B(X,pe)}t.$$.dirty[0]&262144&&T&&i&&i.primary&&lc({level:V,routerId:O,route:i})},[f,S,y,O,T,j,I,D,U,G,Y,m,d,_,h,b,M,n,i,s,o,c,r]}class dc extends At{constructor(e){super(),Et(this,e,pc,mc,Ct,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Cf=dc;function Qn(t,e,l=kn,n=rn){tn(l)||Mf(t,s=>`You cannot use ${s} outside of a ${is(n)}.`,e)}const hc=t=>{const{subscribe:e}=tn(t);return{subscribe:e}};function Tf(){return Qn(gf),hc(Li)}function Ef(){const{history:t}=tn(kn);return t}function Af(){const t=tn(_f);return t?Pu(t,e=>e.base):nl("/")}function qf(){Qn(vf);const t=Af(),{basepath:e}=tn(kn);return n=>Gu(n,Zl(t),e)}function gc(){Qn(bf);const t=qf(),{navigate:e}=Ef();return(n,i)=>{const s=rf(n)?n:t(n);return e(s,i)}}const bc=t=>({params:t&16,location:t&8}),Ws=t=>({params:ql?Zl(t[10]):t[4],location:t[3],navigate:t[11]});function zs(t){let e,l;return e=new Cf({props:{primary:t[1],$$slots:{default:[wc]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function vc(t){let e;const l=t[18].default,n=Ji(l,t,t[19],Ws);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&Qi(n,l,i,i[19],e?Xi(l,i[19],s,bc):Zi(i[19]),Ws)},i(i){e||(J(n,i),e=!0)},o(i){le(n,i),e=!1},d(i){n&&n.d(i)}}}function kc(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},ql?Zl(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=dl(c,i[m]);return r!==void 0&&r&7192&&(c=dl(c,Ai(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ei(ql?Zl(f[10]):f[4]),r&4096&&ei(f[12])]))),{props:c}}return s&&(e=Is(s,o(t))),{c(){e&&ye(e.$$.fragment),l=tl()},m(f,r){e&&Me(e,f,r),C(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){vt();const c=e;le(c.$$.fragment,1,0,()=>{Se(c,1)}),kt()}s?(e=Is(s,o(f,r)),ye(e.$$.fragment),J(e.$$.fragment,1),Me(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?Ai(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ei(ql?Zl(f[10]):f[4]),r&4096&&ei(f[12])]):{};e.$set(c)}},i(f){n||(e&&J(e.$$.fragment,f),n=!0)},o(f){e&&le(e.$$.fragment,f),n=!1},d(f){f&&P(l),e&&Se(e,f)}}}function wc(t){let e,l,n,i;const s=[kc,vc],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(vt(),le(o[m],1,1,()=>{o[m]=null}),kt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),J(l,1),l.m(n.parentNode,n))},i(r){i||(J(l),i=!0)},o(r){le(l),i=!1},d(r){r&&P(n),o[e].d(r)}}}function Mc(t){let e,l,n,i,s,o=[qi(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let d=0;d<o.length;d+=1)f=dl(f,o[d]);let r=t[2]&&zs(t),c=[qi(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let d=0;d<c.length;d+=1)m=dl(m,c[d]);return{c(){e=p("div"),l=g(),r&&r.c(),n=g(),i=p("div"),vn(e,f),vn(i,m)},m(d,_){C(d,e,_),C(d,l,_),r&&r.m(d,_),C(d,n,_),C(d,i,_),s=!0},p(d,[_]){d[2]?r?(r.p(d,_),_&4&&J(r,1)):(r=zs(d),r.c(),J(r,1),r.m(n.parentNode,n)):r&&(vt(),le(r,1,1,()=>{r=null}),kt())},i(d){s||(J(r),s=!0)},o(d){le(r),s=!1},d(d){d&&(P(e),P(l),P(n),P(i)),r&&r.d(d)}}}const Sc=ff();function yc(t,e,l){let n;const i=["path","component","meta","primary"];let s=ri(e,i),o,f,r,c,{$$slots:m={},$$scope:d}=e,{path:_=""}=e,{component:h=null}=e,{meta:b={}}=e,{primary:M=!0}=e;Qn(gi,e);const S=Sc(),{registerRoute:k,unregisterRoute:E,activeRoute:F,disableInlineStyles:R}=tn(kn);Pl(t,F,z=>l(16,o=z));const y=Af();Pl(t,y,z=>l(17,r=z));const O=Tf();Pl(t,O,z=>l(3,f=z));const T=nl(null);let j;const I=nl(),D=nl({});Pl(t,D,z=>l(4,c=z)),jn(_f,I),jn(Cu,D),jn(Tu,T);const U=gc();return ql||ts(()=>E(S)),t.$$set=z=>{l(24,e=dl(dl({},e),ai(z))),l(12,s=ri(e,i)),"path"in z&&l(13,_=z.path),"component"in z&&l(0,h=z.component),"meta"in z&&l(14,b=z.meta),"primary"in z&&l(1,M=z.primary),"$$scope"in z&&l(19,d=z.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const z=_==="",V=Xn(r,_),W={id:S,path:_,meta:b,default:z,fullPath:z?"":V,base:z?r:Yu(V,f.pathname),primary:M,focusElement:T};I.set(W),l(15,j=k(W))}if(t.$$.dirty&98304&&l(2,n=!!(j||o&&o.id===S)),t.$$.dirty&98308&&n){const{params:z}=j||o;D.set(z)}},e=ai(e),[h,M,n,f,c,S,F,R,y,O,D,U,s,_,b,j,o,r,m,d]}class Nc extends At{constructor(e){super(),Et(this,e,yc,Mc,Ct,{path:13,component:0,meta:14,primary:1})}}const ol=Nc;function Pc(t){let e,l,n,i;const s=t[13].default,o=Ji(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=dl(r,f[c]);return{c(){e=p("a"),o&&o.c(),vn(e,r)},m(c,m){C(c,e,m),o&&o.m(e,null),l=!0,n||(i=he(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&Qi(o,s,c,c[12],l?Xi(s,c[12],m,null):Zi(c[12]),null),vn(e,r=Ai(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(J(o,c),l=!0)},o(c){le(o,c),l=!1},d(c){c&&P(e),o&&o.d(c),n=!1,i()}}}function Cc(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=ri(e,c),d,{$$slots:_={},$$scope:h}=e,{to:b}=e,{replace:M=!1}=e,{state:S={}}=e,{getProps:k=null}=e;Qn(ns,e);const E=Tf();Pl(t,E,T=>l(11,d=T));const F=bu(),R=qf(),{navigate:y}=Ef();function O(T){F("click",T),yu(T)&&(T.preventDefault(),y(n,{state:S,replace:o||M}))}return t.$$set=T=>{l(19,e=dl(dl({},e),ai(T))),l(18,m=ri(e,c)),"to"in T&&l(5,b=T.to),"replace"in T&&l(6,M=T.replace),"state"in T&&l(7,S=T.state),"getProps"in T&&l(8,k=T.getProps),"$$scope"in T&&l(12,h=T.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=R(b,d)),t.$$.dirty&2049&&l(10,i=Ii(d.pathname,n)),t.$$.dirty&2049&&l(9,s=n===d.pathname),t.$$.dirty&2049&&(o=ss(n)===Vu(d)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(af(k)){const T=k({location:d,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...T}}return m})())},e=ai(e),[n,r,f,E,O,b,M,S,k,s,i,d,h,_]}class Tc extends At{constructor(e){super(),Et(this,e,Cc,Pc,Ct,{to:5,replace:6,state:7,getProps:8})}}const Ml=Tc;function ti(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Ec(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function os(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function zn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function ci(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function ct(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Kn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function mi(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Bn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Kt(t,e){return t==1||t==2&&e}function Il(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Bt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Ll(t,e){return t.setTime(t.getTime()+e*36e5),t}function Ac(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function qc(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Ks=0;function bn(t,e){Ks++;const l=Lc(t);if(!l.length){e&&e(""),setTimeout(bn,1500,t,e);return}const n=l[(Ks-1)%l.length];if(!n){setTimeout(bn,1e3,t,e);return}const i=Ic(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(bn,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function Lc(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function Ic(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function el(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $s(t){return t.startsWith("esp32")?"esp32":t}function fl(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function $n(t,e){let l=[Bt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Bt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let en="[\\x20-\\x7E]+",_i="[\\x20-\\xFF]+",pi="[A-Za-z0-9_\\-]+",Lf="[0-9A-Fa-f]+",Dn="[0-9]+",si={},Di=[];async function Dc(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function If(){if(Di.length){let t=Di.shift();delete si[t.resource];try{let e=await Dc(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(If,100)}If();async function Sl(t,e={}){let l;return si[t]?l=si[t]:(l={resource:t,options:e,callbacks:[]},si[t]=l,Di.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function bi(){Nl=await(await Sl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),pl.set(Nl)}const pl=nl(Nl,t=>(bi(),function(){}));function Oc(t){pl.update(e=>(e.trying=t,e))}let Un={c:-1,n:[]};const Vs=new Map;let Fc=0,sn=null,di=!1,pn=null,oi=null;async function Rc(){try{const e=await(await Sl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let o=Vs.get(s.s);o===void 0&&(o=Fc++,Vs.set(s.s,o)),l.set(s.s,{...s,_order:o})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);Un={c:n.length,n},pn&&pn(Un)}catch{Un.c<0&&pn&&pn({c:-1,n:[]})}finally{oi=null}}function jc(){return oi||(oi=Rc()),oi}function Df(t=0){di&&(sn&&clearTimeout(sn),sn=setTimeout(()=>{sn=null,jc()},Math.max(0,t)))}let li=0,Gs=-127,Ys=null,Bc={};const Uc=mf(Bc,t=>{let e,l,n=!1;async function i(){Sl("data.json").then(s=>s.json()).then(s=>{t(s),Gs!=s.t&&(Gs=s.t,setTimeout(Hc,2e3)),Ys==null&&s.pe&&s.p!=null&&(Ys=s.p,Ff()),(!Nl||!Nl.chip||Nl.booting||li>1&&!Bn(Nl.board))&&(bi(),El&&clearTimeout(El),El=setTimeout(Ri,2e3),Al&&clearTimeout(Al),Al=setTimeout(Bi,3e3)),s.u,El||(El=Ri()),Al||(Al=Bi());let o=5e3;if(Bn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),li=0,di&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Df(0)}))}).catch(s=>{li++,li>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(bn,5e3,Nl,Oc))):e=setTimeout(i,Bn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Oi={},Fn;const as=nl(Oi);async function Of(){let t=!1;as.update(e=>{for(var l=0;l<36;l++){if(e[ct(l)]==null){t=l<12;break}e[ct(l)]=e[ct(l+1)]}return e}),t?Ff():Fn=setTimeout(Of,(60-new Date().getMinutes())*6e4)}async function Ff(){Fn&&(clearTimeout(Fn),Fn=0),Oi=await(await Sl("energyprice.json")).json(),as.set(Oi),Fn=setTimeout(Of,(60-new Date().getMinutes())*6e4)}let Fi={},El;async function Ri(){El&&(clearTimeout(El),El=0),Fi=await(await Sl("dayplot.json")).json(),Rf.set(Fi),El=setTimeout(Ri,(60-new Date().getMinutes())*6e4+20)}const Rf=nl(Fi,t=>function(){});let ji={},Al;async function Bi(){Al&&(clearTimeout(Al),Al=0),ji=await(await Sl("monthplot.json")).json(),jf.set(ji),Al=setTimeout(Bi,(24-new Date().getHours())*36e5+40)}const jf=nl(ji,t=>function(){});let Ui={};async function Hc(){Ui=await(await Sl("temperature.json")).json(),Bf.set(Ui)}const Bf=nl(Ui,t=>function(){});let Hi={},ni;async function Uf(){ni&&(clearTimeout(ni),ni=0),Hi=await(await Sl("tariff.json")).json(),Hf.set(Hi),ni=setTimeout(Uf,(60-new Date().getMinutes())*6e4+30)}const Hf=nl(Hi,t=>function(){}),Wf=nl(Un,t=>(pn=t,di=!0,t(Un),Df(0),function(){di=!1,pn=null,sn&&(clearTimeout(sn),sn=null)}));let Wi=!1;const yl=nl(Wi);async function hi(t){Wi=await(await Sl("translations.json"+(t?"?lang="+t:""))).json(),yl.set(Wi)}hi();const rs="/neas_logotype_white.svg",zf="/wifi-low-light.svg",Kf="/wifi-medium-light.svg",$f="/wifi-high-light.svg",Vf="/wifi-off-light.svg";function Js(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function Gf(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Xs(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?Yc:c[2]>0?Gc:c[3]>1?Vc:c[3]>0?$c:c[4]>1?Kc:c[4]>0?zc:Wc}let o=s(t),f=o(t);return{c(){l=w(e),n=g(),f.c(),i=tl()},m(c,m){C(c,l,m),C(c,n,m),f.m(c,m),C(c,i,m)},p(c,m){var d;m&2&&e!==(e=(((d=c[1].header)==null?void 0:d.uptime)??"Up")+"")&&q(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(P(l),P(n),P(i)),f.d(c)}}}function Wc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=w(t[0]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&1&&q(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function zc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=w(t[4]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&q(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function Kc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=w(t[4]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&q(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function $c(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=w(t[3]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&q(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function Vc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=w(t[3]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&q(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function Gc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=w(t[2]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&q(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function Yc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=w(t[2]),l=g(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&q(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&q(i,n)},d(o){o&&(P(e),P(l),P(i))}}}function Jc(t){let e,l=t[0]&&Xs(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Xs(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:He,o:He,d(n){n&&P(e),l&&l.d(n)}}}function Xc(t,e,l){let{epoch:n}=e,i={};yl.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class Qc extends At{constructor(e){super(),Et(this,e,Xc,Jc,Ct,{epoch:0})}}function Zc(t){let e,l,n;return{c(){e=p("span"),l=w(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),a(e,l)},p(i,[s]){s&4&&q(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:He,o:He,d(i){i&&P(e)}}}function xc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Vn extends At{constructor(e){super(),Et(this,e,xc,Zc,Ct,{color:0,title:1,text:2})}}function e0(t){let e,l=`${ct(t[0].getDate())}.${ct(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=w(l),u(e,"class",t[1])},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${ct(i[0].getDate())}.${ct(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&q(n,l),s&2&&u(e,"class",i[1])},d(i){i&&P(e)}}}function t0(t){var n;let e=`${ct(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:ct(t[0].getMonth()+1)} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,l;return{c(){l=w(e)},m(i,s){C(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${ct(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:ct(i[0].getMonth()+1)} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&q(l,e)},d(i){i&&P(l)}}}function l0(t){let e;function l(s,o){return s[3]?t0:e0}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,o){i.m(s,o),C(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:He,o:He,d(s){s&&P(e),i.d(s)}}}function n0(t,e,l){let n={};yl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Ll(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class Yf extends At{constructor(e){super(),Et(this,e,n0,l0,Ct,{timestamp:0,fullTimeColor:1,offset:4})}}function i0(t){let e,l,n;return{c(){e=Nt("svg"),l=Nt("path"),n=Nt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p:He,i:He,o:He,d(i){i&&P(e)}}}class s0 extends At{constructor(e){super(),Et(this,e,null,i0,Ct,{})}}function o0(t){let e,l;return{c(){e=Nt("svg"),l=Nt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){C(n,e,i),a(e,l)},p:He,i:He,o:He,d(n){n&&P(e)}}}class a0 extends At{constructor(e){super(),Et(this,e,null,o0,Ct,{})}}function r0(t){let e,l;return{c(){e=p("img"),u(e,"class","w-36 h-auto"),u(e,"alt","Neas logo"),an(e.src,l=rs)||u(e,"src",l)},m(n,i){C(n,e,i)},p:He,d(n){n&&P(e)}}}function Qs(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=w(l),i=w("°C"),u(e,"class","flex-none my-auto")},m(s,o){C(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&q(n,l)},d(s){s&&P(e)}}}function Zs(t){var i,s,o;let e,l=(((i=t[6].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[6].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&65&&l!==(l=(((c=f[6].header)==null?void 0:c.han)??"Han-port")+": "+(((d=(m=f[6].errors)==null?void 0:m.han)==null?void 0:d[f[0].he])??f[0].he))&&q(n,l)},d(f){f&&P(e)}}}function xs(t){var i,s,o;let e,l=(((i=t[6].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[6].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&65&&l!==(l=(((c=f[6].header)==null?void 0:c.mqtt)??"Minside")+": "+(((d=(m=f[6].errors)==null?void 0:m.mqtt)==null?void 0:d[f[0].me])??f[0].me))&&q(n,l)},d(f){f&&P(e)}}}function eo(t){var i,s,o;let e,l=(((i=t[6].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[6].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&65&&l!==(l=(((c=f[6].header)==null?void 0:c.price)??"PS")+": "+(((d=(m=f[6].errors)==null?void 0:m.price)==null?void 0:d[f[0].ee])??f[0].ee))&&q(n,l)},d(f){f&&P(e)}}}function to(t){let e,l,n,i,s,o,f,r;return l=new Ml({props:{to:"/configuration",$$slots:{default:[f0]},$$scope:{ctx:t}}}),o=new Ml({props:{to:"/status",$$slots:{default:[u0]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),ye(l.$$.fragment),i=g(),s=p("div"),ye(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[6].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[6].header)==null?void 0:m.status)??"")},m(c,m){C(c,e,m),Me(l,e,null),C(c,i,m),C(c,s,m),Me(o,s,null),r=!0},p(c,m){var h,b;const d={};m&1024&&(d.$$scope={dirty:m,ctx:c}),l.$set(d),(!r||m&64&&n!==(n=((h=c[6].header)==null?void 0:h.config)??""))&&u(e,"title",n);const _={};m&1024&&(_.$$scope={dirty:m,ctx:c}),o.$set(_),(!r||m&64&&f!==(f=((b=c[6].header)==null?void 0:b.status)??""))&&u(s,"title",f)},i(c){r||(J(l.$$.fragment,c),J(o.$$.fragment,c),r=!0)},o(c){le(l.$$.fragment,c),le(o.$$.fragment,c),r=!1},d(c){c&&(P(e),P(i),P(s)),Se(l),Se(o)}}}function f0(t){let e,l;return e=new s0({}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function u0(t){let e,l;return e=new a0({}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function c0(t){let e,l;function n(o,f){return o[2].security==0||o[0].a?p0:_0}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","flex-none mr-3 my-auto"),u(e,"title",l="Ny oppdatering: "+t[2].upgrade.n)},m(o,f){C(o,e,f),s.m(e,null)},p(o,f){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&4&&l!==(l="Ny oppdatering: "+o[2].upgrade.n)&&u(e,"title",l)},d(o){o&&P(e),s.d()}}}function m0(t){let e,l,n,i,s,o,f,r=t[2].upgrade.t+"",c,m,d=t[5].toFixed(1)+"",_,h;return{c(){e=p("div"),l=p("div"),n=p("div"),i=p("div"),i.innerHTML='<svg class="animate-spin text-neas-lightgreen-70" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',s=g(),o=p("span"),f=w("Oppdaterer til "),c=w(r),m=w(", "),_=w(d),h=w("%"),u(i,"class","w-4 h-4"),u(o,"class","text-sm font-medium text-neas-lightgreen-70"),u(n,"class","flex items-center gap-2"),u(l,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm"),u(e,"class","flex-none mr-3 my-auto")},m(b,M){C(b,e,M),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(o,f),a(o,c),a(o,m),a(o,_),a(o,h)},p(b,M){M&4&&r!==(r=b[2].upgrade.t+"")&&q(c,r),M&32&&d!==(d=b[5].toFixed(1)+"")&&q(_,d)},d(b){b&&P(e)}}}function _0(t){let e,l,n,i,s,o="Ny oppdatering",f,r,c=t[2].upgrade.n+"",m;return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=g(),s=p("span"),f=w(o),r=w(": "),m=w(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm")},m(d,_){C(d,e,_),a(e,l),a(l,n),a(l,i),a(l,s),a(s,f),a(s,r),a(s,m)},p(d,_){_&4&&c!==(c=d[2].upgrade.n+"")&&q(m,c)},d(d){d&&P(e)}}}function p0(t){let e,l,n,i,s,o="Ny oppdatering",f,r,c=t[2].upgrade.n+"",m,d,_;return{c(){e=p("button"),l=p("div"),n=p("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>',i=g(),s=p("span"),f=w(o),r=w(": "),m=w(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 hover:bg-neas-lightgreen-50/30 border border-neas-lightgreen-70/30 hover:border-neas-lightgreen-70/50 rounded-full px-4 py-2 backdrop-blur-sm transition-all duration-200 hover:shadow-sm")},m(h,b){C(h,e,b),a(e,l),a(l,n),a(l,i),a(l,s),a(s,f),a(s,r),a(s,m),d||(_=he(e,"click",t[7]),d=!0)},p(h,b){b&4&&c!==(c=h[2].upgrade.n+"")&&q(m,c)},d(h){h&&P(e),d=!1,_()}}}function d0(t){let e,l,n,i,s,o,f,r,c,m,d,_,h,b,M,S,k,E,F,R,y,O,T,j,I,D,U,z;i=new Ml({props:{to:t[1]?"/":"/dashboard",class:"flex items-center",$$slots:{default:[r0]},$$scope:{ctx:t}}}),r=new Qc({props:{epoch:t[0].u}});let V=t[0].t>-50&&Qs(t);_=new Vn({props:{title:"Han-port",text:"Han-port",color:ti(t[2].booting?9:t[0].hm)}}),b=new Vn({props:{title:"Minside",text:"Minside",color:ti(t[2].booting?9:t[0].mm)}});let W=(t[0].he<0||t[0].he>0)&&Zs(t),G=t[0].me<0&&xs(t),Y=(t[0].ee>0||t[0].ee<0)&&eo(t);I=new Yf({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[2].clock_offset,fullTimeColor:"text-red-500"}});let B=t[2].usrcfg&&to(t);function K(H,X){if(H[2].upgrading)return m0;if(H[2].fwconsent===1&&H[2].upgrade.n)return c0}let Z=K(t),te=Z&&Z(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),ye(i.$$.fragment),s=g(),o=p("div"),f=p("div"),ye(r.$$.fragment),c=g(),V&&V.c(),m=g(),d=p("div"),ye(_.$$.fragment),h=g(),ye(b.$$.fragment),M=g(),W&&W.c(),S=g(),G&&G.c(),k=g(),Y&&Y.c(),E=g(),F=p("div"),R=p("div"),y=p("img"),T=g(),j=p("div"),ye(I.$$.fragment),D=g(),B&&B.c(),U=g(),te&&te.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(d,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(y,"class","h-10 w-10"),an(y.src,O=t[3])||u(y,"src",O),u(y,"alt",t[4]),u(R,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(j,"class","flex-none my-auto px-2"),u(F,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(H,X){C(H,e,X),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,f),Me(r,f,null),a(o,c),V&&V.m(o,null),a(l,m),a(l,d),Me(_,d,null),a(d,h),Me(b,d,null),a(l,M),W&&W.m(l,null),a(l,S),G&&G.m(l,null),a(l,k),Y&&Y.m(l,null),a(l,E),a(l,F),a(F,R),a(R,y),a(F,T),a(F,j),Me(I,j,null),a(F,D),B&&B.m(F,null),a(F,U),te&&te.m(F,null),z=!0},p(H,[X]){const pe={};X&2&&(pe.to=H[1]?"/":"/dashboard"),X&1024&&(pe.$$scope={dirty:X,ctx:H}),i.$set(pe);const fe={};X&1&&(fe.epoch=H[0].u),r.$set(fe),H[0].t>-50?V?V.p(H,X):(V=Qs(H),V.c(),V.m(o,null)):V&&(V.d(1),V=null);const re={};X&5&&(re.color=ti(H[2].booting?9:H[0].hm)),_.$set(re);const ue={};X&5&&(ue.color=ti(H[2].booting?9:H[0].mm)),b.$set(ue),H[0].he<0||H[0].he>0?W?W.p(H,X):(W=Zs(H),W.c(),W.m(l,S)):W&&(W.d(1),W=null),H[0].me<0?G?G.p(H,X):(G=xs(H),G.c(),G.m(l,k)):G&&(G.d(1),G=null),H[0].ee>0||H[0].ee<0?Y?Y.p(H,X):(Y=eo(H),Y.c(),Y.m(l,E)):Y&&(Y.d(1),Y=null),(!z||X&8&&!an(y.src,O=H[3]))&&u(y,"src",O),(!z||X&16)&&u(y,"alt",H[4]);const ne={};X&1&&(ne.timestamp=H[0].c?new Date(H[0].c*1e3):new Date(0)),X&4&&(ne.offset=H[2].clock_offset),I.$set(ne),H[2].usrcfg?B?(B.p(H,X),X&4&&J(B,1)):(B=to(H),B.c(),J(B,1),B.m(F,U)):B&&(vt(),le(B,1,1,()=>{B=null}),kt()),Z===(Z=K(H))&&te?te.p(H,X):(te&&te.d(1),te=Z&&Z(H),te&&(te.c(),te.m(F,null)))},i(H){z||(J(i.$$.fragment,H),J(r.$$.fragment,H),J(_.$$.fragment,H),J(b.$$.fragment,H),J(I.$$.fragment,H),J(B),z=!0)},o(H){le(i.$$.fragment,H),le(r.$$.fragment,H),le(_.$$.fragment,H),le(b.$$.fragment,H),le(I.$$.fragment,H),le(B),z=!1},d(H){H&&P(e),Se(i),Se(r),V&&V.d(),Se(_),Se(b),W&&W.d(),G&&G.d(),Y&&Y.d(),Se(I),B&&B.d(),te&&te.d()}}}function h0(t,e,l){const n={high:$f,medium:Kf,low:zf,off:Vf};let i=n.off,s="Wi-Fi offline";const o="/";let{data:f={}}=e,{developerMode:r=!1}=e,c={};function m(){confirm("Oppdater til {0}?".replace("{0}",c.upgrade.n))&&(Gf(c.upgrade.n),pl.update(h=>(h.upgrade.t=c.upgrade.n,h.upgrade.p=0,h.upgrading=!0,h)))}let d;pl.subscribe(h=>{l(2,c=h)});let _={};return yl.subscribe(h=>{l(6,_=h)}),t.$$set=h=>{"data"in h&&l(0,f=h.data),"developerMode"in h&&l(1,r=h.developerMode)},t.$$.update=()=>{if(t.$$.dirty&4&&l(5,d=Math.max(0,c.upgrade.p)),t.$$.dirty&1){const{level:h,label:b}=Kn(f==null?void 0:f.r);l(3,i=n[h]??n.off),l(4,s=b)}},[f,r,c,i,s,d,_,m,o]}class g0 extends At{constructor(e){super(),Et(this,e,h0,d0,Ct,{basepath:8,data:0,developerMode:1})}get basepath(){return this.$$.ctx[8]}}function b0(t){let e,l,n,i;return{c(){e=Nt("svg"),l=Nt("path"),n=Nt("path"),u(l,"d",Ci(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ci(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){C(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ci(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:He,o:He,d(s){s&&P(e)}}}function lo(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ci(t,e,l,n,i){var s=lo(t,e,l,i),o=lo(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function v0(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class k0 extends At{constructor(e){super(),Et(this,e,v0,b0,Ct,{pct:0,color:1})}}function no(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=g(),n=p("span"),s=w(i),o=g(),f=p("span"),c=w(r),m=w("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(d,_){C(d,e,_),C(d,l,_),C(d,n,_),a(n,s),C(d,o,_),C(d,f,_),a(f,c),a(f,m)},p(d,_){_&2&&i!==(i=d[1][0]+"")&&q(s,i),_&2&&r!==(r=d[1][1]+"")&&q(c,r)},d(d){d&&(P(e),P(l),P(n),P(o),P(f))}}}function w0(t){let e,l,n,i,s,o,f,r,c,m,d=t[3][0]+"",_,h,b,M=t[3][1]+"",S,k,E;l=new k0({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let F=t[1]&&no(t);return{c(){e=p("div"),ye(l.$$.fragment),n=g(),i=p("span"),s=p("span"),o=w(t[0]),f=g(),r=p("br"),c=g(),m=p("span"),_=w(d),h=g(),b=p("span"),S=w(M),k=g(),F&&F.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(b,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(R,y){C(R,e,y),Me(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,_),a(i,h),a(i,b),a(b,S),a(i,k),F&&F.m(i,null),E=!0},p(R,[y]){const O={};y&16&&(O.pct=R[4]),y&20&&(O.color=R[2](R[4],document.documentElement.classList.contains("dark"))),l.$set(O),(!E||y&1)&&q(o,R[0]),(!E||y&8)&&d!==(d=R[3][0]+"")&&q(_,d),(!E||y&8)&&M!==(M=R[3][1]+"")&&q(S,M),R[1]?F?F.p(R,y):(F=no(R),F.c(),F.m(i,null)):F&&(F.d(1),F=null)},i(R){E||(J(l.$$.fragment,R),E=!0)},o(R){le(l.$$.fragment,R),E=!1},d(R){R&&P(e),Se(l),F&&F.d()}}}function M0(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=d=>{"val"in d&&l(5,n=d.val),"max"in d&&l(6,i=d.max),"unit"in d&&l(7,s=d.unit),"label"in d&&l(0,o=d.label),"sub"in d&&l(1,f=d.sub),"colorFn"in d&&l(2,r=d.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=fl(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class Jf extends At{constructor(e){super(),Et(this,e,M0,w0,Ct,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function io(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function so(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function oo(t,e,l){const n=t.slice();return n[15]=e[l],n}function ao(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&ro(t),c=Xe(t[0].y.ticks),m=[];for(let M=0;M<c.length;M+=1)m[M]=mo(oo(t,c,M));let d=Xe(t[0].x.ticks),_=[];for(let M=0;M<d.length;M+=1)_[M]=ho(so(t,d,M));let h=Xe(t[0].points),b=[];for(let M=0;M<h.length;M+=1)b[M]=yo(io(t,h,M));return{c(){r&&r.c(),e=g(),l=Nt("svg"),n=Nt("g");for(let M=0;M<m.length;M+=1)m[M].c();i=Nt("g");for(let M=0;M<_.length;M+=1)_[M].c();s=Nt("g");for(let M=0;M<b.length;M+=1)b[M].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(M,S){r&&r.m(M,S),C(M,e,S),C(M,l,S),a(l,n);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(n,null);a(l,i);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(i,null);a(l,s);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(s,null);f=!0},p(M,S){if(M[0].title||M[0].link?r?(r.p(M,S),S&1&&J(r,1)):(r=ro(M),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(vt(),le(r,1,1,()=>{r=null}),kt()),S&129){c=Xe(M[0].y.ticks);let k;for(k=0;k<c.length;k+=1){const E=oo(M,c,k);m[k]?m[k].p(E,S):(m[k]=mo(E),m[k].c(),m[k].m(n,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=c.length}if(S&89){d=Xe(M[0].x.ticks);let k;for(k=0;k<d.length;k+=1){const E=so(M,d,k);_[k]?_[k].p(E,S):(_[k]=ho(E),_[k].c(),_[k].m(i,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=d.length}if(S&457){h=Xe(M[0].points);let k;for(k=0;k<h.length;k+=1){const E=io(M,h,k);b[k]?b[k].p(E,S):(b[k]=yo(E),b[k].c(),b[k].m(s,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=h.length}(!f||S&18&&o!==(o="0 0 "+M[1]+" "+M[4]))&&u(l,"viewBox",o)},i(M){f||(J(r),f=!0)},o(M){le(r),f=!1},d(M){M&&(P(e),P(l)),r&&r.d(M),Zt(m,M),Zt(_,M),Zt(b,M)}}}function ro(t){let e,l,n,i=t[0].title&&fo(t),s=t[0].link&&uo(t);return{c(){e=p("div"),i&&i.c(),l=g(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){C(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=fo(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&J(s,1)):(s=uo(o),s.c(),J(s,1),s.m(e,null)):s&&(vt(),le(s,1,1,()=>{s=null}),kt())},i(o){n||(J(s),n=!0)},o(o){le(s),n=!1},d(o){o&&P(e),i&&i.d(),s&&s.d()}}}function fo(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm font-bold"),Yt(()=>t[9].call(e))},m(s,o){C(s,e,o),a(e,n),i=xi(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&q(n,l)},d(s){s&&P(e),i()}}}function uo(t){let e,l,n,i;const s=[y0,S0],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){C(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(vt(),le(o[m],1,1,()=>{o[m]=null}),kt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),J(n,1),n.m(e,null))},i(r){i||(J(n),i=!0)},o(r){le(n),i=!1},d(r){r&&P(e),o[l].d()}}}function S0(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=w(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){C(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&q(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:He,o:He,d(o){o&&P(e)}}}function y0(t){let e,l;return e=new Ml({props:{to:t[0].link.url,$$slots:{default:[N0]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function N0(t){let e=t[0].link.text+"",l;return{c(){l=w(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&q(l,e)},d(n){n&&P(l)}}}function co(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=Nt("g"),l=Nt("line"),n=Nt("text"),s=w(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&q(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&P(e)}}}function mo(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&co(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=co(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function _o(t){let e,l,n=(t[3]>20||t[13]%2==0)&&po(t);return{c(){e=Nt("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=po(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&P(e),n&&n.d()}}}function po(t){let e,l=t[11].label+"",n,i;return{c(){e=Nt("text"),n=w(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){C(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&q(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&P(e)}}}function ho(t){let e=!isNaN(t[6](t[13])),l,n=e&&_o(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=_o(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function go(t){let e,l,n=t[11].value!==void 0&&bo(t),i=t[11].value2>1e-4&&wo(t);return{c(){e=Nt("g"),n&&n.c(),l=Nt("g"),i&&i.c()},m(s,o){C(s,e,o),n&&n.m(e,null),C(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=bo(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=wo(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(P(e),P(l)),n&&n.d(),i&&i.d()}}}function bo(t){let e,l,n,i,s,o,f,r=t[3]>15&&vo(t);return{c(){e=Nt("rect"),r&&r.c(),f=tl(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=vo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(f)),r&&r.d(c)}}}function vo(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&ko(t);return{c(){e=Nt("text"),n=w(l),c&&c.c(),r=tl(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<on||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<on?90:0)+")")},m(m,d){C(m,e,d),a(e,n),c&&c.m(m,d),C(m,r,d)},p(m,d){d&1&&l!==(l=m[11].label+"")&&q(n,l),d&8&&i!==(i=m[3]-4)&&u(e,"width",i),d&9&&s!==(s=m[3]<on||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),d&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),d&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<on?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,d):(c=ko(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(P(e),P(r)),c&&c.d(m)}}}function ko(t){let e,l=t[11].title+"",n;return{c(){e=Nt("title"),n=w(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&q(n,l)},d(i){i&&P(e)}}}function wo(t){let e,l,n,i,s,o,f,r=t[3]>15&&Mo(t);return{c(){e=Nt("rect"),r&&r.c(),f=tl(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=Mo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(f)),r&&r.d(c)}}}function Mo(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&So(t);return{c(){e=Nt("text"),n=w(l),r&&r.c(),f=tl(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<on?90:0)+")")},m(c,m){C(c,e,m),a(e,n),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&q(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<on?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=So(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(f)),r&&r.d(c)}}}function So(t){let e,l=t[11].title2+"",n;return{c(){e=Nt("title"),n=w(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&q(n,l)},d(i){i&&P(e)}}}function yo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&go(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=go(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function P0(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&ao(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Yt(()=>t[10].call(e))},m(s,o){C(s,e,o),i&&i.m(e,null),l=xi(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&J(i,1)):(i=ao(s),i.c(),J(i,1),i.m(e,null)):i&&(vt(),le(i,1,1,()=>{i=null}),kt())},i(s){n||(J(i),n=!0)},o(s){le(i),n=!1},d(s){s&&P(e),i&&i.d(),l()}}}let on=30;function C0(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,d=0;function _(){d=this.clientHeight,l(5,d)}function h(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=b=>{"config"in b&&l(0,n=b.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-d);let b=i-(n.padding.left+n.padding.right);l(3,o=b/n.points.length),l(8,m=o<on?30:15);let M=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(S){return S*o+n.padding.left}),l(7,r=function(S){let k=0;return S>n.y.max?k=n.padding.bottom:S<n.y.min?k=c-n.padding.bottom:k=c-n.padding.bottom-(S-n.y.min)*M,k>c||k<0?0:k})}},[n,i,s,o,c,d,f,r,m,_,h]}class fn extends At{constructor(e){super(),Et(this,e,C0,P0,Ct,{config:0})}}function T0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function E0(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Bt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:Ec(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],d=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),d.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),d.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),d.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:d})}},[r,n,i,s,o,f]}class A0 extends At{constructor(e){super(),Et(this,e,E0,T0,Ct,{title:1,u1:2,u2:3,u3:4,ds:5})}}function q0(t){var L,$,ie,se,_e;let e,l,n=(((L=t[0].reactive)==null?void 0:L.title)??"Reactive")+"",i,s,o,f,r=((($=t[0].reactive)==null?void 0:$.instant_in)??"Instant in")+"",c,m,d,_=t[1][0]+"",h,b,M=t[1][1]+"",S,k,E,F=(((ie=t[0].reactive)==null?void 0:ie.instant_out)??"Instant out")+"",R,y,O,T=t[2][0]+"",j,I,D=t[2][1]+"",U,z,V,W,G=(((se=t[0].reactive)==null?void 0:se.total_in)??"Total in")+"",Y,B,K,Z=t[3][0]+"",te,H,X=t[3][1]+"",pe,fe,re,ue=(((_e=t[0].reactive)==null?void 0:_e.total_out)??"Total out")+"",ne,Q,ee,be=t[4][0]+"",ge,N,v=t[4][1]+"",A;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("div"),f=p("div"),c=w(r),m=g(),d=p("div"),h=w(_),b=g(),S=w(M),k=g(),E=p("div"),R=w(F),y=g(),O=p("div"),j=w(T),I=g(),U=w(D),z=g(),V=p("div"),W=p("div"),Y=w(G),B=g(),K=p("div"),te=w(Z),H=g(),pe=w(X),fe=g(),re=p("div"),ne=w(ue),Q=g(),ee=p("div"),ge=w(be),N=g(),A=w(v),u(d,"class","text-right"),u(O,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(K,"class","text-right"),u(ee,"class","text-right"),u(V,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(oe,ae){C(oe,e,ae),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,h),a(d,b),a(d,S),a(o,k),a(o,E),a(E,R),a(o,y),a(o,O),a(O,j),a(O,I),a(O,U),a(e,z),a(e,V),a(V,W),a(W,Y),a(V,B),a(V,K),a(K,te),a(K,H),a(K,pe),a(V,fe),a(V,re),a(re,ne),a(V,Q),a(V,ee),a(ee,ge),a(ee,N),a(ee,A)},p(oe,[ae]){var Ne,Pe,qe,Ie,je;ae&1&&n!==(n=(((Ne=oe[0].reactive)==null?void 0:Ne.title)??"Reactive")+"")&&q(i,n),ae&1&&r!==(r=(((Pe=oe[0].reactive)==null?void 0:Pe.instant_in)??"Instant in")+"")&&q(c,r),ae&2&&_!==(_=oe[1][0]+"")&&q(h,_),ae&2&&M!==(M=oe[1][1]+"")&&q(S,M),ae&1&&F!==(F=(((qe=oe[0].reactive)==null?void 0:qe.instant_out)??"Instant out")+"")&&q(R,F),ae&4&&T!==(T=oe[2][0]+"")&&q(j,T),ae&4&&D!==(D=oe[2][1]+"")&&q(U,D),ae&1&&G!==(G=(((Ie=oe[0].reactive)==null?void 0:Ie.total_in)??"Total in")+"")&&q(Y,G),ae&8&&Z!==(Z=oe[3][0]+"")&&q(te,Z),ae&8&&X!==(X=oe[3][1]+"")&&q(pe,X),ae&1&&ue!==(ue=(((je=oe[0].reactive)==null?void 0:je.total_out)??"Total out")+"")&&q(ne,ue),ae&16&&be!==(be=oe[4][0]+"")&&q(ge,be),ae&16&&v!==(v=oe[4][1]+"")&&q(A,v)},i:He,o:He,d(oe){oe&&P(e)}}}function L0(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,d;return t.$$set=_=>{"importInstant"in _&&l(5,n=_.importInstant),"exportInstant"in _&&l(6,i=_.exportInstant),"importTotal"in _&&l(7,s=_.importTotal),"exportTotal"in _&&l(8,o=_.exportTotal),"translations"in _&&l(0,f=_.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=fl(n,"VAr")),l(2,c=fl(i,"VAr")),l(3,m=fl(s*1e3,"VArh")),l(4,d=fl(o*1e3,"VArh")))},[f,r,c,m,d,n,i,s,o]}class I0 extends At{constructor(e){super(),Et(this,e,L0,q0,Ct,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function No(t){let e;function l(s,o){return s[3]?O0:D0}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,o){i.m(s,o),C(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&P(e),i.d(s)}}}function D0(t){var $,ie,se,_e,oe;let e,l=((($=t[4].realtime)==null?void 0:$.consumption)??"Consumption")+"",n,i,s,o,f=el(((ie=t[4].common)==null?void 0:ie.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,h,b=t[6][1]+"",M,S,k,E=el(((se=t[4].common)==null?void 0:se.day)??"Day")+"",F,R,y,O=t[7][0]+"",T,j,I=t[7][1]+"",D,U,z,V=el(((_e=t[4].common)==null?void 0:_e.month)??"Month")+"",W,G,Y,B=t[8][0]+"",K,Z,te=t[8][1]+"",H,X,pe,fe=(((oe=t[4].realtime)==null?void 0:oe.last_month)??"Last month")+"",re,ue,ne,Q=t[9][0]+"",ee,be,ge=t[9][1]+"",N,v,A,L=t[5]&&Po(t);return{c(){e=p("strong"),n=w(l),i=g(),s=p("div"),o=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),M=w(b),S=g(),k=p("div"),F=w(E),R=g(),y=p("div"),T=w(O),j=g(),D=w(I),U=g(),z=p("div"),W=w(V),G=g(),Y=p("div"),K=w(B),Z=g(),H=w(te),X=g(),pe=p("div"),re=w(fe),ue=g(),ne=p("div"),ee=w(Q),be=g(),N=w(ge),v=g(),L&&L.c(),A=tl(),u(m,"class","text-right"),u(y,"class","text-right"),u(Y,"class","text-right"),u(ne,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(ae,Ne){C(ae,e,Ne),a(e,n),C(ae,i,Ne),C(ae,s,Ne),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,h),a(m,M),a(s,S),a(s,k),a(k,F),a(s,R),a(s,y),a(y,T),a(y,j),a(y,D),a(s,U),a(s,z),a(z,W),a(s,G),a(s,Y),a(Y,K),a(Y,Z),a(Y,H),a(s,X),a(s,pe),a(pe,re),a(s,ue),a(s,ne),a(ne,ee),a(ne,be),a(ne,N),C(ae,v,Ne),L&&L.m(ae,Ne),C(ae,A,Ne)},p(ae,Ne){var Pe,qe,Ie,je,We;Ne&16&&l!==(l=(((Pe=ae[4].realtime)==null?void 0:Pe.consumption)??"Consumption")+"")&&q(n,l),Ne&16&&f!==(f=el(((qe=ae[4].common)==null?void 0:qe.hour)??"Hour")+"")&&q(r,f),Ne&64&&d!==(d=ae[6][0]+"")&&q(_,d),Ne&64&&b!==(b=ae[6][1]+"")&&q(M,b),Ne&16&&E!==(E=el(((Ie=ae[4].common)==null?void 0:Ie.day)??"Day")+"")&&q(F,E),Ne&128&&O!==(O=ae[7][0]+"")&&q(T,O),Ne&128&&I!==(I=ae[7][1]+"")&&q(D,I),Ne&16&&V!==(V=el(((je=ae[4].common)==null?void 0:je.month)??"Month")+"")&&q(W,V),Ne&256&&B!==(B=ae[8][0]+"")&&q(K,B),Ne&256&&te!==(te=ae[8][1]+"")&&q(H,te),Ne&16&&fe!==(fe=(((We=ae[4].realtime)==null?void 0:We.last_month)??"Last month")+"")&&q(re,fe),Ne&512&&Q!==(Q=ae[9][0]+"")&&q(ee,Q),Ne&512&&ge!==(ge=ae[9][1]+"")&&q(N,ge),ae[5]?L?L.p(ae,Ne):(L=Po(ae),L.c(),L.m(A.parentNode,A)):L&&(L.d(1),L=null)},d(ae){ae&&(P(e),P(i),P(s),P(v),P(A)),L&&L.d(ae)}}}function O0(t){var nt,ze,sl,Gt,xt,cl,al,Jt,Xt,ul;let e,l=(((nt=t[4].common)==null?void 0:nt.import)??"Import")+"",n,i,s,o,f=el(((ze=t[4].common)==null?void 0:ze.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,h,b=t[6][1]+"",M,S,k,E,F=el(((sl=t[4].common)==null?void 0:sl.day)??"Day")+"",R,y,O,T=t[7][0]+"",j,I,D=t[7][1]+"",U,z,V,W,G=el(((Gt=t[4].common)==null?void 0:Gt.month)??"Month")+"",Y,B,K,Z=t[8][0]+"",te,H,X=t[8][1]+"",pe,fe,re,ue,ne=(((xt=t[4].realtime)==null?void 0:xt.last_mo)??"Last mo.")+"",Q,ee,be,ge=t[9][0]+"",N,v,A=t[9][1]+"",L,$,ie,se,_e,oe=(((cl=t[4].common)==null?void 0:cl.export)??"Export")+"",ae,Ne,Pe,qe,Ie=el(((al=t[4].common)==null?void 0:al.hour)??"Hour")+"",je,We,Ge,Qe=t[10][0]+"",we,Fe,me=t[10][1]+"",Ae,it,Pt,wt,Ze=el(((Jt=t[4].common)==null?void 0:Jt.day)??"Day")+"",at,Ht,mt,Tt=t[11][0]+"",yt,Ot,tt=t[11][1]+"",_t,Ce,Be,Je,Ye=el(((Xt=t[4].common)==null?void 0:Xt.month)??"Month")+"",et,ve,Le,qt=t[12][0]+"",ht,Ue,ut=t[12][1]+"",xe,Lt,Wt,Ke,ke=(((ul=t[4].realtime)==null?void 0:ul.last_mo)??"Last mo.")+"",Te,$e,lt,st=t[13][0]+"",pt,$t,Ft=t[13][1]+"",Dt,il,It,Ve=t[5]&&Co(t),Rt=t[5]&&To(t),Vt=t[5]&&Eo(t),gt=t[5]&&Ao(t),rt=t[5]&&qo(t),Mt=t[5]&&Lo(t),zt=t[5]&&Io(t),de=t[5]&&Do(t);return{c(){e=p("strong"),n=w(l),i=g(),s=p("div"),o=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),M=w(b),S=g(),Ve&&Ve.c(),k=g(),E=p("div"),R=w(F),y=g(),O=p("div"),j=w(T),I=g(),U=w(D),z=g(),Rt&&Rt.c(),V=g(),W=p("div"),Y=w(G),B=g(),K=p("div"),te=w(Z),H=g(),pe=w(X),fe=g(),Vt&&Vt.c(),re=g(),ue=p("div"),Q=w(ne),ee=g(),be=p("div"),N=w(ge),v=g(),L=w(A),$=g(),gt&&gt.c(),se=g(),_e=p("strong"),ae=w(oe),Ne=g(),Pe=p("div"),qe=p("div"),je=w(Ie),We=g(),Ge=p("div"),we=w(Qe),Fe=g(),Ae=w(me),it=g(),rt&&rt.c(),Pt=g(),wt=p("div"),at=w(Ze),Ht=g(),mt=p("div"),yt=w(Tt),Ot=g(),_t=w(tt),Ce=g(),Mt&&Mt.c(),Be=g(),Je=p("div"),et=w(Ye),ve=g(),Le=p("div"),ht=w(qt),Ue=g(),xe=w(ut),Lt=g(),zt&&zt.c(),Wt=g(),Ke=p("div"),Te=w(ke),$e=g(),lt=p("div"),pt=w(st),$t=g(),Dt=w(Ft),il=g(),de&&de.c(),u(m,"class","text-right"),u(O,"class","text-right"),u(K,"class","text-right"),u(be,"class","text-right"),u(s,"class",ie="grid grid-cols-"+t[14]+" mb-3"),u(Ge,"class","text-right"),u(mt,"class","text-right"),u(Le,"class","text-right"),u(lt,"class","text-right"),u(Pe,"class",It="grid grid-cols-"+t[14])},m(Ee,ce){C(Ee,e,ce),a(e,n),C(Ee,i,ce),C(Ee,s,ce),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,h),a(m,M),a(s,S),Ve&&Ve.m(s,null),a(s,k),a(s,E),a(E,R),a(s,y),a(s,O),a(O,j),a(O,I),a(O,U),a(s,z),Rt&&Rt.m(s,null),a(s,V),a(s,W),a(W,Y),a(s,B),a(s,K),a(K,te),a(K,H),a(K,pe),a(s,fe),Vt&&Vt.m(s,null),a(s,re),a(s,ue),a(ue,Q),a(s,ee),a(s,be),a(be,N),a(be,v),a(be,L),a(s,$),gt&&gt.m(s,null),C(Ee,se,ce),C(Ee,_e,ce),a(_e,ae),C(Ee,Ne,ce),C(Ee,Pe,ce),a(Pe,qe),a(qe,je),a(Pe,We),a(Pe,Ge),a(Ge,we),a(Ge,Fe),a(Ge,Ae),a(Pe,it),rt&&rt.m(Pe,null),a(Pe,Pt),a(Pe,wt),a(wt,at),a(Pe,Ht),a(Pe,mt),a(mt,yt),a(mt,Ot),a(mt,_t),a(Pe,Ce),Mt&&Mt.m(Pe,null),a(Pe,Be),a(Pe,Je),a(Je,et),a(Pe,ve),a(Pe,Le),a(Le,ht),a(Le,Ue),a(Le,xe),a(Pe,Lt),zt&&zt.m(Pe,null),a(Pe,Wt),a(Pe,Ke),a(Ke,Te),a(Pe,$e),a(Pe,lt),a(lt,pt),a(lt,$t),a(lt,Dt),a(Pe,il),de&&de.m(Pe,null)},p(Ee,ce){var jt,Oe,St,rl,hl,gl,bl,vl,kl,wl;ce&16&&l!==(l=(((jt=Ee[4].common)==null?void 0:jt.import)??"Import")+"")&&q(n,l),ce&16&&f!==(f=el(((Oe=Ee[4].common)==null?void 0:Oe.hour)??"Hour")+"")&&q(r,f),ce&64&&d!==(d=Ee[6][0]+"")&&q(_,d),ce&64&&b!==(b=Ee[6][1]+"")&&q(M,b),Ee[5]?Ve?Ve.p(Ee,ce):(Ve=Co(Ee),Ve.c(),Ve.m(s,k)):Ve&&(Ve.d(1),Ve=null),ce&16&&F!==(F=el(((St=Ee[4].common)==null?void 0:St.day)??"Day")+"")&&q(R,F),ce&128&&T!==(T=Ee[7][0]+"")&&q(j,T),ce&128&&D!==(D=Ee[7][1]+"")&&q(U,D),Ee[5]?Rt?Rt.p(Ee,ce):(Rt=To(Ee),Rt.c(),Rt.m(s,V)):Rt&&(Rt.d(1),Rt=null),ce&16&&G!==(G=el(((rl=Ee[4].common)==null?void 0:rl.month)??"Month")+"")&&q(Y,G),ce&256&&Z!==(Z=Ee[8][0]+"")&&q(te,Z),ce&256&&X!==(X=Ee[8][1]+"")&&q(pe,X),Ee[5]?Vt?Vt.p(Ee,ce):(Vt=Eo(Ee),Vt.c(),Vt.m(s,re)):Vt&&(Vt.d(1),Vt=null),ce&16&&ne!==(ne=(((hl=Ee[4].realtime)==null?void 0:hl.last_mo)??"Last mo.")+"")&&q(Q,ne),ce&512&&ge!==(ge=Ee[9][0]+"")&&q(N,ge),ce&512&&A!==(A=Ee[9][1]+"")&&q(L,A),Ee[5]?gt?gt.p(Ee,ce):(gt=Ao(Ee),gt.c(),gt.m(s,null)):gt&&(gt.d(1),gt=null),ce&16384&&ie!==(ie="grid grid-cols-"+Ee[14]+" mb-3")&&u(s,"class",ie),ce&16&&oe!==(oe=(((gl=Ee[4].common)==null?void 0:gl.export)??"Export")+"")&&q(ae,oe),ce&16&&Ie!==(Ie=el(((bl=Ee[4].common)==null?void 0:bl.hour)??"Hour")+"")&&q(je,Ie),ce&1024&&Qe!==(Qe=Ee[10][0]+"")&&q(we,Qe),ce&1024&&me!==(me=Ee[10][1]+"")&&q(Ae,me),Ee[5]?rt?rt.p(Ee,ce):(rt=qo(Ee),rt.c(),rt.m(Pe,Pt)):rt&&(rt.d(1),rt=null),ce&16&&Ze!==(Ze=el(((vl=Ee[4].common)==null?void 0:vl.day)??"Day")+"")&&q(at,Ze),ce&2048&&Tt!==(Tt=Ee[11][0]+"")&&q(yt,Tt),ce&2048&&tt!==(tt=Ee[11][1]+"")&&q(_t,tt),Ee[5]?Mt?Mt.p(Ee,ce):(Mt=Lo(Ee),Mt.c(),Mt.m(Pe,Be)):Mt&&(Mt.d(1),Mt=null),ce&16&&Ye!==(Ye=el(((kl=Ee[4].common)==null?void 0:kl.month)??"Month")+"")&&q(et,Ye),ce&4096&&qt!==(qt=Ee[12][0]+"")&&q(ht,qt),ce&4096&&ut!==(ut=Ee[12][1]+"")&&q(xe,ut),Ee[5]?zt?zt.p(Ee,ce):(zt=Io(Ee),zt.c(),zt.m(Pe,Wt)):zt&&(zt.d(1),zt=null),ce&16&&ke!==(ke=(((wl=Ee[4].realtime)==null?void 0:wl.last_mo)??"Last mo.")+"")&&q(Te,ke),ce&8192&&st!==(st=Ee[13][0]+"")&&q(pt,st),ce&8192&&Ft!==(Ft=Ee[13][1]+"")&&q(Dt,Ft),Ee[5]?de?de.p(Ee,ce):(de=Do(Ee),de.c(),de.m(Pe,null)):de&&(de.d(1),de=null),ce&16384&&It!==(It="grid grid-cols-"+Ee[14])&&u(Pe,"class",It)},d(Ee){Ee&&(P(e),P(i),P(s),P(se),P(_e),P(Ne),P(Pe)),Ve&&Ve.d(),Rt&&Rt.d(),Vt&&Vt.d(),gt&&gt.d(),rt&&rt.d(),Mt&&Mt.d(),zt&&zt.d(),de&&de.d()}}}function Po(t){var ee,be,ge,N,v,A;let e,l=(((ee=t[4].realtime)==null?void 0:ee.cost)??"Cost")+"",n,i,s,o,f=el(((be=t[4].common)==null?void 0:be.hour)??"Hour")+"",r,c,m,d=Bt(t[1].h.c,2)+"",_,h,b,M,S,k=el(((ge=t[4].common)==null?void 0:ge.day)??"Day")+"",E,F,R,y=Bt(t[1].d.c,1)+"",O,T,j,I,D,U=el(((N=t[4].common)==null?void 0:N.month)??"Month")+"",z,V,W,G=Bt(t[1].m.c)+"",Y,B,K,Z,te,H=(((v=t[4].realtime)==null?void 0:v.last_month)??"Last month")+"",X,pe,fe,re=Bt((A=t[0].last_month)==null?void 0:A.c)+"",ue,ne,Q;return{c(){e=p("strong"),n=w(l),i=g(),s=p("div"),o=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),b=w(t[2]),M=g(),S=p("div"),E=w(k),F=g(),R=p("div"),O=w(y),T=g(),j=w(t[2]),I=g(),D=p("div"),z=w(U),V=g(),W=p("div"),Y=w(G),B=g(),K=w(t[2]),Z=g(),te=p("div"),X=w(H),pe=g(),fe=p("div"),ue=w(re),ne=g(),Q=w(t[2]),u(m,"class","text-right"),u(R,"class","text-right"),u(W,"class","text-right"),u(fe,"class","text-right"),u(s,"class","grid grid-cols-2")},m(L,$){C(L,e,$),a(e,n),C(L,i,$),C(L,s,$),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,h),a(m,b),a(s,M),a(s,S),a(S,E),a(s,F),a(s,R),a(R,O),a(R,T),a(R,j),a(s,I),a(s,D),a(D,z),a(s,V),a(s,W),a(W,Y),a(W,B),a(W,K),a(s,Z),a(s,te),a(te,X),a(s,pe),a(s,fe),a(fe,ue),a(fe,ne),a(fe,Q)},p(L,$){var ie,se,_e,oe,ae,Ne;$&16&&l!==(l=(((ie=L[4].realtime)==null?void 0:ie.cost)??"Cost")+"")&&q(n,l),$&16&&f!==(f=el(((se=L[4].common)==null?void 0:se.hour)??"Hour")+"")&&q(r,f),$&2&&d!==(d=Bt(L[1].h.c,2)+"")&&q(_,d),$&4&&q(b,L[2]),$&16&&k!==(k=el(((_e=L[4].common)==null?void 0:_e.day)??"Day")+"")&&q(E,k),$&2&&y!==(y=Bt(L[1].d.c,1)+"")&&q(O,y),$&4&&q(j,L[2]),$&16&&U!==(U=el(((oe=L[4].common)==null?void 0:oe.month)??"Month")+"")&&q(z,U),$&2&&G!==(G=Bt(L[1].m.c)+"")&&q(Y,G),$&4&&q(K,L[2]),$&16&&H!==(H=(((ae=L[4].realtime)==null?void 0:ae.last_month)??"Last month")+"")&&q(X,H),$&1&&re!==(re=Bt((Ne=L[0].last_month)==null?void 0:Ne.c)+"")&&q(ue,re),$&4&&q(Q,L[2])},d(L){L&&(P(e),P(i),P(s))}}}function Co(t){let e,l=Bt(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].h.c,2)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&P(e)}}}function To(t){let e,l=Bt(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].d.c,1)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&P(e)}}}function Eo(t){let e,l=Bt(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].m.c)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&P(e)}}}function Ao(t){var o;let e,l=Bt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Bt((c=f[0].last_month)==null?void 0:c.c)+"")&&q(n,l),r&4&&q(s,f[2])},d(f){f&&P(e)}}}function qo(t){let e,l=Bt(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].h.i,2)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&P(e)}}}function Lo(t){let e,l=Bt(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].d.i,1)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&P(e)}}}function Io(t){let e,l=Bt(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].m.i)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&P(e)}}}function Do(t){var o;let e,l=Bt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Bt((c=f[0].last_month)==null?void 0:c.i)+"")&&q(n,l),r&4&&q(s,f[2])},d(f){f&&P(e)}}}function F0(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&No(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("br"),f=p("br"),r=g(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(d,[_]){var h;_&16&&n!==(n=(((h=d[4].realtime)==null?void 0:h.title)??"Real time calculations")+"")&&q(i,n),d[1]?c?c.p(d,_):(c=No(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:He,o:He,d(d){d&&P(e),c&&c.d()}}}function R0(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,d,_,h,b,M,S=!1,k=3;return t.$$set=E=>{"sysinfo"in E&&l(0,n=E.sysinfo),"data"in E&&l(1,i=E.data),"currency"in E&&l(2,s=E.currency),"hasExport"in E&&l(3,o=E.hasExport),"translations"in E&&l(4,f=E.translations)},t.$$.update=()=>{var E,F,R,y,O,T,j,I;t.$$.dirty&35&&(l(5,S=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,k=S?3:2),l(6,r=fl(((E=i==null?void 0:i.h)==null?void 0:E.u)*1e3,"Wh")),l(7,c=fl(((F=i==null?void 0:i.d)==null?void 0:F.u)*1e3,"Wh")),l(8,m=fl(((R=i==null?void 0:i.m)==null?void 0:R.u)*1e3,"Wh")),l(9,d=fl(((y=n==null?void 0:n.last_month)==null?void 0:y.u)*1e3,"Wh")),l(10,_=fl(((O=i==null?void 0:i.h)==null?void 0:O.p)*1e3,"Wh")),l(11,h=fl(((T=i==null?void 0:i.d)==null?void 0:T.p)*1e3,"Wh")),l(12,b=fl(((j=i==null?void 0:i.m)==null?void 0:j.p)*1e3,"Wh")),l(13,M=fl(((I=n==null?void 0:n.last_month)==null?void 0:I.p)*1e3,"Wh")))},[n,i,s,o,f,S,r,c,m,d,_,h,b,M,k]}class j0 extends At{constructor(e){super(),Et(this,e,R0,F0,Ct,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function B0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function U0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,d=new Date().getUTCHours(),_=0,h=0,b=0,M=[],S=[],k=[];l(5,r=l(4,f=0));let E=new Date;for(Ll(E,s.clock_offset-(24+E.getHours()-E.getUTCHours())%24),_=d;_<24&&(h=i[ct(b++)],h!=null);_++)S.push({label:ct(E.getHours())}),k.push(h*100),l(5,r=Math.min(r,h*100)),l(4,f=Math.max(f,h*100)),Ll(E,1);for(_=0;_<24&&(h=i[ct(b++)],h!=null);_++)S.push({label:ct(E.getHours())}),k.push(h*100),l(5,r=Math.min(r,h*100)),l(4,f=Math.max(f,h*100)),Ll(E,1);let F=$n(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(F&&F[1]&&F[1]!=m)for(m=F[1],l(5,r*=100),l(4,f*=100),_=0;_<k.length;_++)k[_]*=100;let R=[];for(_=0;_<k.length;_++){h=k[_];let j=h*.01,I=Math.abs(h)<1e3?2:0;R.push({label:j>=0?j.toFixed(I):"",title:j>=0?j.toFixed(2)+" "+m:"",value:h>=0?Math.abs(h):0,label2:j<0?j.toFixed(I):"",title2:j<0?j.toFixed(2)+" "+m:"",value2:h<0?Math.abs(h):0,color:c?"#5c2da5":"#7c3aed"})}let y=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(y/4*-1,r));let j=Math.ceil(Math.abs(r)/y*4),I=r/j;for(_=1;_<j+1;_++){let D=I*_;M.push({value:D,label:(D/100).toFixed(2)})}}l(4,f=Math.max(y/4,f));let O=Math.ceil(f/y*4),T=f/O;for(_=0;_<O+1;_++){let j=T*_;M.push({value:j,label:(j/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:M},x:{ticks:S},points:R,link:{text:"Provided by: "+Ac(i.source),url:qc(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class H0 extends At{constructor(e){super(),Et(this,e,U0,B0,Ct,{title:1,json:2,sysinfo:3})}}function W0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function z0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],h=[];l(5,r=l(4,f=0));let b=new Date,M=new Date;M.setDate(0),M.setHours(12);let S=(M.getHours()-M.getUTCHours())%24-s.clock_offset,k=b.getUTCHours();for(Ll(b,-S-24),m=k;m<24;m++){let y=i["i"+ct(m)],O=i["e"+ct(m)];y===void 0&&(y=0),O===void 0&&(O=0),_.push({label:ct(b.getHours())}),h.push({label:y.toFixed(1),title:y.toFixed(2)+" kWh",value:y*10,label2:O.toFixed(1),title2:O.toFixed(2)+" kWh",value2:O*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,O*10)),l(4,f=Math.max(f,y*10)),Ll(b,1)}for(m=0;m<k;m++){let y=i["i"+ct(m)],O=i["e"+ct(m)];y===void 0&&(y=0),O===void 0&&(O=0),_.push({label:ct(b.getHours())}),h.push({label:y.toFixed(1),title:y.toFixed(2)+" kWh",value:y*10,label2:O.toFixed(1),title2:O.toFixed(2)+" kWh",value2:O*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,O*10)),l(4,f=Math.max(f,y*10)),Ll(b,1)}l(5,r*=-1);let E=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(E/4*-1,r));let y=Math.ceil(Math.abs(r)/E*4),O=r/y;for(m=1;m<y+1;m++){let T=O*m;d.push({value:T,label:(T/10).toFixed(1)})}}l(4,f=Math.max(E/4,f));let F=Math.ceil(f/E*4),R=f/F;for(m=0;m<F+1;m++){let y=R*m;d.push({value:y,label:(y/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:h,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class K0 extends At{constructor(e){super(),Et(this,e,z0,W0,Ct,{title:1,json:2,sysinfo:3})}}function $0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function V0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],h=[];l(5,r=l(4,f=0));let b=new Date,M=new Date;M.setDate(0),M.setHours(12);let S=(M.getHours()-M.getUTCHours())%24-s.clock_offset;for(Ll(b,-S),Ll(M,-S),m=b.getDate();m<=M.getDate();m++){let R=i["i"+ct(m)],y=i["e"+ct(m)];R===void 0&&(R=0),y===void 0&&(y=0),_.push({label:ct(m)}),h.push({label:R.toFixed(R<10?1:0),title:R.toFixed(2)+" kWh",value:R,label2:y.toFixed(y<10?1:0),title2:y.toFixed(2)+" kWh",value2:y,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,y)),l(4,f=Math.max(f,R))}for(m=1;m<b.getDate();m++){let R=i["i"+ct(m)],y=i["e"+ct(m)];R===void 0&&(R=0),y===void 0&&(y=0),_.push({label:ct(m)}),h.push({label:R.toFixed(R<10?1:0),title:R.toFixed(2)+" kWh",value:R,label2:y.toFixed(y<10?1:0),title2:y.toFixed(2)+" kWh",value2:y,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,y)),l(4,f=Math.max(f,R))}l(5,r*=-1);let k=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(k/4*-1,r));let R=Math.ceil(Math.abs(r)/k*4),y=r/R;for(m=1;m<R+1;m++){let O=y*m;d.push({value:O,label:O.toFixed(0)})}}l(4,f=Math.max(k/4,f));let E=Math.ceil(f/k*4),F=f/E;for(m=0;m<E+1;m++){let R=F*m;d.push({value:R,label:R.toFixed(0)})}l(0,o={title:n.replace("{0}",M.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:h,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class G0 extends At{constructor(e){super(),Et(this,e,V0,$0,Ct,{title:1,json:2,sysinfo:3})}}function Y0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function J0(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,d=[],_=[],h=[];i.s&&i.s.forEach((S,k)=>{var E=S.n?S.n:S.a;m=S.v,m==-127&&(m=0),_.push({label:E.slice(-4)}),h.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let b=f;r<0&&(b+=Math.abs(r));let M=b/4;for(c=0;c<5;c++)m=r+M*c,d.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:h})}},[o,n,i,f,r]}class X0 extends At{constructor(e){super(),Et(this,e,J0,Y0,Ct,{title:1,json:2})}}function Q0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}let Z0=0;function x0(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,d=[],_=[],h=[];if(d.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let b=r.p[m];h.push({label:b.v.toFixed(2),value:b.v,color:s?"#5c2da5":"#7c3aed"}),_.push({label:b.d>0?ct(b.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:ct(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,b.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let b=r.t[m];if(b>=f)break;d.push({value:b,label:b})}d.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(d.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:Z0,max:f,ticks:d},x:{ticks:_},points:h})}},[o,n,i,r,f]}class e1 extends At{constructor(e){super(),Et(this,e,x0,Q0,Ct,{title:1,translations:2,tariffData:3})}}let ln=0,t1={data:[]};async function fs(){let e=await(await Sl(ln<0?"realtime.json":"realtime.json?offset="+ln)).json();us.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),ln>=0&&(ln+=e.size,ln<e.total?setTimeout(fs,2e3):ln=-1)}function l1(){return ln==-1}const us=nl(t1);let dn=0,Xf=0,zi=0,Ti=0,Oo=!1;function n1(){Ti==60||zi>dn||zi-dn>300?(fs(),Ti=0):us.update(t=>{if(t.lastUpdate)for(;dn>t.lastUpdate;)t.data.unshift(Xf),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ti++;else t.lastUpdate=dn;return t})}function i1(t){if(Xf=t.i-t.e,dn=t.u,!Oo){fs(),Oo=!0,zi=dn;return}l1()&&n1()}function Fo(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Ro(t,e,l){const n=t.slice();return n[21]=e[l],n}function s1(t){let e,l,n;return{c(){e=p("strong"),l=w(t[0]),n=w(" not available"),u(e,"class","text-sm")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&q(l,i[0])},d(i){i&&P(e)}}}function o1(t){let e,l,n,i,s,o,f,r=t[8]&&jo(t);return{c(){e=p("strong"),l=w(t[0]),n=w(" ("),i=w(t[12]),s=w(")"),o=g(),r&&r.c(),f=tl(),u(e,"class","text-sm")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),C(c,o,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&q(l,c[0]),m&4096&&q(i,c[12]),c[8]?r?r.p(c,m):(r=jo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(o),P(f)),r&&r.d(c)}}}function jo(t){let e,l,n,i,s,o=Xe(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Uo(Ro(t,o,m));let r=Xe(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Wo(Fo(t,r,m));return{c(){e=Nt("svg"),l=Nt("g");for(let m=0;m<f.length;m+=1)f[m].c();n=Nt("g");for(let m=0;m<c.length;m+=1)c[m].c();i=Nt("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,d){C(m,e,d),a(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(l,null);a(e,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);a(e,i)},p(m,d){if(d&16646){o=Xe(m[8]);let _;for(_=0;_<o.length;_+=1){const h=Ro(m,o,_);f[_]?f[_].p(h,d):(f[_]=Uo(h),f[_].c(),f[_].m(l,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}if(d&34336){r=Xe(m[9]);let _;for(_=0;_<r.length;_+=1){const h=Fo(m,r,_);c[_]?c[_].p(h,d):(c[_]=Wo(h),c[_].c(),c[_].m(n,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=r.length}d&128&&u(i,"points",m[7]),d&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&P(e),Zt(f,m),Zt(c,m)}}}function Bo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=Nt("g"),l=Nt("line"),n=Nt("text"),s=w(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&q(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&P(e)}}}function Uo(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Bo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Bo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function Ho(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=Nt("g"),l=Nt("text"),i=w(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&q(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&P(e)}}}function Wo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Ho(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Ho(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function a1(t){let e,l;function n(o,f){return o[11]?o1:s1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Yt(()=>t[17].call(e))},m(o,f){C(o,e,f),s.m(e,null),l=xi(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:He,o:He,d(o){o&&P(e),s.d(),l()}}}function r1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;us.subscribe(y=>{l(16,s=y)});let o=!1,f,r,c,m,d,_,h,b=function(y,O,T){return Math.ceil(d-(y-O)/(T-O)*d)-25},M=function(y){return 30+Math.ceil(y/s.size*(_-35))},S,k,E,F;function R(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=y=>{"title"in y&&l(0,n=y.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,d=parseInt(m)-50),l(6,_=c-35),l(10,E=_/s.size),l(2,r=0),l(1,f=0),s.data&&d>10&&_>100&&E>.1){l(11,o=!0);for(let T in s.data){let j=s.data[T];isNaN(j)&&(j=0),l(1,f=Math.max(Math.ceil(j/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(j/1e3)*1e3,r))}let y=f-r;l(12,F=f>2500?"kW":"W"),l(8,S=[]);for(let T=r;T<f&&(S.push({value:T,label:f>2500?(T/1e3).toFixed(1):T}),!(S.length>6));T+=y/5);l(9,k=[]);for(let T=0;T<s.size&&(k.push({value:T,label:"-"+Math.round((s.size-T)/6)+" min"}),!(k.length>12));T+=Math.round(s.size/Math.round(_/120)));let O=s.size;l(7,h=M(s.size)+","+b(0,r,f)+" "+M(1)+","+b(0,r,f));for(let T in s.data){if(O<0)break;let j=s.data[T];isNaN(j)&&(j=0),l(7,h=M(O--)+","+b(j,r,f)+" "+h)}}else l(11,o=!1)},[n,f,r,c,m,d,_,h,S,k,E,o,F,i,b,M,s,R]}class f1 extends At{constructor(e){super(),Et(this,e,r1,a1,Ct,{title:0})}}function u1(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function c1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:d=0}=e,{l1e:_=0}=e,{l2e:h=0}=e,{l3e:b=0}=e,{maxImport:M=0}=e,{maxExport:S=0}=e,{importColorFn:k}=e,{exportColorFn:E}=e,F={};function R(y,O){return{label:Bt(y>900?y/1e3:y)+(y>900?"k":"")+i,title:y.toFixed(2)+" "+i,value:isNaN(y)?0:y,color:k(y?y/M*100:0,document.documentElement.classList.contains("dark")),label2:Bt(O>900?O/1e3:O)+(O>900?"k":"")+i,title2:O.toFixed(2)+" "+i,value2:isNaN(O)?0:O,color2:E(O?O/S*100:0)}}return t.$$set=y=>{"title"in y&&l(1,n=y.title),"unit"in y&&l(2,i=y.unit),"l1"in y&&l(3,s=y.l1),"l2"in y&&l(4,o=y.l2),"l2x"in y&&l(5,f=y.l2x),"l3"in y&&l(6,r=y.l3),"l1i"in y&&l(7,c=y.l1i),"l2i"in y&&l(8,m=y.l2i),"l3i"in y&&l(9,d=y.l3i),"l1e"in y&&l(10,_=y.l1e),"l2e"in y&&l(11,h=y.l2e),"l3e"in y&&l(12,b=y.l3e),"maxImport"in y&&l(13,M=y.maxImport),"maxExport"in y&&l(14,S=y.maxExport),"importColorFn"in y&&l(15,k=y.importColorFn),"exportColorFn"in y&&l(16,E=y.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let y=[],O=[];s&&(y.push({label:"L1"}),O.push(R(c,_))),o&&(f?(y.push({label:"L2"}),O.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(y.push({label:"L2"}),O.push(R(m,h)))),r&&(y.push({label:"L3"}),O.push(R(d,b)));let T=[];if(S){let j=S>M?4:S*4/M;T.push({value:-S,label:"-100%"}),j>=4&&T.push({value:-S/4*3,label:"-75%"}),j>=2&&T.push({value:-S/2,label:"-50%"}),j>=4&&T.push({value:-S/4,label:"-25%"})}if(T.push({value:0,label:"0%"}),M){let j=M>S?4:M*4/S;T.push({value:M/4,label:"25%"}),j>=4&&T.push({value:M/2,label:"50%"}),j>=2&&T.push({value:M/4*3,label:"75%"}),j>=4&&T.push({value:M,label:"100%"})}l(0,F={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-S,max:M,ticks:T},x:{ticks:y},points:O})}},[F,n,i,s,o,f,r,c,m,d,_,h,b,M,S,k,E]}class cs extends At{constructor(e){super(),Et(this,e,c1,u1,Ct,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function zo(t){var k;let e,l,n,i,s,o,f=(t[0].mt?ci(t[0].mt):"-")+"",r,c,m,d=t[11][0]+"",_,h,b=t[11][1]+"",M,S;return i=new Jf({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((k=t[6].common)==null?void 0:k.import)??"Import",sub:$n(t[0].p,t[0].pc),colorFn:os}}),{c(){e=p("div"),l=p("div"),n=p("div"),ye(i.$$.fragment),s=g(),o=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),M=w(b),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(E,F){C(E,e,F),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,_),a(m,h),a(m,M),S=!0},p(E,F){var y;const R={};F&1&&(R.val=E[0].i?E[0].i:0),F&1&&(R.max=E[0].im?E[0].im:15e3),F&64&&(R.label=((y=E[6].common)==null?void 0:y.import)??"Import"),F&1&&(R.sub=$n(E[0].p,E[0].pc)),i.$set(R),(!S||F&1)&&f!==(f=(E[0].mt?ci(E[0].mt):"-")+"")&&q(r,f),(!S||F&2048)&&d!==(d=E[11][0]+"")&&q(_,d),(!S||F&2048)&&b!==(b=E[11][1]+"")&&q(M,b)},i(E){S||(J(i.$$.fragment,E),S=!0)},o(E){le(i.$$.fragment,E),S=!1},d(E){E&&P(e),Se(i)}}}function Ko(t){var M;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,d,_=t[12][1]+"",h,b;return i=new Jf({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((M=t[6].common)==null?void 0:M.export)??"Export",sub:$n(t[0].px,t[0].pc),colorFn:zn}}),{c(){e=p("div"),l=p("div"),n=p("div"),ye(i.$$.fragment),s=g(),o=p("div"),f=g(),r=p("div"),m=w(c),d=g(),h=w(_),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(S,k){C(S,e,k),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,d),a(r,h),b=!0},p(S,k){var F;const E={};k&1&&(E.val=S[0].e?S[0].e:0),k&1&&(E.max=S[0].om?S[0].om*1e3:1e4),k&64&&(E.label=((F=S[6].common)==null?void 0:F.export)??"Export"),k&1&&(E.sub=$n(S[0].px,S[0].pc)),i.$set(E),(!b||k&4096)&&c!==(c=S[12][0]+"")&&q(m,c),(!b||k&4096)&&_!==(_=S[12][1]+"")&&q(h,_)},i(S){b||(J(i.$$.fragment,S),b=!0)},o(S){le(i.$$.fragment,S),b=!1},d(S){S&&P(e),Se(i)}}}function $o(t){let e,l,n=t[0].l1&&Vo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Vo(i),n.c(),J(n,1),n.m(e,null)):n&&(vt(),le(n,1,1,()=>{n=null}),kt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Vo(t){var n;let e,l;return e=new A0({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){ye(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Go(t){let e,l,n=t[0].l1&&Yo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Yo(i),n.c(),J(n,1),n.m(e,null)):n&&(vt(),le(n,1,1,()=>{n=null}),kt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Yo(t){var n;let e,l;return e=new cs({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:os,exportColorFn:zn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){ye(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Jo(t){let e,l,n=t[0].l1&&Xo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Xo(i),n.c(),J(n,1),n.m(e,null)):n&&(vt(),le(n,1,1,()=>{n=null}),kt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Xo(t){var n;let e,l;return e=new cs({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:os,exportColorFn:zn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){ye(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Qo(t){let e,l,n=t[0].l1&&Zo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Zo(i),n.c(),J(n,1),n.m(e,null)):n&&(vt(),le(n,1,1,()=>{n=null}),kt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Zo(t){var n;let e,l;return e=new cs({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:zn,exportColorFn:zn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){ye(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function xo(t){let e,l,n;return l=new I0({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(J(l.$$.fragment,i),n=!0)},o(i){le(l.$$.fragment,i),n=!1},d(i){i&&P(e),Se(l)}}}function ea(t){let e,l,n;return l=new j0({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(J(l.$$.fragment,i),n=!0)},o(i){le(l.$$.fragment,i),n=!1},d(i){i&&P(e),Se(l)}}}function ta(t){var i;let e,l,n;return l=new e1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),Se(l)}}}function la(t){var i;let e,l,n;return l=new f1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),Se(l)}}}function na(t){var i;let e,l,n;return l=new H0({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),Se(l)}}}function ia(t){var i;let e,l,n;return l=new K0({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),Se(l)}}}function sa(t){var i;let e,l,n;return l=new G0({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),Se(l)}}}function oa(t){var i;let e,l,n;return l=new X0({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),ye(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),Se(l)}}}function m1(t){let e,l=Kt(t[1].ui.i,t[0].i),n,i=Kt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Kt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Kt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Kt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),d,_=Kt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),h,b=Kt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),M,S=Kt(t[1].ui.c,t[0].ea),k,E=Kt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),F,R=Kt(t[1].ui.l,t[0].hm==1),y,O=Kt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),T,j=Kt(t[1].ui.d,t[3]),I,D=Kt(t[1].ui.m,t[4]),U,z=Kt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),V,W=l&&zo(t),G=i&&Ko(t),Y=o&&$o(t),B=r&&Go(t),K=m&&Jo(t),Z=_&&Qo(t),te=b&&xo(t),H=S&&ea(t),X=E&&ta(t),pe=R&&la(t),fe=O&&na(t),re=j&&ia(t),ue=D&&sa(t),ne=z&&oa(t);return{c(){e=p("div"),W&&W.c(),n=g(),G&&G.c(),s=g(),Y&&Y.c(),f=g(),B&&B.c(),c=g(),K&&K.c(),d=g(),Z&&Z.c(),h=g(),te&&te.c(),M=g(),H&&H.c(),k=g(),X&&X.c(),F=g(),pe&&pe.c(),y=g(),fe&&fe.c(),T=g(),re&&re.c(),I=g(),ue&&ue.c(),U=g(),ne&&ne.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Q,ee){C(Q,e,ee),W&&W.m(e,null),a(e,n),G&&G.m(e,null),a(e,s),Y&&Y.m(e,null),a(e,f),B&&B.m(e,null),a(e,c),K&&K.m(e,null),a(e,d),Z&&Z.m(e,null),a(e,h),te&&te.m(e,null),a(e,M),H&&H.m(e,null),a(e,k),X&&X.m(e,null),a(e,F),pe&&pe.m(e,null),a(e,y),fe&&fe.m(e,null),a(e,T),re&&re.m(e,null),a(e,I),ue&&ue.m(e,null),a(e,U),ne&&ne.m(e,null),V=!0},p(Q,[ee]){ee&3&&(l=Kt(Q[1].ui.i,Q[0].i)),l?W?(W.p(Q,ee),ee&3&&J(W,1)):(W=zo(Q),W.c(),J(W,1),W.m(e,n)):W&&(vt(),le(W,1,1,()=>{W=null}),kt()),ee&3&&(i=Kt(Q[1].ui.e,Q[0].om||Q[0].e>0)),i?G?(G.p(Q,ee),ee&3&&J(G,1)):(G=Ko(Q),G.c(),J(G,1),G.m(e,s)):G&&(vt(),le(G,1,1,()=>{G=null}),kt()),ee&3&&(o=Kt(Q[1].ui.v,Q[0].l1&&(Q[0].l1.u>100||Q[0].l2.u>100||Q[0].l3.u>100))),o?Y?(Y.p(Q,ee),ee&3&&J(Y,1)):(Y=$o(Q),Y.c(),J(Y,1),Y.m(e,f)):Y&&(vt(),le(Y,1,1,()=>{Y=null}),kt()),ee&3&&(r=Kt(Q[1].ui.a,Q[0].l1&&(Q[0].l1.i>.01||Q[0].l2.i>.01||Q[0].l3.i>.01))),r?B?(B.p(Q,ee),ee&3&&J(B,1)):(B=Go(Q),B.c(),J(B,1),B.m(e,c)):B&&(vt(),le(B,1,1,()=>{B=null}),kt()),ee&3&&(m=Kt(Q[1].ui.h,Q[0].l1&&(Q[0].l1.p>.01||Q[0].l2.p>.01||Q[0].l3.p>.01||Q[0].l1.q>.01||Q[0].l2.q>.01||Q[0].l3.q>.01))),m?K?(K.p(Q,ee),ee&3&&J(K,1)):(K=Jo(Q),K.c(),J(K,1),K.m(e,d)):K&&(vt(),le(K,1,1,()=>{K=null}),kt()),ee&3&&(_=Kt(Q[1].ui.f,Q[0].l1&&(Q[0].l1.f>.01||Q[0].l2.f>.01||Q[0].l3.f>.01))),_?Z?(Z.p(Q,ee),ee&3&&J(Z,1)):(Z=Qo(Q),Z.c(),J(Z,1),Z.m(e,h)):Z&&(vt(),le(Z,1,1,()=>{Z=null}),kt()),ee&3&&(b=Kt(Q[1].ui.r,Q[0].ri>0||Q[0].re>0||Q[0].ric>0||Q[0].rec>0)),b?te?(te.p(Q,ee),ee&3&&J(te,1)):(te=xo(Q),te.c(),J(te,1),te.m(e,M)):te&&(vt(),le(te,1,1,()=>{te=null}),kt()),ee&3&&(S=Kt(Q[1].ui.c,Q[0].ea)),S?H?(H.p(Q,ee),ee&3&&J(H,1)):(H=ea(Q),H.c(),J(H,1),H.m(e,k)):H&&(vt(),le(H,1,1,()=>{H=null}),kt()),ee&3&&(E=Kt(Q[1].ui.t,Q[0].pr&&(Q[0].pr.startsWith("NO")||Q[0].pr.startsWith("10YNO")||Q[0].pr.startsWith("10Y1001A1001A4")))),E?X?(X.p(Q,ee),ee&3&&J(X,1)):(X=ta(Q),X.c(),J(X,1),X.m(e,F)):X&&(vt(),le(X,1,1,()=>{X=null}),kt()),ee&3&&(R=Kt(Q[1].ui.l,Q[0].hm==1)),R?pe?(pe.p(Q,ee),ee&3&&J(pe,1)):(pe=la(Q),pe.c(),J(pe,1),pe.m(e,y)):pe&&(vt(),le(pe,1,1,()=>{pe=null}),kt()),ee&3&&(O=Kt(Q[1].ui.p,Q[0].pe&&!Number.isNaN(Q[0].p))),O?fe?(fe.p(Q,ee),ee&3&&J(fe,1)):(fe=na(Q),fe.c(),J(fe,1),fe.m(e,T)):fe&&(vt(),le(fe,1,1,()=>{fe=null}),kt()),ee&10&&(j=Kt(Q[1].ui.d,Q[3])),j?re?(re.p(Q,ee),ee&10&&J(re,1)):(re=ia(Q),re.c(),J(re,1),re.m(e,I)):re&&(vt(),le(re,1,1,()=>{re=null}),kt()),ee&18&&(D=Kt(Q[1].ui.m,Q[4])),D?ue?(ue.p(Q,ee),ee&18&&J(ue,1)):(ue=sa(Q),ue.c(),J(ue,1),ue.m(e,U)):ue&&(vt(),le(ue,1,1,()=>{ue=null}),kt()),ee&35&&(z=Kt(Q[1].ui.s,Q[0].t&&Q[0].t!=-127&&Q[5].c>1)),z?ne?(ne.p(Q,ee),ee&35&&J(ne,1)):(ne=oa(Q),ne.c(),J(ne,1),ne.m(e,null)):ne&&(vt(),le(ne,1,1,()=>{ne=null}),kt())},i(Q){V||(J(W),J(G),J(Y),J(B),J(K),J(Z),J(te),J(H),J(X),J(pe),J(fe),J(re),J(ue),J(ne),V=!0)},o(Q){le(W),le(G),le(Y),le(B),le(K),le(Z),le(te),le(H),le(X),le(pe),le(fe),le(re),le(ue),le(ne),V=!1},d(Q){Q&&P(e),W&&W.d(),G&&G.d(),Y&&Y.d(),B&&B.d(),K&&K.d(),Z&&Z.d(),te&&te.d(),H&&H.d(),X&&X.d(),pe&&pe.d(),fe&&fe.d(),re&&re.d(),ue&&ue.d(),ne&&ne.d()}}}function _1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,d,_,h,b,M,S;return t.$$set=k=>{"data"in k&&l(0,n=k.data),"sysinfo"in k&&l(1,i=k.sysinfo),"prices"in k&&l(2,s=k.prices),"dayPlot"in k&&l(3,o=k.dayPlot),"monthPlot"in k&&l(4,f=k.monthPlot),"temperatures"in k&&l(5,r=k.temperatures),"translations"in k&&l(6,c=k.translations),"tariffData"in k&&l(7,m=k.tariffData)},t.$$.update=()=>{var k,E,F,R,y,O,T,j,I,D,U,z,V,W,G;t.$$.dirty&1793&&(l(11,d=fl((n==null?void 0:n.ic)*1e3,"Wh")),l(12,_=fl((n==null?void 0:n.ec)*1e3,"Wh")),((k=n==null?void 0:n.l1)==null?void 0:k.u)==0&&((E=n==null?void 0:n.l2)==null?void 0:E.u)==0&&((F=n==null?void 0:n.l3)==null?void 0:F.u)==0?l(8,b=l(9,M=l(10,S=l(13,h=!0)))):(l(8,b=((R=n==null?void 0:n.l1)==null?void 0:R.u)>0||((y=n==null?void 0:n.l1)==null?void 0:y.i)>0||((O=n==null?void 0:n.l1)==null?void 0:O.p)>0||((T=n==null?void 0:n.l1)==null?void 0:T.q)>0),l(9,M=((j=n==null?void 0:n.l2)==null?void 0:j.u)>0||((I=n==null?void 0:n.l2)==null?void 0:I.i)>0||((D=n==null?void 0:n.l2)==null?void 0:D.p)>0||((U=n==null?void 0:n.l2)==null?void 0:U.q)>0),l(10,S=((z=n==null?void 0:n.l3)==null?void 0:z.u)>0||((V=n==null?void 0:n.l3)==null?void 0:V.i)>0||((W=n==null?void 0:n.l3)==null?void 0:W.p)>0||((G=n==null?void 0:n.l3)==null?void 0:G.q)>0),l(13,h=b&&M&&S)))},[n,i,s,o,f,r,c,m,b,M,S,d,_,h]}class vi extends At{constructor(e){super(),Et(this,e,_1,m1,Ct,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Ki={};const hn=nl(Ki);async function Qf(){Ki=await(await fetch("configuration.json")).json(),hn.set(Ki)}let $i={};const Zf=nl($i);async function p1(){$i=await(await fetch("priceconfig.json")).json(),Zf.set($i)}function aa(t){let e,l,n=t[1]&&ra(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){C(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=ra(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&P(e),n&&n.d()}}}function ra(t){let e,l;return{c(){e=p("div"),l=w(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){C(n,e,i),a(e,l)},p(n,i){i&2&&q(l,n[1])},d(n){n&&P(e)}}}function d1(t){let e,l=t[0]&&aa(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=aa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:He,o:He,d(n){n&&P(e),l&&l.d(n)}}}function h1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class ml extends At{constructor(e){super(),Et(this,e,h1,d1,Ct,{active:0,message:1})}}function fa(t,e,l){const n=t.slice();return n[1]=e[l],n}function ua(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=w("Europe/"),i=w(n),e.__value="Europe/"+t[1],x(e,e.__value)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p:He,d(s){s&&P(e)}}}function g1(t){let e,l,n,i=Xe(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ua(fa(t,i,o));return{c(){e=p("option"),e.textContent="GMT",l=g();for(let o=0;o<s.length;o+=1)s[o].c();n=tl(),e.__value="GMT",x(e,e.__value)},m(o,f){C(o,e,f),C(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);C(o,n,f)},p(o,[f]){if(f&1){i=Xe(o[0]);let r;for(r=0;r<i.length;r+=1){const c=fa(o,i,r);s[r]?s[r].p(c,f):(s[r]=ua(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:He,o:He,d(o){o&&(P(e),P(l),P(n)),Zt(s,o)}}}function b1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class v1 extends At{constructor(e){super(),Et(this,e,b1,g1,Ct,{})}}var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(k1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(N,v){var A;return typeof Object.create=="function"?A=Object.create(N):(l.prototype=N,A=new l,l.prototype=null),v&&f(!0,A,v),A}function o(N,v,A,L){var $=this;return typeof N!="string"&&(L=A,A=v,v=N,N=null),typeof v!="function"&&(L=A,A=v,v=function(){return $.apply(this,arguments)}),f(!1,v,$,L),v.prototype=s($.prototype,A),v.prototype.constructor=v,v.class_=N||$.class_,v.super_=$,v}function f(N,v,A){A=i.call(arguments,2);for(var L,$,ie=0,se=A.length;ie<se;ie++){$=A[ie];for(L in $)(!N||n.call($,L))&&(v[L]=$[L])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,d=m,_=d.extend(function(N,v,A){this.qrious=N,this.element=v,this.element.qrious=N,this.enabled=!!A},{draw:function(N){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(N){var v=this.qrious,A=v.padding||0,L=Math.floor((v.size-A*2)/N.width);return Math.max(1,L)},getOffset:function(N){var v=this.qrious,A=v.padding;if(A!=null)return A;var L=this.getModuleSize(N),$=Math.floor((v.size-L*N.width)/2);return Math.max(0,$)},render:function(N){this.enabled&&(this.resize(),this.reset(),this.draw(N))},reset:function(){},resize:function(){}}),h=_,b=h.extend({draw:function(N){var v,A,L=this.qrious,$=this.getModuleSize(N),ie=this.getOffset(N),se=this.element.getContext("2d");for(se.fillStyle=L.foreground,se.globalAlpha=L.foregroundAlpha,v=0;v<N.width;v++)for(A=0;A<N.width;A++)N.buffer[A*N.width+v]&&se.fillRect($*v+ie,$*A+ie,$,$)},reset:function(){var N=this.qrious,v=this.element.getContext("2d"),A=N.size;v.lineWidth=1,v.clearRect(0,0,A,A),v.fillStyle=N.background,v.globalAlpha=N.backgroundAlpha,v.fillRect(0,0,A,A)},resize:function(){var N=this.element;N.width=N.height=this.qrious.size}}),M=b,S=d.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),k=S,E=d.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),F=E,R=d.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),y=R,O=d.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),T=O,j=d.extend(function(N){var v,A,L,$,ie,se=N.value.length;for(this._badness=[],this._level=F.LEVELS[N.level],this._polynomial=[],this._value=N.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,L=(this._level-1)*4+(this._version-1)*16,$=F.BLOCKS[L++],ie=F.BLOCKS[L++],v=F.BLOCKS[L++],A=F.BLOCKS[L],L=v*($+ie)+ie-3+(this._version<=9),!(se<=L)););this._dataBlock=v,this._eccBlock=A,this._neccBlock1=$,this._neccBlock2=ie;var _e=this.width=17+4*this._version;this.buffer=j._createArray(_e*_e),this._ecc=j._createArray(v+(v+A)*($+ie)+ie),this._mask=j._createArray((_e*(_e+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+_e*(_e-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(se),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(N,v){var A,L=this.buffer,$=this.width;for(L[N+$*v]=1,A=-2;A<2;A++)L[N+A+$*(v-2)]=1,L[N-2+$*(v+A+1)]=1,L[N+2+$*(v+A)]=1,L[N+A+1+$*(v+2)]=1;for(A=0;A<2;A++)this._setMask(N-1,v+A),this._setMask(N+1,v-A),this._setMask(N-A,v-1),this._setMask(N+A,v+1)},_appendData:function(N,v,A,L){var $,ie,se,_e=this._polynomial,oe=this._stringBuffer;for(ie=0;ie<L;ie++)oe[A+ie]=0;for(ie=0;ie<v;ie++){if($=y.LOG[oe[N+ie]^oe[A]],$!==255)for(se=1;se<L;se++)oe[A+se-1]=oe[A+se]^y.EXPONENT[j._modN($+_e[L-se])];else for(se=A;se<A+L;se++)oe[se]=oe[se+1];oe[A+L-1]=$===255?0:y.EXPONENT[j._modN($+_e[0])]}},_appendEccToData:function(){var N,v=0,A=this._dataBlock,L=this._calculateMaxLength(),$=this._eccBlock;for(N=0;N<this._neccBlock1;N++)this._appendData(v,A,L,$),v+=A,L+=$;for(N=0;N<this._neccBlock2;N++)this._appendData(v,A+1,L,$),v+=A+1,L+=$},_applyMask:function(N){var v,A,L,$,ie=this.buffer,se=this.width;switch(N){case 0:for($=0;$<se;$++)for(L=0;L<se;L++)!(L+$&1)&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 1:for($=0;$<se;$++)for(L=0;L<se;L++)!($&1)&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 2:for($=0;$<se;$++)for(v=0,L=0;L<se;L++,v++)v===3&&(v=0),!v&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 3:for(A=0,$=0;$<se;$++,A++)for(A===3&&(A=0),v=A,L=0;L<se;L++,v++)v===3&&(v=0),!v&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 4:for($=0;$<se;$++)for(v=0,A=$>>1&1,L=0;L<se;L++,v++)v===3&&(v=0,A=!A),!A&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 5:for(A=0,$=0;$<se;$++,A++)for(A===3&&(A=0),v=0,L=0;L<se;L++,v++)v===3&&(v=0),!((L&$&1)+!(!v|!A))&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 6:for(A=0,$=0;$<se;$++,A++)for(A===3&&(A=0),v=0,L=0;L<se;L++,v++)v===3&&(v=0),!((L&$&1)+(v&&v===A)&1)&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break;case 7:for(A=0,$=0;$<se;$++,A++)for(A===3&&(A=0),v=0,L=0;L<se;L++,v++)v===3&&(v=0),!((v&&v===A)+(L+$&1)&1)&&!this._isMasked(L,$)&&(ie[L+$*se]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var N,v,A=this._eccBlock,L=this._polynomial;for(L[0]=1,N=0;N<A;N++){for(L[N+1]=1,v=N;v>0;v--)L[v]=L[v]?L[v-1]^y.EXPONENT[j._modN(y.LOG[L[v]]+N)]:L[v-1];L[0]=y.EXPONENT[j._modN(y.LOG[L[0]]+N)]}for(N=0;N<=A;N++)L[N]=y.LOG[L[N]]},_checkBadness:function(){var N,v,A,L,$,ie=0,se=this._badness,_e=this.buffer,oe=this.width;for($=0;$<oe-1;$++)for(L=0;L<oe-1;L++)(_e[L+oe*$]&&_e[L+1+oe*$]&&_e[L+oe*($+1)]&&_e[L+1+oe*($+1)]||!(_e[L+oe*$]||_e[L+1+oe*$]||_e[L+oe*($+1)]||_e[L+1+oe*($+1)]))&&(ie+=j.N2);var ae=0;for($=0;$<oe;$++){for(A=0,se[0]=0,N=0,L=0;L<oe;L++)v=_e[L+oe*$],N===v?se[A]++:se[++A]=1,N=v,ae+=N?1:-1;ie+=this._getBadness(A)}ae<0&&(ae=-ae);var Ne=0,Pe=ae;for(Pe+=Pe<<2,Pe<<=1;Pe>oe*oe;)Pe-=oe*oe,Ne++;for(ie+=Ne*j.N4,L=0;L<oe;L++){for(A=0,se[0]=0,N=0,$=0;$<oe;$++)v=_e[L+oe*$],N===v?se[A]++:se[++A]=1,N=v;ie+=this._getBadness(A)}return ie},_convertBitStream:function(N){var v,A,L=this._ecc,$=this._version;for(A=0;A<N;A++)L[A]=this._value.charCodeAt(A);var ie=this._stringBuffer=L.slice(),se=this._calculateMaxLength();N>=se-2&&(N=se-2,$>9&&N--);var _e=N;if($>9){for(ie[_e+2]=0,ie[_e+3]=0;_e--;)v=ie[_e],ie[_e+3]|=255&v<<4,ie[_e+2]=v>>4;ie[2]|=255&N<<4,ie[1]=N>>4,ie[0]=64|N>>12}else{for(ie[_e+1]=0,ie[_e+2]=0;_e--;)v=ie[_e],ie[_e+2]|=255&v<<4,ie[_e+1]=v>>4;ie[1]|=255&N<<4,ie[0]=64|N>>4}for(_e=N+3-($<10);_e<se;)ie[_e++]=236,ie[_e++]=17},_getBadness:function(N){var v,A=0,L=this._badness;for(v=0;v<=N;v++)L[v]>=5&&(A+=j.N1+L[v]-5);for(v=3;v<N-1;v+=2)L[v-2]===L[v+2]&&L[v+2]===L[v-1]&&L[v-1]===L[v+1]&&L[v-1]*3===L[v]&&(L[v-3]===0||v+3>N||L[v-3]*3>=L[v]*4||L[v+3]*3>=L[v]*4)&&(A+=j.N3);return A},_finish:function(){this._stringBuffer=this.buffer.slice();var N,v,A=0,L=3e4;for(v=0;v<8&&(this._applyMask(v),N=this._checkBadness(),N<L&&(L=N,A=v),A!==7);v++)this.buffer=this._stringBuffer.slice();A!==v&&this._applyMask(A),L=F.FINAL_FORMAT[A+(this._level-1<<3)];var $=this.buffer,ie=this.width;for(v=0;v<8;v++,L>>=1)L&1&&($[ie-1-v+ie*8]=1,v<6?$[8+ie*v]=1:$[8+ie*(v+1)]=1);for(v=0;v<7;v++,L>>=1)L&1&&($[8+ie*(ie-7+v)]=1,v?$[6-v+ie*8]=1:$[7+ie*8]=1)},_interleaveBlocks:function(){var N,v,A=this._dataBlock,L=this._ecc,$=this._eccBlock,ie=0,se=this._calculateMaxLength(),_e=this._neccBlock1,oe=this._neccBlock2,ae=this._stringBuffer;for(N=0;N<A;N++){for(v=0;v<_e;v++)L[ie++]=ae[N+v*A];for(v=0;v<oe;v++)L[ie++]=ae[_e*A+N+v*(A+1)]}for(v=0;v<oe;v++)L[ie++]=ae[_e*A+N+v*(A+1)];for(N=0;N<$;N++)for(v=0;v<_e+oe;v++)L[ie++]=ae[se+N+v*$];this._stringBuffer=L},_insertAlignments:function(){var N,v,A,L=this._version,$=this.width;if(L>1)for(N=k.BLOCK[L],A=$-7;;){for(v=$-7;v>N-3&&(this._addAlignment(v,A),!(v<N));)v-=N;if(A<=N+9)break;A-=N,this._addAlignment(6,A),this._addAlignment(A,6)}},_insertFinders:function(){var N,v,A,L,$=this.buffer,ie=this.width;for(N=0;N<3;N++){for(v=0,L=0,N===1&&(v=ie-7),N===2&&(L=ie-7),$[L+3+ie*(v+3)]=1,A=0;A<6;A++)$[L+A+ie*v]=1,$[L+ie*(v+A+1)]=1,$[L+6+ie*(v+A)]=1,$[L+A+1+ie*(v+6)]=1;for(A=1;A<5;A++)this._setMask(L+A,v+1),this._setMask(L+1,v+A+1),this._setMask(L+5,v+A),this._setMask(L+A+1,v+5);for(A=2;A<4;A++)$[L+A+ie*(v+2)]=1,$[L+2+ie*(v+A+1)]=1,$[L+4+ie*(v+A)]=1,$[L+A+1+ie*(v+4)]=1}},_insertTimingGap:function(){var N,v,A=this.width;for(v=0;v<7;v++)this._setMask(7,v),this._setMask(A-8,v),this._setMask(7,v+A-7);for(N=0;N<8;N++)this._setMask(N,7),this._setMask(N+A-8,7),this._setMask(N,A-8)},_insertTimingRowAndColumn:function(){var N,v=this.buffer,A=this.width;for(N=0;N<A-14;N++)N&1?(this._setMask(8+N,6),this._setMask(6,8+N)):(v[8+N+A*6]=1,v[6+A*(8+N)]=1)},_insertVersion:function(){var N,v,A,L,$=this.buffer,ie=this._version,se=this.width;if(ie>6)for(N=T.BLOCK[ie-7],v=17,A=0;A<6;A++)for(L=0;L<3;L++,v--)1&(v>11?ie>>v-12:N>>v)?($[5-A+se*(2-L+se-11)]=1,$[2-L+se-11+se*(5-A)]=1):(this._setMask(5-A,2-L+se-11),this._setMask(2-L+se-11,5-A))},_isMasked:function(N,v){var A=j._getMaskBit(N,v);return this._mask[A]===1},_pack:function(){var N,v,A,L=1,$=1,ie=this.width,se=ie-1,_e=ie-1,oe=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(v=0;v<oe;v++)for(N=this._stringBuffer[v],A=0;A<8;A++,N<<=1){128&N&&(this.buffer[se+ie*_e]=1);do $?se--:(se++,L?_e!==0?_e--:(se-=2,L=!L,se===6&&(se--,_e=9)):_e!==ie-1?_e++:(se-=2,L=!L,se===6&&(se--,_e-=8))),$=!$;while(this._isMasked(se,_e))}},_reverseMask:function(){var N,v,A=this.width;for(N=0;N<9;N++)this._setMask(N,8);for(N=0;N<8;N++)this._setMask(N+A-8,8),this._setMask(8,N);for(v=0;v<7;v++)this._setMask(8,v+A-7)},_setMask:function(N,v){var A=j._getMaskBit(N,v);this._mask[A]=1},_syncMask:function(){var N,v,A=this.width;for(v=0;v<A;v++)for(N=0;N<=v;N++)this.buffer[N+A*v]&&this._setMask(N,v)}},{_createArray:function(N){var v,A=[];for(v=0;v<N;v++)A[v]=0;return A},_getMaskBit:function(N,v){var A;return N>v&&(A=N,N=v,v=A),A=v,A+=v*v,A>>=1,A+=N,A},_modN:function(N){for(;N>=255;)N-=255,N=(N>>8)+(N&255);return N},N1:3,N2:3,N3:40,N4:10}),I=j,D=h.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var N=this.element;N.width=N.height=this.qrious.size}}),U=D,z=d.extend(function(N,v,A,L){this.name=N,this.modifiable=!!v,this.defaultValue=A,this._valueTransformer=L},{transform:function(N){var v=this._valueTransformer;return typeof v=="function"?v(N,this):N}}),V=z,W=d.extend(null,{abs:function(N){return N!=null?Math.abs(N):null},hasOwn:function(N,v){return Object.prototype.hasOwnProperty.call(N,v)},noop:function(){},toUpperCase:function(N){return N!=null?N.toUpperCase():null}}),G=W,Y=d.extend(function(N){this.options={},N.forEach(function(v){this.options[v.name]=v},this)},{exists:function(N){return this.options[N]!=null},get:function(N,v){return Y._get(this.options[N],v)},getAll:function(N){var v,A=this.options,L={};for(v in A)G.hasOwn(A,v)&&(L[v]=Y._get(A[v],N));return L},init:function(N,v,A){typeof A!="function"&&(A=G.noop);var L,$;for(L in this.options)G.hasOwn(this.options,L)&&($=this.options[L],Y._set($,$.defaultValue,v),Y._createAccessor($,v,A));this._setAll(N,v,!0)},set:function(N,v,A){return this._set(N,v,A)},setAll:function(N,v){return this._setAll(N,v)},_set:function(N,v,A,L){var $=this.options[N];if(!$)throw new Error("Invalid option: "+N);if(!$.modifiable&&!L)throw new Error("Option cannot be modified: "+N);return Y._set($,v,A)},_setAll:function(N,v,A){if(!N)return!1;var L,$=!1;for(L in N)G.hasOwn(N,L)&&this._set(L,N[L],v,A)&&($=!0);return $}},{_createAccessor:function(N,v,A){var L={get:function(){return Y._get(N,v)}};N.modifiable&&(L.set=function($){Y._set(N,$,v)&&A($,N)}),Object.defineProperty(v,N.name,L)},_get:function(N,v){return v["_"+N.name]},_set:function(N,v,A){var L="_"+N.name,$=A[L],ie=N.transform(v??N.defaultValue);return A[L]=ie,ie!==$}}),B=Y,K=d.extend(function(){this._services={}},{getService:function(N){var v=this._services[N];if(!v)throw new Error("Service is not being managed with name: "+N);return v},setService:function(N,v){if(this._services[N])throw new Error("Service is already managed with name: "+N);v&&(this._services[N]=v)}}),Z=K,te=new B([new V("background",!0,"white"),new V("backgroundAlpha",!0,1,G.abs),new V("element"),new V("foreground",!0,"black"),new V("foregroundAlpha",!0,1,G.abs),new V("level",!0,"L",G.toUpperCase),new V("mime",!0,"image/png"),new V("padding",!0,null,G.abs),new V("size",!0,100,G.abs),new V("value",!0,"")]),H=new Z,X=d.extend(function(N){te.init(N,this,this.update.bind(this));var v=te.get("element",this),A=H.getService("element"),L=v&&A.isCanvas(v)?v:A.createCanvas(),$=v&&A.isImage(v)?v:A.createImage();this._canvasRenderer=new M(this,L,!0),this._imageRenderer=new U(this,$,$===v),this.update()},{get:function(){return te.getAll(this)},set:function(N){te.setAll(N,this)&&this.update()},toDataURL:function(N){return this.canvas.toDataURL(N||this.mime)},update:function(){var N=new I({level:this.level,value:this.value});this._canvasRenderer.render(N),this._imageRenderer.render(N)}},{use:function(N){H.setService(N.getName(),N)}});Object.defineProperties(X.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var pe=X,fe=pe,re=d.extend({getName:function(){}}),ue=re,ne=ue.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(N){},isImage:function(N){}}),Q=ne,ee=Q.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(N){return N instanceof HTMLCanvasElement},isImage:function(N){return N instanceof HTMLImageElement}}),be=ee;fe.use(new be);var ge=fe;return ge})})(w1);const Vi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function M1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const ms=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function xf(t){return ms.find(e=>e.id===t)}function eu(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Vi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=M1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function _n(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Vi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Vi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function S1(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function ca(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function ma(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function _a(t,e,l){const n=t.slice();return n[103]=e[l],n[104]=e,n[105]=l,n}function pa(t,e,l){const n=t.slice();return n[106]=e[l],n[108]=l,n}function y1(t,e,l){const n=t.slice();return n[109]=e[l],n}function N1(t,e,l){const n=t.slice();return n[112]=e[l],n}function da(t,e,l){const n=t.slice();return n[115]=e[l],n}function P1(t,e,l){const n=t.slice();return n[118]=e[l],n}function ha(t,e,l){const n=t.slice();return n[121]=e[l],n}function ga(t){var ul,Ee,ce,jt,Oe,St,rl,hl,gl,bl,vl,kl,wl,Dl,Ol,Fl,Re,ot,Rl,jl,Bl,Ul,Hl,Wl,zl,Kl,$l,Vl,Gl,Yl;let e,l,n=(((Ee=(ul=t[2].conf)==null?void 0:ul.general)==null?void 0:Ee.title)??"General")+"",i,s,o,f,r,c,m,d,_,h=(((jt=(ce=t[2].conf)==null?void 0:ce.general)==null?void 0:jt.hostname)??"Hostname")+"",b,M,S,k,E,F,R=(((St=(Oe=t[2].conf)==null?void 0:Oe.general)==null?void 0:St.timezone)??"Time zone")+"",y,O,T,j,I,D,U,z=(((hl=(rl=t[2].conf)==null?void 0:rl.general)==null?void 0:hl.language)??((bl=(gl=t[2].conf)==null?void 0:gl.ui)==null?void 0:bl.lang)??"Language")+"",V,W,G,Y,B,K,Z,te,H,X,pe=(((kl=(vl=t[2].conf)==null?void 0:vl.price)==null?void 0:kl.region)??"Price region")+"",fe,re,ue,ne,Q,ee,be,ge,N,v,A,L,$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie,je,We,Ge,Qe,we,Fe,me,Ae,it,Pt,wt,Ze,at=(((Dl=(wl=t[2].conf)==null?void 0:wl.price)==null?void 0:Dl.currency)??"Currency")+"",Ht,mt,Tt,yt,Ot,tt,_t,Ce,Be,Je,Ye,et,ve=(((Fl=(Ol=t[2].conf)==null?void 0:Ol.price)==null?void 0:Fl.enabled)??"Enabled")+"",Le,qt,ht,Ue,ut=(((Rl=(ot=(Re=t[2].conf)==null?void 0:Re.general)==null?void 0:ot.security)==null?void 0:Rl.title)??"Security")+"",xe,Lt,Wt,Ke,ke,Te=(((Ul=(Bl=(jl=t[2].conf)==null?void 0:jl.general)==null?void 0:Bl.security)==null?void 0:Ul.none)??"None")+"",$e,lt,st=(((zl=(Wl=(Hl=t[2].conf)==null?void 0:Hl.general)==null?void 0:Wl.security)==null?void 0:zl.conf)??"Conf")+"",pt,$t,Ft=(((Vl=($l=(Kl=t[2].conf)==null?void 0:Kl.general)==null?void 0:$l.security)==null?void 0:Vl.all)??"All")+"",Dt,il,It,Ve,Rt=(((Yl=(Gl=t[2].conf)==null?void 0:Gl.general)==null?void 0:Yl.context)??"Context")+"",Vt,gt,rt,Mt,zt,de,nt,ze;I=new v1({});let sl=Xe(t[4]),Gt=[];for(let De=0;De<sl.length;De+=1)Gt[De]=ba(ha(t,sl,De));let xt=!t[3].p.t&&va(),cl=Xe(["NOK","SEK","DKK","EUR","CHF"]),al=[];for(let De=0;De<5;De+=1)al[De]=C1(P1(t,cl,De));_t=new Ml({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[T1]},$$scope:{ctx:t}}});let Jt=t[3].p.e&&t[0].chip!="esp8266"&&ka(t),Xt=t[3].g.s>0&&wa(t);return{c(){var De,dt;e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),d=p("div"),_=p("div"),b=w(h),M=p("br"),S=g(),k=p("input"),E=g(),F=p("div"),y=w(R),O=p("br"),T=g(),j=p("select"),ye(I.$$.fragment),D=g(),U=p("div"),V=w(z),W=p("br"),G=g(),Y=p("select");for(let Qt=0;Qt<Gt.length;Qt+=1)Gt[Qt].c();B=g(),K=p("input"),Z=g(),te=p("div"),H=p("div"),X=p("div"),fe=w(pe),re=p("br"),ue=g(),ne=p("select"),Q=p("optgroup"),xt&&xt.c(),ee=p("option"),ee.textContent="NO1",be=p("option"),be.textContent="NO2",ge=p("option"),ge.textContent="NO3",N=p("option"),N.textContent="NO4",v=p("option"),v.textContent="NO5",A=p("optgroup"),L=p("option"),L.textContent="SE1",$=p("option"),$.textContent="SE2",ie=p("option"),ie.textContent="SE3",se=p("option"),se.textContent="SE4",_e=p("optgroup"),oe=p("option"),oe.textContent="DK1",ae=p("option"),ae.textContent="DK2",Ne=p("option"),Ne.textContent="Austria",Pe=p("option"),Pe.textContent="Belgium",qe=p("option"),qe.textContent="Czech Republic",Ie=p("option"),Ie.textContent="Estonia",je=p("option"),je.textContent="Finland",We=p("option"),We.textContent="France",Ge=p("option"),Ge.textContent="Germany",Qe=p("option"),Qe.textContent="Great Britain",we=p("option"),we.textContent="Latvia",Fe=p("option"),Fe.textContent="Lithuania",me=p("option"),me.textContent="Netherland",Ae=p("option"),Ae.textContent="Poland",it=p("option"),it.textContent="Slovenia",Pt=p("option"),Pt.textContent="Switzerland",wt=g(),Ze=p("div"),Ht=w(at),mt=p("br"),Tt=g(),yt=p("select");for(let Qt=0;Qt<5;Qt+=1)al[Qt].c();Ot=g(),tt=p("div"),ye(_t.$$.fragment),Ce=g(),Be=p("div"),Je=p("label"),Ye=p("input"),et=g(),Le=w(ve),qt=g(),Jt&&Jt.c(),ht=g(),Ue=p("div"),xe=w(ut),Lt=p("br"),Wt=g(),Ke=p("select"),ke=p("option"),$e=w(Te),lt=p("option"),pt=w(st),$t=p("option"),Dt=w(Ft),il=g(),Xt&&Xt.c(),It=g(),Ve=p("div"),Vt=w(Rt),gt=p("br"),rt=g(),Mt=p("input"),u(l,"class","text-sm"),u(o,"href",Il("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(k,"name","gh"),u(k,"type","text"),u(k,"class","in-f w-full"),u(k,"pattern",pi),u(j,"name","gt"),u(j,"class","in-l w-full"),t[3].g.t===void 0&&Yt(()=>t[29].call(j)),u(d,"class","flex"),u(m,"class","my-1"),u(Y,"name","ulang"),u(Y,"class","in-s"),t[3].u.lang===void 0&&Yt(()=>t[30].call(Y)),u(U,"class","my-1"),u(K,"type","hidden"),u(K,"name","p"),K.value="true",ee.__value="10YNO-1--------2",x(ee,ee.__value),be.__value="10YNO-2--------T",x(be,be.__value),ge.__value="10YNO-3--------J",x(ge,ge.__value),N.__value="10YNO-4--------9",x(N,N.__value),v.__value="10Y1001A1001A48H",x(v,v.__value),u(Q,"label","Norway"),L.__value="10Y1001A1001A44P",x(L,L.__value),$.__value="10Y1001A1001A45N",x($,$.__value),ie.__value="10Y1001A1001A46L",x(ie,ie.__value),se.__value="10Y1001A1001A47J",x(se,se.__value),u(A,"label","Sweden"),oe.__value="10YDK-1--------W",x(oe,oe.__value),ae.__value="10YDK-2--------M",x(ae,ae.__value),u(_e,"label","Denmark"),Ne.__value="10YAT-APG------L",x(Ne,Ne.__value),Pe.__value="10YBE----------2",x(Pe,Pe.__value),qe.__value="10YCZ-CEPS-----N",x(qe,qe.__value),Ie.__value="10Y1001A1001A39I",x(Ie,Ie.__value),je.__value="10YFI-1--------U",x(je,je.__value),We.__value="10YFR-RTE------C",x(We,We.__value),Ge.__value="10Y1001A1001A83F",x(Ge,Ge.__value),Qe.__value="10YGB----------A",x(Qe,Qe.__value),we.__value="10YLV-1001A00074",x(we,we.__value),Fe.__value="10YLT-1001A0008Q",x(Fe,Fe.__value),me.__value="10YNL----------L",x(me,me.__value),Ae.__value="10YPL-AREA-----S",x(Ae,Ae.__value),it.__value="10YSI-ELES-----O",x(it,it.__value),Pt.__value="10YCH-SWISSGRIDZ",x(Pt,Pt.__value),u(ne,"name","pr"),u(ne,"class","in-f w-full"),t[3].p.r===void 0&&Yt(()=>t[31].call(ne)),u(X,"class","w-full"),u(yt,"name","pc"),u(yt,"class","in-l"),t[3].p.c===void 0&&Yt(()=>t[32].call(yt)),u(H,"class","flex"),u(te,"class","my-1"),u(tt,"class","my-1"),u(Ye,"type","checkbox"),u(Ye,"name","pe"),Ye.__value="true",x(Ye,Ye.__value),u(Ye,"class","rounded mb-1"),u(Be,"class","my-1"),ke.__value=0,x(ke,ke.__value),lt.__value=1,x(lt,lt.__value),$t.__value=2,x($t,$t.__value),u(Ke,"name","gs"),u(Ke,"class","in-s"),t[3].g.s===void 0&&Yt(()=>t[35].call(Ke)),u(Ue,"class","my-1"),u(Mt,"name","gc"),u(Mt,"type","text"),u(Mt,"pattern",pi),u(Mt,"placeholder",zt=((dt=(De=t[2].conf)==null?void 0:De.general)==null?void 0:dt.context_placeholder)??"/"),u(Mt,"class","in-s"),u(Mt,"maxlength","36"),u(Ve,"class","my-1"),u(e,"class","cnt")},m(De,dt){C(De,e,dt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,_),a(_,b),a(_,M),a(_,S),a(_,k),x(k,t[3].g.h),a(d,E),a(d,F),a(F,y),a(F,O),a(F,T),a(F,j),Me(I,j,null),ft(j,t[3].g.t,!0),a(e,D),a(e,U),a(U,V),a(U,W),a(U,G),a(U,Y);for(let Qt=0;Qt<Gt.length;Qt+=1)Gt[Qt]&&Gt[Qt].m(Y,null);ft(Y,t[3].u.lang,!0),a(e,B),a(e,K),a(e,Z),a(e,te),a(te,H),a(H,X),a(X,fe),a(X,re),a(X,ue),a(X,ne),a(ne,Q),xt&&xt.m(Q,null),a(Q,ee),a(Q,be),a(Q,ge),a(Q,N),a(Q,v),a(ne,A),a(A,L),a(A,$),a(A,ie),a(A,se),a(ne,_e),a(_e,oe),a(_e,ae),a(ne,Ne),a(ne,Pe),a(ne,qe),a(ne,Ie),a(ne,je),a(ne,We),a(ne,Ge),a(ne,Qe),a(ne,we),a(ne,Fe),a(ne,me),a(ne,Ae),a(ne,it),a(ne,Pt),ft(ne,t[3].p.r,!0),a(H,wt),a(H,Ze),a(Ze,Ht),a(Ze,mt),a(Ze,Tt),a(Ze,yt);for(let Qt=0;Qt<5;Qt+=1)al[Qt]&&al[Qt].m(yt,null);ft(yt,t[3].p.c,!0),a(e,Ot),a(e,tt),Me(_t,tt,null),a(e,Ce),a(e,Be),a(Be,Je),a(Je,Ye),Ye.checked=t[3].p.e,a(Je,et),a(Je,Le),a(Be,qt),Jt&&Jt.m(Be,null),a(e,ht),a(e,Ue),a(Ue,xe),a(Ue,Lt),a(Ue,Wt),a(Ue,Ke),a(Ke,ke),a(ke,$e),a(Ke,lt),a(lt,pt),a(Ke,$t),a($t,Dt),ft(Ke,t[3].g.s,!0),a(e,il),Xt&&Xt.m(e,null),a(e,It),a(e,Ve),a(Ve,Vt),a(Ve,gt),a(Ve,rt),a(Ve,Mt),x(Mt,t[3].g.c),de=!0,nt||(ze=[he(k,"input",t[28]),he(j,"change",t[29]),he(Y,"change",t[30]),he(Y,"change",t[23]),he(ne,"change",t[31]),he(ne,"change",t[26]),he(yt,"change",t[32]),he(Ye,"change",t[33]),he(Ke,"change",t[35]),he(Mt,"input",t[38])],nt=!0)},p(De,dt){var Jl,Xl,wn,Mn,Sn,yn,Nn,Pn,Cn,Tn,En,An,qn,Ln,In,ps,ds,hs,gs,bs,vs,ks,ws,Ms,Ss,ys,Ns,Ps,Cs,Ts,Es,As;if((!de||dt[0]&4)&&n!==(n=(((Xl=(Jl=De[2].conf)==null?void 0:Jl.general)==null?void 0:Xl.title)??"General")+"")&&q(i,n),(!de||dt[0]&4)&&h!==(h=(((Mn=(wn=De[2].conf)==null?void 0:wn.general)==null?void 0:Mn.hostname)??"Hostname")+"")&&q(b,h),dt[0]&8&&k.value!==De[3].g.h&&x(k,De[3].g.h),(!de||dt[0]&4)&&R!==(R=(((yn=(Sn=De[2].conf)==null?void 0:Sn.general)==null?void 0:yn.timezone)??"Time zone")+"")&&q(y,R),dt[0]&8&&ft(j,De[3].g.t),(!de||dt[0]&4)&&z!==(z=(((Pn=(Nn=De[2].conf)==null?void 0:Nn.general)==null?void 0:Pn.language)??((Tn=(Cn=De[2].conf)==null?void 0:Cn.ui)==null?void 0:Tn.lang)??"Language")+"")&&q(V,z),dt[0]&16){sl=Xe(De[4]);let _l;for(_l=0;_l<sl.length;_l+=1){const qs=ha(De,sl,_l);Gt[_l]?Gt[_l].p(qs,dt):(Gt[_l]=ba(qs),Gt[_l].c(),Gt[_l].m(Y,null))}for(;_l<Gt.length;_l+=1)Gt[_l].d(1);Gt.length=sl.length}dt[0]&8&&ft(Y,De[3].u.lang),(!de||dt[0]&4)&&pe!==(pe=(((An=(En=De[2].conf)==null?void 0:En.price)==null?void 0:An.region)??"Price region")+"")&&q(fe,pe),De[3].p.t?xt&&(xt.d(1),xt=null):xt||(xt=va(),xt.c(),xt.m(Q,ee)),dt[0]&8&&ft(ne,De[3].p.r),(!de||dt[0]&4)&&at!==(at=(((Ln=(qn=De[2].conf)==null?void 0:qn.price)==null?void 0:Ln.currency)??"Currency")+"")&&q(Ht,at),dt[0]&8&&ft(yt,De[3].p.c);const Qt={};dt[0]&4|dt[4]&1&&(Qt.$$scope={dirty:dt,ctx:De}),_t.$set(Qt),dt[0]&8&&(Ye.checked=De[3].p.e),(!de||dt[0]&4)&&ve!==(ve=(((ps=(In=De[2].conf)==null?void 0:In.price)==null?void 0:ps.enabled)??"Enabled")+"")&&q(Le,ve),De[3].p.e&&De[0].chip!="esp8266"?Jt?Jt.p(De,dt):(Jt=ka(De),Jt.c(),Jt.m(Be,null)):Jt&&(Jt.d(1),Jt=null),(!de||dt[0]&4)&&ut!==(ut=(((gs=(hs=(ds=De[2].conf)==null?void 0:ds.general)==null?void 0:hs.security)==null?void 0:gs.title)??"Security")+"")&&q(xe,ut),(!de||dt[0]&4)&&Te!==(Te=(((ks=(vs=(bs=De[2].conf)==null?void 0:bs.general)==null?void 0:vs.security)==null?void 0:ks.none)??"None")+"")&&q($e,Te),(!de||dt[0]&4)&&st!==(st=(((Ss=(Ms=(ws=De[2].conf)==null?void 0:ws.general)==null?void 0:Ms.security)==null?void 0:Ss.conf)??"Conf")+"")&&q(pt,st),(!de||dt[0]&4)&&Ft!==(Ft=(((Ps=(Ns=(ys=De[2].conf)==null?void 0:ys.general)==null?void 0:Ns.security)==null?void 0:Ps.all)??"All")+"")&&q(Dt,Ft),dt[0]&8&&ft(Ke,De[3].g.s),De[3].g.s>0?Xt?Xt.p(De,dt):(Xt=wa(De),Xt.c(),Xt.m(e,It)):Xt&&(Xt.d(1),Xt=null),(!de||dt[0]&4)&&Rt!==(Rt=(((Ts=(Cs=De[2].conf)==null?void 0:Cs.general)==null?void 0:Ts.context)??"Context")+"")&&q(Vt,Rt),(!de||dt[0]&4&&zt!==(zt=((As=(Es=De[2].conf)==null?void 0:Es.general)==null?void 0:As.context_placeholder)??"/"))&&u(Mt,"placeholder",zt),dt[0]&8&&Mt.value!==De[3].g.c&&x(Mt,De[3].g.c)},i(De){de||(J(I.$$.fragment,De),J(_t.$$.fragment,De),de=!0)},o(De){le(I.$$.fragment,De),le(_t.$$.fragment,De),de=!1},d(De){De&&P(e),Se(I),Zt(Gt,De),xt&&xt.d(),Zt(al,De),Se(_t),Jt&&Jt.d(),Xt&&Xt.d(),nt=!1,Ut(ze)}}}function ba(t){let e,l=t[121].name+"",n,i;return{c(){e=p("option"),n=w(l),e.__value=i=t[121].code,x(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o[0]&16&&l!==(l=s[121].name+"")&&q(n,l),o[0]&16&&i!==(i=s[121].code)&&(e.__value=i,x(e,e.__value))},d(s){s&&P(e)}}}function va(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",x(e,e.__value),l.__value="NO2S",x(l,l.__value),n.__value="NO3S",x(n,n.__value),i.__value="NO4S",x(i,i.__value),s.__value="NO5S",x(s,s.__value)},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f),C(o,i,f),C(o,s,f)},d(o){o&&(P(e),P(l),P(n),P(i),P(s))}}}function C1(t){let e;return{c(){e=p("option"),e.textContent=`${t[118]}`,e.__value=t[118],x(e,e.__value)},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function T1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&q(l,e)},d(s){s&&P(l)}}}function ka(t){let e,l,n,i,s;return{c(){var o,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",pi)},m(o,f){C(o,e,f),C(o,l,f),x(l,t[3].p.t),i||(s=he(l,"input",t[34]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&8&&l.value!==o[3].p.t&&x(l,o[3].p.t)},d(o){o&&(P(e),P(l)),i=!1,s()}}}function wa(t){var S,k,E,F,R,y;let e,l=(((E=(k=(S=t[2].conf)==null?void 0:S.general)==null?void 0:k.security)==null?void 0:E.username)??"Username")+"",n,i,s,o,f,r,c=(((y=(R=(F=t[2].conf)==null?void 0:F.general)==null?void 0:R.security)==null?void 0:y.password)??"Password")+"",m,d,_,h,b,M;return{c(){e=p("div"),n=w(l),i=p("br"),s=g(),o=p("input"),f=g(),r=p("div"),m=w(c),d=p("br"),_=g(),h=p("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",en),u(e,"class","my-1"),u(h,"name","gp"),u(h,"type","password"),u(h,"class","in-s"),u(h,"maxlength","36"),u(h,"pattern",en),u(r,"class","my-1")},m(O,T){C(O,e,T),a(e,n),a(e,i),a(e,s),a(e,o),x(o,t[3].g.u),C(O,f,T),C(O,r,T),a(r,m),a(r,d),a(r,_),a(r,h),x(h,t[3].g.p),b||(M=[he(o,"input",t[36]),he(h,"input",t[37])],b=!0)},p(O,T){var j,I,D,U,z,V;T[0]&4&&l!==(l=(((D=(I=(j=O[2].conf)==null?void 0:j.general)==null?void 0:I.security)==null?void 0:D.username)??"Username")+"")&&q(n,l),T[0]&8&&o.value!==O[3].g.u&&x(o,O[3].g.u),T[0]&4&&c!==(c=(((V=(z=(U=O[2].conf)==null?void 0:U.general)==null?void 0:z.security)==null?void 0:V.password)??"Password")+"")&&q(m,c),T[0]&8&&h.value!==O[3].g.p&&x(h,O[3].g.p)},d(O){O&&(P(e),P(f),P(r)),b=!1,Ut(M)}}}function Ma(t){let e,l,n,i,s,o,f,r,c,m,d,_,h,b,M,S,k,E,F,R,y,O,T,j=Ja(t[3].fw.s)+"",I,D,U,z,V,W;function G(K,Z){var te,H,X,pe;return((H=(te=K[0])==null?void 0:te.upgrade)==null?void 0:H.m)===!0?q1:(pe=(X=K[0])==null?void 0:X.upgrade)!=null&&pe.n?A1:E1}let Y=G(t),B=Y(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=g(),i=p("input"),s=g(),o=p("div"),f=p("label"),r=p("input"),c=w(`
                    Enable nightly auto-updates`),m=g(),d=p("div"),_=p("div"),h=w("Update hour"),b=p("br"),M=g(),S=p("input"),E=g(),F=p("input"),y=g(),O=p("div"),T=w("When enabled, the device checks for updates daily at "),I=w(j),D=w(" (local time) and applies them automatically if available."),U=g(),z=p("div"),B.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",x(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(S,"name","fws"),u(S,"type","number"),u(S,"min","0"),u(S,"max","23"),u(S,"class","in-s w-full"),S.disabled=k=!t[3].fw.a,u(F,"type","hidden"),u(F,"name","fwe"),F.value=R=t[3].fw.s,u(_,"class","col-span-2"),u(d,"class","my-1 grid grid-cols-2 gap-2"),u(O,"class","my-1 text-xs text-gray-500"),u(z,"class","my-1 text-xs"),u(e,"class","cnt")},m(K,Z){C(K,e,Z),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].fw.a,a(f,c),a(e,m),a(e,d),a(d,_),a(_,h),a(_,b),a(_,M),a(_,S),x(S,t[3].fw.s),a(_,E),a(_,F),a(e,y),a(e,O),a(O,T),a(O,I),a(O,D),a(e,U),a(e,z),B.m(z,null),V||(W=[he(r,"change",t[39]),he(S,"input",t[40])],V=!0)},p(K,Z){Z[0]&8&&(r.checked=K[3].fw.a),Z[0]&8&&k!==(k=!K[3].fw.a)&&(S.disabled=k),Z[0]&8&&bt(S.value)!==K[3].fw.s&&x(S,K[3].fw.s),Z[0]&8&&R!==(R=K[3].fw.s)&&(F.value=R),Z[0]&8&&j!==(j=Ja(K[3].fw.s)+"")&&q(I,j),Y===(Y=G(K))&&B?B.p(K,Z):(B.d(1),B=Y(K),B&&(B.c(),B.m(z,null)))},d(K){K&&P(e),B.d(),V=!1,Ut(W)}}}function E1(t){let e;return{c(){e=w("Checking for updates…")},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function A1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=w("Latest available: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&q(n,l)},d(i){i&&(P(e),P(n))}}}function q1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function Sa(t){let e,l,n,i,s,o,f,r,c,m,d,_,h,b,M,S,k,E,F,R,y,O,T,j,I=Xe(t[14]),D=[];for(let U=0;U<I.length;U+=1)D[U]=ya(da(t,I,U));return{c(){e=p("div"),l=p("strong"),l.textContent="Debug logging",n=g(),i=p("input"),s=g(),o=p("div"),f=p("label"),r=p("input"),c=w(`
                    Enable telnet (RemoteDebug)`),m=g(),d=p("div"),_=p("label"),h=p("input"),b=w(`
                    Enable serial log output`),M=g(),S=p("div"),k=w("Log level"),E=p("br"),F=g(),R=p("select");for(let U=0;U<D.length;U+=1)D[U].c();y=g(),O=p("div"),O.textContent="Telnet logging requires the device to be connected to the network. Leave telnet off for normal operation.",u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","d"),i.value="true",u(r,"type","checkbox"),u(r,"name","dt"),r.__value="true",x(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(h,"type","checkbox"),u(h,"name","ds"),h.__value="true",x(h,h.__value),u(h,"class","rounded mb-1"),u(d,"class","my-1"),u(R,"name","dl"),u(R,"class","in-s"),t[3].d.l===void 0&&Yt(()=>t[43].call(R)),u(S,"class","my-1"),u(O,"class","my-1 text-xs text-gray-500"),u(e,"class","cnt")},m(U,z){C(U,e,z),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].d.t,a(f,c),a(e,m),a(e,d),a(d,_),a(_,h),h.checked=t[3].d.s,a(_,b),a(e,M),a(e,S),a(S,k),a(S,E),a(S,F),a(S,R);for(let V=0;V<D.length;V+=1)D[V]&&D[V].m(R,null);ft(R,t[3].d.l,!0),a(e,y),a(e,O),T||(j=[he(r,"change",t[41]),he(h,"change",t[42]),he(R,"change",t[43])],T=!0)},p(U,z){if(z[0]&8&&(r.checked=U[3].d.t),z[0]&8&&(h.checked=U[3].d.s),z[0]&16384){I=Xe(U[14]);let V;for(V=0;V<I.length;V+=1){const W=da(U,I,V);D[V]?D[V].p(W,z):(D[V]=ya(W),D[V].c(),D[V].m(R,null))}for(;V<D.length;V+=1)D[V].d(1);D.length=I.length}z[0]&8&&ft(R,U[3].d.l)},d(U){U&&P(e),Zt(D,U),T=!1,Ut(j)}}}function ya(t){let e,l=t[115].label+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[115].value,x(e,e.__value)},m(i,s){C(i,e,s),a(e,n)},p:He,d(i){i&&P(e)}}}function Na(t){var lt,st,pt,$t,Ft,Dt,il,It,Ve,Rt,Vt,gt,rt,Mt,zt,de,nt,ze,sl,Gt,xt,cl,al,Jt,Xt,ul,Ee,ce,jt;let e,l,n=(((st=(lt=t[2].conf)==null?void 0:lt.meter)==null?void 0:st.title)??"Meter")+"",i,s,o,f,r,c,m,d,_,h,b=(((Ft=($t=(pt=t[2].conf)==null?void 0:pt.meter)==null?void 0:$t.preset)==null?void 0:Ft.title)??"Meter preset")+"",M,S,k,E,F,R=(((It=(il=(Dt=t[2].conf)==null?void 0:Dt.meter)==null?void 0:il.preset)==null?void 0:It.manual)??"Manual configuration")+"",y,O,T,j,I,D=(((Vt=(Rt=(Ve=t[2].conf)==null?void 0:Ve.meter)==null?void 0:Rt.comm)==null?void 0:Vt.title)??"Communication")+"",U,z,V,W,G,Y=(((Mt=(rt=(gt=t[2].conf)==null?void 0:gt.meter)==null?void 0:rt.comm)==null?void 0:Mt.passive)??"Passive")+"",B,K,Z=(((nt=(de=(zt=t[2].conf)==null?void 0:zt.meter)==null?void 0:de.comm)==null?void 0:nt.pulse)??"Pulse")+"",te,H=(sl=(ze=t[0])==null?void 0:ze.features)==null?void 0:sl.includes("kmp"),X,pe,fe,re=(((Gt=t[2].common)==null?void 0:Gt.voltage)??"Voltage")+"",ue,ne,Q,ee,be,ge,N,v,A,L=(((cl=(xt=t[2].conf)==null?void 0:xt.meter)==null?void 0:cl.fuse)??"Main fuse")+"",$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie=(((Jt=(al=t[2].conf)==null?void 0:al.meter)==null?void 0:Jt.prod)??"Production")+"",je,We,Ge,Qe,we,Fe,me,Ae,it,Pt,wt,Ze,at,Ht,mt=(((ul=(Xt=t[2].conf)==null?void 0:Xt.meter)==null?void 0:ul.encrypted)??"Encrypted")+"",Tt,yt,Ot,tt,_t,Ce,Be,Je=(((jt=(ce=(Ee=t[2].conf)==null?void 0:Ee.meter)==null?void 0:ce.multipliers)==null?void 0:jt.title)??"Multipliers")+"",Ye,et,ve,Le,qt=Xe(ms),ht=[];for(let Oe=0;Oe<qt.length;Oe+=1)ht[Oe]=L1(N1(t,qt,Oe));let Ue=t[8]&&Pa(t),ut=t[9]&&Ca(t),xe=H&&Ea();function Lt(Oe,St){return Oe[3].m.a===2?D1:I1}let Wt=Lt(t),Ke=Wt(t),ke=t[3].m.e.e&&Aa(t),Te=t[3].m.e.e&&qa(t),$e=t[3].m.m.e&&La(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("input"),d=g(),_=p("div"),h=p("label"),M=w(b),S=g(),k=p("div"),E=p("select"),F=p("option"),y=w(R);for(let Oe=0;Oe<ht.length;Oe+=1)ht[Oe].c();O=g(),Ue&&Ue.c(),T=g(),ut&&ut.c(),j=g(),I=p("div"),U=w(D),z=p("br"),V=g(),W=p("select"),G=p("option"),B=w(Y),K=p("option"),te=w(Z),xe&&xe.c(),X=g(),Ke.c(),pe=g(),fe=p("div"),ue=w(re),ne=p("br"),Q=g(),ee=p("select"),be=p("option"),be.textContent="400V (TN)",ge=p("option"),ge.textContent="230V (IT/TT)",N=g(),v=p("div"),A=p("div"),$=w(L),ie=p("br"),se=g(),_e=p("label"),oe=p("input"),ae=g(),Ne=p("span"),Ne.textContent="A",Pe=g(),qe=p("div"),je=w(Ie),We=p("br"),Ge=g(),Qe=p("label"),we=p("input"),Fe=g(),me=p("span"),me.textContent="kWp",Ae=g(),it=p("div"),it.innerHTML="",Pt=g(),wt=p("div"),Ze=p("label"),at=p("input"),Ht=g(),Tt=w(mt),yt=g(),ke&&ke.c(),Ot=g(),Te&&Te.c(),tt=g(),_t=p("label"),Ce=p("input"),Be=g(),Ye=w(Je),et=g(),$e&&$e.c(),u(l,"class","text-sm"),u(o,"href",Il("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(h,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(h,"for","meter-preset-select"),F.__value="",x(F,F.__value),u(E,"id","meter-preset-select"),u(E,"class","in-s w-full"),t[8]===void 0&&Yt(()=>t[44].call(E)),u(k,"class","mt-1 flex gap-2"),u(_,"class","my-1"),G.__value=0,x(G,G.__value),K.__value=2,x(K,K.__value),u(W,"name","ma"),u(W,"class","in-s"),t[3].m.a===void 0&&Yt(()=>t[46].call(W)),u(I,"class","my-1"),be.__value=2,x(be,be.__value),ge.__value=1,x(ge,ge.__value),u(ee,"name","md"),u(ee,"class","in-s"),t[3].m.d===void 0&&Yt(()=>t[52].call(ee)),u(fe,"class","my-1"),u(oe,"name","mf"),u(oe,"type","number"),u(oe,"min","5"),u(oe,"max","65535"),u(oe,"class","in-f tr w-full"),u(Ne,"class","in-post"),u(_e,"class","flex"),u(A,"class","mx-1"),u(we,"name","mr"),u(we,"type","number"),u(we,"min","0"),u(we,"max","65535"),u(we,"class","in-f tr w-full"),u(me,"class","in-post"),u(Qe,"class","flex"),u(qe,"class","mx-1"),u(v,"class","my-1 flex"),u(it,"class","my-1"),u(at,"type","checkbox"),u(at,"name","me"),at.__value="true",x(at,at.__value),u(at,"class","rounded mb-1"),u(wt,"class","my-1"),u(Ce,"type","checkbox"),u(Ce,"name","mm"),Ce.__value="true",x(Ce,Ce.__value),u(Ce,"class","rounded mb-1"),u(e,"class","cnt")},m(Oe,St){C(Oe,e,St),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,d),a(e,_),a(_,h),a(h,M),a(_,S),a(_,k),a(k,E),a(E,F),a(F,y);for(let rl=0;rl<ht.length;rl+=1)ht[rl]&&ht[rl].m(E,null);ft(E,t[8],!0),a(k,O),Ue&&Ue.m(k,null),a(_,T),ut&&ut.m(_,null),a(e,j),a(e,I),a(I,U),a(I,z),a(I,V),a(I,W),a(W,G),a(G,B),a(W,K),a(K,te),xe&&xe.m(W,null),ft(W,t[3].m.a,!0),a(e,X),Ke.m(e,null),a(e,pe),a(e,fe),a(fe,ue),a(fe,ne),a(fe,Q),a(fe,ee),a(ee,be),a(ee,ge),ft(ee,t[3].m.d,!0),a(e,N),a(e,v),a(v,A),a(A,$),a(A,ie),a(A,se),a(A,_e),a(_e,oe),x(oe,t[3].m.f),a(_e,ae),a(_e,Ne),a(v,Pe),a(v,qe),a(qe,je),a(qe,We),a(qe,Ge),a(qe,Qe),a(Qe,we),x(we,t[3].m.r),a(Qe,Fe),a(Qe,me),a(e,Ae),a(e,it),a(e,Pt),a(e,wt),a(wt,Ze),a(Ze,at),at.checked=t[3].m.e.e,a(Ze,Ht),a(Ze,Tt),a(wt,yt),ke&&ke.m(wt,null),a(e,Ot),Te&&Te.m(e,null),a(e,tt),a(e,_t),a(_t,Ce),Ce.checked=t[3].m.m.e,a(_t,Be),a(_t,Ye),a(e,et),$e&&$e.m(e,null),ve||(Le=[he(E,"change",t[44]),he(E,"change",t[45]),he(W,"change",t[46]),he(ee,"change",t[52]),he(oe,"input",t[53]),he(we,"input",t[54]),he(at,"change",t[55]),he(Ce,"change",t[58])],ve=!0)},p(Oe,St){var rl,hl,gl,bl,vl,kl,wl,Dl,Ol,Fl,Re,ot,Rl,jl,Bl,Ul,Hl,Wl,zl,Kl,$l,Vl,Gl,Yl,De,dt,Qt,Jl,Xl;St[0]&4&&n!==(n=(((hl=(rl=Oe[2].conf)==null?void 0:rl.meter)==null?void 0:hl.title)??"Meter")+"")&&q(i,n),St[0]&4&&b!==(b=(((vl=(bl=(gl=Oe[2].conf)==null?void 0:gl.meter)==null?void 0:bl.preset)==null?void 0:vl.title)??"Meter preset")+"")&&q(M,b),St[0]&4&&R!==(R=(((Dl=(wl=(kl=Oe[2].conf)==null?void 0:kl.meter)==null?void 0:wl.preset)==null?void 0:Dl.manual)??"Manual configuration")+"")&&q(y,R),St[0]&256&&ft(E,Oe[8]),Oe[8]?Ue?Ue.p(Oe,St):(Ue=Pa(Oe),Ue.c(),Ue.m(k,null)):Ue&&(Ue.d(1),Ue=null),Oe[9]?ut?ut.p(Oe,St):(ut=Ca(Oe),ut.c(),ut.m(_,null)):ut&&(ut.d(1),ut=null),St[0]&4&&D!==(D=(((Re=(Fl=(Ol=Oe[2].conf)==null?void 0:Ol.meter)==null?void 0:Fl.comm)==null?void 0:Re.title)??"Communication")+"")&&q(U,D),St[0]&4&&Y!==(Y=(((jl=(Rl=(ot=Oe[2].conf)==null?void 0:ot.meter)==null?void 0:Rl.comm)==null?void 0:jl.passive)??"Passive")+"")&&q(B,Y),St[0]&4&&Z!==(Z=(((Hl=(Ul=(Bl=Oe[2].conf)==null?void 0:Bl.meter)==null?void 0:Ul.comm)==null?void 0:Hl.pulse)??"Pulse")+"")&&q(te,Z),St[0]&1&&(H=(zl=(Wl=Oe[0])==null?void 0:Wl.features)==null?void 0:zl.includes("kmp")),H?xe||(xe=Ea(),xe.c(),xe.m(W,null)):xe&&(xe.d(1),xe=null),St[0]&8&&ft(W,Oe[3].m.a),Wt===(Wt=Lt(Oe))&&Ke?Ke.p(Oe,St):(Ke.d(1),Ke=Wt(Oe),Ke&&(Ke.c(),Ke.m(e,pe))),St[0]&4&&re!==(re=(((Kl=Oe[2].common)==null?void 0:Kl.voltage)??"Voltage")+"")&&q(ue,re),St[0]&8&&ft(ee,Oe[3].m.d),St[0]&4&&L!==(L=(((Vl=($l=Oe[2].conf)==null?void 0:$l.meter)==null?void 0:Vl.fuse)??"Main fuse")+"")&&q($,L),St[0]&8&&bt(oe.value)!==Oe[3].m.f&&x(oe,Oe[3].m.f),St[0]&4&&Ie!==(Ie=(((Yl=(Gl=Oe[2].conf)==null?void 0:Gl.meter)==null?void 0:Yl.prod)??"Production")+"")&&q(je,Ie),St[0]&8&&bt(we.value)!==Oe[3].m.r&&x(we,Oe[3].m.r),St[0]&8&&(at.checked=Oe[3].m.e.e),St[0]&4&&mt!==(mt=(((dt=(De=Oe[2].conf)==null?void 0:De.meter)==null?void 0:dt.encrypted)??"Encrypted")+"")&&q(Tt,mt),Oe[3].m.e.e?ke?ke.p(Oe,St):(ke=Aa(Oe),ke.c(),ke.m(wt,null)):ke&&(ke.d(1),ke=null),Oe[3].m.e.e?Te?Te.p(Oe,St):(Te=qa(Oe),Te.c(),Te.m(e,tt)):Te&&(Te.d(1),Te=null),St[0]&8&&(Ce.checked=Oe[3].m.m.e),St[0]&4&&Je!==(Je=(((Xl=(Jl=(Qt=Oe[2].conf)==null?void 0:Qt.meter)==null?void 0:Jl.multipliers)==null?void 0:Xl.title)??"Multipliers")+"")&&q(Ye,Je),Oe[3].m.m.e?$e?$e.p(Oe,St):($e=La(Oe),$e.c(),$e.m(e,null)):$e&&($e.d(1),$e=null)},d(Oe){Oe&&P(e),Zt(ht,Oe),Ue&&Ue.d(),ut&&ut.d(),xe&&xe.d(),Ke.d(),ke&&ke.d(),Te&&Te.d(),$e&&$e.d(),ve=!1,Ut(Le)}}}function L1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112].label}`,e.__value=t[112].id,x(e,e.__value)},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function Pa(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=he(e,"click",t[25]),i=!0)},p(c,m){var d,_,h;m[0]&4&&l!==(l=(((h=(_=(d=c[2].conf)==null?void 0:d.meter)==null?void 0:_.preset)==null?void 0:h.clear)??"Clear")+"")&&q(n,l)},d(c){c&&P(e),i=!1,s()}}}function Ca(t){let e,l=ca(t[9])+"",n,i,s=t[9].notes&&Ta(t);return{c(){e=p("div"),n=w(l),i=g(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=ca(o[9])+"")&&q(n,l),o[9].notes?s?s.p(o,f):(s=Ta(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&P(e),s&&s.d()}}}function Ta(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=w(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&q(n,l)},d(i){i&&P(e)}}}function Ea(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,x(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&P(e)}}}function I1(t){var pe,fe,re,ue,ne,Q;let e,l,n=(((fe=(pe=t[2].conf)==null?void 0:pe.meter)==null?void 0:fe.buffer)??"Buffer size")+"",i,s,o,f=(((ue=(re=t[2].conf)==null?void 0:re.meter)==null?void 0:ue.serial)??"Serial conf.")+"",r,c,m,d,_,h=(((Q=(ne=t[2].conf)==null?void 0:ne.meter)==null?void 0:Q.inverted)??"inverted")+"",b,M,S,k,E,F,R,y,O,T,j,I,D,U,z,V,W,G,Y,B,K,Z,te,H=Xe([3,12,24,48,96,192,384,576,1152]),X=[];for(let ee=0;ee<9;ee+=1)X[ee]=O1(y1(t,H,ee));return{c(){e=p("div"),l=p("span"),i=w(n),s=g(),o=p("span"),r=w(f),c=g(),m=p("label"),d=p("input"),_=g(),b=w(h),M=g(),S=p("div"),k=p("select"),E=p("option"),F=w("Autodetect");for(let ee=0;ee<9;ee+=1)X[ee].c();y=g(),O=p("select"),T=p("option"),j=w("-"),D=p("option"),D.textContent="7N1",U=p("option"),U.textContent="8N1",z=p("option"),z.textContent="8N2",V=p("option"),V.textContent="7E1",W=p("option"),W.textContent="8E1",Y=g(),B=p("input"),u(l,"class","float-right"),u(d,"name","mi"),d.__value="true",x(d,d.__value),u(d,"type","checkbox"),u(d,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),E.__value=0,x(E,E.__value),E.disabled=R=t[3].m.b!=0,u(k,"name","mb"),u(k,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Yt(()=>t[49].call(k)),T.__value=0,x(T,T.__value),T.disabled=I=t[3].m.b!=0,D.__value=2,x(D,D.__value),U.__value=3,x(U,U.__value),z.__value=7,x(z,z.__value),V.__value=10,x(V,V.__value),W.__value=11,x(W,W.__value),u(O,"name","mp"),u(O,"class","in-m"),O.disabled=G=t[3].m.b==0,t[3].m.p===void 0&&Yt(()=>t[50].call(O)),u(B,"name","ms"),u(B,"type","number"),u(B,"min",64),u(B,"max",K=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:256:4096),u(B,"step",64),u(B,"class","in-l tr w-1/2"),u(S,"class","flex w-full"),u(e,"class","my-1")},m(ee,be){C(ee,e,be),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,d),d.checked=t[3].m.i,a(m,_),a(m,b),a(e,M),a(e,S),a(S,k),a(k,E),a(E,F);for(let ge=0;ge<9;ge+=1)X[ge]&&X[ge].m(k,null);ft(k,t[3].m.b,!0),a(S,y),a(S,O),a(O,T),a(T,j),a(O,D),a(O,U),a(O,z),a(O,V),a(O,W),ft(O,t[3].m.p,!0),a(S,Y),a(S,B),x(B,t[3].m.s),Z||(te=[he(d,"change",t[48]),he(k,"change",t[49]),he(O,"change",t[50]),he(B,"input",t[51])],Z=!0)},p(ee,be){var ge,N,v,A,L,$;be[0]&4&&n!==(n=(((N=(ge=ee[2].conf)==null?void 0:ge.meter)==null?void 0:N.buffer)??"Buffer size")+"")&&q(i,n),be[0]&4&&f!==(f=(((A=(v=ee[2].conf)==null?void 0:v.meter)==null?void 0:A.serial)??"Serial conf.")+"")&&q(r,f),be[0]&8&&(d.checked=ee[3].m.i),be[0]&4&&h!==(h=((($=(L=ee[2].conf)==null?void 0:L.meter)==null?void 0:$.inverted)??"inverted")+"")&&q(b,h),be[0]&8&&R!==(R=ee[3].m.b!=0)&&(E.disabled=R),be[0]&8&&ft(k,ee[3].m.b),be[0]&8&&I!==(I=ee[3].m.b!=0)&&(T.disabled=I),be[0]&8&&G!==(G=ee[3].m.b==0)&&(O.disabled=G),be[0]&8&&ft(O,ee[3].m.p),be[0]&9&&K!==(K=ee[0].chip=="esp8266"?ee[3].i.h.p==3||ee[3].i.h.p==113?512:256:4096)&&u(B,"max",K),be[0]&8&&bt(B.value)!==ee[3].m.s&&x(B,ee[3].m.s)},d(ee){ee&&P(e),Zt(X,ee),Z=!1,Ut(te)}}}function D1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=p("div"),l=p("span"),i=w(n),s=g(),o=p("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(e,s),a(e,o),x(o,t[3].m.b),f||(r=he(o,"input",t[47]),f=!0)},p(d,_){var h,b;_[0]&4&&n!==(n=(((b=(h=d[2].conf)==null?void 0:h.meter)==null?void 0:b.pulses)??"Pulses per kWh")+"")&&q(i,n),_[0]&8&&bt(o.value)!==d[3].m.b&&x(o,d[3].m.b)},d(d){d&&P(e),f=!1,r()}}}function O1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109]*100}`,e.__value=t[109]*100,x(e,e.__value)},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function Aa(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Lf)},m(s,o){C(s,e,o),C(s,l,o),x(l,t[3].m.e.k),n||(i=he(l,"input",t[56]),n=!0)},p(s,o){o[0]&8&&l.value!==s[3].m.e.k&&x(l,s[3].m.e.k)},d(s){s&&(P(e),P(l)),n=!1,i()}}}function qa(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=p("div"),n=w(l),i=p("br"),s=g(),o=p("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Lf),u(e,"class","my-1")},m(d,_){C(d,e,_),a(e,n),a(e,i),a(e,s),a(e,o),x(o,t[3].m.e.a),f||(r=he(o,"input",t[57]),f=!0)},p(d,_){var h,b;_[0]&4&&l!==(l=(((b=(h=d[2].conf)==null?void 0:h.meter)==null?void 0:b.authkey)??"Authentication key")+"")&&q(n,l),_[0]&8&&o.value!==d[3].m.e.a&&x(o,d[3].m.e.a)},d(d){d&&P(e),f=!1,r()}}}function La(t){var G,Y,B,K,Z,te,H,X,pe,fe,re,ue;let e,l,n=(((B=(Y=(G=t[2].conf)==null?void 0:G.meter)==null?void 0:Y.multipliers)==null?void 0:B.watt)??"Watt")+"",i,s,o,f,r,c,m=(((te=(Z=(K=t[2].conf)==null?void 0:K.meter)==null?void 0:Z.multipliers)==null?void 0:te.volt)??"Volt")+"",d,_,h,b,M,S,k=(((pe=(X=(H=t[2].conf)==null?void 0:H.meter)==null?void 0:X.multipliers)==null?void 0:pe.amp)??"Amp")+"",E,F,R,y,O,T,j=(((ue=(re=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:re.multipliers)==null?void 0:ue.kwh)??"kWh")+"",I,D,U,z,V,W;return{c(){e=p("div"),l=p("div"),i=w(n),s=p("br"),o=g(),f=p("input"),r=g(),c=p("div"),d=w(m),_=p("br"),h=g(),b=p("input"),M=g(),S=p("div"),E=w(k),F=p("br"),R=g(),y=p("input"),O=g(),T=p("div"),I=w(j),D=p("br"),U=g(),z=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(b,"name","mmv"),u(b,"type","number"),u(b,"min","0.00"),u(b,"max","1000"),u(b,"step","0.001"),u(b,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(y,"name","mma"),u(y,"type","number"),u(y,"min","0.00"),u(y,"max","1000"),u(y,"step","0.001"),u(y,"class","in-m tr w-full"),u(S,"class","w-1/4"),u(z,"name","mmc"),u(z,"type","number"),u(z,"min","0.00"),u(z,"max","1000"),u(z,"step","0.001"),u(z,"class","in-l tr w-full"),u(T,"class","w-1/4"),u(e,"class","flex my-1")},m(ne,Q){C(ne,e,Q),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),x(f,t[3].m.m.w),a(e,r),a(e,c),a(c,d),a(c,_),a(c,h),a(c,b),x(b,t[3].m.m.v),a(e,M),a(e,S),a(S,E),a(S,F),a(S,R),a(S,y),x(y,t[3].m.m.a),a(e,O),a(e,T),a(T,I),a(T,D),a(T,U),a(T,z),x(z,t[3].m.m.c),V||(W=[he(f,"input",t[59]),he(b,"input",t[60]),he(y,"input",t[61]),he(z,"input",t[62])],V=!0)},p(ne,Q){var ee,be,ge,N,v,A,L,$,ie,se,_e,oe;Q[0]&4&&n!==(n=(((ge=(be=(ee=ne[2].conf)==null?void 0:ee.meter)==null?void 0:be.multipliers)==null?void 0:ge.watt)??"Watt")+"")&&q(i,n),Q[0]&8&&bt(f.value)!==ne[3].m.m.w&&x(f,ne[3].m.m.w),Q[0]&4&&m!==(m=(((A=(v=(N=ne[2].conf)==null?void 0:N.meter)==null?void 0:v.multipliers)==null?void 0:A.volt)??"Volt")+"")&&q(d,m),Q[0]&8&&bt(b.value)!==ne[3].m.m.v&&x(b,ne[3].m.m.v),Q[0]&4&&k!==(k=(((ie=($=(L=ne[2].conf)==null?void 0:L.meter)==null?void 0:$.multipliers)==null?void 0:ie.amp)??"Amp")+"")&&q(E,k),Q[0]&8&&bt(y.value)!==ne[3].m.m.a&&x(y,ne[3].m.m.a),Q[0]&4&&j!==(j=(((oe=(_e=(se=ne[2].conf)==null?void 0:se.meter)==null?void 0:_e.multipliers)==null?void 0:oe.kwh)??"kWh")+"")&&q(I,j),Q[0]&8&&bt(z.value)!==ne[3].m.m.c&&x(z,ne[3].m.m.c)},d(ne){ne&&P(e),V=!1,Ut(W)}}}function Ia(t){var d,_;let e,l,n=(((_=(d=t[2].conf)==null?void 0:d.connection)==null?void 0:_.title)??"Connection")+"",i,s,o,f,r,c,m=(t[3].n.c==1||t[3].n.c==2)&&Da(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Il("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(h,b){C(h,e,b),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(h,b){var M,S;b[0]&4&&n!==(n=(((S=(M=h[2].conf)==null?void 0:M.connection)==null?void 0:S.title)??"Connection")+"")&&q(i,n),h[3].n.c==1||h[3].n.c==2?m?m.p(h,b):(m=Da(h),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(h){h&&P(e),m&&m.d()}}}function Da(t){var Ne,Pe,qe,Ie,je,We,Ge,Qe,we,Fe,me,Ae,it,Pt,wt,Ze,at,Ht,mt,Tt,yt,Ot,tt,_t;let e,l=(((Pe=(Ne=t[2].conf)==null?void 0:Ne.connection)==null?void 0:Pe.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((Ie=(qe=t[2].conf)==null?void 0:qe.connection)==null?void 0:Ie.psk)??"Password")+"",d,_,h,b,M,S,k,E=(((Ge=(We=(je=t[2].conf)==null?void 0:je.connection)==null?void 0:We.ps)==null?void 0:Ge.title)??"Power saving")+"",F,R,y,O,T,j=(((Fe=(we=(Qe=t[2].conf)==null?void 0:Qe.connection)==null?void 0:we.ps)==null?void 0:Fe.default)??"Default")+"",I,D,U=(((it=(Ae=(me=t[2].conf)==null?void 0:me.connection)==null?void 0:Ae.ps)==null?void 0:it.off)??"Off")+"",z,V,W=(((Ze=(wt=(Pt=t[2].conf)==null?void 0:Pt.connection)==null?void 0:wt.ps)==null?void 0:Ze.min)??"Min")+"",G,Y,B=(((mt=(Ht=(at=t[2].conf)==null?void 0:at.connection)==null?void 0:Ht.ps)==null?void 0:mt.max)??"Max")+"",K,Z,te,H=(((yt=(Tt=t[2].conf)==null?void 0:Tt.connection)==null?void 0:yt.pwr)??"Power")+"",X,pe,fe,re,ue,ne,Q,ee,be,ge,N,v,A=(((tt=(Ot=t[2].conf)==null?void 0:Ot.connection)==null?void 0:tt.tick_11b)??"802.11b")+"",L,$,ie,se=((_t=t[5])==null?void 0:_t.c)==-1&&Oa(t);function _e(Ce,Be){var Je,Ye,et;if((Ye=(Je=Ce[5])==null?void 0:Je.n)!=null&&Ye.length)return R1;if(((et=Ce[5])==null?void 0:et.c)!=-1)return F1}let oe=_e(t),ae=oe&&oe(t);return{c(){e=p("div"),n=w(l),i=g(),s=p("br"),o=g(),se&&se.c(),f=g(),ae&&ae.c(),r=g(),c=p("div"),d=w(m),_=p("br"),h=g(),b=p("input"),M=g(),S=p("div"),k=p("div"),F=w(E),R=p("br"),y=g(),O=p("select"),T=p("option"),I=w(j),D=p("option"),z=w(U),V=p("option"),G=w(W),Y=p("option"),K=w(B),Z=g(),te=p("div"),X=w(H),pe=p("br"),fe=g(),re=p("div"),ue=p("input"),ne=g(),Q=p("span"),Q.textContent="dBm",ee=g(),be=p("div"),ge=p("label"),N=p("input"),v=g(),L=w(A),u(e,"class","my-1"),u(b,"name","wp"),u(b,"type","password"),u(b,"class","in-s"),u(b,"pattern",_i),u(c,"class","my-1"),T.__value=255,x(T,T.__value),D.__value=0,x(D,D.__value),V.__value=1,x(V,V.__value),Y.__value=2,x(Y,Y.__value),u(O,"name","wz"),u(O,"class","in-s"),t[3].w.z===void 0&&Yt(()=>t[66].call(O)),u(k,"class","w-1/2"),u(ue,"name","ww"),u(ue,"type","number"),u(ue,"min","0"),u(ue,"max","20.5"),u(ue,"step","0.5"),u(ue,"class","in-f tr w-full"),u(Q,"class","in-post"),u(re,"class","flex"),u(te,"class","ml-2 w-1/2"),u(S,"class","my-1 flex"),u(N,"type","checkbox"),u(N,"name","wb"),N.__value="true",x(N,N.__value),u(N,"class","rounded mb-1"),u(be,"class","my-3")},m(Ce,Be){C(Ce,e,Be),a(e,n),a(e,i),a(e,s),a(e,o),se&&se.m(e,null),a(e,f),ae&&ae.m(e,null),C(Ce,r,Be),C(Ce,c,Be),a(c,d),a(c,_),a(c,h),a(c,b),x(b,t[3].w.p),C(Ce,M,Be),C(Ce,S,Be),a(S,k),a(k,F),a(k,R),a(k,y),a(k,O),a(O,T),a(T,I),a(O,D),a(D,z),a(O,V),a(V,G),a(O,Y),a(Y,K),ft(O,t[3].w.z,!0),a(S,Z),a(S,te),a(te,X),a(te,pe),a(te,fe),a(te,re),a(re,ue),x(ue,t[3].w.w),a(re,ne),a(re,Q),C(Ce,ee,Be),C(Ce,be,Be),a(be,ge),a(ge,N),N.checked=t[3].w.b,a(ge,v),a(ge,L),$||(ie=[he(b,"input",t[65]),he(O,"change",t[66]),he(ue,"input",t[67]),he(N,"change",t[68])],$=!0)},p(Ce,Be){var Je,Ye,et,ve,Le,qt,ht,Ue,ut,xe,Lt,Wt,Ke,ke,Te,$e,lt,st,pt,$t,Ft,Dt,il,It;Be[0]&4&&l!==(l=(((Ye=(Je=Ce[2].conf)==null?void 0:Je.connection)==null?void 0:Ye.ssid)??"Network name (SSID)")+"")&&q(n,l),((et=Ce[5])==null?void 0:et.c)==-1?se?se.p(Ce,Be):(se=Oa(Ce),se.c(),se.m(e,f)):se&&(se.d(1),se=null),oe===(oe=_e(Ce))&&ae?ae.p(Ce,Be):(ae&&ae.d(1),ae=oe&&oe(Ce),ae&&(ae.c(),ae.m(e,null))),Be[0]&4&&m!==(m=(((Le=(ve=Ce[2].conf)==null?void 0:ve.connection)==null?void 0:Le.psk)??"Password")+"")&&q(d,m),Be[0]&8&&b.value!==Ce[3].w.p&&x(b,Ce[3].w.p),Be[0]&4&&E!==(E=(((Ue=(ht=(qt=Ce[2].conf)==null?void 0:qt.connection)==null?void 0:ht.ps)==null?void 0:Ue.title)??"Power saving")+"")&&q(F,E),Be[0]&4&&j!==(j=(((Lt=(xe=(ut=Ce[2].conf)==null?void 0:ut.connection)==null?void 0:xe.ps)==null?void 0:Lt.default)??"Default")+"")&&q(I,j),Be[0]&4&&U!==(U=(((ke=(Ke=(Wt=Ce[2].conf)==null?void 0:Wt.connection)==null?void 0:Ke.ps)==null?void 0:ke.off)??"Off")+"")&&q(z,U),Be[0]&4&&W!==(W=(((lt=($e=(Te=Ce[2].conf)==null?void 0:Te.connection)==null?void 0:$e.ps)==null?void 0:lt.min)??"Min")+"")&&q(G,W),Be[0]&4&&B!==(B=((($t=(pt=(st=Ce[2].conf)==null?void 0:st.connection)==null?void 0:pt.ps)==null?void 0:$t.max)??"Max")+"")&&q(K,B),Be[0]&8&&ft(O,Ce[3].w.z),Be[0]&4&&H!==(H=(((Dt=(Ft=Ce[2].conf)==null?void 0:Ft.connection)==null?void 0:Dt.pwr)??"Power")+"")&&q(X,H),Be[0]&8&&bt(ue.value)!==Ce[3].w.w&&x(ue,Ce[3].w.w),Be[0]&8&&(N.checked=Ce[3].w.b),Be[0]&4&&A!==(A=(((It=(il=Ce[2].conf)==null?void 0:il.connection)==null?void 0:It.tick_11b)??"802.11b")+"")&&q(L,A)},d(Ce){Ce&&(P(e),P(r),P(c),P(M),P(S),P(ee),P(be)),se&&se.d(),ae&&ae.d(),$=!1,Ut(ie)}}}function Oa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&q(n,l)},d(o){o&&P(e)}}}function F1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&q(n,l)},d(o){o&&P(e)}}}function R1(t){let e,l=[],n=new Map,i=Xe(t[5].n);const s=o=>o[106].s??o[108];for(let o=0;o<i.length;o+=1){let f=pa(t,i,o),r=s(f);n.set(r,l[o]=Ra(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9260&&(i=Xe(o[5].n),l=of(l,f,s,1,o,i,n,e,sf,Ra,null,pa))},d(o){o&&P(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Fa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=w(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&q(n,l)},d(o){o&&P(e)}}}function Ra(t,e){var z,V,W,G,Y;let l,n,i,s,o=!1,f,r,c,m=(e[106].s||(((V=(z=e[2].conf)==null?void 0:z.connection)==null?void 0:V.hidden_ssid)??"Hidden network"))+"",d,_,h,b=(((W=e[10][e[108]])==null?void 0:W.title)??((Y=(G=e[2].conf)==null?void 0:G.connection)==null?void 0:Y.wifi_offline)??"Signal unavailable")+"",M,S,k,E,F,R,y,O,T,j,I,D,U=e[3].w.s===e[106].s&&Fa(e);return j=ef(e[64][0]),{key:t,first:null,c(){var B,K,Z;l=p("label"),n=p("span"),i=p("input"),f=g(),r=p("span"),c=p("span"),d=w(m),_=g(),h=p("span"),M=w(b),S=g(),k=p("div"),E=p("img"),O=g(),U&&U.c(),T=g(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[106].s,x(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(h,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(E,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),an(E.src,F=((B=e[10][e[108]])==null?void 0:B.icon)??e[13].off)||u(E,"src",F),u(E,"alt",R=((K=e[10][e[108]])==null?void 0:K.title)??"Wi-Fi offline"),u(E,"title",y=((Z=e[10][e[108]])==null?void 0:Z.title)??"Wi-Fi offline"),u(k,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),j.p(i),this.first=l},m(B,K){C(B,l,K),a(l,n),a(n,i),i.checked=i.__value===e[3].w.s,a(n,f),a(n,r),a(r,c),a(c,d),a(r,_),a(r,h),a(h,M),a(l,S),a(l,k),a(k,E),a(k,O),U&&U.m(k,null),a(l,T),I||(D=he(i,"change",e[63]),I=!0)},p(B,K){var Z,te,H,X,pe,fe,re,ue;e=B,K[0]&32&&s!==(s=e[106].s)&&(i.__value=s,x(i,i.__value),o=!0),(o||K[0]&40)&&(i.checked=i.__value===e[3].w.s),K[0]&36&&m!==(m=(e[106].s||(((te=(Z=e[2].conf)==null?void 0:Z.connection)==null?void 0:te.hidden_ssid)??"Hidden network"))+"")&&q(d,m),K[0]&1060&&b!==(b=(((H=e[10][e[108]])==null?void 0:H.title)??((pe=(X=e[2].conf)==null?void 0:X.connection)==null?void 0:pe.wifi_offline)??"Signal unavailable")+"")&&q(M,b),K[0]&1056&&!an(E.src,F=((fe=e[10][e[108]])==null?void 0:fe.icon)??e[13].off)&&u(E,"src",F),K[0]&1056&&R!==(R=((re=e[10][e[108]])==null?void 0:re.title)??"Wi-Fi offline")&&u(E,"alt",R),K[0]&1056&&y!==(y=((ue=e[10][e[108]])==null?void 0:ue.title)??"Wi-Fi offline")&&u(E,"title",y),e[3].w.s===e[106].s?U?U.p(e,K):(U=Fa(e),U.c(),U.m(k,null)):U&&(U.d(1),U=null)},d(B){B&&P(l),U&&U.d(),j.r(),I=!1,D()}}}function ja(t){var Mt,zt,de,nt,ze,sl,Gt,xt,cl,al,Jt,Xt,ul,Ee,ce,jt,Oe,St,rl,hl,gl,bl,vl,kl,wl,Dl,Ol,Fl;let e,l,n=(((zt=(Mt=t[2].conf)==null?void 0:Mt.mqtt)==null?void 0:zt.title)??"MQTT")+"",i,s,o,f,r,c,m,d=(((nt=(de=t[2].conf)==null?void 0:de.mqtt)==null?void 0:nt.server)??"Server")+"",_,h,b,M,S,k,E,F,R,y,O,T,j=(((sl=(ze=t[2].conf)==null?void 0:ze.mqtt)==null?void 0:sl.user)??"Username")+"",I,D,U,z,V,W,G=(((xt=(Gt=t[2].conf)==null?void 0:Gt.mqtt)==null?void 0:xt.pass)??"Password")+"",Y,B,K,Z,te,H,X,pe=(((al=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:al.id)??"Client ID")+"",fe,re,ue,ne,Q,ee,be,ge=(((Xt=(Jt=t[2].conf)==null?void 0:Jt.mqtt)==null?void 0:Xt.payload)??"Payload")+"",N,v,A,L,$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie,je=(((Ee=(ul=t[2].conf)==null?void 0:ul.mqtt)==null?void 0:Ee.publish)??"Publish topic")+"",We,Ge,Qe,we,Fe,me,Ae=(((jt=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:jt.subscribe)??"Subscribe topic")+"",it,Pt,wt,Ze,at,Ht,mt,Tt=(((St=(Oe=t[2].conf)==null?void 0:Oe.mqtt)==null?void 0:St.update)??"Update method")+"",yt,Ot,tt,_t=(((hl=(rl=t[2].conf)==null?void 0:rl.mqtt)==null?void 0:hl.interval)??"Interval")+"",Ce,Be,Je,Ye,et,ve=(((bl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:bl.realtime)??"Real time")+"",Le,qt,ht=(((kl=(vl=t[2].conf)==null?void 0:vl.mqtt)==null?void 0:kl.interval)??"Interval")+"",Ue,ut,xe,Lt,Wt,Ke,ke=(((Dl=(wl=t[2].conf)==null?void 0:wl.mqtt)==null?void 0:Dl.timeout)??"Timeout")+"",Te,$e,lt,st=(((Fl=(Ol=t[2].conf)==null?void 0:Ol.mqtt)==null?void 0:Fl.keepalive)??"Keep-alive")+"",pt,$t,Ft,Dt,il,It,Ve,Rt,Vt,gt=t[0].chip!="esp8266"&&Ba(t),rt=t[3].q.s.e&&Ua(t);return{c(){var Re,ot;e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),_=w(d),h=g(),gt&&gt.c(),b=g(),M=p("br"),S=g(),k=p("div"),E=p("input"),F=g(),R=p("input"),y=g(),rt&&rt.c(),O=g(),T=p("div"),I=w(j),D=p("br"),U=g(),z=p("input"),V=g(),W=p("div"),Y=w(G),B=p("br"),K=g(),Z=p("input"),te=g(),H=p("div"),X=p("div"),fe=w(pe),re=p("br"),ue=g(),ne=p("input"),ee=g(),be=p("div"),N=w(ge),v=p("br"),A=g(),L=p("select"),$=p("option"),$.textContent="Raw (minimal)",ie=p("option"),ie.textContent="Raw (full)",se=p("option"),se.textContent="Domoticz",_e=p("option"),_e.textContent="Home-Assistant",oe=p("option"),oe.textContent="JSON (classic)",ae=p("option"),ae.textContent="JSON (multi topic)",Ne=p("option"),Ne.textContent="JSON (flat)",Pe=p("option"),Pe.textContent="HEX dump",qe=g(),Ie=p("div"),We=w(je),Ge=p("br"),Qe=g(),we=p("input"),Fe=g(),me=p("div"),it=w(Ae),Pt=p("br"),wt=g(),Ze=p("input"),Ht=g(),mt=p("div"),yt=w(Tt),Ot=g(),tt=p("span"),Ce=w(_t),Be=g(),Je=p("div"),Ye=p("select"),et=p("option"),Le=w(ve),qt=p("option"),Ue=w(ht),ut=g(),xe=p("input"),Wt=g(),Ke=p("div"),Te=w(ke),$e=g(),lt=p("span"),pt=w(st),$t=g(),Ft=p("div"),Dt=p("input"),il=g(),It=p("input"),u(l,"class","text-sm"),u(o,"href",Il("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(E,"name","qh"),u(E,"type","text"),u(E,"class","in-f w-2/3"),u(E,"pattern",en),u(R,"name","qp"),u(R,"type","number"),u(R,"min","1024"),u(R,"max","65535"),u(R,"class","in-l tr w-1/3"),u(k,"class","flex"),u(m,"class","my-1"),u(z,"name","qu"),u(z,"type","text"),u(z,"class","in-s"),u(z,"pattern",_i),u(T,"class","my-1"),u(Z,"name","qa"),u(Z,"type","password"),u(Z,"class","in-s"),u(Z,"pattern",_i),u(W,"class","my-1"),u(ne,"name","qc"),u(ne,"type","text"),u(ne,"class","in-f w-full"),ne.required=Q=t[3].q.h,u(ne,"pattern",pi),$.__value=1,x($,$.__value),ie.__value=2,x(ie,ie.__value),se.__value=3,x(se,se.__value),_e.__value=4,x(_e,_e.__value),oe.__value=0,x(oe,oe.__value),ae.__value=5,x(ae,ae.__value),Ne.__value=6,x(Ne,Ne.__value),Pe.__value=255,x(Pe,Pe.__value),u(L,"name","qm"),u(L,"class","in-l"),t[3].q.m===void 0&&Yt(()=>t[75].call(L)),u(H,"class","my-1 flex"),u(we,"name","qb"),u(we,"type","text"),u(we,"class","in-s"),u(we,"pattern",en),u(Ie,"class","my-1"),u(Ze,"name","qr"),u(Ze,"type","text"),u(Ze,"class","in-s"),u(Ze,"pattern",en),u(Ze,"placeholder",at=t[3].q.b+"/command"),u(me,"class","my-1"),u(tt,"class","float-right"),et.__value=0,x(et,et.__value),qt.__value=1,x(qt,qt.__value),u(Ye,"name","qt"),u(Ye,"class","in-f w-1/2"),t[3].q.t===void 0&&Yt(()=>t[78].call(Ye)),u(xe,"name","qd"),u(xe,"type","number"),u(xe,"min","1"),u(xe,"max","3600"),u(xe,"class","in-l tr w-1/2"),xe.disabled=Lt=((ot=(Re=t[3])==null?void 0:Re.q)==null?void 0:ot.t)!=1,u(Je,"class","flex"),u(mt,"class","my-1"),u(lt,"class","float-right"),u(Dt,"name","qi"),u(Dt,"type","number"),u(Dt,"min","500"),u(Dt,"max","10000"),u(Dt,"class","in-f tr w-1/2"),u(It,"name","qk"),u(It,"type","number"),u(It,"min","5"),u(It,"max","180"),u(It,"class","in-l tr w-1/2"),u(Ft,"class","flex"),u(Ke,"class","my-1"),u(e,"class","cnt")},m(Re,ot){C(Re,e,ot),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,h),gt&&gt.m(m,null),a(m,b),a(m,M),a(m,S),a(m,k),a(k,E),x(E,t[3].q.h),a(k,F),a(k,R),x(R,t[3].q.p),a(e,y),rt&&rt.m(e,null),a(e,O),a(e,T),a(T,I),a(T,D),a(T,U),a(T,z),x(z,t[3].q.u),a(e,V),a(e,W),a(W,Y),a(W,B),a(W,K),a(W,Z),x(Z,t[3].q.a),a(e,te),a(e,H),a(H,X),a(X,fe),a(X,re),a(X,ue),a(X,ne),x(ne,t[3].q.c),a(H,ee),a(H,be),a(be,N),a(be,v),a(be,A),a(be,L),a(L,$),a(L,ie),a(L,se),a(L,_e),a(L,oe),a(L,ae),a(L,Ne),a(L,Pe),ft(L,t[3].q.m,!0),a(e,qe),a(e,Ie),a(Ie,We),a(Ie,Ge),a(Ie,Qe),a(Ie,we),x(we,t[3].q.b),a(e,Fe),a(e,me),a(me,it),a(me,Pt),a(me,wt),a(me,Ze),x(Ze,t[3].q.r),a(e,Ht),a(e,mt),a(mt,yt),a(mt,Ot),a(mt,tt),a(tt,Ce),a(mt,Be),a(mt,Je),a(Je,Ye),a(Ye,et),a(et,Le),a(Ye,qt),a(qt,Ue),ft(Ye,t[3].q.t,!0),a(Je,ut),a(Je,xe),x(xe,t[3].q.d),a(e,Wt),a(e,Ke),a(Ke,Te),a(Ke,$e),a(Ke,lt),a(lt,pt),a(Ke,$t),a(Ke,Ft),a(Ft,Dt),x(Dt,t[3].q.i),a(Ft,il),a(Ft,It),x(It,t[3].q.k),Ve=!0,Rt||(Vt=[he(E,"input",t[70]),he(R,"input",t[71]),he(z,"input",t[72]),he(Z,"input",t[73]),he(ne,"input",t[74]),he(L,"change",t[75]),he(we,"input",t[76]),he(Ze,"input",t[77]),he(Ye,"change",t[78]),he(xe,"input",t[79]),he(Dt,"input",t[80]),he(It,"input",t[81])],Rt=!0)},p(Re,ot){var Rl,jl,Bl,Ul,Hl,Wl,zl,Kl,$l,Vl,Gl,Yl,De,dt,Qt,Jl,Xl,wn,Mn,Sn,yn,Nn,Pn,Cn,Tn,En,An,qn,Ln,In;(!Ve||ot[0]&4)&&n!==(n=(((jl=(Rl=Re[2].conf)==null?void 0:Rl.mqtt)==null?void 0:jl.title)??"MQTT")+"")&&q(i,n),(!Ve||ot[0]&4)&&d!==(d=(((Ul=(Bl=Re[2].conf)==null?void 0:Bl.mqtt)==null?void 0:Ul.server)??"Server")+"")&&q(_,d),Re[0].chip!="esp8266"?gt?gt.p(Re,ot):(gt=Ba(Re),gt.c(),gt.m(m,b)):gt&&(gt.d(1),gt=null),ot[0]&8&&E.value!==Re[3].q.h&&x(E,Re[3].q.h),ot[0]&8&&bt(R.value)!==Re[3].q.p&&x(R,Re[3].q.p),Re[3].q.s.e?rt?(rt.p(Re,ot),ot[0]&8&&J(rt,1)):(rt=Ua(Re),rt.c(),J(rt,1),rt.m(e,O)):rt&&(vt(),le(rt,1,1,()=>{rt=null}),kt()),(!Ve||ot[0]&4)&&j!==(j=(((Wl=(Hl=Re[2].conf)==null?void 0:Hl.mqtt)==null?void 0:Wl.user)??"Username")+"")&&q(I,j),ot[0]&8&&z.value!==Re[3].q.u&&x(z,Re[3].q.u),(!Ve||ot[0]&4)&&G!==(G=(((Kl=(zl=Re[2].conf)==null?void 0:zl.mqtt)==null?void 0:Kl.pass)??"Password")+"")&&q(Y,G),ot[0]&8&&Z.value!==Re[3].q.a&&x(Z,Re[3].q.a),(!Ve||ot[0]&4)&&pe!==(pe=(((Vl=($l=Re[2].conf)==null?void 0:$l.mqtt)==null?void 0:Vl.id)??"Client ID")+"")&&q(fe,pe),(!Ve||ot[0]&8&&Q!==(Q=Re[3].q.h))&&(ne.required=Q),ot[0]&8&&ne.value!==Re[3].q.c&&x(ne,Re[3].q.c),(!Ve||ot[0]&4)&&ge!==(ge=(((Yl=(Gl=Re[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.payload)??"Payload")+"")&&q(N,ge),ot[0]&8&&ft(L,Re[3].q.m),(!Ve||ot[0]&4)&&je!==(je=(((dt=(De=Re[2].conf)==null?void 0:De.mqtt)==null?void 0:dt.publish)??"Publish topic")+"")&&q(We,je),ot[0]&8&&we.value!==Re[3].q.b&&x(we,Re[3].q.b),(!Ve||ot[0]&4)&&Ae!==(Ae=(((Jl=(Qt=Re[2].conf)==null?void 0:Qt.mqtt)==null?void 0:Jl.subscribe)??"Subscribe topic")+"")&&q(it,Ae),(!Ve||ot[0]&8&&at!==(at=Re[3].q.b+"/command"))&&u(Ze,"placeholder",at),ot[0]&8&&Ze.value!==Re[3].q.r&&x(Ze,Re[3].q.r),(!Ve||ot[0]&4)&&Tt!==(Tt=(((wn=(Xl=Re[2].conf)==null?void 0:Xl.mqtt)==null?void 0:wn.update)??"Update method")+"")&&q(yt,Tt),(!Ve||ot[0]&4)&&_t!==(_t=(((Sn=(Mn=Re[2].conf)==null?void 0:Mn.mqtt)==null?void 0:Sn.interval)??"Interval")+"")&&q(Ce,_t),(!Ve||ot[0]&4)&&ve!==(ve=(((Nn=(yn=Re[2].conf)==null?void 0:yn.mqtt)==null?void 0:Nn.realtime)??"Real time")+"")&&q(Le,ve),(!Ve||ot[0]&4)&&ht!==(ht=(((Cn=(Pn=Re[2].conf)==null?void 0:Pn.mqtt)==null?void 0:Cn.interval)??"Interval")+"")&&q(Ue,ht),ot[0]&8&&ft(Ye,Re[3].q.t),(!Ve||ot[0]&8&&Lt!==(Lt=((En=(Tn=Re[3])==null?void 0:Tn.q)==null?void 0:En.t)!=1))&&(xe.disabled=Lt),ot[0]&8&&bt(xe.value)!==Re[3].q.d&&x(xe,Re[3].q.d),(!Ve||ot[0]&4)&&ke!==(ke=(((qn=(An=Re[2].conf)==null?void 0:An.mqtt)==null?void 0:qn.timeout)??"Timeout")+"")&&q(Te,ke),(!Ve||ot[0]&4)&&st!==(st=(((In=(Ln=Re[2].conf)==null?void 0:Ln.mqtt)==null?void 0:In.keepalive)??"Keep-alive")+"")&&q(pt,st),ot[0]&8&&bt(Dt.value)!==Re[3].q.i&&x(Dt,Re[3].q.i),ot[0]&8&&bt(It.value)!==Re[3].q.k&&x(It,Re[3].q.k)},i(Re){Ve||(J(rt),Ve=!0)},o(Re){le(rt),Ve=!1},d(Re){Re&&P(e),gt&&gt.d(),rt&&rt.d(),Rt=!1,Ut(Vt)}}}function Ba(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=w(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",x(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){C(o,e,f),a(e,l),l.checked=t[3].q.s.e,a(e,n),i||(s=[he(l,"change",t[69]),he(l,"change",t[22])],i=!0)},p(o,f){f[0]&8&&(l.checked=o[3].q.s.e)},d(o){o&&P(e),i=!1,Ut(s)}}}function Ua(t){let e,l,n,i,s,o,f,r,c,m,d,_,h;const b=[B1,j1],M=[];function S(T,j){return T[3].q.s.c?0:1}n=S(t),i=M[n]=b[n](t);const k=[z1,W1],E=[];function F(T,j){return T[3].q.s.r?0:1}f=F(t),r=E[f]=k[f](t);const R=[G1,V1],y=[];function O(T,j){return T[3].q.s.k?0:1}return d=O(t),_=y[d]=R[d](t),{c(){e=p("div"),l=p("span"),i.c(),s=g(),o=p("span"),r.c(),c=g(),m=p("span"),_.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(T,j){C(T,e,j),a(e,l),M[n].m(l,null),a(e,s),a(e,o),E[f].m(o,null),a(e,c),a(e,m),y[d].m(m,null),h=!0},p(T,j){let I=n;n=S(T),n===I?M[n].p(T,j):(vt(),le(M[I],1,1,()=>{M[I]=null}),kt(),i=M[n],i?i.p(T,j):(i=M[n]=b[n](T),i.c()),J(i,1),i.m(l,null));let D=f;f=F(T),f===D?E[f].p(T,j):(vt(),le(E[D],1,1,()=>{E[D]=null}),kt(),r=E[f],r?r.p(T,j):(r=E[f]=k[f](T),r.c()),J(r,1),r.m(o,null));let U=d;d=O(T),d===U?y[d].p(T,j):(vt(),le(y[U],1,1,()=>{y[U]=null}),kt(),_=y[d],_?_.p(T,j):(_=y[d]=R[d](T),_.c()),J(_,1),_.m(m,null))},i(T){h||(J(i),J(r),J(_),h=!0)},o(T){le(i),le(r),le(_),h=!1},d(T){T&&P(e),M[n].d(),E[f].d(),y[d].d()}}}function j1(t){let e,l;return e=new Ml({props:{to:"/mqtt-ca",$$slots:{default:[U1]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function B1(t){let e,l,n,i,s,o,f;return l=new Ml({props:{to:"/mqtt-ca",$$slots:{default:[H1]},$$scope:{ctx:t}}}),{c(){e=p("span"),ye(l.$$.fragment),n=g(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[he(i,"click",t[19]),he(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(J(l.$$.fragment,r),s=!0)},o(r){le(l.$$.fragment,r),s=!1},d(r){r&&(P(e),P(n),P(i)),Se(l),o=!1,Ut(f)}}}function U1(t){var n,i,s,o;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){ye(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,h;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((h=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:h.title_ca)??""),e.$set(c)},i(f){l||(J(e.$$.fragment,f),l=!0)},o(f){le(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function H1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&q(l,e)},d(s){s&&P(l)}}}function W1(t){let e,l;return e=new Ml({props:{to:"/mqtt-cert",$$slots:{default:[K1]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function z1(t){let e,l,n,i,s,o,f;return l=new Ml({props:{to:"/mqtt-cert",$$slots:{default:[$1]},$$scope:{ctx:t}}}),{c(){e=p("span"),ye(l.$$.fragment),n=g(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[he(i,"click",t[20]),he(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(J(l.$$.fragment,r),s=!0)},o(r){le(l.$$.fragment,r),s=!1},d(r){r&&(P(e),P(n),P(i)),Se(l),o=!1,Ut(f)}}}function K1(t){var n,i,s,o;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){ye(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,h;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((h=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:h.title_crt)??""),e.$set(c)},i(f){l||(J(e.$$.fragment,f),l=!0)},o(f){le(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function $1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&q(l,e)},d(s){s&&P(l)}}}function V1(t){let e,l;return e=new Ml({props:{to:"/mqtt-key",$$slots:{default:[Y1]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function G1(t){let e,l,n,i,s,o,f;return l=new Ml({props:{to:"/mqtt-key",$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){e=p("span"),ye(l.$$.fragment),n=g(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[he(i,"click",t[21]),he(i,"keypress",t[21])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(J(l.$$.fragment,r),s=!0)},o(r){le(l.$$.fragment,r),s=!1},d(r){r&&(P(e),P(n),P(i)),Se(l),o=!1,Ut(f)}}}function Y1(t){var n,i,s,o;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){ye(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,h;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((h=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:h.title_key)??""),e.$set(c)},i(f){l||(J(e.$$.fragment,f),l=!0)},o(f){le(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function J1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&q(l,e)},d(s){s&&P(l)}}}function Ha(t){var H,X,pe,fe,re,ue,ne,Q,ee,be,ge,N;let e,l,n=(((pe=(X=(H=t[2].conf)==null?void 0:H.mqtt)==null?void 0:X.domoticz)==null?void 0:pe.title)??"Domoticz")+"",i,s,o,f,r,c,m,d,_=(((ue=(re=(fe=t[2].conf)==null?void 0:fe.mqtt)==null?void 0:re.domoticz)==null?void 0:ue.eidx)??"Electricity IDX")+"",h,b,M,S,k,E,F=(((ee=(Q=(ne=t[2].conf)==null?void 0:ne.mqtt)==null?void 0:Q.domoticz)==null?void 0:ee.cidx)??"Current IDX")+"",R,y,O,T,j,I,D=(((N=(ge=(be=t[2].conf)==null?void 0:be.mqtt)==null?void 0:ge.domoticz)==null?void 0:N.vidx)??"Voltage IDX")+"",U,z,V,W,G,Y,B,K,Z,te;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),d=p("div"),h=w(_),b=p("br"),M=g(),S=p("input"),k=g(),E=p("div"),R=w(F),y=p("br"),O=g(),T=p("input"),j=g(),I=p("div"),U=w(D),z=w(`: L1, L2 & L3
                    `),V=p("div"),W=p("input"),G=g(),Y=p("input"),B=g(),K=p("input"),u(l,"class","text-sm"),u(o,"href",Il("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(S,"name","oe"),u(S,"type","text"),u(S,"class","in-f tr w-full"),u(S,"pattern",Dn),u(d,"class","w-1/2"),u(T,"name","oc"),u(T,"type","text"),u(T,"class","in-l tr w-full"),u(T,"pattern",Dn),u(E,"class","w-1/2"),u(m,"class","my-1 flex"),u(W,"name","ou1"),u(W,"type","text"),u(W,"class","in-f tr w-1/3"),u(W,"pattern",Dn),u(Y,"name","ou2"),u(Y,"type","text"),u(Y,"class","in-m tr w-1/3"),u(Y,"pattern",Dn),u(K,"name","ou3"),u(K,"type","text"),u(K,"class","in-l tr w-1/3"),u(K,"pattern",Dn),u(V,"class","flex"),u(I,"class","my-1"),u(e,"class","cnt")},m(v,A){C(v,e,A),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,h),a(d,b),a(d,M),a(d,S),x(S,t[3].o.e),a(m,k),a(m,E),a(E,R),a(E,y),a(E,O),a(E,T),x(T,t[3].o.c),a(e,j),a(e,I),a(I,U),a(I,z),a(I,V),a(V,W),x(W,t[3].o.u1),a(V,G),a(V,Y),x(Y,t[3].o.u2),a(V,B),a(V,K),x(K,t[3].o.u3),Z||(te=[he(S,"input",t[82]),he(T,"input",t[83]),he(W,"input",t[84]),he(Y,"input",t[85]),he(K,"input",t[86])],Z=!0)},p(v,A){var L,$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie,je;A[0]&4&&n!==(n=(((ie=($=(L=v[2].conf)==null?void 0:L.mqtt)==null?void 0:$.domoticz)==null?void 0:ie.title)??"Domoticz")+"")&&q(i,n),A[0]&4&&_!==(_=(((oe=(_e=(se=v[2].conf)==null?void 0:se.mqtt)==null?void 0:_e.domoticz)==null?void 0:oe.eidx)??"Electricity IDX")+"")&&q(h,_),A[0]&8&&S.value!==v[3].o.e&&x(S,v[3].o.e),A[0]&4&&F!==(F=(((Pe=(Ne=(ae=v[2].conf)==null?void 0:ae.mqtt)==null?void 0:Ne.domoticz)==null?void 0:Pe.cidx)??"Current IDX")+"")&&q(R,F),A[0]&8&&T.value!==v[3].o.c&&x(T,v[3].o.c),A[0]&4&&D!==(D=(((je=(Ie=(qe=v[2].conf)==null?void 0:qe.mqtt)==null?void 0:Ie.domoticz)==null?void 0:je.vidx)??"Voltage IDX")+"")&&q(U,D),A[0]&8&&W.value!==v[3].o.u1&&x(W,v[3].o.u1),A[0]&8&&Y.value!==v[3].o.u2&&x(Y,v[3].o.u2),A[0]&8&&K.value!==v[3].o.u3&&x(K,v[3].o.u3)},d(v){v&&P(e),Z=!1,Ut(te)}}}function Wa(t){var B,K,Z,te,H,X,pe,fe,re,ue,ne,Q;let e,l,n=(((Z=(K=(B=t[2].conf)==null?void 0:B.mqtt)==null?void 0:K.ha)==null?void 0:Z.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,d=(((X=(H=(te=t[2].conf)==null?void 0:te.mqtt)==null?void 0:H.ha)==null?void 0:X.discovery)??"Discovery topic prefix")+"",_,h,b,M,S,k,E=(((re=(fe=(pe=t[2].conf)==null?void 0:pe.mqtt)==null?void 0:fe.ha)==null?void 0:re.hostname)??"Hostname for URL")+"",F,R,y,O,T,j,I,D=(((Q=(ne=(ue=t[2].conf)==null?void 0:ue.mqtt)==null?void 0:ne.ha)==null?void 0:Q.tag)??"Name tag")+"",U,z,V,W,G,Y;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),_=w(d),h=p("br"),b=g(),M=p("input"),S=g(),k=p("div"),F=w(E),R=p("br"),y=g(),O=p("input"),j=g(),I=p("div"),U=w(D),z=p("br"),V=g(),W=p("input"),u(l,"class","text-sm"),u(o,"href",Il("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(M,"name","ht"),u(M,"type","text"),u(M,"class","in-s"),u(M,"placeholder","homeassistant"),u(M,"pattern",en),u(m,"class","my-1"),u(O,"name","hh"),u(O,"type","text"),u(O,"class","in-s"),u(O,"placeholder",T=t[3].g.h+".local"),u(O,"pattern",en),u(k,"class","my-1"),u(W,"name","hn"),u(W,"type","text"),u(W,"class","in-s"),u(W,"pattern",en),u(I,"class","my-1"),u(e,"class","cnt")},m(ee,be){C(ee,e,be),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,h),a(m,b),a(m,M),x(M,t[3].h.t),a(e,S),a(e,k),a(k,F),a(k,R),a(k,y),a(k,O),x(O,t[3].h.h),a(e,j),a(e,I),a(I,U),a(I,z),a(I,V),a(I,W),x(W,t[3].h.n),G||(Y=[he(M,"input",t[87]),he(O,"input",t[88]),he(W,"input",t[89])],G=!0)},p(ee,be){var ge,N,v,A,L,$,ie,se,_e,oe,ae,Ne;be[0]&4&&n!==(n=(((v=(N=(ge=ee[2].conf)==null?void 0:ge.mqtt)==null?void 0:N.ha)==null?void 0:v.title)??"Home-Assistant")+"")&&q(i,n),be[0]&4&&d!==(d=((($=(L=(A=ee[2].conf)==null?void 0:A.mqtt)==null?void 0:L.ha)==null?void 0:$.discovery)??"Discovery topic prefix")+"")&&q(_,d),be[0]&8&&M.value!==ee[3].h.t&&x(M,ee[3].h.t),be[0]&4&&E!==(E=(((_e=(se=(ie=ee[2].conf)==null?void 0:ie.mqtt)==null?void 0:se.ha)==null?void 0:_e.hostname)??"Hostname for URL")+"")&&q(F,E),be[0]&8&&T!==(T=ee[3].g.h+".local")&&u(O,"placeholder",T),be[0]&8&&O.value!==ee[3].h.h&&x(O,ee[3].h.h),be[0]&4&&D!==(D=(((Ne=(ae=(oe=ee[2].conf)==null?void 0:oe.mqtt)==null?void 0:ae.ha)==null?void 0:Ne.tag)??"Name tag")+"")&&q(U,D),be[0]&8&&W.value!==ee[3].h.n&&x(W,ee[3].h.n)},d(ee){ee&&P(e),G=!1,Ut(Y)}}}function za(t){var D,U,z,V,W;let e,l,n=(((U=(D=t[2].conf)==null?void 0:D.thresholds)==null?void 0:U.title)??"Thresholds")+"",i,s,o,f,r,c,m,d,_,h,b=(((V=(z=t[2].conf)==null?void 0:z.thresholds)==null?void 0:V.avg)??"Average of")+"",M,S,k,E,F,R=(((W=t[2].common)==null?void 0:W.hours)??"hours")+"",y,O,T,j=Xe({length:9}),I=[];for(let G=0;G<j.length;G+=1)I[G]=Ka(_a(t,j,G));return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div");for(let G=0;G<I.length;G+=1)I[G].c();d=g(),_=p("label"),h=p("span"),M=w(b),S=g(),k=p("input"),E=g(),F=p("span"),y=w(R),u(l,"class","text-sm"),u(o,"href",Il("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(h,"class","in-pre"),u(k,"name","th"),u(k,"type","number"),u(k,"min","0"),u(k,"max","255"),u(k,"class","in-txt tr w-full"),u(F,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(G,Y){C(G,e,Y),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let B=0;B<I.length;B+=1)I[B]&&I[B].m(m,null);a(e,d),a(e,_),a(_,h),a(h,M),a(_,S),a(_,k),x(k,t[3].t.h),a(_,E),a(_,F),a(F,y),O||(T=he(k,"input",t[91]),O=!0)},p(G,Y){var B,K,Z,te,H;if(Y[0]&4&&n!==(n=(((K=(B=G[2].conf)==null?void 0:B.thresholds)==null?void 0:K.title)??"Thresholds")+"")&&q(i,n),Y[0]&8){j=Xe({length:9});let X;for(X=0;X<j.length;X+=1){const pe=_a(G,j,X);I[X]?I[X].p(pe,Y):(I[X]=Ka(pe),I[X].c(),I[X].m(m,null))}for(;X<I.length;X+=1)I[X].d(1);I.length=j.length}Y[0]&4&&b!==(b=(((te=(Z=G[2].conf)==null?void 0:Z.thresholds)==null?void 0:te.avg)??"Average of")+"")&&q(M,b),Y[0]&8&&bt(k.value)!==G[3].t.h&&x(k,G[3].t.h),Y[0]&4&&R!==(R=(((H=G[2].common)==null?void 0:H.hours)??"hours")+"")&&q(y,R)},d(G){G&&P(e),Zt(I,G),O=!1,T()}}}function Ka(t){let e,l,n,i,s,o,f,r,c;function m(){t[90].call(i,t[105])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[105]+1}`,n=g(),i=p("input"),s=g(),o=p("span"),o.textContent="kWh",f=g(),u(l,"class","in-pre"),u(i,"name","t"+t[105]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(d,_){C(d,e,_),a(e,l),a(e,n),a(e,i),x(i,t[3].t.t[t[105]]),a(e,s),a(e,o),a(e,f),r||(c=he(i,"input",m),r=!0)},p(d,_){t=d,_[0]&8&&bt(i.value)!==t[3].t.t[t[105]]&&x(i,t[3].t.t[t[105]])},d(d){d&&P(e),r=!1,c()}}}function $a(t){var h,b;let e,l,n=(((b=(h=t[2].conf)==null?void 0:h.ui)==null?void 0:b.title)??"User interface")+"",i,s,o,f,r,c,m,d=Xe(t[15]),_=[];for(let M=0;M<d.length;M+=1)_[M]=Va(ma(t,d,M));return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div");for(let M=0;M<_.length;M+=1)_[M].c();u(l,"class","text-sm"),u(o,"href",Il("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(M,S){C(M,e,S),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(m,null)},p(M,S){var k,E;if(S[0]&4&&n!==(n=(((E=(k=M[2].conf)==null?void 0:k.ui)==null?void 0:E.title)??"User interface")+"")&&q(i,n),S[0]&32780){d=Xe(M[15]);let F;for(F=0;F<d.length;F+=1){const R=ma(M,d,F);_[F]?_[F].p(R,S):(_[F]=Va(R),_[F].c(),_[F].m(m,null))}for(;F<_.length;F+=1)_[F].d(1);_.length=d.length}},d(M){M&&P(e),Zt(_,M)}}}function Va(t){var R,y,O,T,j,I,D,U;let e,l=(((y=(R=t[2].conf)==null?void 0:R.ui)==null?void 0:y[t[100].key])??t[100].name)+"",n,i,s,o,f,r=(((T=(O=t[2].conf)==null?void 0:O.ui)==null?void 0:T.disabled)??"Disabled")+"",c,m,d=(((I=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:I.enabled)??"Enabled")+"",_,h,b=(((U=(D=t[2].conf)==null?void 0:D.ui)==null?void 0:U.auto)??"Auto")+"",M,S,k,E;function F(){t[92].call(o,t[100])}return{c(){e=p("div"),n=w(l),i=p("br"),s=g(),o=p("select"),f=p("option"),c=w(r),m=p("option"),_=w(d),h=p("option"),M=w(b),S=g(),f.__value=0,x(f,f.__value),m.__value=1,x(m,m.__value),h.__value=2,x(h,h.__value),u(o,"name","u"+t[100].key),u(o,"class","in-s"),t[3].u[t[100].key]===void 0&&Yt(F),u(e,"class","w-1/2")},m(z,V){C(z,e,V),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,_),a(o,h),a(h,M),ft(o,t[3].u[t[100].key],!0),a(e,S),k||(E=he(o,"change",F),k=!0)},p(z,V){var W,G,Y,B,K,Z,te,H;t=z,V[0]&4&&l!==(l=(((G=(W=t[2].conf)==null?void 0:W.ui)==null?void 0:G[t[100].key])??t[100].name)+"")&&q(n,l),V[0]&4&&r!==(r=(((B=(Y=t[2].conf)==null?void 0:Y.ui)==null?void 0:B.disabled)??"Disabled")+"")&&q(c,r),V[0]&4&&d!==(d=(((Z=(K=t[2].conf)==null?void 0:K.ui)==null?void 0:Z.enabled)??"Enabled")+"")&&q(_,d),V[0]&4&&b!==(b=(((H=(te=t[2].conf)==null?void 0:te.ui)==null?void 0:H.auto)??"Auto")+"")&&q(M,b),V[0]&32776&&ft(o,t[3].u[t[100].key])},d(z){z&&P(e),k=!1,E()}}}function Ga(t){var _,h;let e,l,n=(((_=t[2].conf)==null?void 0:_.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((h=t[2].btn)==null?void 0:h.reboot)??"Reboot")+"",c,m,d;return{c(){e=p("div"),l=p("button"),i=w(n),s=g(),o=p("div"),f=p("button"),c=w(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(b,M){C(b,e,M),a(e,l),a(l,i),C(b,s,M),C(b,o,M),a(o,f),a(f,c),m||(d=[he(l,"click",t[16]),he(f,"click",t[18])],m=!0)},p(b,M){var S,k;M[0]&4&&n!==(n=(((S=b[2].conf)==null?void 0:S.btn_reset)??"Factory reset")+"")&&q(i,n),M[0]&4&&r!==(r=(((k=b[2].btn)==null?void 0:k.reboot)??"Reboot")+"")&&q(c,r)},d(b){b&&(P(e),P(s),P(o)),m=!1,Ut(d)}}}function Ya(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=w(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&q(i,n)},d(o){o&&P(e)}}}function X1(t){var pe,fe,re,ue,ne,Q,ee,be,ge,N,v,A,L,$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie,je,We,Ge,Qe,we,Fe;let e,l,n,i,s,o,f,r,c,m,d=((re=(fe=(pe=t[3])==null?void 0:pe.p)==null?void 0:fe.r)==null?void 0:re.startsWith("NO"))||((Q=(ne=(ue=t[3])==null?void 0:ue.p)==null?void 0:ne.r)==null?void 0:Q.startsWith("10YNO"))||((ge=(be=(ee=t[3])==null?void 0:ee.p)==null?void 0:be.r)==null?void 0:ge.startsWith("10Y1001A1001A4")),_,h,b,M,S,k,E,F,R,y,O,T,j,I,D,U=((N=t[3])==null?void 0:N.g)&&ga(t),z=((v=t[3])==null?void 0:v.fw)&&Ma(t),V=((A=t[3])==null?void 0:A.d)&&Sa(t),W=((L=t[3])==null?void 0:L.m)&&Na(t),G=(($=t[3])==null?void 0:$.w)&&Ia(t),Y=((ie=t[3])==null?void 0:ie.q)&&ja(t),B=((_e=(se=t[3])==null?void 0:se.q)==null?void 0:_e.m)==3&&Ha(t),K=((ae=(oe=t[3])==null?void 0:oe.q)==null?void 0:ae.m)==4&&Wa(t),Z=d&&za(t),te=((Ne=t[3])==null?void 0:Ne.u)&&$a(t),H=((Pe=t[1])==null?void 0:Pe.a)&&Ga(t),X=t[3]&&Ya(t);return k=new ml({props:{active:t[6],message:((Ie=(qe=t[2].conf)==null?void 0:qe.mask)==null?void 0:Ie.loading)??"Loading"}}),F=new ml({props:{active:t[7],message:((We=(je=t[2].conf)==null?void 0:je.mask)==null?void 0:We.saving)??"Saving"}}),y=new ml({props:{active:t[11],message:((Qe=(Ge=t[2].conf)==null?void 0:Ge.mask)==null?void 0:Qe.reset)??"Factory reset"}}),T=new ml({props:{active:t[12],message:((Fe=(we=t[2].conf)==null?void 0:we.mask)==null?void 0:Fe.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),U&&U.c(),n=g(),z&&z.c(),i=g(),V&&V.c(),s=g(),W&&W.c(),o=g(),G&&G.c(),f=g(),Y&&Y.c(),r=g(),B&&B.c(),c=g(),K&&K.c(),m=g(),Z&&Z.c(),_=g(),te&&te.c(),h=g(),b=p("div"),H&&H.c(),M=g(),X&&X.c(),S=g(),ye(k.$$.fragment),E=g(),ye(F.$$.fragment),R=g(),ye(y.$$.fragment),O=g(),ye(T.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(b,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(me,Ae){C(me,e,Ae),a(e,l),U&&U.m(l,null),a(l,n),z&&z.m(l,null),a(l,i),V&&V.m(l,null),a(l,s),W&&W.m(l,null),a(l,o),G&&G.m(l,null),a(l,f),Y&&Y.m(l,null),a(l,r),B&&B.m(l,null),a(l,c),K&&K.m(l,null),a(l,m),Z&&Z.m(l,null),a(l,_),te&&te.m(l,null),a(e,h),a(e,b),H&&H.m(b,null),a(b,M),X&&X.m(b,null),C(me,S,Ae),Me(k,me,Ae),C(me,E,Ae),Me(F,me,Ae),C(me,R,Ae),Me(y,me,Ae),C(me,O,Ae),Me(T,me,Ae),j=!0,I||(D=he(e,"submit",Gn(t[17])),I=!0)},p(me,Ae){var at,Ht,mt,Tt,yt,Ot,tt,_t,Ce,Be,Je,Ye,et,ve,Le,qt,ht,Ue,ut,xe,Lt,Wt,Ke,ke,Te,$e,lt,st,pt;(at=me[3])!=null&&at.g?U?(U.p(me,Ae),Ae[0]&8&&J(U,1)):(U=ga(me),U.c(),J(U,1),U.m(l,n)):U&&(vt(),le(U,1,1,()=>{U=null}),kt()),(Ht=me[3])!=null&&Ht.fw?z?z.p(me,Ae):(z=Ma(me),z.c(),z.m(l,i)):z&&(z.d(1),z=null),(mt=me[3])!=null&&mt.d?V?V.p(me,Ae):(V=Sa(me),V.c(),V.m(l,s)):V&&(V.d(1),V=null),(Tt=me[3])!=null&&Tt.m?W?W.p(me,Ae):(W=Na(me),W.c(),W.m(l,o)):W&&(W.d(1),W=null),(yt=me[3])!=null&&yt.w?G?G.p(me,Ae):(G=Ia(me),G.c(),G.m(l,f)):G&&(G.d(1),G=null),(Ot=me[3])!=null&&Ot.q?Y?(Y.p(me,Ae),Ae[0]&8&&J(Y,1)):(Y=ja(me),Y.c(),J(Y,1),Y.m(l,r)):Y&&(vt(),le(Y,1,1,()=>{Y=null}),kt()),((_t=(tt=me[3])==null?void 0:tt.q)==null?void 0:_t.m)==3?B?B.p(me,Ae):(B=Ha(me),B.c(),B.m(l,c)):B&&(B.d(1),B=null),((Be=(Ce=me[3])==null?void 0:Ce.q)==null?void 0:Be.m)==4?K?K.p(me,Ae):(K=Wa(me),K.c(),K.m(l,m)):K&&(K.d(1),K=null),Ae[0]&8&&(d=((et=(Ye=(Je=me[3])==null?void 0:Je.p)==null?void 0:Ye.r)==null?void 0:et.startsWith("NO"))||((qt=(Le=(ve=me[3])==null?void 0:ve.p)==null?void 0:Le.r)==null?void 0:qt.startsWith("10YNO"))||((ut=(Ue=(ht=me[3])==null?void 0:ht.p)==null?void 0:Ue.r)==null?void 0:ut.startsWith("10Y1001A1001A4"))),d?Z?Z.p(me,Ae):(Z=za(me),Z.c(),Z.m(l,_)):Z&&(Z.d(1),Z=null),(xe=me[3])!=null&&xe.u?te?te.p(me,Ae):(te=$a(me),te.c(),te.m(l,null)):te&&(te.d(1),te=null),(Lt=me[1])!=null&&Lt.a?H?H.p(me,Ae):(H=Ga(me),H.c(),H.m(b,M)):H&&(H.d(1),H=null),me[3]?X?X.p(me,Ae):(X=Ya(me),X.c(),X.m(b,null)):X&&(X.d(1),X=null);const it={};Ae[0]&64&&(it.active=me[6]),Ae[0]&4&&(it.message=((Ke=(Wt=me[2].conf)==null?void 0:Wt.mask)==null?void 0:Ke.loading)??"Loading"),k.$set(it);const Pt={};Ae[0]&128&&(Pt.active=me[7]),Ae[0]&4&&(Pt.message=((Te=(ke=me[2].conf)==null?void 0:ke.mask)==null?void 0:Te.saving)??"Saving"),F.$set(Pt);const wt={};Ae[0]&2048&&(wt.active=me[11]),Ae[0]&4&&(wt.message=((lt=($e=me[2].conf)==null?void 0:$e.mask)==null?void 0:lt.reset)??"Factory reset"),y.$set(wt);const Ze={};Ae[0]&4096&&(Ze.active=me[12]),Ae[0]&4&&(Ze.message=((pt=(st=me[2].conf)==null?void 0:st.mask)==null?void 0:pt.reset_done)??"Done"),T.$set(Ze)},i(me){j||(J(U),J(Y),J(k.$$.fragment,me),J(F.$$.fragment,me),J(y.$$.fragment,me),J(T.$$.fragment,me),j=!0)},o(me){le(U),le(Y),le(k.$$.fragment,me),le(F.$$.fragment,me),le(y.$$.fragment,me),le(T.$$.fragment,me),j=!1},d(me){me&&(P(e),P(S),P(E),P(R),P(O)),U&&U.d(),z&&z.d(),V&&V.d(),W&&W.d(),G&&G.d(),Y&&Y.d(),B&&B.d(),K&&K.d(),Z&&Z.d(),te&&te.d(),H&&H.d(),X&&X.d(),Se(k,me),Se(F,me),Se(y,me),Se(T,me),I=!1,D()}}}async function Q1(){await(await fetch("reboot",{method:"POST"})).json()}function Ja(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function Z1(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:$f,medium:Kf,low:zf,off:Vf};o.off;let f={};yl.subscribe(ke=>{l(2,f=ke)});const r=[{value:0,label:"Verbose"},{value:1,label:"Debug"},{value:2,label:"Info"},{value:3,label:"Warning"},{value:4,label:"Error"},{value:5,label:"Silent"}];let c=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],m=!0,d=!1,_,h=[],b="",M=null;hn.subscribe(ke=>{var Te,$e,lt,st;if(ke.version){(Te=ke==null?void 0:ke.c)==null||Te.e,l(3,_=ke),l(6,m=!1);const pt=(($e=f.consent)==null?void 0:$e.load_from_server)??"Load from server";l(4,h=[{code:"no",name:"Norsk"},{code:"en",name:"English"}]),_!=null&&_.fw?l(3,_.fw={a:!!_.fw.a,s:Number(_.fw.s??2),e:Number(_.fw.e??3)},_):l(3,_={..._,fw:{a:!1,s:2,e:3}}),_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??_.fw.e??2),_),_!=null&&_.d?l(3,_.d={s:_.d.s===!0||_.d.s==="true",t:_.d.t===!0||_.d.t==="true",l:Number(_.d.l??4)},_):l(3,_={..._,d:{s:!1,t:!1,l:4}}),(lt=_==null?void 0:_.u)!=null&&lt.lang&&!h.find($t=>$t.code===_.u.lang)&&h.push({code:_.u.lang,name:((st=f.language)==null?void 0:st.name)??"Unknown"}),h.push({code:"hub",name:pt})}}),Qf();let S={},k=[];Wf.subscribe(ke=>{var Te;for(let $e=0;$e<ke.n.length&&ke.n[$e].s!=((Te=_==null?void 0:_.w)==null?void 0:Te.s);$e++);l(5,S=ke)});let E=!1,F=!1;async function R(){if(confirm("Factory reset?")){l(11,E=!0);const ke=new URLSearchParams;ke.append("perform","true");let $e=await(await fetch("reset",{method:"POST",body:ke})).json();l(11,E=!1),l(12,F=$e.success)}}async function y(ke){l(7,d=!0);const Te=new FormData(ke.target),$e=new URLSearchParams;for(let pt of Te){const[$t,Ft]=pt;$e.append($t,Ft)}let st=await(await fetch("save",{method:"POST",body:$e})).json();pl.update(pt=>(pt.hostname=Te.get("gh"),pt.usrcfg=st.success,pt.booting=st.reboot,Te.get("nm")=="static"&&(pt.net.ip=Te.get("ni"),pt.net.mask=Te.get("nu"),pt.net.gw=Te.get("ng"),pt.net.dns1=Te.get("nd")),pt.ui=_.u,pt)),l(7,d=!1),Wn(n)}const O=function(){confirm("Reboot?")&&(pl.update(ke=>(ke.booting=!0,ke)),Q1())};async function T(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),hn.update(Te=>(Te.q.s.c=!1,Te)))}async function j(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),hn.update(Te=>(Te.q.s.r=!1,Te)))}async function I(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),hn.update(Te=>(Te.q.s.k=!1,Te)))}const D=function(){_.q.s.e?_.q.p==1883&&l(3,_.q.p=8883,_):_.q.p==8883&&l(3,_.q.p=1883,_)};async function U(){if(_.u.lang=="hub"){const ke=await Sl("http://hub.amsleser.no/hub/language/list.json");l(4,h=await ke.json()),l(3,_.u.lang=f.language.code,_);return}_.u.lang&&await hi(_.u.lang)}function z(ke){l(8,b=ke);const Te=xf(ke);if(l(9,M=Te??null),!Te||!(_!=null&&_.m))return;const $e=_n(_.m),lt=eu($e,Te),st=S1(_.m,lt);l(3,_={..._,m:st})}function V(){l(8,b=""),l(9,M=null)}async function W(){l(3,_.p.e=!0,_)}const G=window||global;G.bindToCloud=function(){console.log("BIND CALLED")};const Y=[[]];function B(){_.g.h=this.value,l(3,_)}function K(){_.g.t=ll(this),l(3,_)}function Z(){_.u.lang=ll(this),l(3,_)}function te(){_.p.r=ll(this),l(3,_)}function H(){_.p.c=ll(this),l(3,_)}function X(){_.p.e=this.checked,l(3,_)}function pe(){_.p.t=this.value,l(3,_)}function fe(){_.g.s=ll(this),l(3,_)}function re(){_.g.u=this.value,l(3,_)}function ue(){_.g.p=this.value,l(3,_)}function ne(){_.g.c=this.value,l(3,_)}function Q(){_.fw.a=this.checked,l(3,_)}function ee(){_.fw.s=bt(this.value),l(3,_)}function be(){_.d.t=this.checked,l(3,_)}function ge(){_.d.s=this.checked,l(3,_)}function N(){_.d.l=ll(this),l(3,_)}function v(){b=ll(this),l(8,b)}const A=ke=>z(ke.target.value);function L(){_.m.a=ll(this),l(3,_)}function $(){_.m.b=bt(this.value),l(3,_)}function ie(){_.m.i=this.checked,l(3,_)}function se(){_.m.b=ll(this),l(3,_)}function _e(){_.m.p=ll(this),l(3,_)}function oe(){_.m.s=bt(this.value),l(3,_)}function ae(){_.m.d=ll(this),l(3,_)}function Ne(){_.m.f=bt(this.value),l(3,_)}function Pe(){_.m.r=bt(this.value),l(3,_)}function qe(){_.m.e.e=this.checked,l(3,_)}function Ie(){_.m.e.k=this.value,l(3,_)}function je(){_.m.e.a=this.value,l(3,_)}function We(){_.m.m.e=this.checked,l(3,_)}function Ge(){_.m.m.w=bt(this.value),l(3,_)}function Qe(){_.m.m.v=bt(this.value),l(3,_)}function we(){_.m.m.a=bt(this.value),l(3,_)}function Fe(){_.m.m.c=bt(this.value),l(3,_)}function me(){_.w.s=this.__value,l(3,_)}function Ae(){_.w.p=this.value,l(3,_)}function it(){_.w.z=ll(this),l(3,_)}function Pt(){_.w.w=bt(this.value),l(3,_)}function wt(){_.w.b=this.checked,l(3,_)}function Ze(){_.q.s.e=this.checked,l(3,_)}function at(){_.q.h=this.value,l(3,_)}function Ht(){_.q.p=bt(this.value),l(3,_)}function mt(){_.q.u=this.value,l(3,_)}function Tt(){_.q.a=this.value,l(3,_)}function yt(){_.q.c=this.value,l(3,_)}function Ot(){_.q.m=ll(this),l(3,_)}function tt(){_.q.b=this.value,l(3,_)}function _t(){_.q.r=this.value,l(3,_)}function Ce(){_.q.t=ll(this),l(3,_)}function Be(){_.q.d=bt(this.value),l(3,_)}function Je(){_.q.i=bt(this.value),l(3,_)}function Ye(){_.q.k=bt(this.value),l(3,_)}function et(){_.o.e=this.value,l(3,_)}function ve(){_.o.c=this.value,l(3,_)}function Le(){_.o.u1=this.value,l(3,_)}function qt(){_.o.u2=this.value,l(3,_)}function ht(){_.o.u3=this.value,l(3,_)}function Ue(){_.h.t=this.value,l(3,_)}function ut(){_.h.h=this.value,l(3,_)}function xe(){_.h.n=this.value,l(3,_)}function Lt(ke){_.t.t[ke]=bt(this.value),l(3,_)}function Wt(){_.t.h=bt(this.value),l(3,_)}function Ke(ke){_.u[ke.key]=ll(this),l(3,_)}return t.$$set=ke=>{"basepath"in ke&&l(27,n=ke.basepath),"sysinfo"in ke&&l(0,i=ke.sysinfo),"data"in ke&&l(1,s=ke.data)},t.$$.update=()=>{var ke;if(t.$$.dirty[0]&8&&_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??0),_),t.$$.dirty[0]&20&&h.length){const Te=((ke=f.consent)==null?void 0:ke.load_from_server)??"Load from server";h.some(lt=>lt.code==="hub")?h.find(st=>st.code==="hub"&&st.name!==Te)&&l(4,h=h.map(st=>st.code==="hub"?{...st,name:Te}:st)):l(4,h=[...h,{code:"hub",name:Te}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Te,label:$e}=Kn(s==null?void 0:s.r);o[Te]??o.off}t.$$.dirty[0]&32&&l(10,k=Array.isArray(S==null?void 0:S.n)?S.n.map(Te=>{const{level:$e,label:lt}=Kn(Te==null?void 0:Te.r);return{icon:o[$e]??o.off,title:lt}}):[])},[i,s,f,_,h,S,m,d,b,M,k,E,F,o,r,c,R,y,O,T,j,I,D,U,z,V,W,n,B,K,Z,te,H,X,pe,fe,re,ue,ne,Q,ee,be,ge,N,v,A,L,$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie,je,We,Ge,Qe,we,Fe,me,Y,Ae,it,Pt,wt,Ze,at,Ht,mt,Tt,yt,Ot,tt,_t,Ce,Be,Je,Ye,et,ve,Le,qt,ht,Ue,ut,xe,Lt,Wt,Ke]}class tu extends At{constructor(e){super(),Et(this,e,Z1,X1,Ct,{basepath:27,sysinfo:0,data:1},null,[-1,-1,-1,-1,-1])}}function Xa(t,e,l){const n=t.slice();return n[21]=e[l],n}function Qa(t){let e,l=t[1].cpu+"",n,i;return{c(){e=w("("),n=w(l),i=w("MHz)")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&q(n,l)},d(s){s&&(P(e),P(n),P(i))}}}function Za(t){var Y,B,K,Z,te,H,X,pe;let e,l=(((B=(Y=t[3].status)==null?void 0:Y.device)==null?void 0:B.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=(((Z=(K=t[3].status)==null?void 0:K.device)==null?void 0:Z.last_boot)??"Last boot")+"",m,d,_,h,b,M,S=(((H=(te=t[3].status)==null?void 0:te.device)==null?void 0:H.reason)??"Reason")+"",k,E,F=(((pe=(X=t[3][$s(t[1].chip)])==null?void 0:X.reason)==null?void 0:pe[t[1].boot_reason])??t[1].boot_reason)+"",R,y,O=t[1].boot_reason+"",T,j,I=t[1].ex_cause+"",D,U,z;const V=[em,x1],W=[];function G(fe,re){return fe[0].u>0?0:1}return _=G(t),h=W[_]=V[_](t),{c(){e=p("div"),n=w(l),i=w(": "),o=w(s),f=g(),r=p("div"),m=w(c),d=w(`:
            `),h.c(),b=g(),M=p("div"),k=w(S),E=w(": "),R=w(F),y=w(" ("),T=w(O),j=w("/"),D=w(I),U=w(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(M,"class","my-2")},m(fe,re){C(fe,e,re),a(e,n),a(e,i),a(e,o),C(fe,f,re),C(fe,r,re),a(r,m),a(r,d),W[_].m(r,null),C(fe,b,re),C(fe,M,re),a(M,k),a(M,E),a(M,R),a(M,y),a(M,T),a(M,j),a(M,D),a(M,U),z=!0},p(fe,re){var ne,Q,ee,be,ge,N,v,A;(!z||re&8)&&l!==(l=(((Q=(ne=fe[3].status)==null?void 0:ne.device)==null?void 0:Q.apmac)??"AP MAC")+"")&&q(n,l),(!z||re&2)&&s!==(s=fe[1].apmac+"")&&q(o,s),(!z||re&8)&&c!==(c=(((be=(ee=fe[3].status)==null?void 0:ee.device)==null?void 0:be.last_boot)??"Last boot")+"")&&q(m,c);let ue=_;_=G(fe),_===ue?W[_].p(fe,re):(vt(),le(W[ue],1,1,()=>{W[ue]=null}),kt(),h=W[_],h?h.p(fe,re):(h=W[_]=V[_](fe),h.c()),J(h,1),h.m(r,null)),(!z||re&8)&&S!==(S=(((N=(ge=fe[3].status)==null?void 0:ge.device)==null?void 0:N.reason)??"Reason")+"")&&q(k,S),(!z||re&10)&&F!==(F=(((A=(v=fe[3][$s(fe[1].chip)])==null?void 0:v.reason)==null?void 0:A[fe[1].boot_reason])??fe[1].boot_reason)+"")&&q(R,F),(!z||re&2)&&O!==(O=fe[1].boot_reason+"")&&q(T,O),(!z||re&2)&&I!==(I=fe[1].ex_cause+"")&&q(D,I)},i(fe){z||(J(h),z=!0)},o(fe){le(h),z=!1},d(fe){fe&&(P(e),P(f),P(r),P(b),P(M)),W[_].d()}}}function x1(t){let e;return{c(){e=w("-")},m(l,n){C(l,e,n)},p:He,i:He,o:He,d(l){l&&P(e)}}}function em(t){let e,l;return e=new Yf({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function xa(t){var f;let e,l,n=(((f=t[3].btn)==null?void 0:f.reboot)??"Reboot")+"",i,s,o;return{c(){e=p("div"),l=p("button"),i=w(n),u(l,"class","btn-yellow-sm"),u(e,"class","my-2")},m(r,c){C(r,e,c),a(e,l),a(l,i),s||(o=he(l,"click",t[11]),s=!0)},p(r,c){var m;c&8&&n!==(n=(((m=r[3].btn)==null?void 0:m.reboot)??"Reboot")+"")&&q(i,n)},d(r){r&&P(e),s=!1,o()}}}function er(t){var D,U,z,V,W,G,Y,B;let e,l,n=(((U=(D=t[3].status)==null?void 0:D.meter)==null?void 0:U.title)??"Meter")+"",i,s,o,f=(((V=(z=t[3].status)==null?void 0:z.meter)==null?void 0:V.manufacturer)??"Manufacturer")+"",r,c,m=ci(t[1].meter.mfg)+"",d,_,h,b=(((G=(W=t[3].status)==null?void 0:W.meter)==null?void 0:G.model)??"Model")+"",M,S,k=(t[1].meter.model?t[1].meter.model:"unknown")+"",E,F,R,y=(((B=(Y=t[3].status)==null?void 0:Y.meter)==null?void 0:B.id)??"ID")+"",O,T,j=(t[1].meter.id?t[1].meter.id:"unknown")+"",I;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("div"),r=w(f),c=w(": "),d=w(m),_=g(),h=p("div"),M=w(b),S=w(": "),E=w(k),F=g(),R=p("div"),O=w(y),T=w(": "),I=w(j),u(l,"class","text-sm"),u(o,"class","my-2"),u(h,"class","my-2"),u(R,"class","my-2"),u(e,"class","cnt")},m(K,Z){C(K,e,Z),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,_),a(e,h),a(h,M),a(h,S),a(h,E),a(e,F),a(e,R),a(R,O),a(R,T),a(R,I)},p(K,Z){var te,H,X,pe,fe,re,ue,ne;Z&8&&n!==(n=(((H=(te=K[3].status)==null?void 0:te.meter)==null?void 0:H.title)??"Meter")+"")&&q(i,n),Z&8&&f!==(f=(((pe=(X=K[3].status)==null?void 0:X.meter)==null?void 0:pe.manufacturer)??"Manufacturer")+"")&&q(r,f),Z&2&&m!==(m=ci(K[1].meter.mfg)+"")&&q(d,m),Z&8&&b!==(b=(((re=(fe=K[3].status)==null?void 0:fe.meter)==null?void 0:re.model)??"Model")+"")&&q(M,b),Z&2&&k!==(k=(K[1].meter.model?K[1].meter.model:"unknown")+"")&&q(E,k),Z&8&&y!==(y=(((ne=(ue=K[3].status)==null?void 0:ue.meter)==null?void 0:ne.id)??"ID")+"")&&q(O,y),Z&2&&j!==(j=(K[1].meter.id?K[1].meter.id:"unknown")+"")&&q(I,j)},d(K){K&&P(e)}}}function tr(t){var B,K,Z,te,H,X,pe,fe;let e,l,n=(((K=(B=t[3].status)==null?void 0:B.network)==null?void 0:K.title)??"Network")+"",i,s,o,f=(((te=(Z=t[3].conf)==null?void 0:Z.network)==null?void 0:te.ip)??"IP")+"",r,c,m=t[1].net.ip+"",d,_,h,b=(((X=(H=t[3].conf)==null?void 0:H.network)==null?void 0:X.mask)??"Mask")+"",M,S,k=t[1].net.mask+"",E,F,R,y=(((fe=(pe=t[3].conf)==null?void 0:pe.network)==null?void 0:fe.gw)??"Gateway")+"",O,T,j=t[1].net.gw+"",I,D,U,z,V,W=t[1].net.dns1&&lr(t),G=t[1].net.dns2&&nr(t),Y=t[1].net.ipv6&&ir(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("div"),r=w(f),c=w(": "),d=w(m),_=g(),h=p("div"),M=w(b),S=w(": "),E=w(k),F=g(),R=p("div"),O=w(y),T=w(": "),I=w(j),D=g(),U=p("div"),W&&W.c(),z=g(),G&&G.c(),V=g(),Y&&Y.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(h,"class","my-2"),u(R,"class","my-2"),u(U,"class","my-2"),u(e,"class","cnt")},m(re,ue){C(re,e,ue),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,_),a(e,h),a(h,M),a(h,S),a(h,E),a(e,F),a(e,R),a(R,O),a(R,T),a(R,I),a(e,D),a(e,U),W&&W.m(U,null),a(U,z),G&&G.m(U,null),a(e,V),Y&&Y.m(e,null)},p(re,ue){var ne,Q,ee,be,ge,N,v,A;ue&8&&n!==(n=(((Q=(ne=re[3].status)==null?void 0:ne.network)==null?void 0:Q.title)??"Network")+"")&&q(i,n),ue&8&&f!==(f=(((be=(ee=re[3].conf)==null?void 0:ee.network)==null?void 0:be.ip)??"IP")+"")&&q(r,f),ue&2&&m!==(m=re[1].net.ip+"")&&q(d,m),ue&8&&b!==(b=(((N=(ge=re[3].conf)==null?void 0:ge.network)==null?void 0:N.mask)??"Mask")+"")&&q(M,b),ue&2&&k!==(k=re[1].net.mask+"")&&q(E,k),ue&8&&y!==(y=(((A=(v=re[3].conf)==null?void 0:v.network)==null?void 0:A.gw)??"Gateway")+"")&&q(O,y),ue&2&&j!==(j=re[1].net.gw+"")&&q(I,j),re[1].net.dns1?W?W.p(re,ue):(W=lr(re),W.c(),W.m(U,z)):W&&(W.d(1),W=null),re[1].net.dns2?G?G.p(re,ue):(G=nr(re),G.c(),G.m(U,null)):G&&(G.d(1),G=null),re[1].net.ipv6?Y?Y.p(re,ue):(Y=ir(re),Y.c(),Y.m(e,null)):Y&&(Y.d(1),Y=null)},d(re){re&&P(e),W&&W.d(),G&&G.d(),Y&&Y.d()}}}function lr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=w(e),n=w(": "),s=w(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&q(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&q(s,i)},d(r){r&&(P(l),P(n),P(s))}}}function nr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=w(e),n=w(": "),s=w(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&q(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&q(s,i)},d(r){r&&(P(l),P(n),P(s))}}}function ir(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&sr(t),m=t[1].net.dns2v6&&or(t);return{c(){e=p("div"),l=w("IPv6: "),n=p("span"),s=w(i),o=g(),f=p("div"),c&&c.c(),r=g(),m&&m.c(),xl(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(d,_){C(d,e,_),a(e,l),a(e,n),a(n,s),C(d,o,_),C(d,f,_),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(d,_){_&2&&i!==(i=d[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&q(s,i),d[1].net.dns1v6?c?c.p(d,_):(c=sr(d),c.c(),c.m(f,r)):c&&(c.d(1),c=null),d[1].net.dns2v6?m?m.p(d,_):(m=or(d),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(d){d&&(P(e),P(o),P(f)),c&&c.d(),m&&m.d()}}}function sr(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=w("DNSv6: "),l=p("span"),i=w(n),xl(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&q(i,n)},d(s){s&&(P(e),P(l))}}}function or(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=w("DNSv6: "),l=p("span"),i=w(n),xl(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&q(i,n)},d(s){s&&(P(e),P(l))}}}function ar(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","my-2 text-green-600")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&q(n,l)},d(o){o&&P(e)}}}function rr(t){var r,c,m,d;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((d=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:d[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=w(n),s=g(),f=w(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(_,h){C(_,e,h),a(e,l),a(l,i),a(l,s),a(l,f)},p(_,h){var b,M,S,k;h&10&&n!==(n=(((M=(b=_[3].status)==null?void 0:b.firmware)==null?void 0:M.failed)??"Upgrade from {0} to {1} failed").replace("{0}",_[1].upgrade.f).replace("{1}",_[1].upgrade.t)+"")&&q(i,n),h&10&&o!==(o=(((k=(S=_[3].errors)==null?void 0:S.upgrade)==null?void 0:k[_[1].upgrade.e])??_[1].upgrade.e)+"")&&q(f,o)},d(_){_&&P(e)}}}function fr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=w("Last HTTP status: "),s=w(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){C(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&q(s,i)},d(o){o&&P(e)}}}function ur(t){var b,M;let e,l=(((M=(b=t[3].status)==null?void 0:b.firmware)==null?void 0:M.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,d,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&cr(t),h=t[1].fwconsent===2&&mr(t);return{c(){e=p("div"),n=w(l),i=w(`: 
                `),s=p("a"),f=w(o),c=g(),_&&_.c(),m=g(),h&&h.c(),d=tl(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(S,k){C(S,e,k),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),_&&_.m(e,null),C(S,m,k),h&&h.m(S,k),C(S,d,k)},p(S,k){var E,F;k&8&&l!==(l=(((F=(E=S[3].status)==null?void 0:E.firmware)==null?void 0:F.latest)??"Latest")+"")&&q(n,l),k&2&&o!==(o=S[1].upgrade.n+"")&&q(f,o),k&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+S[1].upgrade.n)&&u(s,"href",r),(S[1].security==0||S[0].a)&&S[1].fwconsent===1&&S[1].upgrade.n&&S[1].upgrade.n!=S[1].version?_?_.p(S,k):(_=cr(S),_.c(),_.m(e,null)):_&&(_.d(1),_=null),S[1].fwconsent===2?h?h.p(S,k):(h=mr(S),h.c(),h.m(d.parentNode,d)):h&&(h.d(1),h=null)},d(S){S&&(P(e),P(m),P(d)),_&&_.d(),h&&h.d(S)}}}function cr(t){let e,l,n,i,s;return{c(){var o,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){C(o,e,f),a(e,l),i||(s=he(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&P(e),i=!1,s()}}}function mr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=w(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&q(i,n)},d(f){f&&P(e)}}}function _r(t){let e,l=Js(mi(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=Js(mi(i[1].chip,i[1].board))+"")&&q(n,l)},d(i){i&&P(e)}}}function pr(t){let e,l,n,i,s,o;function f(m,d){return m[5].length==0?lm:tm}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=g(),c.c(),xl(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,d){C(m,e,d),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[he(n,"change",t[14]),he(l,"submit",t[16])],s=!0)},p(m,d){r===(r=f(m))&&c?c.p(m,d):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&P(e),t[13](null),c.d(),s=!1,Ut(o)}}}function tm(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=w(e),n=g(),i=p("button"),o=w(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&q(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&q(o,s)},d(r){r&&(P(l),P(n),P(i))}}}function lm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){C(r,e,c),a(e,n),i||(s=he(e,"click",t[15]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:d.btn_select_file)??"Select file")+"")&&q(n,l)},d(r){r&&P(e),i=!1,s()}}}function dr(t){var G,Y,B,K,Z,te;let e,l,n=(((Y=(G=t[3].status)==null?void 0:G.backup)==null?void 0:Y.title)??"Backup")+"",i,s,o,f,r,c,m,d,_=(((K=(B=t[3].status)==null?void 0:B.backup)==null?void 0:K.secrets)??"Include secrets")+"",h,b,M,S=(((te=(Z=t[3].status)==null?void 0:Z.backup)==null?void 0:te.secrets_desc)??"")+"",k,E,F,R,y,O,T,j,I=Xe(t[9]),D=[];for(let H=0;H<I.length;H+=1)D[H]=hr(Xa(t,I,H));let U=t[2].length==0&&gr(t);function z(H,X){return H[2].length==0?im:nm}let V=z(t),W=V(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("form"),f=p("div");for(let H=0;H<D.length;H+=1)D[H].c();r=g(),c=p("label"),m=p("input"),d=g(),h=w(_),b=p("br"),M=p("small"),k=w(S),E=g(),U&&U.c(),F=g(),R=p("form"),y=p("input"),O=g(),W.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),xl(y,"display","none"),u(y,"name","file"),u(y,"type","file"),u(y,"accept",".cfg"),u(R,"autocomplete","off"),u(e,"class","cnt")},m(H,X){C(H,e,X),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let pe=0;pe<D.length;pe+=1)D[pe]&&D[pe].m(f,null);a(f,r),a(f,c),a(c,m),a(c,d),a(c,h),a(c,b),a(c,M),a(M,k),a(o,E),U&&U.m(o,null),a(e,F),a(e,R),a(R,y),t[17](y),a(R,O),W.m(R,null),T||(j=[he(y,"change",t[18]),he(R,"submit",Gn(t[12]))],T=!0)},p(H,X){var pe,fe,re,ue,ne,Q;if(X&8&&n!==(n=(((fe=(pe=H[3].status)==null?void 0:pe.backup)==null?void 0:fe.title)??"Backup")+"")&&q(i,n),X&520){I=Xe(H[9]);let ee;for(ee=0;ee<I.length;ee+=1){const be=Xa(H,I,ee);D[ee]?D[ee].p(be,X):(D[ee]=hr(be),D[ee].c(),D[ee].m(f,r))}for(;ee<D.length;ee+=1)D[ee].d(1);D.length=I.length}X&8&&_!==(_=(((ue=(re=H[3].status)==null?void 0:re.backup)==null?void 0:ue.secrets)??"Include secrets")+"")&&q(h,_),X&8&&S!==(S=(((Q=(ne=H[3].status)==null?void 0:ne.backup)==null?void 0:Q.secrets_desc)??"")+"")&&q(k,S),H[2].length==0?U?U.p(H,X):(U=gr(H),U.c(),U.m(o,null)):U&&(U.d(1),U=null),V===(V=z(H))&&W?W.p(H,X):(W.d(1),W=V(H),W&&(W.c(),W.m(R,null)))},d(H){H&&P(e),Zt(D,H),U&&U.d(),t[17](null),W.d(),T=!1,Ut(j)}}}function hr(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=g(),s=w(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,d;c&8&&i!==(i=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d[r[21].key])??r[21].name)+"")&&q(s,i)},d(r){r&&P(e)}}}function gr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=w(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&q(n,l)},d(o){o&&P(e)}}}function nm(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=w(e),n=g(),i=p("button"),o=w(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&q(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&q(o,s)},d(r){r&&(P(l),P(n),P(i))}}}function im(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){C(r,e,c),a(e,n),i||(s=he(e,"click",t[19]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d.btn_select_file)??"Select file")+"")&&q(n,l)},d(r){r&&P(e),i=!1,s()}}}function sm(t){var Ae,it,Pt,wt,Ze,at,Ht,mt,Tt,yt,Ot,tt,_t,Ce,Be,Je,Ye,et;let e,l,n,i=(((Ae=t[3].status)==null?void 0:Ae.device.title)??"Device")+"",s,o,f,r=(((Pt=(it=t[3].status)==null?void 0:it.device)==null?void 0:Pt.chip)??"Chip")+"",c,m,d=t[1].chip+"",_,h,b,M,S=(((Ze=(wt=t[3].status)==null?void 0:wt.device)==null?void 0:Ze.device)??"Device")+"",k,E,F=mi(t[1].chip,t[1].board)+"",R,y,O,T=(((Ht=(at=t[3].status)==null?void 0:at.device)==null?void 0:Ht.mac)??"MAC")+"",j,I,D=t[1].mac+"",U,z,V,W,G,Y,B,K,Z=(((Tt=(mt=t[3].status)==null?void 0:mt.firmware)==null?void 0:Tt.title)??"Firmware")+"",te,H,X,pe=(((Ot=(yt=t[3].status)==null?void 0:yt.firmware)==null?void 0:Ot.installed)??"Installed")+"",fe,re,ue=t[1].version+"",ne,Q,ee,be,ge,N,v=(t[1].security==0||t[0].a)&&Bn(t[1].board),A,L,$,ie,se,_e,oe,ae=t[1].cpu&&Qa(t),Ne=t[1].apmac&&t[1].apmac!=t[1].mac&&Za(t),Pe=((tt=t[0])==null?void 0:tt.a)&&xa(t),qe=t[1].meter&&er(t),Ie=t[1].net&&tr(t),je=((_t=t[1].upgrade)==null?void 0:_t.m)===!0&&ar(t),We=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&rr(t),Ge=((Ce=t[1].upgrade)==null?void 0:Ce.x)!==void 0&&t[1].upgrade.x!==-1&&fr(t),Qe=t[1].upgrade.n&&ur(t),we=v&&_r(t),Fe=(t[1].security==0||t[0].a)&&pr(t),me=(t[1].security==0||t[0].a)&&dr(t);return ie=new ml({props:{active:t[6],message:((Je=(Be=t[3].status)==null?void 0:Be.mask)==null?void 0:Je.firmware)??"Uploading"}}),_e=new ml({props:{active:t[8],message:((et=(Ye=t[3].status)==null?void 0:Ye.mask)==null?void 0:et.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=w(i),o=g(),f=p("div"),c=w(r),m=w(": "),_=w(d),h=g(),ae&&ae.c(),b=g(),M=p("div"),k=w(S),E=w(": "),R=w(F),y=g(),O=p("div"),j=w(T),I=w(": "),U=w(D),z=g(),Ne&&Ne.c(),V=g(),Pe&&Pe.c(),W=g(),qe&&qe.c(),G=g(),Ie&&Ie.c(),Y=g(),B=p("div"),K=p("strong"),te=w(Z),H=g(),X=p("div"),fe=w(pe),re=w(": "),ne=w(ue),Q=g(),je&&je.c(),ee=g(),We&&We.c(),be=g(),Ge&&Ge.c(),ge=g(),Qe&&Qe.c(),N=g(),we&&we.c(),A=g(),Fe&&Fe.c(),L=g(),me&&me.c(),$=g(),ye(ie.$$.fragment),se=g(),ye(_e.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(M,"class","my-2"),u(O,"class","my-2"),u(l,"class","cnt"),u(K,"class","text-sm"),u(X,"class","my-2"),u(B,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ve,Le){C(ve,e,Le),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,_),a(f,h),ae&&ae.m(f,null),a(l,b),a(l,M),a(M,k),a(M,E),a(M,R),a(l,y),a(l,O),a(O,j),a(O,I),a(O,U),a(l,z),Ne&&Ne.m(l,null),a(l,V),Pe&&Pe.m(l,null),a(e,W),qe&&qe.m(e,null),a(e,G),Ie&&Ie.m(e,null),a(e,Y),a(e,B),a(B,K),a(K,te),a(B,H),a(B,X),a(X,fe),a(X,re),a(X,ne),a(B,Q),je&&je.m(B,null),a(B,ee),We&&We.m(B,null),a(B,be),Ge&&Ge.m(B,null),a(B,ge),Qe&&Qe.m(B,null),a(B,N),we&&we.m(B,null),a(B,A),Fe&&Fe.m(B,null),a(e,L),me&&me.m(e,null),C(ve,$,Le),Me(ie,ve,Le),C(ve,se,Le),Me(_e,ve,Le),oe=!0},p(ve,[Le]){var Ue,ut,xe,Lt,Wt,Ke,ke,Te,$e,lt,st,pt,$t,Ft,Dt,il,It,Ve;(!oe||Le&8)&&i!==(i=(((Ue=ve[3].status)==null?void 0:Ue.device.title)??"Device")+"")&&q(s,i),(!oe||Le&8)&&r!==(r=(((xe=(ut=ve[3].status)==null?void 0:ut.device)==null?void 0:xe.chip)??"Chip")+"")&&q(c,r),(!oe||Le&2)&&d!==(d=ve[1].chip+"")&&q(_,d),ve[1].cpu?ae?ae.p(ve,Le):(ae=Qa(ve),ae.c(),ae.m(f,null)):ae&&(ae.d(1),ae=null),(!oe||Le&8)&&S!==(S=(((Wt=(Lt=ve[3].status)==null?void 0:Lt.device)==null?void 0:Wt.device)??"Device")+"")&&q(k,S),(!oe||Le&2)&&F!==(F=mi(ve[1].chip,ve[1].board)+"")&&q(R,F),(!oe||Le&8)&&T!==(T=(((ke=(Ke=ve[3].status)==null?void 0:Ke.device)==null?void 0:ke.mac)??"MAC")+"")&&q(j,T),(!oe||Le&2)&&D!==(D=ve[1].mac+"")&&q(U,D),ve[1].apmac&&ve[1].apmac!=ve[1].mac?Ne?(Ne.p(ve,Le),Le&2&&J(Ne,1)):(Ne=Za(ve),Ne.c(),J(Ne,1),Ne.m(l,V)):Ne&&(vt(),le(Ne,1,1,()=>{Ne=null}),kt()),(Te=ve[0])!=null&&Te.a?Pe?Pe.p(ve,Le):(Pe=xa(ve),Pe.c(),Pe.m(l,null)):Pe&&(Pe.d(1),Pe=null),ve[1].meter?qe?qe.p(ve,Le):(qe=er(ve),qe.c(),qe.m(e,G)):qe&&(qe.d(1),qe=null),ve[1].net?Ie?Ie.p(ve,Le):(Ie=tr(ve),Ie.c(),Ie.m(e,Y)):Ie&&(Ie.d(1),Ie=null),(!oe||Le&8)&&Z!==(Z=(((lt=($e=ve[3].status)==null?void 0:$e.firmware)==null?void 0:lt.title)??"Firmware")+"")&&q(te,Z),(!oe||Le&8)&&pe!==(pe=(((pt=(st=ve[3].status)==null?void 0:st.firmware)==null?void 0:pt.installed)??"Installed")+"")&&q(fe,pe),(!oe||Le&2)&&ue!==(ue=ve[1].version+"")&&q(ne,ue),(($t=ve[1].upgrade)==null?void 0:$t.m)===!0?je?je.p(ve,Le):(je=ar(ve),je.c(),je.m(B,ee)):je&&(je.d(1),je=null),ve[1].upgrade.t&&ve[1].upgrade.t!=ve[1].version&&ve[1].upgrade.e!=0&&ve[1].upgrade.e!=123?We?We.p(ve,Le):(We=rr(ve),We.c(),We.m(B,be)):We&&(We.d(1),We=null),((Ft=ve[1].upgrade)==null?void 0:Ft.x)!==void 0&&ve[1].upgrade.x!==-1?Ge?Ge.p(ve,Le):(Ge=fr(ve),Ge.c(),Ge.m(B,ge)):Ge&&(Ge.d(1),Ge=null),ve[1].upgrade.n?Qe?Qe.p(ve,Le):(Qe=ur(ve),Qe.c(),Qe.m(B,N)):Qe&&(Qe.d(1),Qe=null),Le&3&&(v=(ve[1].security==0||ve[0].a)&&Bn(ve[1].board)),v?we?we.p(ve,Le):(we=_r(ve),we.c(),we.m(B,A)):we&&(we.d(1),we=null),ve[1].security==0||ve[0].a?Fe?Fe.p(ve,Le):(Fe=pr(ve),Fe.c(),Fe.m(B,null)):Fe&&(Fe.d(1),Fe=null),ve[1].security==0||ve[0].a?me?me.p(ve,Le):(me=dr(ve),me.c(),me.m(e,null)):me&&(me.d(1),me=null);const qt={};Le&64&&(qt.active=ve[6]),Le&8&&(qt.message=((il=(Dt=ve[3].status)==null?void 0:Dt.mask)==null?void 0:il.firmware)??"Uploading"),ie.$set(qt);const ht={};Le&256&&(ht.active=ve[8]),Le&8&&(ht.message=((Ve=(It=ve[3].status)==null?void 0:It.mask)==null?void 0:Ve.config)??"Uploading"),_e.$set(ht)},i(ve){oe||(J(Ne),J(ie.$$.fragment,ve),J(_e.$$.fragment,ve),oe=!0)},o(ve){le(Ne),le(ie.$$.fragment,ve),le(_e.$$.fragment,ve),oe=!1},d(ve){ve&&(P(e),P($),P(se)),ae&&ae.d(),Ne&&Ne.d(),Pe&&Pe.d(),qe&&qe.d(),Ie&&Ie.d(),je&&je.d(),We&&We.d(),Ge&&Ge.d(),Qe&&Qe.d(),we&&we.d(),Fe&&Fe.d(),me&&me.d(),Se(ie,ve),Se(_e,ve)}}}async function om(){await(await fetch("reboot",{method:"POST"})).json()}function am(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};yl.subscribe(j=>{l(3,o=j)});function f(){var j;confirm((((j=o.header)==null?void 0:j.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(Gf(i.upgrade.n),pl.update(I=>(I.upgrade.t=i.upgrade.n,I.upgrade.p=0,I.upgrading=!0,I)))}const r=function(){var j;confirm(((j=o.device)==null?void 0:j.reboot_confirm)??"Reboot?")&&(pl.update(I=>(I.booting=!0,I)),om())};let c,m=[],d=!1,_,h=[],b=!1;bi();let M={hostname:"",ip:""};function S(j){l(8,b=!0);const I=new FormData;I.append("file",h[0]),fetch("configfile",{method:"POST",body:I}).then(D=>D.json()).then(D=>{pl.update(U=>(M&&M.hostname&&(U.hostname=M.hostname),U.booting=D.reboot,M&&M.ip&&(U.net.ip=M.ip),setTimeout(bn,5e3,i),U))}).catch(D=>{console.error("Error:",D),setTimeout(bn,5e3,i)})}function k(j){fi[j?"unshift":"push"](()=>{c=j,l(4,c)})}function E(){m=this.files,l(5,m)}const F=()=>{c.click()},R=()=>l(6,d=!0);function y(j){fi[j?"unshift":"push"](()=>{_=j,l(7,_)})}function O(){h=this.files,l(2,h)}const T=()=>{_.click()};return t.$$set=j=>{"data"in j&&l(0,n=j.data),"sysinfo"in j&&l(1,i=j.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&h.length==1){let j=h[0],I=new FileReader,D=U=>{let z=U.target.result.split(`
`);for(let V in z){let W=z[V];W.startsWith("hostname ")?M.hostname=W.split(" ")[1]:W.startsWith("ip ")&&(M.ip=W.split(" ")[1])}};I.onload=D,I.readAsText(j)}},[n,i,h,o,c,m,d,_,b,s,f,r,S,k,E,F,R,y,O,T]}class lu extends At{constructor(e){super(),Et(this,e,am,sm,Ct,{data:0,sysinfo:1})}}const rm="/wifi-low.svg",fm="/wifi-medium.svg",um="/wifi-high.svg",cm="/wifi-off.svg",mm={aidon:[/^7359\d+$/,/^6442\d+$/,/^6490\d+$/,/^6492\d+$/],kaifa:[/^MA105\w*$/,/^MA304\w*$/,/^MA309\w*$/],kamstrup:[/^OMNIA\w*$/,/^6841\d+$/,/^MULTICAL\w*$/]},_m={high_baud_inverted:{baud:115200,parity:"8N1",invert:!0,likelyPresets:["aidon-rj12"]},standard_han_2400:{baud:2400,parity:"8E1",invert:!1,likelyPresets:["aidon-rj45-han","kaifa-rj45"]},kamstrup_signature:{baud:9600,parity:"8N2",invert:!1,likelyPresets:["kamstrup-han"]}};function pm(t){var l;const e={meterType:null,distributionSystem:null,hasL2:!1,hasL3:!1,confidence:0,indicators:[]};return!t||typeof t!="object"||(typeof t.mt=="number"&&t.mt>0&&(e.meterType=t.mt,e.confidence+=40,e.indicators.push(`Meter type explicitly set to ${t.mt}`)),typeof t.ds=="number"&&(e.distributionSystem=t.ds,e.confidence+=20,e.indicators.push(`Distribution system: ${t.ds}`)),t.l2&&typeof t.l2=="object"&&((t.l2.u>0||t.l2.i>0||t.l2.p!==0)&&(e.hasL2=!0,e.confidence+=15,e.indicators.push("L2 phase data detected")),t.l2.e!==void 0&&e.indicators.push(`L2 presence indicator: ${t.l2.e}`)),t.l3&&typeof t.l3=="object"&&(t.l3.u>0||t.l3.i>0||t.l3.p!==0)&&(e.hasL3=!0,e.confidence+=15,e.indicators.push("L3 phase data detected")),typeof t.hm=="number"&&(t.hm>0?(e.confidence+=10,e.indicators.push(`HAN communication active (status: ${t.hm})`)):e.indicators.push(`HAN communication issues (status: ${t.hm})`)),t.ic===0&&t.ec===0&&((l=t.l1)==null?void 0:l.u)===0&&e.indicators.push("Possible encrypted or unconfigured meter")),e}function dm(t){return{1:{manufacturer:"Aidon",model:"6442",presets:["aidon-rj45-han"]},2:{manufacturer:"Aidon",model:"6492",presets:["aidon-rj45-han"]},7:{manufacturer:"Aidon",model:"6490",presets:["aidon-rj12"]},3:{manufacturer:"Kaifa",model:"MA105",presets:["kaifa-rj45"]},4:{manufacturer:"Kaifa",model:"MA304",presets:["kaifa-rj45"]},9:{manufacturer:"Kaifa",model:"MA309",presets:["kaifa-rj45"]},5:{manufacturer:"Kamstrup",model:"OMNIA",presets:["kamstrup-han"]},8:{manufacturer:"Kamstrup",model:"Multical",presets:["kamstrup-han"]},6:{manufacturer:"Landis+Gyr",model:"E350",presets:["lng-rj45"]},10:{manufacturer:"Generic",model:"HAN-port",presets:["aidon-rj45-han","kaifa-rj45"]},11:{manufacturer:"Generic",model:"M-Bus",presets:["mbus-serial"]}}[t]||{manufacturer:"Unknown",model:`Type ${t}`,presets:[]}}function hm(t,e,l=null){const n={confidence:0,suggestedPresets:[],detectedManufacturer:null,detectedModel:null,reasoning:[]},i=(t==null?void 0:t.meterId)||"",s=(t==null?void 0:t.meterModel)||"";if(l){const o=pm(l);if(o.meterType){const f=dm(o.meterType);n.detectedManufacturer=f.manufacturer,n.detectedModel=f.model,n.suggestedPresets.push(...f.presets),n.confidence+=50,n.reasoning.push(`Live data indicates ${f.manufacturer} ${f.model} (type ${o.meterType})`)}n.reasoning.push(...o.indicators),n.confidence+=Math.min(o.confidence,30)}for(const[o,f]of Object.entries(mm))for(const r of f)if(r.test(i)){if(!n.detectedManufacturer)n.detectedManufacturer=o,n.confidence+=30;else if(n.detectedManufacturer.toLowerCase()===o){n.confidence+=15,n.reasoning.push(`Meter ID "${i}" confirms ${o} detection`);continue}n.reasoning.push(`Meter ID "${i}" matches ${o} pattern`);const c=ms.filter(m=>m.manufacturer.toLowerCase().includes(o));n.suggestedPresets.push(...c.map(m=>m.id));break}if(e){for(const[o,f]of Object.entries(_m))if(e.baud===f.baud&&e.parity===f.parity&&e.invert===f.invert){n.confidence+=25,n.reasoning.push(`Communication pattern matches ${o}`),n.suggestedPresets.push(...f.likelyPresets);break}}if(s){n.detectedModel||(n.detectedModel=s),n.confidence+=15,n.reasoning.push(`Detected meter model: ${s}`);const o=s.toLowerCase();o.includes("aidon")?n.suggestedPresets.push("aidon-rj45-han"):o.includes("kaifa")||o.includes("ma105")||o.includes("ma304")?n.suggestedPresets.push("kaifa-rj45"):(o.includes("kamstrup")||o.includes("omnia"))&&n.suggestedPresets.push("kamstrup-han")}return n.suggestedPresets=[...new Set(n.suggestedPresets)],n.confidence<50&&e&&e.baud===2400&&e.parity==="8E1"&&(n.suggestedPresets.push("kaifa-rj45","aidon-rj45-han"),n.reasoning.push("Added common HAN-port presets as fallback")),n}const nu="/neas_logo_green.svg";function br(t,e,l){const n=t.slice();return n[28]=e[l],n}function vr(t,e,l){const n=t.slice();return n[31]=e[l],n[33]=l,n}function kr(t){var f,r;let e,l,n,i,s=(((r=(f=t[3].conf)==null?void 0:f.connection)==null?void 0:r.searching)??"Søker etter nettverk...")+"",o;return{c(){e=p("div"),l=p("div"),n=g(),i=p("span"),o=w(s),u(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-neas-green mr-3"),u(i,"class","text-sm font-medium"),u(e,"class","flex items-center justify-center py-8 text-black dark:text-black")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(i,o)},p(c,m){var d,_;m[0]&8&&s!==(s=(((_=(d=c[3].conf)==null?void 0:d.connection)==null?void 0:_.searching)??"Søker etter nettverk...")+"")&&q(o,s)},d(c){c&&P(e)}}}function gm(t){var r,c;let e,l,n,i,s,o=(((c=(r=t[3].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"Ingen nettverk funnet")+"",f;return{c(){e=p("div"),l=Nt("svg"),n=Nt("path"),i=g(),s=p("p"),f=w(o),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"stroke-width","2"),u(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),u(l,"class","mb-3 opacity-100"),u(l,"fill","none"),u(l,"stroke","currentColor"),u(l,"viewBox","0 0 24 24"),u(s,"class","text-sm font-medium"),u(e,"class","text-center py-8 text-neas-green dark:text-neas-green")},m(m,d){C(m,e,d),a(e,l),a(l,n),a(e,i),a(e,s),a(s,f)},p(m,d){var _,h;d[0]&8&&o!==(o=(((h=(_=m[3].conf)==null?void 0:_.connection)==null?void 0:h.no_networks)??"Ingen nettverk funnet")+"")&&q(f,o)},d(m){m&&P(e)}}}function bm(t){let e,l=[],n=new Map,i=Xe(t[2].n);const s=o=>o[31].s??o[33];for(let o=0;o<i.length;o+=1){let f=vr(t,i,o),r=s(f);n.set(r,l[o]=wr(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","space-y-3 max-h overflow-y-auto")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&460&&(i=Xe(o[2].n),l=of(l,f,s,1,o,i,n,e,sf,wr,null,vr))},d(o){o&&P(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function wr(t,e){var y,O;let l,n,i,s,o=!1,f,r,c=(e[31].s||(((O=(y=e[3].conf)==null?void 0:y.connection)==null?void 0:O.hidden_ssid)??"Skjult nettverk"))+"",m,d,_,h,b,M,S,k,E,F,R;return E=ef(e[14][0]),{key:t,first:null,c(){var T,j,I,D,U;l=p("label"),n=p("span"),i=p("input"),f=g(),r=p("span"),m=w(c),d=g(),_=p("div"),h=p("img"),k=g(),u(i,"type","radio"),u(i,"class","sr-only"),u(i,"name","ss"),i.__value=s=e[31].s,x(i,i.__value),i.required=iu==1,u(r,"class","min-w-0 flex-1 text-neas-green dark:text-neas-green font-medium truncate"),u(n,"class","flex items-center gap-3 flex-1 min-w-0"),u(h,"class","h-10 w-10"),an(h.src,b=((T=e[6][e[33]])==null?void 0:T.icon)??e[8].off)||u(h,"src",b),u(h,"alt",M=((j=e[6][e[33]])==null?void 0:j.title)??"Wi-Fi frakoblet"),u(h,"title",S=((I=e[6][e[33]])==null?void 0:I.rssi)!=null?`${((D=e[6][e[33]])==null?void 0:D.title)??"Wi-Fi frakoblet"} (${e[6][e[33]].rssi} dBm)`:((U=e[6][e[33]])==null?void 0:U.title)??"Wi-Fi frakoblet"),u(_,"class","flex items-center gap-3 flex-shrink-0"),u(l,"class","group flex items-center justify-between gap-4 rounded-2xl border-2 border-transparent bg-neas-gray px-5 py-4 shadow-sm transition hover:border-neas-lightgreen-70 hover:bg-white dark:bg-neas-gray dark:hover:bg-neas-lightgreen-70 cursor-pointer"),Ql(l,"border-neas-green",e[7]===e[31].s),Ql(l,"border-transparent",e[7]!==e[31].s),Ql(l,"bg-white",e[7]===e[31].s),Ql(l,"shadow-lg",e[7]===e[31].s),E.p(i),this.first=l},m(T,j){C(T,l,j),a(l,n),a(n,i),i.checked=i.__value===e[7],a(n,f),a(n,r),a(r,m),a(l,d),a(l,_),a(_,h),a(l,k),F||(R=he(i,"change",e[13]),F=!0)},p(T,j){var I,D,U,z,V,W,G;e=T,j[0]&4&&s!==(s=e[31].s)&&(i.__value=s,x(i,i.__value),o=!0),(o||j[0]&132)&&(i.checked=i.__value===e[7]),j[0]&12&&c!==(c=(e[31].s||(((D=(I=e[3].conf)==null?void 0:I.connection)==null?void 0:D.hidden_ssid)??"Skjult nettverk"))+"")&&q(m,c),j[0]&68&&!an(h.src,b=((U=e[6][e[33]])==null?void 0:U.icon)??e[8].off)&&u(h,"src",b),j[0]&68&&M!==(M=((z=e[6][e[33]])==null?void 0:z.title)??"Wi-Fi frakoblet")&&u(h,"alt",M),j[0]&68&&S!==(S=((V=e[6][e[33]])==null?void 0:V.rssi)!=null?`${((W=e[6][e[33]])==null?void 0:W.title)??"Wi-Fi frakoblet"} (${e[6][e[33]].rssi} dBm)`:((G=e[6][e[33]])==null?void 0:G.title)??"Wi-Fi frakoblet")&&u(h,"title",S),j[0]&132&&Ql(l,"border-neas-green",e[7]===e[31].s),j[0]&132&&Ql(l,"border-transparent",e[7]!==e[31].s),j[0]&132&&Ql(l,"bg-white",e[7]===e[31].s),j[0]&132&&Ql(l,"shadow-lg",e[7]===e[31].s)},d(T){T&&P(l),E.r(),F=!1,R()}}}function Mr(t){var V;let e,l,n,i,s,o,f,r,c,m=(t[4].detectedManufacturer||"ukjent")+"",d,_,h,b=t[4].confidence+"",M,S,k,E,F,R,y,O,T,j,I,D=t[4].detectedModel&&Sr(t),U=((V=t[0])==null?void 0:V.mt)&&yr(t),z=t[4].reasoning.length>0&&Cr(t);return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=g(),s=p("div"),o=p("h3"),o.textContent="Måler oppdaget automatisk!",f=g(),r=p("p"),c=w("Vi har oppdaget en "),d=w(m),_=w(` måler
                                `),D&&D.c(),h=w(`
                                med `),M=w(b),S=w(`%
                                sikkerhet.`),k=g(),U&&U.c(),E=g(),z&&z.c(),F=g(),R=p("div"),y=p("button"),y.textContent="Bruk anbefalte innstillinger",O=g(),T=p("button"),T.textContent="Avvis",u(n,"class","flex-shrink-0"),u(o,"class","text-sm font-medium text-green-800 mb-2"),u(r,"class","text-sm text-green-700 mb-3"),u(y,"type","button"),u(y,"class","bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(T,"type","button"),u(T,"class","bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(R,"class","flex gap-2"),u(s,"class","flex-1"),u(l,"class","flex items-start gap-3"),u(e,"class","mb-6 rounded-2xl bg-green-50 border border-green-200 p-5 shadow-sm")},m(W,G){C(W,e,G),a(e,l),a(l,n),a(l,i),a(l,s),a(s,o),a(s,f),a(s,r),a(r,c),a(r,d),a(r,_),D&&D.m(r,null),a(r,h),a(r,M),a(r,S),a(s,k),U&&U.m(s,null),a(s,E),z&&z.m(s,null),a(s,F),a(s,R),a(R,y),a(R,O),a(R,T),j||(I=[he(y,"click",t[9]),he(T,"click",t[10])],j=!0)},p(W,G){var Y;G[0]&16&&m!==(m=(W[4].detectedManufacturer||"ukjent")+"")&&q(d,m),W[4].detectedModel?D?D.p(W,G):(D=Sr(W),D.c(),D.m(r,h)):D&&(D.d(1),D=null),G[0]&16&&b!==(b=W[4].confidence+"")&&q(M,b),(Y=W[0])!=null&&Y.mt?U?U.p(W,G):(U=yr(W),U.c(),U.m(s,E)):U&&(U.d(1),U=null),W[4].reasoning.length>0?z?z.p(W,G):(z=Cr(W),z.c(),z.m(s,F)):z&&(z.d(1),z=null)},d(W){W&&P(e),D&&D.d(),U&&U.d(),z&&z.d(),j=!1,Ut(I)}}}function Sr(t){let e,l=t[4].detectedModel+"",n,i;return{c(){e=w("(modell: "),n=w(l),i=w(")")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o[0]&16&&l!==(l=s[4].detectedModel+"")&&q(n,l)},d(s){s&&(P(e),P(n),P(i))}}}function yr(t){var c,m;let e,l,n=t[0].mt+"",i,s,o,f=((c=t[0])==null?void 0:c.ds)&&Nr(t),r=((m=t[0])==null?void 0:m.hm)!==void 0&&Pr(t);return{c(){e=p("p"),l=w("Målertype fra payload: "),i=w(n),s=g(),f&&f.c(),o=g(),r&&r.c(),u(e,"class","text-xs text-green-600 mb-2")},m(d,_){C(d,e,_),a(e,l),a(e,i),a(e,s),f&&f.m(e,null),a(e,o),r&&r.m(e,null)},p(d,_){var h,b;_[0]&1&&n!==(n=d[0].mt+"")&&q(i,n),(h=d[0])!=null&&h.ds?f?f.p(d,_):(f=Nr(d),f.c(),f.m(e,o)):f&&(f.d(1),f=null),((b=d[0])==null?void 0:b.hm)!==void 0?r?r.p(d,_):(r=Pr(d),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(d){d&&P(e),f&&f.d(),r&&r.d()}}}function Nr(t){let e,l=t[0].ds+"",n;return{c(){e=w("| Distribusjonssystem: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].ds+"")&&q(n,l)},d(i){i&&(P(e),P(n))}}}function Pr(t){let e,l=t[0].hm+"",n;return{c(){e=w("| HAN-status: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].hm+"")&&q(n,l)},d(i){i&&(P(e),P(n))}}}function Cr(t){let e,l,n,i,s=Xe(t[4].reasoning),o=[];for(let f=0;f<s.length;f+=1)o[f]=Tr(br(t,s,f));return{c(){e=p("details"),l=p("summary"),l.textContent="Vis detaljer",n=g(),i=p("ul");for(let f=0;f<o.length;f+=1)o[f].c();u(l,"class","cursor-pointer hover:text-green-800"),u(i,"class","mt-2 space-y-1 pl-4"),u(e,"class","text-xs text-green-600 mb-3")},m(f,r){C(f,e,r),a(e,l),a(e,n),a(e,i);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null)},p(f,r){if(r[0]&16){s=Xe(f[4].reasoning);let c;for(c=0;c<s.length;c+=1){const m=br(f,s,c);o[c]?o[c].p(m,r):(o[c]=Tr(m),o[c].c(),o[c].m(i,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(f){f&&P(e),Zt(o,f)}}}function Tr(t){let e,l,n=t[28]+"",i;return{c(){e=p("li"),l=w("• "),i=w(n)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p(s,o){o[0]&16&&n!==(n=s[28]+"")&&q(i,n)},d(s){s&&P(e)}}}function vm(t){var Ne,Pe,qe,Ie,je,We,Ge,Qe;let e,l,n,i,s,o,f,r,c,m,d,_,h,b,M,S,k,E,F,R,y,O=(((Ne=t[3].setup)==null?void 0:Ne.title)??"WiFi-oppsett")+"",T,j,I,D=(((Pe=t[3].setup)==null?void 0:Pe.subtitle)??"Koble enheten til internett")+"",U,z,V,W,G,Y=(((Ie=(qe=t[3].conf)==null?void 0:qe.connection)==null?void 0:Ie.ssid)??"Velg nettverk")+"",B,K,Z,te,H,X,pe=(((We=(je=t[3].conf)==null?void 0:je.connection)==null?void 0:We.psk)??"WiFi-passord")+"",fe,re,ue,ne,Q,ee,be,ge,N,v,A,L,$,ie=((Ge=t[2])==null?void 0:Ge.c)==-1&&kr(t);function se(we,Fe){var me,Ae,it;if((Ae=(me=we[2])==null?void 0:me.n)!=null&&Ae.length)return bm;if(((it=we[2])==null?void 0:it.c)!=-1)return gm}let _e=se(t),oe=_e&&_e(t),ae=t[1]&&t[4]&&Mr(t);return v=new ml({props:{active:t[5],message:((Qe=t[3].setup)==null?void 0:Qe.mask)??"Kobler til..."}}),{c(){var we,Fe;e=p("div"),l=p("div"),l.innerHTML=`<img alt="Neas logo" src="${nu}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${rs}" class="w-36 h-auto hidden sm:block"/>`,n=g(),i=p("div"),s=p("form"),o=p("input"),f=g(),r=p("input"),c=g(),m=p("input"),d=g(),_=p("input"),h=g(),b=p("input"),M=g(),S=p("input"),k=g(),E=p("input"),F=g(),R=p("div"),y=p("h1"),T=w(O),j=g(),I=p("p"),U=w(D),z=g(),V=p("div"),W=p("div"),G=p("span"),B=w(Y),K=g(),ie&&ie.c(),Z=g(),oe&&oe.c(),te=g(),H=p("div"),X=p("label"),fe=w(pe),re=g(),ue=p("input"),Q=g(),ae&&ae.c(),ee=g(),be=p("div"),ge=p("button"),ge.textContent="Koble til og fortsett",N=g(),ye(v.$$.fragment),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(o,"type","hidden"),u(o,"name","s"),o.value="true",u(r,"type","hidden"),u(r,"name","fw"),r.value="true",u(m,"type","hidden"),u(m,"name","sf"),m.value="1",u(_,"type","hidden"),u(_,"name","ulang"),_.value="no",u(b,"type","hidden"),u(b,"name","fwa"),b.value="true",u(S,"type","hidden"),u(S,"name","fws"),S.value="2",u(E,"type","hidden"),u(E,"name","fwe"),E.value="2",u(y,"class","text-2xl font-semibold text-neas-green mb-2"),u(I,"class","text-sm text-black"),u(R,"class","text-center mb-8"),u(G,"class","block text-sm font-medium text-neas-green dark:text-neas-green"),u(W,"class","flex items-center justify-between mb-3"),u(V,"class","mb-6"),u(X,"for","wifi-password"),u(X,"class","block text-sm font-medium text-neas-green dark:text-neas-green mb-2"),u(ue,"id","wifi-password"),u(ue,"name","sp"),u(ue,"type","password"),u(ue,"pattern",_i),u(ue,"class","w-full px-4 py-3 rounded-xl bg-neas-gray dark:bg-neas-gray text-neas-green dark:text-neas-green border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-neas-green focus:border-neas-green transition-colors shadow-sm"),u(ue,"placeholder",ne=((Fe=(we=t[3].conf)==null?void 0:we.connection)==null?void 0:Fe.password_placeholder)??"Skriv inn WiFi-passord"),u(ue,"autocomplete","off"),ue.required=iu==2,u(H,"class","mb-6"),u(ge,"type","submit"),u(ge,"class","w-full bg-neas-green hover:bg-neas-green-90 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(be,"class","text-center"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4 mb-40")},m(we,Fe){C(we,e,Fe),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,f),a(s,r),a(s,c),a(s,m),a(s,d),a(s,_),a(s,h),a(s,b),a(s,M),a(s,S),a(s,k),a(s,E),a(s,F),a(s,R),a(R,y),a(y,T),a(R,j),a(R,I),a(I,U),a(s,z),a(s,V),a(V,W),a(W,G),a(G,B),a(V,K),ie&&ie.m(V,null),a(V,Z),oe&&oe.m(V,null),a(s,te),a(s,H),a(H,X),a(X,fe),a(H,re),a(H,ue),a(s,Q),ae&&ae.m(s,null),a(s,ee),a(s,be),a(be,ge),C(we,N,Fe),Me(v,we,Fe),A=!0,L||($=he(s,"submit",Gn(t[11])),L=!0)},p(we,Fe){var Ae,it,Pt,wt,Ze,at,Ht,mt,Tt,yt;(!A||Fe[0]&8)&&O!==(O=(((Ae=we[3].setup)==null?void 0:Ae.title)??"WiFi-oppsett")+"")&&q(T,O),(!A||Fe[0]&8)&&D!==(D=(((it=we[3].setup)==null?void 0:it.subtitle)??"Koble enheten til internett")+"")&&q(U,D),(!A||Fe[0]&8)&&Y!==(Y=(((wt=(Pt=we[3].conf)==null?void 0:Pt.connection)==null?void 0:wt.ssid)??"Velg nettverk")+"")&&q(B,Y),((Ze=we[2])==null?void 0:Ze.c)==-1?ie?ie.p(we,Fe):(ie=kr(we),ie.c(),ie.m(V,Z)):ie&&(ie.d(1),ie=null),_e===(_e=se(we))&&oe?oe.p(we,Fe):(oe&&oe.d(1),oe=_e&&_e(we),oe&&(oe.c(),oe.m(V,null))),(!A||Fe[0]&8)&&pe!==(pe=(((Ht=(at=we[3].conf)==null?void 0:at.connection)==null?void 0:Ht.psk)??"WiFi-passord")+"")&&q(fe,pe),(!A||Fe[0]&8&&ne!==(ne=((Tt=(mt=we[3].conf)==null?void 0:mt.connection)==null?void 0:Tt.password_placeholder)??"Skriv inn WiFi-passord"))&&u(ue,"placeholder",ne),we[1]&&we[4]?ae?ae.p(we,Fe):(ae=Mr(we),ae.c(),ae.m(s,ee)):ae&&(ae.d(1),ae=null);const me={};Fe[0]&32&&(me.active=we[5]),Fe[0]&8&&(me.message=((yt=we[3].setup)==null?void 0:yt.mask)??"Kobler til..."),v.$set(me)},i(we){A||(J(v.$$.fragment,we),A=!0)},o(we){le(v.$$.fragment,we),A=!1},d(we){we&&(P(e),P(N)),ie&&ie.d(),oe&&oe.d(),ae&&ae.d(),Se(v,we),L=!1,$()}}}let iu=1;function km(t){return{2:"7N1",3:"8N1",7:"8N2",10:"7E1",11:"8E1"}[t]||"8E1"}function wm(t,e,l){const n={high:um,medium:fm,low:rm,off:cm};n.off;let i={};yl.subscribe(D=>{l(3,i=D)});let s,o,f=!1,r=null,c=!1;const m=hn.subscribe(D=>{s=D,D!=null&&D.m&&!f&&(o=_n(D.m),f=!0)});es(()=>{Qf(),setTimeout(()=>{h()},3e3)}),ts(()=>{typeof m=="function"&&m()});function d(){!f&&(s!=null&&s.m)&&(o=_n(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=_n(s.m))}function _(D){d();const U=xf(D);U?o=eu(o,U):s!=null&&s.m&&(o=_n(s.m))}function h(){if(!F)return;const D={meterId:F.id||"",meterModel:F.model||""},U=s!=null&&s.m?{baud:s.m.b||0,parity:km(s.m.p||0),invert:s.m.i||!1}:null;l(4,r=hm(D,U,F)),r.confidence>50&&r.suggestedPresets.length>0&&l(1,c=!0)}function b(){if(r&&r.suggestedPresets.length>0){const D=r.suggestedPresets[0];_(D),l(1,c=!1)}}function M(){l(1,c=!1)}function S(){var z,V,W,G,Y,B,K,Z,te,H,X;d();const D=o??_n(s==null?void 0:s.m);if(!D)return null;const U=(s==null?void 0:s.m)??{};return{source:D.source??U.o??1,parser:D.parser??U.a??0,baud:D.baud??U.b??0,parity:D.parity??U.p??3,invert:D.invert??U.i??!1,distributionSystem:D.distributionSystem??U.d??2,mainFuse:D.mainFuse??U.f??0,production:D.production??U.r??0,buffer:D.buffer??U.s??256,encrypted:D.encrypted??((z=U==null?void 0:U.e)==null?void 0:z.e)??!1,encryptionKey:D.encryptionKey??((V=U==null?void 0:U.e)==null?void 0:V.k)??"",authenticationKey:D.authenticationKey??((W=U==null?void 0:U.e)==null?void 0:W.a)??"",multipliers:{watt:((G=D.multipliers)==null?void 0:G.watt)??((Y=U==null?void 0:U.m)==null?void 0:Y.w)??1,volt:((B=D.multipliers)==null?void 0:B.volt)??((K=U==null?void 0:U.m)==null?void 0:K.v)??1,amp:((Z=D.multipliers)==null?void 0:Z.amp)??((te=U==null?void 0:U.m)==null?void 0:te.a)??1,kwh:((H=D.multipliers)==null?void 0:H.kwh)??((X=U==null?void 0:U.m)==null?void 0:X.c)??1}}}let k={};Wf.subscribe(D=>{l(2,k=D)});let{sysinfo:E={}}=e,{data:F={}}=e,R=!1,y=[],O="";async function T(D){var ne,Q,ee,be;l(5,R=!0);const U=new FormData(D.target),z=new URLSearchParams;for(let ge of U){const[N,v]=ge;z.append(N,typeof v=="string"?v:String(v))}const V=S();V&&(z.set("m","true"),z.set("mo",String(V.source??1)),z.set("ma",String(V.parser??0)),z.set("mb",String(V.baud??0)),z.set("mp",String(V.parity??3)),z.set("mi",V.invert?"true":"false"),z.set("md",String(V.distributionSystem??2)),z.set("mf",String(V.mainFuse??0)),z.set("mr",String(V.production??0)),z.set("ms",String(V.buffer??256)),V.encrypted&&(z.set("me","true"),z.set("mek",V.encryptionKey??""),z.set("mea",V.authenticationKey??"")),z.set("mmw",String(((ne=V.multipliers)==null?void 0:ne.watt)??1)),z.set("mmv",String(((Q=V.multipliers)==null?void 0:Q.volt)??1)),z.set("mma",String(((ee=V.multipliers)==null?void 0:ee.amp)??1)),z.set("mmc",String(((be=V.multipliers)==null?void 0:be.kwh)??1))),z.set("fwa","true"),z.set("fws",z.get("fws")??"2"),z.set("fwe",z.get("fwe")??z.get("fws")??"2"),z.set("sf","1"),z.set("ulang","no");let G=await(await fetch("save",{method:"POST",body:z})).json();l(5,R=!1);const Y=String(U.get("sh")??"").trim(),K=(typeof G.message=="string"?G.message:"").split("|").map(ge=>ge.trim()),Z=K[0]??"",te=K[1]??"",H=K[2]??"",X=Z||Y||E.hostname||(E!=null&&E.chipId?`ams-${E.chipId}`:"ams-reader"),pe=te||(X&&X.indexOf(".")===-1&&X.indexOf(":")===-1?`${X}.local`:X),fe=H,re=Array.from(new Set([fe,X,pe].filter(ge=>ge&&ge.length>0)));pl.update(ge=>{ge.net||(ge.net={});const N=X||ge.hostname||Y;return ge.hostname=N,(!ge.upgrade||typeof ge.upgrade!="object")&&(ge.upgrade={x:-1,e:0,f:null,t:null,m:!1}),ge.upgrade.auto=!0,ge.fwconsent=1,(!ge.ui||typeof ge.ui!="object")&&(ge.ui={}),ge.ui.lang="no",H&&(ge.net.ip=H),ge.targets=[...re],ge.trying=re[0]??null,ge.usrcfg=G.success,ge.booting=G.reboot,ge});const ue=Zl(pl);l(12,E=ue)}const j=[[]];function I(){O=this.__value,l(7,O)}return t.$$set=D=>{"sysinfo"in D&&l(12,E=D.sysinfo),"data"in D&&l(0,F=D.data)},t.$$.update=()=>{if(t.$$.dirty[0]&3&&F&&F.mt!==void 0&&!c&&setTimeout(()=>h(),500),t.$$.dirty[0]&1){const{level:D,label:U}=Kn(F==null?void 0:F.r);n[D]??n.off}t.$$.dirty[0]&4&&l(6,y=Array.isArray(k==null?void 0:k.n)?k.n.map(D=>{const{level:U,label:z}=Kn(D==null?void 0:D.r);return{icon:n[U]??n.off,title:z,rssi:typeof(D==null?void 0:D.r)>"u"?null:D.r}}):[])},[F,c,k,i,r,R,y,O,n,b,M,T,E,I,j]}class su extends At{constructor(e){super(),Et(this,e,wm,vm,Ct,{sysinfo:12,data:0},null,[-1,-1])}}function Mm(t){let e,l,n,i,s,o,f,r,c;return{c(){e=p("div"),l=p("div"),l.innerHTML=`<img alt="Neas logo" src="${nu}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${rs}" class="w-36 h-auto hidden sm:block"/>`,n=g(),i=p("div"),s=p("div"),o=p("div"),o.innerHTML='<h1 class="text-2xl font-semibold text-neas-green">Gratulerer!</h1> <p class="text-m text-black">Enheten kobler nå til hjemmenettverket ditt og sender data automatisk.</p> <p class="text-m text-black">Koble telefonen eller PC-en til hjemmenettverket ditt og åpne <strong>Min side</strong> for å følge strømforbruket.</p>',f=g(),r=p("a"),c=w("Gå til Min side"),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(o,"class","space-y-3"),u(r,"href",Sm),u(r,"target","_blank"),u(r,"rel","noopener noreferrer"),u(r,"class","inline-flex items-center justify-center w-full bg-neas-green hover:bg-neas-green-90 text-white font-large py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(s,"class","space-y-6 text-center"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(m,d){C(m,e,d),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,f),a(s,r),a(r,c)},p:He,i:He,o:He,d(m){m&&P(e)}}}const Sm="https://minside.neas.no/dashboard/home";class ou extends At{constructor(e){super(),Et(this,e,null,Mm,Ct,{})}}function ym(t){var D,U,z,V;let e,l,n,i=(((D=t[2].upload)==null?void 0:D.title)??"Upload")+"",s,o,f,r,c,m=(((U=t[2].upload)==null?void 0:U.desc)??"")+"",d,_,h,b,M,S,k,E,F=(((z=t[2].btn)==null?void 0:z.upload)??"Upload")+"",R,y,O,T,j,I;return O=new ml({props:{active:t[3],message:((V=t[2].upload)==null?void 0:V.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=w(i),o=g(),f=w(t[1]),r=g(),c=p("p"),d=w(m),_=g(),h=p("form"),b=p("input"),M=g(),S=p("div"),k=p("button"),E=p("p"),R=w(F),y=g(),ye(O.$$.fragment),u(c,"class","mb-4"),u(b,"name","file"),u(b,"type","file"),u(E,"class","mb-4"),u(k,"type","submit"),u(k,"class","btn-pri"),u(S,"class","w-full text-right mt-4"),u(h,"action",t[0]),u(h,"enctype","multipart/form-data"),u(h,"method","post"),u(h,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(W,G){C(W,e,G),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,d),a(l,_),a(l,h),a(h,b),a(h,M),a(h,S),a(S,k),a(k,E),a(E,R),C(W,y,G),Me(O,W,G),T=!0,j||(I=he(h,"submit",t[4]),j=!0)},p(W,[G]){var B,K,Z,te;(!T||G&4)&&i!==(i=(((B=W[2].upload)==null?void 0:B.title)??"Upload")+"")&&q(s,i),(!T||G&2)&&q(f,W[1]),(!T||G&4)&&m!==(m=(((K=W[2].upload)==null?void 0:K.desc)??"")+"")&&q(d,m),(!T||G&4)&&F!==(F=(((Z=W[2].btn)==null?void 0:Z.upload)??"Upload")+"")&&q(R,F),(!T||G&1)&&u(h,"action",W[0]);const Y={};G&8&&(Y.active=W[3]),G&4&&(Y.message=((te=W[2].upload)==null?void 0:te.mask)??"Uploading"),O.$set(Y)},i(W){T||(J(O.$$.fragment,W),T=!0)},o(W){le(O.$$.fragment,W),T=!1},d(W){W&&(P(e),P(y)),Se(O,W),j=!1,I()}}}function Nm(t,e,l){let{action:n}=e,{title:i}=e,s={};yl.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class _s extends At{constructor(e){super(),Et(this,e,Nm,ym,Ct,{action:0,title:1})}}function Er(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Ar(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Pm(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Cm(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Lr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Ir(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Dr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Or(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Fr(t){let e,l=Xe(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=zr(Er(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=tl()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);C(i,e,s)},p(i,s){if(s[0]&1875){l=Xe(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Er(i,l,o);n[o]?n[o].p(f,s):(n[o]=zr(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&P(e),Zt(n,i)}}}function Rr(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,o()}}}function jr(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,o()}}}function Br(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,o()}}}function Ur(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,o()}}}function Tm(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,x(e,e.__value)},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function Hr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[35]+1,x(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&q(n,l)},d(s){s&&P(e)}}}function Em(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,x(e,e.__value)},m(l,n){C(l,e,n)},p:He,d(l){l&&P(e)}}}function Wr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[35]+1,x(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&q(n,l)},d(s){s&&P(e)}}}function zr(t){var Dt,il,It,Ve,Rt,Vt,gt,rt,Mt,zt;let e,l,n,i,s,o,f,r=(((il=(Dt=t[0].conf)==null?void 0:Dt.common)==null?void 0:il.import)??"Import")+"",c,m,d=(((Ve=(It=t[0].conf)==null?void 0:It.common)==null?void 0:Ve.export)??"Export")+"",_,h,b=(((Vt=(Rt=t[0].conf)==null?void 0:Rt.price)==null?void 0:Vt.both)??"Both")+"",M,S,k,E,F=(((rt=(gt=t[0].conf)==null?void 0:gt.price)==null?void 0:rt.fixed)??"Fixed")+"",R,y,O,T,j,I,D,U,z,V=(((Mt=t[0].common)==null?void 0:Mt.days)??"Days")+"",W,G,Y,B,K,Z,te,H=(((zt=t[0].common)==null?void 0:zt.hours)??"Hours")+"",X,pe,fe,re,ue,ne,Q,ee,be,ge,N,v,A,L,$,ie,se,_e,oe,ae,Ne,Pe,qe,Ie,je,We,Ge,Qe,we,Fe,me,Ae,it,Pt,wt,Ze,at;function Ht(){t[12].call(n,t[31],t[32])}function mt(){t[13].call(o,t[31],t[32])}function Tt(){t[14].call(k,t[31],t[32])}function yt(){t[15].call(I,t[31],t[32])}let Ot=Xe({length:7}),tt=[];for(let de=0;de<Ot.length;de+=1)tt[de]=Rr(Or(t,Ot,de));let _t=Xe({length:8}),Ce=[];for(let de=0;de<_t.length;de+=1)Ce[de]=jr(Dr(t,_t,de));let Be=Xe({length:8}),Je=[];for(let de=0;de<Be.length;de+=1)Je[de]=Br(Ir(t,Be,de));let Ye=Xe({length:8}),et=[];for(let de=0;de<Ye.length;de+=1)et[de]=Ur(Lr(t,Ye,de));let ve=Xe({length:31}),Le=[];for(let de=0;de<ve.length;de+=1)Le[de]=Tm(Cm(t,ve,de));function qt(){t[20].call(v,t[31],t[32])}let ht=Xe({length:12}),Ue=[];for(let de=0;de<ht.length;de+=1)Ue[de]=Hr(qr(t,ht,de));function ut(){t[21].call($,t[31],t[32])}let xe=Xe({length:31}),Lt=[];for(let de=0;de<xe.length;de+=1)Lt[de]=Em(Pm(t,xe,de));function Wt(){t[22].call(ae,t[31],t[32])}let Ke=Xe({length:12}),ke=[];for(let de=0;de<Ke.length;de+=1)ke[de]=Wr(Ar(t,Ke,de));function Te(){t[23].call(qe,t[31],t[32])}function $e(){return t[24](t[32])}function lt(){return t[25](t[32])}function st(){return t[26](t[32])}function pt(){return t[27](t[32])}function $t(){return t[28](t[32])}function Ft(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=g(),s=p("div"),o=p("select"),f=p("option"),c=w(r),m=p("option"),_=w(d),h=p("option"),M=w(b),S=g(),k=p("select"),E=p("option"),R=w(F),y=p("option"),y.textContent="+",O=p("option"),O.textContent="-",T=p("option"),T.textContent="%",j=g(),I=p("input"),D=g(),U=p("div"),z=p("span"),W=w(V),G=w(":"),Y=g(),B=p("div");for(let de=0;de<tt.length;de+=1)tt[de].c();K=g(),Z=p("div"),te=p("span"),X=w(H),pe=w(":"),fe=g(),re=p("div"),ue=p("div");for(let de=0;de<Ce.length;de+=1)Ce[de].c();ne=g(),Q=p("div");for(let de=0;de<Je.length;de+=1)Je[de].c();ee=g(),be=p("div");for(let de=0;de<et.length;de+=1)et[de].c();ge=g(),N=p("div"),v=p("select"),A=p("option"),A.textContent="-";for(let de=0;de<Le.length;de+=1)Le[de].c();L=g(),$=p("select"),ie=p("option"),ie.textContent="-";for(let de=0;de<Ue.length;de+=1)Ue[de].c();se=g(),_e=p("input"),oe=g(),ae=p("select"),Ne=p("option"),Ne.textContent="-";for(let de=0;de<Lt.length;de+=1)Lt[de].c();Pe=g(),qe=p("select"),Ie=p("option"),Ie.textContent="-";for(let de=0;de<ke.length;de+=1)ke[de].c();je=g(),We=p("div"),Ge=p("span"),Ge.textContent="⇧",Qe=g(),we=p("span"),Fe=w("⇩"),Ae=g(),it=p("span"),it.textContent="🗑",Pt=g(),wt=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,x(f,f.__value),m.__value=2,x(m,m.__value),h.__value=3,x(h,h.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Yt(mt),E.__value=0,x(E,E.__value),y.__value=1,x(y,y.__value),O.__value=3,x(O,O.__value),T.__value=2,x(T,T.__value),u(k,"name","rt"),u(k,"class","in-m"),t[30].t===void 0&&Yt(Tt),u(I,"name","rv"),u(I,"type","number"),u(I,"class","in-l tr"),xl(I,"width","100px"),u(I,"min","0.0001"),u(I,"max","99.9999"),u(I,"step","0.0001"),u(s,"class","flex mr-3"),u(z,"class","mr-2"),u(U,"class","flex flex-wrap mr-3"),u(te,"class","mr-2"),u(Z,"class","flex flex-wrap mr-3"),A.__value=0,x(A,A.__value),u(v,"name","rsd"),u(v,"class","in-f"),t[30].s.d===void 0&&Yt(qt),ie.__value=0,x(ie,ie.__value),u($,"name","rsm"),u($,"class","in-m"),t[30].s.m===void 0&&Yt(ut),u(_e,"class","in-m"),_e.disabled=!0,_e.value="to",xl(_e,"width","20px"),xl(_e,"color","#888"),Ne.__value=0,x(Ne,Ne.__value),u(ae,"name","red"),u(ae,"class","in-m"),t[30].e.d===void 0&&Yt(Wt),Ie.__value=0,x(Ie,Ie.__value),u(qe,"name","rem"),u(qe,"class","in-l"),t[30].e.m===void 0&&Yt(Te),u(N,"class","flex flex-wrap mr-3"),u(Ge,"class",t[32]>0?"text-green-600":"text-gray-300"),u(we,"class",me=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(it,"class","text-red-500 text-xs"),u(We,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(wt,"class","m-3")},m(de,nt){C(de,e,nt),a(e,l),a(l,n),x(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,_),a(o,h),a(h,M),ft(o,t[30].d,!0),a(s,S),a(s,k),a(k,E),a(E,R),a(k,y),a(k,O),a(k,T),ft(k,t[30].t,!0),a(s,j),a(s,I),x(I,t[30].v),a(e,D),a(e,U),a(U,z),a(z,W),a(z,G),a(U,Y),a(U,B);for(let ze=0;ze<tt.length;ze+=1)tt[ze]&&tt[ze].m(B,null);a(e,K),a(e,Z),a(Z,te),a(te,X),a(te,pe),a(Z,fe),a(Z,re),a(re,ue);for(let ze=0;ze<Ce.length;ze+=1)Ce[ze]&&Ce[ze].m(ue,null);a(re,ne),a(re,Q);for(let ze=0;ze<Je.length;ze+=1)Je[ze]&&Je[ze].m(Q,null);a(re,ee),a(re,be);for(let ze=0;ze<et.length;ze+=1)et[ze]&&et[ze].m(be,null);a(e,ge),a(e,N),a(N,v),a(v,A);for(let ze=0;ze<Le.length;ze+=1)Le[ze]&&Le[ze].m(v,null);ft(v,t[30].s.d,!0),a(N,L),a(N,$),a($,ie);for(let ze=0;ze<Ue.length;ze+=1)Ue[ze]&&Ue[ze].m($,null);ft($,t[30].s.m,!0),a(N,se),a(N,_e),a(N,oe),a(N,ae),a(ae,Ne);for(let ze=0;ze<Lt.length;ze+=1)Lt[ze]&&Lt[ze].m(ae,null);ft(ae,t[30].e.d,!0),a(N,Pe),a(N,qe),a(qe,Ie);for(let ze=0;ze<ke.length;ze+=1)ke[ze]&&ke[ze].m(qe,null);ft(qe,t[30].e.m,!0),a(e,je),a(e,We),a(We,Ge),a(We,Qe),a(We,we),a(we,Fe),a(We,Ae),a(We,it),C(de,Pt,nt),C(de,wt,nt),Ze||(at=[he(n,"input",Ht),he(o,"change",mt),he(k,"change",Tt),he(I,"input",yt),he(v,"change",qt),he($,"change",ut),he(ae,"change",Wt),he(qe,"change",Te),he(Ge,"click",$e),he(Ge,"keypress",lt),he(we,"click",st),he(we,"keypress",pt),he(it,"click",$t),he(it,"keypress",Ft)],Ze=!0)},p(de,nt){var ze,sl,Gt,xt,cl,al,Jt,Xt,ul,Ee;if(t=de,nt[0]&2&&n.value!==t[30].n&&x(n,t[30].n),nt[0]&1&&r!==(r=(((sl=(ze=t[0].conf)==null?void 0:ze.common)==null?void 0:sl.import)??"Import")+"")&&q(c,r),nt[0]&1&&d!==(d=(((xt=(Gt=t[0].conf)==null?void 0:Gt.common)==null?void 0:xt.export)??"Export")+"")&&q(_,d),nt[0]&1&&b!==(b=(((al=(cl=t[0].conf)==null?void 0:cl.price)==null?void 0:al.both)??"Both")+"")&&q(M,b),nt[0]&2&&ft(o,t[30].d),nt[0]&1&&F!==(F=(((Xt=(Jt=t[0].conf)==null?void 0:Jt.price)==null?void 0:Xt.fixed)??"Fixed")+"")&&q(R,F),nt[0]&2&&ft(k,t[30].t),nt[0]&2&&bt(I.value)!==t[30].v&&x(I,t[30].v),nt[0]&1&&V!==(V=(((ul=t[0].common)==null?void 0:ul.days)??"Days")+"")&&q(W,V),nt[0]&82){Ot=Xe({length:7});let ce;for(ce=0;ce<Ot.length;ce+=1){const jt=Or(t,Ot,ce);tt[ce]?tt[ce].p(jt,nt):(tt[ce]=Rr(jt),tt[ce].c(),tt[ce].m(B,null))}for(;ce<tt.length;ce+=1)tt[ce].d(1);tt.length=Ot.length}if(nt[0]&1&&H!==(H=(((Ee=t[0].common)==null?void 0:Ee.hours)??"Hours")+"")&&q(X,H),nt[0]&66){_t=Xe({length:8});let ce;for(ce=0;ce<_t.length;ce+=1){const jt=Dr(t,_t,ce);Ce[ce]?Ce[ce].p(jt,nt):(Ce[ce]=jr(jt),Ce[ce].c(),Ce[ce].m(ue,null))}for(;ce<Ce.length;ce+=1)Ce[ce].d(1);Ce.length=_t.length}if(nt[0]&66){Be=Xe({length:8});let ce;for(ce=0;ce<Be.length;ce+=1){const jt=Ir(t,Be,ce);Je[ce]?Je[ce].p(jt,nt):(Je[ce]=Br(jt),Je[ce].c(),Je[ce].m(Q,null))}for(;ce<Je.length;ce+=1)Je[ce].d(1);Je.length=Be.length}if(nt[0]&66){Ye=Xe({length:8});let ce;for(ce=0;ce<Ye.length;ce+=1){const jt=Lr(t,Ye,ce);et[ce]?et[ce].p(jt,nt):(et[ce]=Ur(jt),et[ce].c(),et[ce].m(be,null))}for(;ce<et.length;ce+=1)et[ce].d(1);et.length=Ye.length}if(nt[0]&2&&ft(v,t[30].s.d),nt[0]&1){ht=Xe({length:12});let ce;for(ce=0;ce<ht.length;ce+=1){const jt=qr(t,ht,ce);Ue[ce]?Ue[ce].p(jt,nt):(Ue[ce]=Hr(jt),Ue[ce].c(),Ue[ce].m($,null))}for(;ce<Ue.length;ce+=1)Ue[ce].d(1);Ue.length=ht.length}if(nt[0]&2&&ft($,t[30].s.m),nt[0]&2&&ft(ae,t[30].e.d),nt[0]&1){Ke=Xe({length:12});let ce;for(ce=0;ce<Ke.length;ce+=1){const jt=Ar(t,Ke,ce);ke[ce]?ke[ce].p(jt,nt):(ke[ce]=Wr(jt),ke[ce].c(),ke[ce].m(qe,null))}for(;ce<ke.length;ce+=1)ke[ce].d(1);ke.length=Ke.length}nt[0]&2&&ft(qe,t[30].e.m),nt[0]&2&&me!==(me=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(we,"class",me)},d(de){de&&(P(e),P(Pt),P(wt)),Zt(tt,de),Zt(Ce,de),Zt(Je,de),Zt(et,de),Zt(Le,de),Zt(Ue,de),Zt(Lt,de),Zt(ke,de),Ze=!1,Ut(at)}}}function Am(t){var K,Z,te,H,X,pe,fe,re,ue;let e,l,n=(((Z=(K=t[0].conf)==null?void 0:K.price)==null?void 0:Z.title)??"Price")+"",i,s,o,f,r,c,m,d,_,h,b,M,S,k=(((H=(te=t[0].conf)==null?void 0:te.price)==null?void 0:H.btn_add)??"Add")+"",E,F,R,y,O,T,j=(((X=t[0].btn)==null?void 0:X.save)??"Save")+"",I,D,U,z,V,W,G,Y,B=t[1].o&&Fr(t);return U=new ml({props:{active:t[2],message:((fe=(pe=t[0].conf)==null?void 0:pe.price)==null?void 0:fe.mask_loading)??"Loading"}}),V=new ml({props:{active:t[3],message:((ue=(re=t[0].conf)==null?void 0:re.price)==null?void 0:ue.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),o=p("a"),o.textContent="ⓘ",f=g(),r=p("hr"),c=g(),m=p("form"),d=p("input"),_=g(),B&&B.c(),h=g(),b=p("div"),M=p("div"),S=p("button"),E=w(k),F=g(),R=p("div"),R.innerHTML="",y=g(),O=p("div"),T=p("button"),I=w(j),D=g(),ye(U.$$.fragment),z=g(),ye(V.$$.fragment),u(l,"class","text-sm"),u(o,"href",Il("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(d,"type","hidden"),u(d,"name","r"),d.value="true",u(S,"type","button"),u(S,"class","btn-pri"),u(R,"class","text-center"),u(T,"type","submit"),u(T,"class","btn-pri"),u(O,"class","text-right"),u(b,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(ne,Q){C(ne,e,Q),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,_),B&&B.m(m,null),a(m,h),a(m,b),a(b,M),a(M,S),a(S,E),a(b,F),a(b,R),a(b,y),a(b,O),a(O,T),a(T,I),C(ne,D,Q),Me(U,ne,Q),C(ne,z,Q),Me(V,ne,Q),W=!0,G||(Y=[he(S,"click",t[7]),he(m,"submit",Gn(t[5]))],G=!0)},p(ne,Q){var ge,N,v,A,L,$,ie,se,_e;(!W||Q[0]&1)&&n!==(n=(((N=(ge=ne[0].conf)==null?void 0:ge.price)==null?void 0:N.title)??"Price")+"")&&q(i,n),ne[1].o?B?B.p(ne,Q):(B=Fr(ne),B.c(),B.m(m,h)):B&&(B.d(1),B=null),(!W||Q[0]&1)&&k!==(k=(((A=(v=ne[0].conf)==null?void 0:v.price)==null?void 0:A.btn_add)??"Add")+"")&&q(E,k),(!W||Q[0]&1)&&j!==(j=(((L=ne[0].btn)==null?void 0:L.save)??"Save")+"")&&q(I,j);const ee={};Q[0]&4&&(ee.active=ne[2]),Q[0]&1&&(ee.message=((ie=($=ne[0].conf)==null?void 0:$.price)==null?void 0:ie.mask_loading)??"Loading"),U.$set(ee);const be={};Q[0]&8&&(be.active=ne[3]),Q[0]&1&&(be.message=((_e=(se=ne[0].conf)==null?void 0:se.price)==null?void 0:_e.mask_saving)??"Saving"),V.$set(be)},i(ne){W||(J(U.$$.fragment,ne),J(V.$$.fragment,ne),W=!0)},o(ne){le(U.$$.fragment,ne),le(V.$$.fragment,ne),W=!1},d(ne){ne&&(P(e),P(D),P(z)),B&&B.d(),Se(U,ne),Se(V,ne),G=!1,Ut(Y)}}}function qm(t,e,l){let{basepath:n="/"}=e,i={};yl.subscribe(B=>{l(0,i=B)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;Zf.subscribe(B=>{B.o&&(l(1,o=B),l(2,f=!1))}),p1();async function c(B){l(3,r=!0);const K=new URLSearchParams;K.append("r","true"),K.append("rc",o.o.length),o.o.forEach(function(te,H){K.append("rt"+H,te.t),K.append("rn"+H,te.n),K.append("rd"+H,te.d),K.append("ra"+H,te.a),K.append("rh"+H,te.h),K.append("rv"+H,te.v),K.append("rsm"+H,te.s.m),K.append("rsd"+H,te.s.d),K.append("rem"+H,te.e.m),K.append("red"+H,te.e.d)}),await(await fetch("save",{method:"POST",body:K})).json(),l(3,r=!1),Wn(n+"configuration")}let m=function(B,K){return B.includes(K)?B=B.filter(function(Z){return Z!==K}):B.push(K),B},d=function(){let B=o.o;B.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=B,o)},_=function(B){let K=o.o;K.splice(B,1),l(1,o.o=K,o)},h=function(B){if(B<=0)return;let K=o.o;var Z=K[B];K[B]=K[B-1],K[B-1]=Z,l(1,o.o=K,o)},b=function(B){let K=o.o;if(!(B>=K.length-1)){var Z=K[B];K[B]=K[B+1],K[B+1]=Z,l(1,o.o=K,o)}};function M(B,K){B[K].n=this.value,l(1,o)}function S(B,K){B[K].d=ll(this),l(1,o)}function k(B,K){B[K].t=ll(this),l(1,o)}function E(B,K){B[K].v=bt(this.value),l(1,o)}const F=(B,K,Z,te)=>l(1,Z[te].a=m(B.a,K),o),R=(B,K,Z,te)=>l(1,Z[te].h=m(B.h,K),o),y=(B,K,Z,te)=>l(1,Z[te].h=m(B.h,K+8),o),O=(B,K,Z,te)=>l(1,Z[te].h=m(B.h,K+16),o);function T(B,K){B[K].s.d=ll(this),l(1,o)}function j(B,K){B[K].s.m=ll(this),l(1,o)}function I(B,K){B[K].e.d=ll(this),l(1,o)}function D(B,K){B[K].e.m=ll(this),l(1,o)}const U=B=>h(B),z=B=>h(B),V=B=>b(B),W=B=>b(B),G=B=>_(B),Y=B=>_(B);return t.$$set=B=>{"basepath"in B&&l(11,n=B.basepath)},[i,o,f,r,s,c,m,d,_,h,b,n,M,S,k,E,F,R,y,O,T,j,I,D,U,z,V,W,G,Y]}class Lm extends At{constructor(e){super(),Et(this,e,qm,Am,Ct,{basepath:11},null,[-1,-1])}}function Kr(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function $r(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function Vr(t){let e,l,n,i=Xe(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Gr($r(t,i,o));return{c(){e=p("div"),e.textContent="Import",l=g(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=Xe(o[1]);let r;for(r=0;r<i.length;r+=1){const c=$r(o,i,r);s[r]?s[r].p(c,f):(s[r]=Gr(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(P(e),P(l),P(n)),Zt(s,o)}}}function Gr(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,_;function h(){t[11].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=w(n),s=g(),o=p("input"),r=g(),c=p("span"),c.textContent="kWh",m=g(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(b,M){C(b,e,M),a(e,l),a(l,i),a(e,s),a(e,o),x(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(_=he(o,"input",h),d=!0)},p(b,M){t=b,M&2&&n!==(n=t[13].name+"")&&q(i,n),M&2&&f!==(f=t[13].key)&&u(o,"name",f),M&3&&bt(o.value)!==t[0][t[13].key]&&x(o,t[0][t[13].key])},d(b){b&&P(e),d=!1,_()}}}function Yr(t){let e,l,n,i=Xe(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Jr(Kr(t,i,o));return{c(){e=p("div"),e.textContent="Export",l=g(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=Xe(o[2]);let r;for(r=0;r<i.length;r+=1){const c=Kr(o,i,r);s[r]?s[r].p(c,f):(s[r]=Jr(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(P(e),P(l),P(n)),Zt(s,o)}}}function Jr(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,_;function h(){t[12].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=w(n),s=g(),o=p("input"),r=g(),c=p("span"),c.textContent="kWh",m=g(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(b,M){C(b,e,M),a(e,l),a(l,i),a(e,s),a(e,o),x(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(_=he(o,"input",h),d=!0)},p(b,M){t=b,M&4&&n!==(n=t[13].name+"")&&q(i,n),M&4&&f!==(f=t[13].key)&&u(o,"name",f),M&5&&bt(o.value)!==t[0][t[13].key]&&x(o,t[0][t[13].key])},d(b){b&&P(e),d=!1,_()}}}function Im(t){var R,y,O;let e,l,n,i,s,o,f,r,c,m,d=(((R=t[3].btn)==null?void 0:R.save)??"Save")+"",_,h,b,M,S,k,E=t[1]&&Vr(t),F=t[2]&&t[4]&&Yr(t);return b=new ml({props:{active:t[5],message:((O=(y=t[3].conf)==null?void 0:y.mask)==null?void 0:O.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),E&&E.c(),n=g(),F&&F.c(),i=g(),s=p("div"),o=p("div"),f=p("button"),f.textContent="Clear all",r=g(),c=p("div"),m=p("button"),_=w(d),h=g(),ye(b.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(T,j){C(T,e,j),a(e,l),E&&E.m(l,null),a(l,n),F&&F.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,_),C(T,h,j),Me(b,T,j),M=!0,S||(k=[he(f,"click",t[6]),he(e,"submit",Gn(t[7]))],S=!0)},p(T,[j]){var D,U,z;T[1]?E?E.p(T,j):(E=Vr(T),E.c(),E.m(l,n)):E&&(E.d(1),E=null),T[2]&&T[4]?F?F.p(T,j):(F=Yr(T),F.c(),F.m(l,i)):F&&(F.d(1),F=null),(!M||j&8)&&d!==(d=(((D=T[3].btn)==null?void 0:D.save)??"Save")+"")&&q(_,d);const I={};j&32&&(I.active=T[5]),j&8&&(I.message=((z=(U=T[3].conf)==null?void 0:U.mask)==null?void 0:z.saving)??"Saving"),b.$set(I)},i(T){M||(J(b.$$.fragment,T),M=!0)},o(T){le(b.$$.fragment,T),M=!1},d(T){T&&(P(e),P(h)),E&&E.d(),F&&F.d(),Se(b,T),S=!1,Ut(k)}}}function Dm(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};yl.subscribe(S=>{l(3,f=S)});let r=!1,c,m;async function d(){if(confirm("Clear all data?"))for(let S in i)(S.startsWith("i")||S.startsWith("e"))&&l(0,i[S]=0,i)}let _=!1;async function h(S){l(5,_=!0);const k=new FormData(S.target),E=new URLSearchParams;for(let R of k){const[y,O]=R;E.append(y,O)}await(await fetch(s,{method:"POST",body:E})).json(),l(5,_=!1),Wn(o)}function b(S){i[S.key]=bt(this.value),l(0,i)}function M(S){i[S.key]=bt(this.value),l(0,i)}return t.$$set=S=>{"prefix"in S&&l(8,n=S.prefix),"data"in S&&l(0,i=S.data),"url"in S&&l(9,s=S.url),"basepath"in S&&l(10,o=S.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let S in i){let k=[];S.startsWith("i")?k=c:S.startsWith("e")&&(k=m,i[S]&&l(4,r=!0)),k.push({key:S,name:n+" "+S.substring(1),value:i[S]})}}},[i,c,m,f,r,_,d,h,n,s,o,b,M]}class au extends At{constructor(e){super(),Et(this,e,Dm,Im,Ct,{prefix:8,data:0,url:9,basepath:10})}}function Xr(t){let e,l;return e=new g0({props:{data:t[7],basepath:t[0],developerMode:t[1]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&1&&(s.basepath=n[0]),i&2&&(s.developerMode=n[1]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Om(t){let e,l,n,i,s,o,f,r,c,m,d,_;return e=new ol({props:{path:"/setup",$$slots:{default:[Rm]},$$scope:{ctx:t}}}),n=new ol({props:{path:"/dashboard",$$slots:{default:[jm]},$$scope:{ctx:t}}}),s=new ol({props:{path:"/configuration",$$slots:{default:[Bm]},$$scope:{ctx:t}}}),f=new ol({props:{path:"/status",$$slots:{default:[Um]},$$scope:{ctx:t}}}),c=new ol({props:{path:"/velkommen",$$slots:{default:[Hm]},$$scope:{ctx:t}}}),d=new ol({props:{path:"*",$$slots:{default:[Wm]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment),l=g(),ye(n.$$.fragment),i=g(),ye(s.$$.fragment),o=g(),ye(f.$$.fragment),r=g(),ye(c.$$.fragment),m=g(),ye(d.$$.fragment)},m(h,b){Me(e,h,b),C(h,l,b),Me(n,h,b),C(h,i,b),Me(s,h,b),C(h,o,b),Me(f,h,b),C(h,r,b),Me(c,h,b),C(h,m,b),Me(d,h,b),_=!0},p(h,b){const M={};b&262528&&(M.$$scope={dirty:b,ctx:h}),e.$set(M);const S={};b&263164&&(S.$$scope={dirty:b,ctx:h}),n.$set(S);const k={};b&262529&&(k.$$scope={dirty:b,ctx:h}),s.$set(k);const E={};b&262528&&(E.$$scope={dirty:b,ctx:h}),f.$set(E);const F={};b&262144&&(F.$$scope={dirty:b,ctx:h}),c.$set(F);const R={};b&263164&&(R.$$scope={dirty:b,ctx:h}),d.$set(R)},i(h){_||(J(e.$$.fragment,h),J(n.$$.fragment,h),J(s.$$.fragment,h),J(f.$$.fragment,h),J(c.$$.fragment,h),J(d.$$.fragment,h),_=!0)},o(h){le(e.$$.fragment,h),le(n.$$.fragment,h),le(s.$$.fragment,h),le(f.$$.fragment,h),le(c.$$.fragment,h),le(d.$$.fragment,h),_=!1},d(h){h&&(P(l),P(i),P(o),P(r),P(m)),Se(e,h),Se(n,h),Se(s,h),Se(f,h),Se(c,h),Se(d,h)}}}function Fm(t){let e,l,n,i,s,o,f,r,c,m,d,_,h,b,M,S,k,E,F,R,y,O,T,j;return e=new ol({props:{path:"/",$$slots:{default:[zm]},$$scope:{ctx:t}}}),n=new ol({props:{path:"/dashboard",$$slots:{default:[Km]},$$scope:{ctx:t}}}),s=new ol({props:{path:"/configuration",$$slots:{default:[$m]},$$scope:{ctx:t}}}),f=new ol({props:{path:"/priceconfig",$$slots:{default:[Vm]},$$scope:{ctx:t}}}),c=new ol({props:{path:"/status",$$slots:{default:[Gm]},$$scope:{ctx:t}}}),d=new ol({props:{path:"/mqtt-ca",$$slots:{default:[Ym]},$$scope:{ctx:t}}}),h=new ol({props:{path:"/mqtt-cert",$$slots:{default:[Jm]},$$scope:{ctx:t}}}),M=new ol({props:{path:"/mqtt-key",$$slots:{default:[Xm]},$$scope:{ctx:t}}}),k=new ol({props:{path:"/setup",$$slots:{default:[Qm]},$$scope:{ctx:t}}}),F=new ol({props:{path:"/velkommen",$$slots:{default:[Zm]},$$scope:{ctx:t}}}),y=new ol({props:{path:"/edit-day",$$slots:{default:[xm]},$$scope:{ctx:t}}}),T=new ol({props:{path:"/edit-month",$$slots:{default:[e_]},$$scope:{ctx:t}}}),{c(){ye(e.$$.fragment),l=g(),ye(n.$$.fragment),i=g(),ye(s.$$.fragment),o=g(),ye(f.$$.fragment),r=g(),ye(c.$$.fragment),m=g(),ye(d.$$.fragment),_=g(),ye(h.$$.fragment),b=g(),ye(M.$$.fragment),S=g(),ye(k.$$.fragment),E=g(),ye(F.$$.fragment),R=g(),ye(y.$$.fragment),O=g(),ye(T.$$.fragment)},m(I,D){Me(e,I,D),C(I,l,D),Me(n,I,D),C(I,i,D),Me(s,I,D),C(I,o,D),Me(f,I,D),C(I,r,D),Me(c,I,D),C(I,m,D),Me(d,I,D),C(I,_,D),Me(h,I,D),C(I,b,D),Me(M,I,D),C(I,S,D),Me(k,I,D),C(I,E,D),Me(F,I,D),C(I,R,D),Me(y,I,D),C(I,O,D),Me(T,I,D),j=!0},p(I,D){const U={};D&263164&&(U.$$scope={dirty:D,ctx:I}),e.$set(U);const z={};D&263164&&(z.$$scope={dirty:D,ctx:I}),n.$set(z);const V={};D&262529&&(V.$$scope={dirty:D,ctx:I}),s.$set(V);const W={};D&262145&&(W.$$scope={dirty:D,ctx:I}),f.$set(W);const G={};D&262528&&(G.$$scope={dirty:D,ctx:I}),c.$set(G);const Y={};D&262144&&(Y.$$scope={dirty:D,ctx:I}),d.$set(Y);const B={};D&262144&&(B.$$scope={dirty:D,ctx:I}),h.$set(B);const K={};D&262144&&(K.$$scope={dirty:D,ctx:I}),M.$set(K);const Z={};D&262528&&(Z.$$scope={dirty:D,ctx:I}),k.$set(Z);const te={};D&262144&&(te.$$scope={dirty:D,ctx:I}),F.$set(te);const H={};D&262153&&(H.$$scope={dirty:D,ctx:I}),y.$set(H);const X={};D&262161&&(X.$$scope={dirty:D,ctx:I}),T.$set(X)},i(I){j||(J(e.$$.fragment,I),J(n.$$.fragment,I),J(s.$$.fragment,I),J(f.$$.fragment,I),J(c.$$.fragment,I),J(d.$$.fragment,I),J(h.$$.fragment,I),J(M.$$.fragment,I),J(k.$$.fragment,I),J(F.$$.fragment,I),J(y.$$.fragment,I),J(T.$$.fragment,I),j=!0)},o(I){le(e.$$.fragment,I),le(n.$$.fragment,I),le(s.$$.fragment,I),le(f.$$.fragment,I),le(c.$$.fragment,I),le(d.$$.fragment,I),le(h.$$.fragment,I),le(M.$$.fragment,I),le(k.$$.fragment,I),le(F.$$.fragment,I),le(y.$$.fragment,I),le(T.$$.fragment,I),j=!1},d(I){I&&(P(l),P(i),P(o),P(r),P(m),P(_),P(b),P(S),P(E),P(R),P(O)),Se(e,I),Se(n,I),Se(s,I),Se(f,I),Se(c,I),Se(d,I),Se(h,I),Se(M,I),Se(k,I),Se(F,I),Se(y,I),Se(T,I)}}}function Rm(t){let e,l;return e=new su({props:{sysinfo:t[8],data:t[7]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function jm(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Bm(t){let e,l;return e=new tu({props:{sysinfo:t[8],basepath:t[0],data:t[7]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&1&&(s.basepath=n[0]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Um(t){let e,l;return e=new lu({props:{sysinfo:t[8],data:t[7]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Hm(t){let e,l;return e=new ou({}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Wm(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function zm(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Km(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function $m(t){let e,l;return e=new tu({props:{sysinfo:t[8],basepath:t[0],data:t[7]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&1&&(s.basepath=n[0]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Vm(t){let e,l;return e=new Lm({props:{basepath:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Gm(t){let e,l;return e=new lu({props:{sysinfo:t[8],data:t[7]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Ym(t){let e,l;return e=new _s({props:{title:"CA",action:"/mqtt-ca"}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:He,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Jm(t){let e,l;return e=new _s({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:He,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Xm(t){let e,l;return e=new _s({props:{title:"private key",action:"/mqtt-key"}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:He,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Qm(t){let e,l;return e=new su({props:{sysinfo:t[8],data:t[7]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Zm(t){let e,l;return e=new ou({}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function xm(t){let e,l;return e=new au({props:{prefix:"UTC Hour",data:t[3],url:"/dayplot",basepath:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function e_(t){let e,l;return e=new au({props:{prefix:"Day",data:t[4],url:"/monthplot",basepath:t[0]}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&16&&(s.data=n[4]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function t_(t){let e,l,n,i,s,o=!t[10]&&Xr(t);const f=[Fm,Om],r=[];function c(m,d){return m[1]?0:1}return l=c(t),n=r[l]=f[l](t),{c(){o&&o.c(),e=g(),n.c(),i=tl()},m(m,d){o&&o.m(m,d),C(m,e,d),r[l].m(m,d),C(m,i,d),s=!0},p(m,d){m[10]?o&&(vt(),le(o,1,1,()=>{o=null}),kt()):o?(o.p(m,d),d&1024&&J(o,1)):(o=Xr(m),o.c(),J(o,1),o.m(e.parentNode,e));let _=l;l=c(m),l===_?r[l].p(m,d):(vt(),le(r[_],1,1,()=>{r[_]=null}),kt(),n=r[l],n?n.p(m,d):(n=r[l]=f[l](m),n.c()),J(n,1),n.m(i.parentNode,i))},i(m){s||(J(o),J(n),s=!0)},o(m){le(o),le(n),s=!1},d(m){m&&(P(e),P(i)),o&&o.d(m),r[l].d(m)}}}function Qr(t){let e,l,n,i;const s=[n_,l_],o=[];function f(r,c){return r[8].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(vt(),le(o[m],1,1,()=>{o[m]=null}),kt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),J(l,1),l.m(n.parentNode,n))},i(r){i||(J(l),i=!0)},o(r){le(l),i=!1},d(r){r&&P(n),o[e].d(r)}}}function l_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait"}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:He,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function n_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[8].trying}}),{c(){ye(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.message="Device is booting, please wait. Trying to reach it on "+n[8].trying),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function i_(t){let e,l,n,i;l=new Cf({props:{basepath:t[0],$$slots:{default:[t_]},$$scope:{ctx:t}}});let s=t[8].booting&&Qr(t);return{c(){e=p("div"),ye(l.$$.fragment),n=g(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){C(o,e,f),Me(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&264191&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[8].booting?s?(s.p(o,f),f&256&&J(s,1)):(s=Qr(o),s.c(),J(s,1),s.m(e,null)):s&&(vt(),le(s,1,1,()=>{s=null}),kt())},i(o){i||(J(l.$$.fragment,o),J(s),i=!0)},o(o){le(l.$$.fragment,o),le(s),i=!1},d(o){o&&P(e),Se(l),s&&s.d()}}}function s_(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/");let s=!1;if(typeof window<"u")try{s=new URLSearchParams(window.location.search).get("developer")==="1"}catch{s=!1}hi("no");let o;as.subscribe(y=>{l(2,o=y)});let f;Rf.subscribe(y=>{l(3,f=y)});let r;jf.subscribe(y=>{l(4,r=y)});let c;Bf.subscribe(y=>{l(5,c=y)});let m={};yl.subscribe(y=>{l(6,m=y)});let d,_={},h={},b;const M=(y="")=>{if(typeof y!="string")return"/";let O=y||"/";return i&&i!=="/"&&O.startsWith(i)&&(O=O.slice(i.length),O.startsWith("/")||(O=`/${O}`)),O.startsWith("/")||(O=`/${O}`),O.length>1&&(O=O.replace(/\/+$/,"")),O||"/"},S=["/dashboard","/configuration","/status","/priceconfig","/mqtt-ca","/mqtt-cert","/mqtt-key"];pl.subscribe(y=>{var j;l(8,h=y);const O=(()=>typeof window>"u"?"":M(window.location.pathname??"/").replace(/^\/+/,""))(),T=(h==null?void 0:h.usrcfg)===!0;s||((h==null?void 0:h.usrcfg)===!1?O!=="setup"&&Wn(i+"setup",{replace:!0}):T&&(O===""||O==="/"||O==="setup")&&Wn(i+"velkommen",{replace:!0})),h.ui.k===1?document.documentElement.classList.add("dark"):h.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),h.ui.lang&&h.ui.lang!=((j=m==null?void 0:m.language)==null?void 0:j.code)&&hi(h.ui.lang),h.version&&b&&h.version!=b&&window.location.reload(),b=h.version,d&&clearTimeout(d),d=setTimeout(bi,!_||!_.u||_.u<30||h!=null&&h.upgrading?1e4:3e5)}),Uc.subscribe(y=>{l(7,_=y),i1(y)});let k={};Hf.subscribe(y=>{l(9,k=y)}),Uf();let E=typeof window<"u"?M(window.location.pathname??"/"):"/";const F=(y="/")=>s?y==="/setup"||y==="/velkommen":!S.includes(y),R=()=>{typeof window<"u"&&l(11,E=M(window.location.pathname??"/"))};return es(()=>{R();const y=()=>R();window.addEventListener("popstate",y);const O=history.pushState,T=history.replaceState;return history.pushState=function(...j){O.apply(this,j),R()},history.replaceState=function(...j){T.apply(this,j),R()},()=>{window.removeEventListener("popstate",y),history.pushState=O,history.replaceState=T}}),ts(()=>{R()}),t.$$.update=()=>{t.$$.dirty&2048&&l(10,n=F(E))},[i,s,o,f,r,c,m,_,h,k,n,E]}class o_ extends At{constructor(e){super(),Et(this,e,s_,i_,Ct,{})}}new o_({target:document.getElementById("app")});
