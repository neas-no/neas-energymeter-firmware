var bu=Object.defineProperty;var vu=(t,e,l)=>e in t?bu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(vu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ue(){}function hl(t,e){for(const l in e)t[l]=e[l];return t}function mf(t){return t()}function As(){return Object.create(null)}function Ft(t){t.forEach(mf)}function Xi(t){return typeof t=="function"}function Nt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let xn;function fn(t,e){return t===e?!0:(xn||(xn=document.createElement("a")),xn.href=e,t===xn.href)}function gu(t){return Object.keys(t).length===0}function Ji(t,...e){if(t==null){for(const n of e)n(void 0);return Ue}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function xl(t){let e;return Ji(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Ji(e,l))}function Qi(t,e,l,n){if(t){const i=_f(t,e,l,n);return t[0](i)}}function _f(t,e,l,n){return t[1]&&n?hl(l.ctx.slice(),t[1](n(e))):l.ctx}function Zi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function $i(t,e,l,n,i,s){if(i){const o=_f(e,l,n,s);t.p(o,i)}}function xi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ri(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function fi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const ku=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function Gt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function Mt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function h(){return w(" ")}function el(){return w("")}function be(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Mn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const wu=["width","height"];function kn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&wu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function pf(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function kt(t){return t===""?null:+t}function yu(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function Mu(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Su(t,e,l){~ku.indexOf(l)?Mu(t,e):q(t,e)}function J(t,e){t.value=e??""}function en(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function st(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function nl(t){const e=t.querySelector(":checked");return e&&e.__value}let ei;function Cu(){if(ei===void 0){ei=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ei=!0}}return ei}function es(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Cu();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=be(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=be(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),S(n)}}function $l(t,e,l){t.classList.toggle(e,!!l)}function Nu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function qs(t,e){return new t(e)}let Kn;function jn(t){Kn=t}function Jn(){if(!Kn)throw new Error("Function called outside component initialization");return Kn}function bi(t){Jn().$$.on_mount.push(t)}function vi(t){Jn().$$.on_destroy.push(t)}function Pu(){const t=Jn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Nu(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function Wn(t,e){return Jn().$$.context.set(t,e),e}function ln(t){return Jn().$$.context.get(t)}const pn=[],ui=[];let gn=[];const Ls=[],df=Promise.resolve();let Ai=!1;function hf(){Ai||(Ai=!0,df.then(bf))}function Tu(){return hf(),df}function Yt(t){gn.push(t)}const yi=new Set;let mn=0;function bf(){if(mn!==0)return;const t=Kn;do{try{for(;mn<pn.length;){const e=pn[mn];mn++,jn(e),Eu(e.$$)}}catch(e){throw pn.length=0,mn=0,e}for(jn(null),pn.length=0,mn=0;ui.length;)ui.pop()();for(let e=0;e<gn.length;e+=1){const l=gn[e];yi.has(l)||(yi.add(l),l())}gn.length=0}while(pn.length);for(;Ls.length;)Ls.pop()();Ai=!1,yi.clear(),jn(t)}function Eu(t){if(t.fragment!==null){t.update(),Ft(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Yt)}}function Au(t){const e=[],l=[];gn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),gn=e}const si=new Set;let sn;function wt(){sn={r:0,c:[],p:sn}}function yt(){sn.r||Ft(sn.c),sn=sn.p}function Q(t,e){t&&t.i&&(si.delete(t),t.i(e))}function se(t,e,l,n){if(t&&t.o){if(si.has(t))return;si.add(t),sn.c.push(()=>{si.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function vf(t,e){t.d(1),e.delete(t.key)}function gf(t,e,l,n,i,s,o,f,r,c,m,d){let _=t.length,b=s.length,y=_;const g={};for(;y--;)g[t[y].key]=y;const k=[],v=new Map,N=new Map,P=[];for(y=b;y--;){const I=d(i,s,y),B=l(I);let K=o.get(B);K?n&&P.push(()=>K.p(I,e)):(K=c(B,I),K.c()),v.set(B,k[y]=K),B in g&&N.set(B,Math.abs(y-g[B]))}const O=new Set,E=new Set;function R(I){Q(I,1),I.m(f,m),o.set(I.key,I),m=I.first,b--}for(;_&&b;){const I=k[b-1],B=t[_-1],K=I.key,G=B.key;I===B?(m=I.first,_--,b--):v.has(G)?!o.has(K)||O.has(K)?R(I):E.has(G)?_--:N.get(K)>N.get(G)?(E.add(K),R(I)):(O.add(G),_--):(r(B,o),_--)}for(;_--;){const I=t[_];v.has(I.key)||r(I,o)}for(;b;)R(k[b-1]);return Ft(P),k}function qi(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function ti(t){return typeof t=="object"&&t!==null?t:{}}function Ce(t){t&&t.c()}function Me(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Yt(()=>{const s=t.$$.on_mount.map(mf).filter(Xi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ft(s),t.$$.on_mount=[]}),i.forEach(Yt)}function Se(t,e){const l=t.$$;l.fragment!==null&&(Au(l.after_update),Ft(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function qu(t,e){t.$$.dirty[0]===-1&&(pn.push(t),hf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,l,n,i,s,o=null,f=[-1]){const r=Kn;jn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ue,not_equal:i,bound:As(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:As(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(d,_,...b)=>{const y=b.length?b[0]:_;return c.ctx&&i(c.ctx[d],c.ctx[d]=y)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](y),m&&qu(t,d)),_}):[],c.update(),m=!0,Ft(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=yu(e.target);c.fragment&&c.fragment.l(d),d.forEach(S)}else c.fragment&&c.fragment.c();e.intro&&Q(t.$$.fragment),Me(t,e.target,e.anchor),bf()}jn(r)}class At{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){Se(this,1),this.$destroy=Ue}$on(e,l){if(!Xi(l))return Ue;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!gu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Lu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Lu);const Is=t=>typeof t>"u",kf=t=>typeof t=="function",wf=t=>typeof t=="number";function Iu(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yf(){let t=0;return()=>t++}function Ou(){return Math.random().toString(36).substring(2)}const Ll=typeof window>"u";function Mf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Sf=(t,e)=>t?{}:{style:e},Li=t=>({"aria-hidden":"true",...Sf(t,"display:none;")}),_n=[];function Cf(t,e){return{subscribe:il(t,e).subscribe}}function il(t,e=Ue){let l;const n=new Set;function i(f){if(Nt(t,f)&&(t=f,l)){const r=!_n.length;for(const c of n)c[1](),_n.push(c,t);if(r){for(let c=0;c<_n.length;c+=2)_n[c][0](_n[c+1]);_n.length=0}}}function s(f){i(f(t))}function o(f,r=Ue){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||Ue),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Du(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Cf(l,(o,f)=>{let r=!1;const c=[];let m=0,d=Ue;const _=()=>{if(m)return;d();const y=e(n?c[0]:c,o,f);s?o(y):d=Xi(y)?y:Ue},b=i.map((y,g)=>Ji(y,k=>{c[g]=k,m&=~(1<<g),r&&_()},()=>{m|=1<<g}));return r=!0,_(),function(){Ft(b),d(),r=!1}})}const Qn=t=>`@@svnav-ctx__${t}`,Ii=Qn("LOCATION"),wn=Qn("ROUTER"),Nf=Qn("ROUTE"),Ru=Qn("ROUTE_PARAMS"),Fu=Qn("FOCUS_ELEM"),Pf=/^:(.+)/,Un=(t,e,l)=>t.substr(e,l),Oi=(t,e)=>Un(t,0,e.length)===e,Uu=t=>t==="",Bu=t=>Pf.test(t),Tf=t=>t[0]==="*",ju=t=>t.replace(/\*.*$/,""),Ef=t=>t.replace(/(^\/+|\/+$)/g,"");function Tl(t,e=!1){const l=Ef(t).split("/");return e?l.filter(Boolean):l}const Mi=(t,e)=>t+(e?`?${e}`:""),ts=t=>`/${Ef(t)}`;function Zn(...t){const e=n=>Tl(n,!0).join("/"),l=t.map(e).join("/");return ts(l)}const ls=1,gi=2,un=3,Wu=4,Af=5,Hu=6,qf=7,zu=8,Ku=9,Lf=10,If=11,Vu={[ls]:"Link",[gi]:"Route",[un]:"Router",[Wu]:"useFocus",[Af]:"useLocation",[Hu]:"useMatch",[qf]:"useNavigate",[zu]:"useParams",[Ku]:"useResolvable",[Lf]:"useResolve",[If]:"navigate"},ns=t=>Vu[t];function Gu(t,e){let l;return t===gi?l=e.path?`path="${e.path}"`:"default":t===ls?l=`to="${e.to}"`:t===un&&(l=`basepath="${e.basepath||""}"`),`<${ns(t)} ${l||""} />`}function Yu(t,e,l,n){const i=l&&Gu(n||t,l),s=i?`

Occurred in: ${i}`:"",o=ns(t),f=kf(e)?e(o):e;return`<${o}> ${f}${s}`}const Of=t=>(...e)=>t(Yu(...e)),Df=Of(t=>{throw new Error(t)}),ci=Of(console.warn),Os=4,Xu=3,Ju=2,Qu=1,Zu=1;function $u(t,e){const l=t.default?0:Tl(t.fullPath).reduce((n,i)=>{let s=n;return s+=Os,Uu(i)?s+=Zu:Bu(i)?s+=Ju:Tf(i)?s-=Os+Qu:s+=Xu,s},0);return{route:t,score:l,index:e}}function xu(t){return t.map($u).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Rf(t,e){let l,n;const[i]=e.split("?"),s=Tl(i),o=s[0]==="",f=xu(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let d=!1;const _={},b=v=>({...m,params:_,uri:v});if(m.default){n=b(e);continue}const y=Tl(m.fullPath),g=Math.max(s.length,y.length);let k=0;for(;k<g;k++){const v=y[k],N=s[k];if(!Is(v)&&Tf(v)){const O=v==="*"?"*":v.slice(1);_[O]=s.slice(k).map(decodeURIComponent).join("/");break}if(Is(N)){d=!0;break}const P=Pf.exec(v);if(P&&!o){const O=decodeURIComponent(N);_[P[1]]=O}else if(v!==N){d=!0;break}}if(!d){l=b(Zn(...s.slice(0,k)));break}}return l||n||null}function Ff(t,e){return Rf([t],e)}function e0(t,e){if(Oi(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Tl(l),o=Tl(i);if(s[0]==="")return Mi(i,n);if(!Oi(s[0],".")){const c=o.concat(s).join("/");return Mi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),Mi(`/${r.join("/")}`,n)}function Ds(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=Tl(e,!0),f=Tl(l,!0);for(;o.length;)o[0]!==f[0]&&Df(un,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:Zn(...f),hash:n,search:i,state:s}}const Rs=t=>t.length===1?"":t,is=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Rs(Un(t,l)):"",o=i?Un(t,0,l):t,f=n?Rs(Un(o,e)):"";return{pathname:(n?Un(o,0,e):o)||"/",search:f,hash:s}},t0=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function l0(t,e,l){return Zn(l,e0(t,e))}function n0(t,e){const l=ts(ju(t)),n=Tl(l,!0),i=Tl(e,!0).slice(0,n.length),s=Ff({fullPath:l},Zn(...i));return s&&s.uri}const Si="POP",i0="PUSH",s0="REPLACE";function Ci(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function o0(t){let e=[],l=Ci(t),n=Si;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Ci(t),n=Si,i([s])};i([s]);const f=Mf(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?s0:i0,wf(s))o&&ci(If,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Si,t.history.go(s);else{const c={...f,_key:Ou()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Ci(t),i()}}}function Ni(t,e){return{...is(e),state:t}}function a0(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const r0=!!(!Ll&&window.document&&window.document.createElement),f0=!Ll&&window.location.origin==="null",Uf=o0(r0&&!f0?window:a0()),{navigate:yn}=Uf;let El=null,Bf=!0;function u0(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function c0(t){(!El||t.level>El.level||t.level===El.level&&u0(t.routerId,El.routerId))&&(El=t)}function m0(){El=null}function _0(){Bf=!1}function Fs(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Mf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function p0(t,e){return Number(t.dataset.svnavRouteEnd)===e}function d0(t){return/^H[1-6]$/i.test(t.tagName)}function Us(t,e=document){return e.querySelector(t)}function h0(t){let l=Us(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!p0(l,t);){if(d0(l))return l;const n=Us("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function b0(t){Promise.resolve(xl(t.focusElement)).then(e=>{const l=e||h0(t.id);l||ci(un,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gi),!Fs(l)&&Fs(document.documentElement)})}const v0=(t,e,l)=>(n,i)=>Tu().then(()=>{if(!El||Bf){_0();return}if(n&&b0(El.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=El.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},xl(l));Promise.resolve(m).then(d=>{e.set(d)})}m0()}),g0="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function k0(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Sf(t[6],g0)],i={};for(let s=0;s<n.length;s+=1)i=hl(i,n[s]);return{c(){e=p("div"),l=w(t[0]),kn(e,i)},m(s,o){C(s,e,o),a(e,l)},p(s,o){o[0]&1&&Su(l,s[0],i.contenteditable)},d(s){s&&S(e)}}}function w0(t){let e,l,n,i,s,o=[Li(t[6]),{"data-svnav-router":t[3]}],f={};for(let d=0;d<o.length;d+=1)f=hl(f,o[d]);const r=t[22].default,c=Qi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&k0(t);return{c(){e=p("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=el(),kn(e,f)},m(d,_){C(d,e,_),C(d,l,_),c&&c.m(d,_),C(d,n,_),m&&m.m(d,_),C(d,i,_),s=!0},p(d,_){c&&c.p&&(!s||_[0]&2097152)&&$i(c,r,d,d[21],s?Zi(r,d[21],_,null):xi(d[21]),null),d[2]&&d[4]&&d[1].announcements&&m.p(d,_)},i(d){s||(Q(c,d),s=!0)},o(d){se(c,d),s=!1},d(d){d&&(S(e),S(l),S(n),S(i)),c&&c.d(d),m&&m.d(d)}}}const y0=yf(),Bs="/";function M0(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Bs}=e,{url:d=null}=e,{history:_=Uf}=e,{primary:b=!0}=e,{a11y:y={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:W=>`Navigated to ${W.uri}`,announcements:!0,...y},v=m,N=ts(m),P=ln(Ii),O=ln(wn),E=!P,R=y0(),I=b&&!(O&&!O.manageFocus),B=il("");Pl(t,B,W=>l(0,f=W));const K=O?O.disableInlineStyles:g,G=il([]);Pl(t,G,W=>l(20,o=W));const A=il(null);Pl(t,A,W=>l(18,i=W));let L=!1;const H=E?0:O.level+1,X=E?il((()=>Ds(Ll?is(d):_.location,N))()):P;Pl(t,X,W=>l(17,n=W));const Y=il(n);Pl(t,Y,W=>l(19,s=W));const j=v0(k,B,X),z=W=>x=>x.filter(ue=>ue.id!==W);function $(W){if(Ll){if(L)return;const x=Ff(W,n.pathname);if(x)return L=!0,x}else G.update(x=>{const ue=z(W.id)(x);return ue.push(W),ue})}function ne(W){G.update(z(W))}return!E&&m!==Bs&&ci(un,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),E&&(bi(()=>_.listen(x=>{const ue=Ds(x.location,N);Y.set(n),X.set(ue)})),Wn(Ii,X)),Wn(wn,{activeRoute:A,registerRoute:$,unregisterRoute:ne,manageFocus:I,level:H,id:R,history:E?_:O.history,basepath:E?N:O.basepath,disableInlineStyles:K}),t.$$set=W=>{"basepath"in W&&l(11,m=W.basepath),"url"in W&&l(12,d=W.url),"history"in W&&l(13,_=W.history),"primary"in W&&l(14,b=W.primary),"a11y"in W&&l(15,y=W.a11y),"disableInlineStyles"in W&&l(16,g=W.disableInlineStyles),"$$scope"in W&&l(21,c=W.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==v&&ci(un,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const W=Rf(o,n.pathname);A.set(W)}if(t.$$.dirty[0]&655360&&E){const W=!!n.hash,x=!W&&I,ue=!W||n.pathname!==s.pathname;j(x,ue)}t.$$.dirty[0]&262144&&I&&i&&i.primary&&c0({level:H,routerId:R,route:i})},[f,k,E,R,I,B,K,G,A,X,Y,m,d,_,b,y,g,n,i,s,o,c,r]}class S0 extends At{constructor(e){super(),Et(this,e,M0,w0,Nt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const jf=S0;function $n(t,e,l=wn,n=un){ln(l)||Df(t,s=>`You cannot use ${s} outside of a ${ns(n)}.`,e)}const C0=t=>{const{subscribe:e}=ln(t);return{subscribe:e}};function Wf(){return $n(Af),C0(Ii)}function Hf(){const{history:t}=ln(wn);return t}function zf(){const t=ln(Nf);return t?Du(t,e=>e.base):il("/")}function Kf(){$n(Lf);const t=zf(),{basepath:e}=ln(wn);return n=>l0(n,xl(t),e)}function N0(){$n(qf);const t=Kf(),{navigate:e}=Hf();return(n,i)=>{const s=wf(n)?n:t(n);return e(s,i)}}const P0=t=>({params:t&16,location:t&8}),js=t=>({params:Ll?xl(t[10]):t[4],location:t[3],navigate:t[11]});function Ws(t){let e,l;return e=new jf({props:{primary:t[1],$$slots:{default:[A0]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function T0(t){let e;const l=t[18].default,n=Qi(l,t,t[19],js);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&$i(n,l,i,i[19],e?Zi(l,i[19],s,P0):xi(i[19]),js)},i(i){e||(Q(n,i),e=!0)},o(i){se(n,i),e=!1},d(i){n&&n.d(i)}}}function E0(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Ll?xl(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=hl(c,i[m]);return r!==void 0&&r&7192&&(c=hl(c,qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(Ll?xl(f[10]):f[4]),r&4096&&ti(f[12])]))),{props:c}}return s&&(e=qs(s,o(t))),{c(){e&&Ce(e.$$.fragment),l=el()},m(f,r){e&&Me(e,f,r),C(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){wt();const c=e;se(c.$$.fragment,1,0,()=>{Se(c,1)}),yt()}s?(e=qs(s,o(f,r)),Ce(e.$$.fragment),Q(e.$$.fragment,1),Me(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(Ll?xl(f[10]):f[4]),r&4096&&ti(f[12])]):{};e.$set(c)}},i(f){n||(e&&Q(e.$$.fragment,f),n=!0)},o(f){e&&se(e.$$.fragment,f),n=!1},d(f){f&&S(l),e&&Se(e,f)}}}function A0(t){let e,l,n,i;const s=[E0,T0],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=el()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(wt(),se(o[m],1,1,()=>{o[m]=null}),yt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),Q(l,1),l.m(n.parentNode,n))},i(r){i||(Q(l),i=!0)},o(r){se(l),i=!1},d(r){r&&S(n),o[e].d(r)}}}function q0(t){let e,l,n,i,s,o=[Li(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let d=0;d<o.length;d+=1)f=hl(f,o[d]);let r=t[2]&&Ws(t),c=[Li(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let d=0;d<c.length;d+=1)m=hl(m,c[d]);return{c(){e=p("div"),l=h(),r&&r.c(),n=h(),i=p("div"),kn(e,f),kn(i,m)},m(d,_){C(d,e,_),C(d,l,_),r&&r.m(d,_),C(d,n,_),C(d,i,_),s=!0},p(d,[_]){d[2]?r?(r.p(d,_),_&4&&Q(r,1)):(r=Ws(d),r.c(),Q(r,1),r.m(n.parentNode,n)):r&&(wt(),se(r,1,1,()=>{r=null}),yt())},i(d){s||(Q(r),s=!0)},o(d){se(r),s=!1},d(d){d&&(S(e),S(l),S(n),S(i)),r&&r.d(d)}}}const L0=yf();function I0(t,e,l){let n;const i=["path","component","meta","primary"];let s=fi(e,i),o,f,r,c,{$$slots:m={},$$scope:d}=e,{path:_=""}=e,{component:b=null}=e,{meta:y={}}=e,{primary:g=!0}=e;$n(gi,e);const k=L0(),{registerRoute:v,unregisterRoute:N,activeRoute:P,disableInlineStyles:O}=ln(wn);Pl(t,P,L=>l(16,o=L));const E=zf();Pl(t,E,L=>l(17,r=L));const R=Wf();Pl(t,R,L=>l(3,f=L));const I=il(null);let B;const K=il(),G=il({});Pl(t,G,L=>l(4,c=L)),Wn(Nf,K),Wn(Ru,G),Wn(Fu,I);const A=N0();return Ll||vi(()=>N(k)),t.$$set=L=>{l(24,e=hl(hl({},e),ri(L))),l(12,s=fi(e,i)),"path"in L&&l(13,_=L.path),"component"in L&&l(0,b=L.component),"meta"in L&&l(14,y=L.meta),"primary"in L&&l(1,g=L.primary),"$$scope"in L&&l(19,d=L.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const L=_==="",H=Zn(r,_),U={id:k,path:_,meta:y,default:L,fullPath:L?"":H,base:L?r:n0(H,f.pathname),primary:g,focusElement:I};K.set(U),l(15,B=v(U))}if(t.$$.dirty&98304&&l(2,n=!!(B||o&&o.id===k)),t.$$.dirty&98308&&n){const{params:L}=B||o;G.set(L)}},e=ri(e),[b,g,n,f,c,k,P,O,E,R,G,A,s,_,y,B,o,r,m,d]}class O0 extends At{constructor(e){super(),Et(this,e,I0,q0,Nt,{path:13,component:0,meta:14,primary:1})}}const dl=O0;function D0(t){let e,l,n,i;const s=t[13].default,o=Qi(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=hl(r,f[c]);return{c(){e=p("a"),o&&o.c(),kn(e,r)},m(c,m){C(c,e,m),o&&o.m(e,null),l=!0,n||(i=be(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&$i(o,s,c,c[12],l?Zi(s,c[12],m,null):xi(c[12]),null),kn(e,r=qi(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(Q(o,c),l=!0)},o(c){se(o,c),l=!1},d(c){c&&S(e),o&&o.d(c),n=!1,i()}}}function R0(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=fi(e,c),d,{$$slots:_={},$$scope:b}=e,{to:y}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:v=null}=e;$n(ls,e);const N=Wf();Pl(t,N,I=>l(11,d=I));const P=Pu(),O=Kf(),{navigate:E}=Hf();function R(I){P("click",I),Iu(I)&&(I.preventDefault(),E(n,{state:k,replace:o||g}))}return t.$$set=I=>{l(19,e=hl(hl({},e),ri(I))),l(18,m=fi(e,c)),"to"in I&&l(5,y=I.to),"replace"in I&&l(6,g=I.replace),"state"in I&&l(7,k=I.state),"getProps"in I&&l(8,v=I.getProps),"$$scope"in I&&l(12,b=I.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=O(y,d)),t.$$.dirty&2049&&l(10,i=Oi(d.pathname,n)),t.$$.dirty&2049&&l(9,s=n===d.pathname),t.$$.dirty&2049&&(o=is(n)===t0(d)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(kf(v)){const I=v({location:d,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...I}}return m})())},e=ri(e),[n,r,f,N,R,y,g,k,v,s,i,d,b,_]}class F0 extends At{constructor(e){super(),Et(this,e,R0,D0,Nt,{to:5,replace:6,state:7,getProps:8})}}const bl=F0;function li(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function U0(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function ss(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function Vn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function mi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function ct(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Gn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function Fe(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Hn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Vt(t,e){return t==1||t==2&&e}function Ol(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Wt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Il(t,e){return t.setTime(t.getTime()+e*36e5),t}function B0(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function j0(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Hs=0;function rn(t,e){Hs++;const l=W0(t);if(!l.length){e&&e(""),setTimeout(rn,1500,t,e);return}const n=l[(Hs-1)%l.length];if(!n){setTimeout(rn,1e3,t,e);return}const i=H0(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(rn,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function W0(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function H0(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function ll(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zs(t){return t.startsWith("esp32")?"esp32":t}function fl(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Yn(t,e){let l=[Wt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Wt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let tn="[\\x20-\\x7E]+",_i="[\\x20-\\xFF]+",pi="[A-Za-z0-9_\\-]+",Vf="[0-9A-Fa-f]+",Fn="[0-9]+",oi={},Di=[];async function z0(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function Gf(){if(Di.length){let t=Di.shift();delete oi[t.resource];try{let e=await z0(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(Gf,100)}Gf();async function Sl(t,e={}){let l;return oi[t]?l=oi[t]:(l={resource:t,options:e,callbacks:[]},oi[t]=l,Di.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function ki(){Nl=await(await Sl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ul.set(Nl)}const ul=il(Nl,t=>(ki(),function(){}));function K0(t){ul.update(e=>(e.trying=t,e))}let zn={c:-1,n:[]};const Ks=new Map;let V0=0,on=null,di=!1,hn=null,ai=null;async function G0(){try{const e=await(await Sl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let o=Ks.get(s.s);o===void 0&&(o=V0++,Ks.set(s.s,o)),l.set(s.s,{...s,_order:o})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);zn={c:n.length,n},hn&&hn(zn)}catch{zn.c<0&&hn&&hn({c:-1,n:[]})}finally{ai=null}}function Y0(){return ai||(ai=G0()),ai}function Yf(t=0){di&&(on&&clearTimeout(on),on=setTimeout(()=>{on=null,Y0()},Math.max(0,t)))}let ni=0,Vs=-127,Gs=null,X0={};const J0=Cf(X0,t=>{let e,l,n=!1;async function i(){Sl("data.json").then(s=>s.json()).then(s=>{t(s),Vs!=s.t&&(Vs=s.t,setTimeout(Q0,2e3)),Gs==null&&s.pe&&s.p!=null&&(Gs=s.p,Jf()),(!Nl||!Nl.chip||Nl.booting||ni>1&&!Hn(Nl.board))&&(ki(),Al&&clearTimeout(Al),Al=setTimeout(Ui,2e3),ql&&clearTimeout(ql),ql=setTimeout(ji,3e3)),s.u,Al||(Al=Ui()),ql||(ql=ji());let o=5e3;if(Hn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),ni=0,di&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Yf(0)}))}).catch(s=>{ni++,ni>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(rn,5e3,Nl,K0))):e=setTimeout(i,Hn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Ri={},Bn;const os=il(Ri);async function Xf(){let t=!1;os.update(e=>{for(var l=0;l<36;l++){if(e[ct(l)]==null){t=l<12;break}e[ct(l)]=e[ct(l+1)]}return e}),t?Jf():Bn=setTimeout(Xf,(60-new Date().getMinutes())*6e4)}async function Jf(){Bn&&(clearTimeout(Bn),Bn=0),Ri=await(await Sl("energyprice.json")).json(),os.set(Ri),Bn=setTimeout(Xf,(60-new Date().getMinutes())*6e4)}let Fi={},Al;async function Ui(){Al&&(clearTimeout(Al),Al=0),Fi=await(await Sl("dayplot.json")).json(),Qf.set(Fi),Al=setTimeout(Ui,(60-new Date().getMinutes())*6e4+20)}const Qf=il(Fi,t=>function(){});let Bi={},ql;async function ji(){ql&&(clearTimeout(ql),ql=0),Bi=await(await Sl("monthplot.json")).json(),Zf.set(Bi),ql=setTimeout(ji,(24-new Date().getHours())*36e5+40)}const Zf=il(Bi,t=>function(){});let Wi={};async function Q0(){Wi=await(await Sl("temperature.json")).json(),$f.set(Wi)}const $f=il(Wi,t=>function(){});let Hi={},ii;async function xf(){ii&&(clearTimeout(ii),ii=0),Hi=await(await Sl("tariff.json")).json(),eu.set(Hi),ii=setTimeout(xf,(60-new Date().getMinutes())*6e4+30)}const eu=il(Hi,t=>function(){}),tu=il(zn,t=>(hn=t,di=!0,t(zn),Yf(0),function(){di=!1,hn=null,on&&(clearTimeout(on),on=null)}));let zi=!1;const Cl=il(zi);async function hi(t){zi=await(await Sl("translations.json"+(t?"?lang="+t:""))).json(),Cl.set(zi)}hi();const lu="/neas_logotype_white.svg",nu="/wifi-low-light.svg",iu="/wifi-medium-light.svg",su="/wifi-high-light.svg",ou="/wifi-off-light.svg";function Ys(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function au(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Xs(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?nc:c[2]>0?lc:c[3]>1?tc:c[3]>0?ec:c[4]>1?x0:c[4]>0?$0:Z0}let o=s(t),f=o(t);return{c(){l=w(e),n=h(),f.c(),i=el()},m(c,m){C(c,l,m),C(c,n,m),f.m(c,m),C(c,i,m)},p(c,m){var d;m&2&&e!==(e=(((d=c[1].header)==null?void 0:d.uptime)??"Up")+"")&&q(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(S(l),S(n),S(i)),f.d(c)}}}function Z0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=w(t[0]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&1&&q(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function $0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=w(t[4]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&q(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function x0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=w(t[4]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&q(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function ec(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=w(t[3]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&q(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function tc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=w(t[3]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&q(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function lc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=w(t[2]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&q(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function nc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=w(t[2]),l=h(),i=w(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&q(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&q(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function ic(t){let e,l=t[0]&&Xs(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Xs(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(n){n&&S(e),l&&l.d(n)}}}function sc(t,e,l){let{epoch:n}=e,i={};Cl.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class oc extends At{constructor(e){super(),Et(this,e,sc,ic,Nt,{epoch:0})}}function ac(t){let e,l,n;return{c(){e=p("span"),l=w(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),a(e,l)},p(i,[s]){s&4&&q(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:Ue,o:Ue,d(i){i&&S(e)}}}function rc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Xn extends At{constructor(e){super(),Et(this,e,rc,ac,Nt,{color:0,title:1,text:2})}}function fc(t){let e,l=`${ct(t[0].getDate())}.${ct(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=w(l),u(e,"class",t[1])},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${ct(i[0].getDate())}.${ct(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&q(n,l),s&2&&u(e,"class",i[1])},d(i){i&&S(e)}}}function uc(t){var n;let e=`${ct(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:ct(t[0].getMonth()+1)} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,l;return{c(){l=w(e)},m(i,s){C(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${ct(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:ct(i[0].getMonth()+1)} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&q(l,e)},d(i){i&&S(l)}}}function cc(t){let e;function l(s,o){return s[3]?uc:fc}let n=l(t),i=n(t);return{c(){i.c(),e=el()},m(s,o){i.m(s,o),C(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ue,o:Ue,d(s){s&&S(e),i.d(s)}}}function mc(t,e,l){let n={};Cl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Il(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class ru extends At{constructor(e){super(),Et(this,e,mc,cc,Nt,{timestamp:0,fullTimeColor:1,offset:4})}}function _c(t){let e,l,n;return{c(){e=Mt("svg"),l=Mt("path"),n=Mt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p:Ue,i:Ue,o:Ue,d(i){i&&S(e)}}}class pc extends At{constructor(e){super(),Et(this,e,null,_c,Nt,{})}}function dc(t){let e,l;return{c(){e=Mt("svg"),l=Mt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){C(n,e,i),a(e,l)},p:Ue,i:Ue,o:Ue,d(n){n&&S(e)}}}class hc extends At{constructor(e){super(),Et(this,e,null,dc,Nt,{})}}function bc(t){let e,l;return{c(){e=p("img"),u(e,"class","w-36 h-auto"),u(e,"alt","Neas logo"),fn(e.src,l=lu)||u(e,"src",l)},m(n,i){C(n,e,i)},p:Ue,d(n){n&&S(e)}}}function Js(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=w(l),i=w("°C"),u(e,"class","flex-none my-auto")},m(s,o){C(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&q(n,l)},d(s){s&&S(e)}}}function Qs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.han)??"Han-port")+": "+(((d=(m=f[5].errors)==null?void 0:m.han)==null?void 0:d[f[0].he])??f[0].he))&&q(n,l)},d(f){f&&S(e)}}}function Zs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((d=(m=f[5].errors)==null?void 0:m.mqtt)==null?void 0:d[f[0].me])??f[0].me))&&q(n,l)},d(f){f&&S(e)}}}function $s(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.price)??"PS")+": "+(((d=(m=f[5].errors)==null?void 0:m.price)==null?void 0:d[f[0].ee])??f[0].ee))&&q(n,l)},d(f){f&&S(e)}}}function xs(t){let e,l,n,i,s,o,f,r;return l=new bl({props:{to:"/configuration",$$slots:{default:[vc]},$$scope:{ctx:t}}}),o=new bl({props:{to:"/status",$$slots:{default:[gc]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),Ce(l.$$.fragment),i=h(),s=p("div"),Ce(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){C(c,e,m),Me(l,e,null),C(c,i,m),C(c,s,m),Me(o,s,null),r=!0},p(c,m){var b,y;const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),l.$set(d),(!r||m&32&&n!==(n=((b=c[5].header)==null?void 0:b.config)??""))&&u(e,"title",n);const _={};m&512&&(_.$$scope={dirty:m,ctx:c}),o.$set(_),(!r||m&32&&f!==(f=((y=c[5].header)==null?void 0:y.status)??""))&&u(s,"title",f)},i(c){r||(Q(l.$$.fragment,c),Q(o.$$.fragment,c),r=!0)},o(c){se(l.$$.fragment,c),se(o.$$.fragment,c),r=!1},d(c){c&&(S(e),S(i),S(s)),Se(l),Se(o)}}}function vc(t){let e,l;return e=new pc({}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function gc(t){let e,l;return e=new hc({}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function kc(t){let e,l;function n(o,f){return o[1].security==0||o[0].a?Mc:yc}let i=n(t),s=i(t);return{c(){var o;e=p("div"),s.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",l=(((o=t[5].header)==null?void 0:o.new_version)??"Ny oppdatering")+": "+t[1].upgrade.n)},m(o,f){C(o,e,f),s.m(e,null)},p(o,f){var r;i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&34&&l!==(l=(((r=o[5].header)==null?void 0:r.new_version)??"Ny oppdatering")+": "+o[1].upgrade.n)&&u(e,"title",l)},d(o){o&&S(e),s.d()}}}function wc(t){let e,l,n=t[1].upgrade.t+"",i,s,o=t[4].toFixed(1)+"",f,r;return{c(){e=p("div"),l=w("Oppdaterer til "),i=w(n),s=w(", "),f=w(o),r=w("%"),u(e,"class","flex-none mr-3 mt-1 text-yellow-300")},m(c,m){C(c,e,m),a(e,l),a(e,i),a(e,s),a(e,f),a(e,r)},p(c,m){m&2&&n!==(n=c[1].upgrade.t+"")&&q(i,n),m&16&&o!==(o=c[4].toFixed(1)+"")&&q(f,o)},d(c){c&&S(e)}}}function yc(t){var f;let e,l=(((f=t[5].header)==null?void 0:f.new_version)??"Ny oppdatering")+"",n,i,s=t[1].upgrade.n+"",o;return{c(){e=p("span"),n=w(l),i=w(": "),o=w(s)},m(r,c){C(r,e,c),a(e,n),a(e,i),a(e,o)},p(r,c){var m;c&32&&l!==(l=(((m=r[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"")&&q(n,l),c&2&&s!==(s=r[1].upgrade.n+"")&&q(o,s)},d(r){r&&S(e)}}}function Mc(t){var m;let e,l,n=(((m=t[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"",i,s,o=t[1].upgrade.n+"",f,r,c;return{c(){e=p("button"),l=p("span"),i=w(n),s=w(": "),f=w(o),u(l,"class","mt-1"),u(e,"class","flex")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(l,s),a(l,f),r||(c=be(e,"click",t[6]),r=!0)},p(d,_){var b;_&32&&n!==(n=(((b=d[5].header)==null?void 0:b.new_version)??"Ny oppdatering")+"")&&q(i,n),_&2&&o!==(o=d[1].upgrade.n+"")&&q(f,o)},d(d){d&&S(e),r=!1,c()}}}function Sc(t){let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R,I,B,K,G,A,L;i=new bl({props:{to:"/",class:"flex items-center",$$slots:{default:[bc]},$$scope:{ctx:t}}}),r=new oc({props:{epoch:t[0].u}});let H=t[0].t>-50&&Js(t);_=new Xn({props:{title:"Han-port",text:"Han-port",color:li(t[1].booting?9:t[0].hm)}}),y=new Xn({props:{title:"Minside",text:"Minside",color:li(t[1].booting?9:t[0].mm)}});let U=(t[0].he<0||t[0].he>0)&&Qs(t),X=t[0].me<0&&Zs(t),Y=(t[0].ee>0||t[0].ee<0)&&$s(t);K=new ru({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let j=t[1].vndcfg&&t[1].usrcfg&&xs(t);function z(W,x){if(W[1].upgrading)return wc;if(W[1].fwconsent===1&&W[1].upgrade.n)return kc}let $=z(t),ne=$&&$(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),Ce(i.$$.fragment),s=h(),o=p("div"),f=p("div"),Ce(r.$$.fragment),c=h(),H&&H.c(),m=h(),d=p("div"),Ce(_.$$.fragment),b=h(),Ce(y.$$.fragment),g=h(),U&&U.c(),k=h(),X&&X.c(),v=h(),Y&&Y.c(),N=h(),P=p("div"),O=p("div"),E=p("img"),I=h(),B=p("div"),Ce(K.$$.fragment),G=h(),j&&j.c(),A=h(),ne&&ne.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(d,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(E,"class","h-10 w-10"),fn(E.src,R=t[2])||u(E,"src",R),u(E,"alt",t[3]),u(O,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(B,"class","flex-none my-auto px-2"),u(P,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(W,x){C(W,e,x),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,f),Me(r,f,null),a(o,c),H&&H.m(o,null),a(l,m),a(l,d),Me(_,d,null),a(d,b),Me(y,d,null),a(l,g),U&&U.m(l,null),a(l,k),X&&X.m(l,null),a(l,v),Y&&Y.m(l,null),a(l,N),a(l,P),a(P,O),a(O,E),a(P,I),a(P,B),Me(K,B,null),a(P,G),j&&j.m(P,null),a(P,A),ne&&ne.m(P,null),L=!0},p(W,[x]){const ue={};x&512&&(ue.$$scope={dirty:x,ctx:W}),i.$set(ue);const re={};x&1&&(re.epoch=W[0].u),r.$set(re),W[0].t>-50?H?H.p(W,x):(H=Js(W),H.c(),H.m(o,null)):H&&(H.d(1),H=null);const fe={};x&3&&(fe.color=li(W[1].booting?9:W[0].hm)),_.$set(fe);const ce={};x&3&&(ce.color=li(W[1].booting?9:W[0].mm)),y.$set(ce),W[0].he<0||W[0].he>0?U?U.p(W,x):(U=Qs(W),U.c(),U.m(l,k)):U&&(U.d(1),U=null),W[0].me<0?X?X.p(W,x):(X=Zs(W),X.c(),X.m(l,v)):X&&(X.d(1),X=null),W[0].ee>0||W[0].ee<0?Y?Y.p(W,x):(Y=$s(W),Y.c(),Y.m(l,N)):Y&&(Y.d(1),Y=null),(!L||x&4&&!fn(E.src,R=W[2]))&&u(E,"src",R),(!L||x&8)&&u(E,"alt",W[3]);const le={};x&1&&(le.timestamp=W[0].c?new Date(W[0].c*1e3):new Date(0)),x&2&&(le.offset=W[1].clock_offset),K.$set(le),W[1].vndcfg&&W[1].usrcfg?j?(j.p(W,x),x&2&&Q(j,1)):(j=xs(W),j.c(),Q(j,1),j.m(P,A)):j&&(wt(),se(j,1,1,()=>{j=null}),yt()),$===($=z(W))&&ne?ne.p(W,x):(ne&&ne.d(1),ne=$&&$(W),ne&&(ne.c(),ne.m(P,null)))},i(W){L||(Q(i.$$.fragment,W),Q(r.$$.fragment,W),Q(_.$$.fragment,W),Q(y.$$.fragment,W),Q(K.$$.fragment,W),Q(j),L=!0)},o(W){se(i.$$.fragment,W),se(r.$$.fragment,W),se(_.$$.fragment,W),se(y.$$.fragment,W),se(K.$$.fragment,W),se(j),L=!1},d(W){W&&S(e),Se(i),Se(r),H&&H.d(),Se(_),Se(y),U&&U.d(),X&&X.d(),Y&&Y.d(),Se(K),j&&j.d(),ne&&ne.d()}}}function Cc(t,e,l){const n={high:su,medium:iu,low:nu,off:ou};let i=n.off,s="Wi-Fi offline",{basepath:o="/"}=e,{data:f={}}=e,r={};function c(){var _;confirm((((_=d.header)==null?void 0:_.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(au(r.upgrade.n),ul.update(b=>(b.upgrade.t=r.upgrade.n,b.upgrade.p=0,b.upgrading=!0,b)))}let m;ul.subscribe(_=>{l(1,r=_)});let d={};return Cl.subscribe(_=>{l(5,d=_)}),t.$$set=_=>{"basepath"in _&&l(7,o=_.basepath),"data"in _&&l(0,f=_.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:_,label:b}=Gn(f==null?void 0:f.r);l(2,i=n[_]??n.off),l(3,s=b)}},[f,r,i,s,m,d,c,o]}class Nc extends At{constructor(e){super(),Et(this,e,Cc,Sc,Nt,{basepath:7,data:0})}}function Pc(t){let e,l,n,i;return{c(){e=Mt("svg"),l=Mt("path"),n=Mt("path"),u(l,"d",Ti(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ti(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){C(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ti(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:Ue,o:Ue,d(s){s&&S(e)}}}function eo(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ti(t,e,l,n,i){var s=eo(t,e,l,i),o=eo(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function Tc(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class Ec extends At{constructor(e){super(),Et(this,e,Tc,Pc,Nt,{pct:0,color:1})}}function to(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=h(),n=p("span"),s=w(i),o=h(),f=p("span"),c=w(r),m=w("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(d,_){C(d,e,_),C(d,l,_),C(d,n,_),a(n,s),C(d,o,_),C(d,f,_),a(f,c),a(f,m)},p(d,_){_&2&&i!==(i=d[1][0]+"")&&q(s,i),_&2&&r!==(r=d[1][1]+"")&&q(c,r)},d(d){d&&(S(e),S(l),S(n),S(o),S(f))}}}function Ac(t){let e,l,n,i,s,o,f,r,c,m,d=t[3][0]+"",_,b,y,g=t[3][1]+"",k,v,N;l=new Ec({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let P=t[1]&&to(t);return{c(){e=p("div"),Ce(l.$$.fragment),n=h(),i=p("span"),s=p("span"),o=w(t[0]),f=h(),r=p("br"),c=h(),m=p("span"),_=w(d),b=h(),y=p("span"),k=w(g),v=h(),P&&P.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(y,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(O,E){C(O,e,E),Me(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,_),a(i,b),a(i,y),a(y,k),a(i,v),P&&P.m(i,null),N=!0},p(O,[E]){const R={};E&16&&(R.pct=O[4]),E&20&&(R.color=O[2](O[4],document.documentElement.classList.contains("dark"))),l.$set(R),(!N||E&1)&&q(o,O[0]),(!N||E&8)&&d!==(d=O[3][0]+"")&&q(_,d),(!N||E&8)&&g!==(g=O[3][1]+"")&&q(k,g),O[1]?P?P.p(O,E):(P=to(O),P.c(),P.m(i,null)):P&&(P.d(1),P=null)},i(O){N||(Q(l.$$.fragment,O),N=!0)},o(O){se(l.$$.fragment,O),N=!1},d(O){O&&S(e),Se(l),P&&P.d()}}}function qc(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=d=>{"val"in d&&l(5,n=d.val),"max"in d&&l(6,i=d.max),"unit"in d&&l(7,s=d.unit),"label"in d&&l(0,o=d.label),"sub"in d&&l(1,f=d.sub),"colorFn"in d&&l(2,r=d.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=fl(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class fu extends At{constructor(e){super(),Et(this,e,qc,Ac,Nt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function lo(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function no(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function io(t,e,l){const n=t.slice();return n[15]=e[l],n}function so(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&oo(t),c=He(t[0].y.ticks),m=[];for(let g=0;g<c.length;g+=1)m[g]=uo(io(t,c,g));let d=He(t[0].x.ticks),_=[];for(let g=0;g<d.length;g+=1)_[g]=_o(no(t,d,g));let b=He(t[0].points),y=[];for(let g=0;g<b.length;g+=1)y[g]=yo(lo(t,b,g));return{c(){r&&r.c(),e=h(),l=Mt("svg"),n=Mt("g");for(let g=0;g<m.length;g+=1)m[g].c();i=Mt("g");for(let g=0;g<_.length;g+=1)_[g].c();s=Mt("g");for(let g=0;g<y.length;g+=1)y[g].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(g,k){r&&r.m(g,k),C(g,e,k),C(g,l,k),a(l,n);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(n,null);a(l,i);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(i,null);a(l,s);for(let v=0;v<y.length;v+=1)y[v]&&y[v].m(s,null);f=!0},p(g,k){if(g[0].title||g[0].link?r?(r.p(g,k),k&1&&Q(r,1)):(r=oo(g),r.c(),Q(r,1),r.m(e.parentNode,e)):r&&(wt(),se(r,1,1,()=>{r=null}),yt()),k&129){c=He(g[0].y.ticks);let v;for(v=0;v<c.length;v+=1){const N=io(g,c,v);m[v]?m[v].p(N,k):(m[v]=uo(N),m[v].c(),m[v].m(n,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=c.length}if(k&89){d=He(g[0].x.ticks);let v;for(v=0;v<d.length;v+=1){const N=no(g,d,v);_[v]?_[v].p(N,k):(_[v]=_o(N),_[v].c(),_[v].m(i,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=d.length}if(k&457){b=He(g[0].points);let v;for(v=0;v<b.length;v+=1){const N=lo(g,b,v);y[v]?y[v].p(N,k):(y[v]=yo(N),y[v].c(),y[v].m(s,null))}for(;v<y.length;v+=1)y[v].d(1);y.length=b.length}(!f||k&18&&o!==(o="0 0 "+g[1]+" "+g[4]))&&u(l,"viewBox",o)},i(g){f||(Q(r),f=!0)},o(g){se(r),f=!1},d(g){g&&(S(e),S(l)),r&&r.d(g),Gt(m,g),Gt(_,g),Gt(y,g)}}}function oo(t){let e,l,n,i=t[0].title&&ao(t),s=t[0].link&&ro(t);return{c(){e=p("div"),i&&i.c(),l=h(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){C(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=ao(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&Q(s,1)):(s=ro(o),s.c(),Q(s,1),s.m(e,null)):s&&(wt(),se(s,1,1,()=>{s=null}),yt())},i(o){n||(Q(s),n=!0)},o(o){se(s),n=!1},d(o){o&&S(e),i&&i.d(),s&&s.d()}}}function ao(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm font-bold"),Yt(()=>t[9].call(e))},m(s,o){C(s,e,o),a(e,n),i=es(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&q(n,l)},d(s){s&&S(e),i()}}}function ro(t){let e,l,n,i;const s=[Ic,Lc],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){C(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(wt(),se(o[m],1,1,()=>{o[m]=null}),yt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),Q(n,1),n.m(e,null))},i(r){i||(Q(n),i=!0)},o(r){se(n),i=!1},d(r){r&&S(e),o[l].d()}}}function Lc(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=w(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){C(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&q(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:Ue,o:Ue,d(o){o&&S(e)}}}function Ic(t){let e,l;return e=new bl({props:{to:t[0].link.url,$$slots:{default:[Oc]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Oc(t){let e=t[0].link.text+"",l;return{c(){l=w(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&q(l,e)},d(n){n&&S(l)}}}function fo(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=Mt("g"),l=Mt("line"),n=Mt("text"),s=w(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&q(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&S(e)}}}function uo(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&fo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=fo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function co(t){let e,l,n=(t[3]>20||t[13]%2==0)&&mo(t);return{c(){e=Mt("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=mo(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&S(e),n&&n.d()}}}function mo(t){let e,l=t[11].label+"",n,i;return{c(){e=Mt("text"),n=w(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){C(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&q(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&S(e)}}}function _o(t){let e=!isNaN(t[6](t[13])),l,n=e&&co(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=co(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function po(t){let e,l,n=t[11].value!==void 0&&ho(t),i=t[11].value2>1e-4&&go(t);return{c(){e=Mt("g"),n&&n.c(),l=Mt("g"),i&&i.c()},m(s,o){C(s,e,o),n&&n.m(e,null),C(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=ho(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=go(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(S(e),S(l)),n&&n.d(),i&&i.d()}}}function ho(t){let e,l,n,i,s,o,f,r=t[3]>15&&bo(t);return{c(){e=Mt("rect"),r&&r.c(),f=el(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=bo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function bo(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&vo(t);return{c(){e=Mt("text"),n=w(l),c&&c.c(),r=el(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<an||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<an?90:0)+")")},m(m,d){C(m,e,d),a(e,n),c&&c.m(m,d),C(m,r,d)},p(m,d){d&1&&l!==(l=m[11].label+"")&&q(n,l),d&8&&i!==(i=m[3]-4)&&u(e,"width",i),d&9&&s!==(s=m[3]<an||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),d&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),d&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<an?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,d):(c=vo(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(S(e),S(r)),c&&c.d(m)}}}function vo(t){let e,l=t[11].title+"",n;return{c(){e=Mt("title"),n=w(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&q(n,l)},d(i){i&&S(e)}}}function go(t){let e,l,n,i,s,o,f,r=t[3]>15&&ko(t);return{c(){e=Mt("rect"),r&&r.c(),f=el(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=ko(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function ko(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&wo(t);return{c(){e=Mt("text"),n=w(l),r&&r.c(),f=el(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<an?90:0)+")")},m(c,m){C(c,e,m),a(e,n),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&q(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<an?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=wo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function wo(t){let e,l=t[11].title2+"",n;return{c(){e=Mt("title"),n=w(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&q(n,l)},d(i){i&&S(e)}}}function yo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&po(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=po(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function Dc(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&so(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Yt(()=>t[10].call(e))},m(s,o){C(s,e,o),i&&i.m(e,null),l=es(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&Q(i,1)):(i=so(s),i.c(),Q(i,1),i.m(e,null)):i&&(wt(),se(i,1,1,()=>{i=null}),yt())},i(s){n||(Q(i),n=!0)},o(s){se(i),n=!1},d(s){s&&S(e),i&&i.d(),l()}}}let an=30;function Rc(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,d=0;function _(){d=this.clientHeight,l(5,d)}function b(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=y=>{"config"in y&&l(0,n=y.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-d);let y=i-(n.padding.left+n.padding.right);l(3,o=y/n.points.length),l(8,m=o<an?30:15);let g=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(k){return k*o+n.padding.left}),l(7,r=function(k){let v=0;return k>n.y.max?v=n.padding.bottom:k<n.y.min?v=c-n.padding.bottom:v=c-n.padding.bottom-(k-n.y.min)*g,v>c||v<0?0:v})}},[n,i,s,o,c,d,f,r,m,_,b]}class cn extends At{constructor(e){super(),Et(this,e,Rc,Dc,Nt,{config:0})}}function Fc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Uc(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Wt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:U0(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],d=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),d.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),d.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),d.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:d})}},[r,n,i,s,o,f]}class Bc extends At{constructor(e){super(),Et(this,e,Uc,Fc,Nt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function jc(t){var D,V,te,ie,pe;let e,l,n=(((D=t[0].reactive)==null?void 0:D.title)??"Reactive")+"",i,s,o,f,r=(((V=t[0].reactive)==null?void 0:V.instant_in)??"Instant in")+"",c,m,d,_=t[1][0]+"",b,y,g=t[1][1]+"",k,v,N,P=(((te=t[0].reactive)==null?void 0:te.instant_out)??"Instant out")+"",O,E,R,I=t[2][0]+"",B,K,G=t[2][1]+"",A,L,H,U,X=(((ie=t[0].reactive)==null?void 0:ie.total_in)??"Total in")+"",Y,j,z,$=t[3][0]+"",ne,W,x=t[3][1]+"",ue,re,fe,ce=(((pe=t[0].reactive)==null?void 0:pe.total_out)??"Total out")+"",le,Z,ee,ve=t[4][0]+"",ke,T,M=t[4][1]+"",F;return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("div"),f=p("div"),c=w(r),m=h(),d=p("div"),b=w(_),y=h(),k=w(g),v=h(),N=p("div"),O=w(P),E=h(),R=p("div"),B=w(I),K=h(),A=w(G),L=h(),H=p("div"),U=p("div"),Y=w(X),j=h(),z=p("div"),ne=w($),W=h(),ue=w(x),re=h(),fe=p("div"),le=w(ce),Z=h(),ee=p("div"),ke=w(ve),T=h(),F=w(M),u(d,"class","text-right"),u(R,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(z,"class","text-right"),u(ee,"class","text-right"),u(H,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(me,oe){C(me,e,oe),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,b),a(d,y),a(d,k),a(o,v),a(o,N),a(N,O),a(o,E),a(o,R),a(R,B),a(R,K),a(R,A),a(e,L),a(e,H),a(H,U),a(U,Y),a(H,j),a(H,z),a(z,ne),a(z,W),a(z,ue),a(H,re),a(H,fe),a(fe,le),a(H,Z),a(H,ee),a(ee,ke),a(ee,T),a(ee,F)},p(me,[oe]){var we,ge,Ae,Le,Be;oe&1&&n!==(n=(((we=me[0].reactive)==null?void 0:we.title)??"Reactive")+"")&&q(i,n),oe&1&&r!==(r=(((ge=me[0].reactive)==null?void 0:ge.instant_in)??"Instant in")+"")&&q(c,r),oe&2&&_!==(_=me[1][0]+"")&&q(b,_),oe&2&&g!==(g=me[1][1]+"")&&q(k,g),oe&1&&P!==(P=(((Ae=me[0].reactive)==null?void 0:Ae.instant_out)??"Instant out")+"")&&q(O,P),oe&4&&I!==(I=me[2][0]+"")&&q(B,I),oe&4&&G!==(G=me[2][1]+"")&&q(A,G),oe&1&&X!==(X=(((Le=me[0].reactive)==null?void 0:Le.total_in)??"Total in")+"")&&q(Y,X),oe&8&&$!==($=me[3][0]+"")&&q(ne,$),oe&8&&x!==(x=me[3][1]+"")&&q(ue,x),oe&1&&ce!==(ce=(((Be=me[0].reactive)==null?void 0:Be.total_out)??"Total out")+"")&&q(le,ce),oe&16&&ve!==(ve=me[4][0]+"")&&q(ke,ve),oe&16&&M!==(M=me[4][1]+"")&&q(F,M)},i:Ue,o:Ue,d(me){me&&S(e)}}}function Wc(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,d;return t.$$set=_=>{"importInstant"in _&&l(5,n=_.importInstant),"exportInstant"in _&&l(6,i=_.exportInstant),"importTotal"in _&&l(7,s=_.importTotal),"exportTotal"in _&&l(8,o=_.exportTotal),"translations"in _&&l(0,f=_.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=fl(n,"VAr")),l(2,c=fl(i,"VAr")),l(3,m=fl(s*1e3,"VArh")),l(4,d=fl(o*1e3,"VArh")))},[f,r,c,m,d,n,i,s,o]}class Hc extends At{constructor(e){super(),Et(this,e,Wc,jc,Nt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function Mo(t){let e;function l(s,o){return s[3]?Kc:zc}let n=l(t),i=n(t);return{c(){i.c(),e=el()},m(s,o){i.m(s,o),C(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&S(e),i.d(s)}}}function zc(t){var V,te,ie,pe,me;let e,l=(((V=t[4].realtime)==null?void 0:V.consumption)??"Consumption")+"",n,i,s,o,f=ll(((te=t[4].common)==null?void 0:te.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,b,y=t[6][1]+"",g,k,v,N=ll(((ie=t[4].common)==null?void 0:ie.day)??"Day")+"",P,O,E,R=t[7][0]+"",I,B,K=t[7][1]+"",G,A,L,H=ll(((pe=t[4].common)==null?void 0:pe.month)??"Month")+"",U,X,Y,j=t[8][0]+"",z,$,ne=t[8][1]+"",W,x,ue,re=(((me=t[4].realtime)==null?void 0:me.last_month)??"Last month")+"",fe,ce,le,Z=t[9][0]+"",ee,ve,ke=t[9][1]+"",T,M,F,D=t[5]&&So(t);return{c(){e=p("strong"),n=w(l),i=h(),s=p("div"),o=p("div"),r=w(f),c=h(),m=p("div"),_=w(d),b=h(),g=w(y),k=h(),v=p("div"),P=w(N),O=h(),E=p("div"),I=w(R),B=h(),G=w(K),A=h(),L=p("div"),U=w(H),X=h(),Y=p("div"),z=w(j),$=h(),W=w(ne),x=h(),ue=p("div"),fe=w(re),ce=h(),le=p("div"),ee=w(Z),ve=h(),T=w(ke),M=h(),D&&D.c(),F=el(),u(m,"class","text-right"),u(E,"class","text-right"),u(Y,"class","text-right"),u(le,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(oe,we){C(oe,e,we),a(e,n),C(oe,i,we),C(oe,s,we),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,b),a(m,g),a(s,k),a(s,v),a(v,P),a(s,O),a(s,E),a(E,I),a(E,B),a(E,G),a(s,A),a(s,L),a(L,U),a(s,X),a(s,Y),a(Y,z),a(Y,$),a(Y,W),a(s,x),a(s,ue),a(ue,fe),a(s,ce),a(s,le),a(le,ee),a(le,ve),a(le,T),C(oe,M,we),D&&D.m(oe,we),C(oe,F,we)},p(oe,we){var ge,Ae,Le,Be,ze;we&16&&l!==(l=(((ge=oe[4].realtime)==null?void 0:ge.consumption)??"Consumption")+"")&&q(n,l),we&16&&f!==(f=ll(((Ae=oe[4].common)==null?void 0:Ae.hour)??"Hour")+"")&&q(r,f),we&64&&d!==(d=oe[6][0]+"")&&q(_,d),we&64&&y!==(y=oe[6][1]+"")&&q(g,y),we&16&&N!==(N=ll(((Le=oe[4].common)==null?void 0:Le.day)??"Day")+"")&&q(P,N),we&128&&R!==(R=oe[7][0]+"")&&q(I,R),we&128&&K!==(K=oe[7][1]+"")&&q(G,K),we&16&&H!==(H=ll(((Be=oe[4].common)==null?void 0:Be.month)??"Month")+"")&&q(U,H),we&256&&j!==(j=oe[8][0]+"")&&q(z,j),we&256&&ne!==(ne=oe[8][1]+"")&&q(W,ne),we&16&&re!==(re=(((ze=oe[4].realtime)==null?void 0:ze.last_month)??"Last month")+"")&&q(fe,re),we&512&&Z!==(Z=oe[9][0]+"")&&q(ee,Z),we&512&&ke!==(ke=oe[9][1]+"")&&q(T,ke),oe[5]?D?D.p(oe,we):(D=So(oe),D.c(),D.m(F.parentNode,F)):D&&(D.d(1),D=null)},d(oe){oe&&(S(e),S(i),S(s),S(M),S(F)),D&&D.d(oe)}}}function Kc(t){var it,Ke,ol,Qt,tl,_l,al,Zt,$t,cl;let e,l=(((it=t[4].common)==null?void 0:it.import)??"Import")+"",n,i,s,o,f=ll(((Ke=t[4].common)==null?void 0:Ke.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,b,y=t[6][1]+"",g,k,v,N,P=ll(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",O,E,R,I=t[7][0]+"",B,K,G=t[7][1]+"",A,L,H,U,X=ll(((Qt=t[4].common)==null?void 0:Qt.month)??"Month")+"",Y,j,z,$=t[8][0]+"",ne,W,x=t[8][1]+"",ue,re,fe,ce,le=(((tl=t[4].realtime)==null?void 0:tl.last_mo)??"Last mo.")+"",Z,ee,ve,ke=t[9][0]+"",T,M,F=t[9][1]+"",D,V,te,ie,pe,me=(((_l=t[4].common)==null?void 0:_l.export)??"Export")+"",oe,we,ge,Ae,Le=ll(((al=t[4].common)==null?void 0:al.hour)??"Hour")+"",Be,ze,Xe,Ze=t[10][0]+"",qe,tt,ae=t[10][1]+"",Ne,lt,bt,mt,$e=ll(((Zt=t[4].common)==null?void 0:Zt.day)??"Day")+"",rt,Ht,_t,qt=t[11][0]+"",Pt,Lt,et=t[11][1]+"",pt,Pe,je,Qe,Je=ll((($t=t[4].common)==null?void 0:$t.month)??"Month")+"",he,De,Tt,It=t[12][0]+"",vt,We,ut=t[12][1]+"",xe,Ot,zt,Ve,ye=(((cl=t[4].realtime)==null?void 0:cl.last_mo)??"Last mo.")+"",Te,Ge,nt,ot=t[13][0]+"",dt,Xt,Ut=t[13][1]+"",Rt,sl,Dt,Ye=t[5]&&Co(t),Bt=t[5]&&No(t),Jt=t[5]&&Po(t),gt=t[5]&&To(t),ft=t[5]&&Eo(t),St=t[5]&&Ao(t),Kt=t[5]&&qo(t),de=t[5]&&Lo(t);return{c(){e=p("strong"),n=w(l),i=h(),s=p("div"),o=p("div"),r=w(f),c=h(),m=p("div"),_=w(d),b=h(),g=w(y),k=h(),Ye&&Ye.c(),v=h(),N=p("div"),O=w(P),E=h(),R=p("div"),B=w(I),K=h(),A=w(G),L=h(),Bt&&Bt.c(),H=h(),U=p("div"),Y=w(X),j=h(),z=p("div"),ne=w($),W=h(),ue=w(x),re=h(),Jt&&Jt.c(),fe=h(),ce=p("div"),Z=w(le),ee=h(),ve=p("div"),T=w(ke),M=h(),D=w(F),V=h(),gt&&gt.c(),ie=h(),pe=p("strong"),oe=w(me),we=h(),ge=p("div"),Ae=p("div"),Be=w(Le),ze=h(),Xe=p("div"),qe=w(Ze),tt=h(),Ne=w(ae),lt=h(),ft&&ft.c(),bt=h(),mt=p("div"),rt=w($e),Ht=h(),_t=p("div"),Pt=w(qt),Lt=h(),pt=w(et),Pe=h(),St&&St.c(),je=h(),Qe=p("div"),he=w(Je),De=h(),Tt=p("div"),vt=w(It),We=h(),xe=w(ut),Ot=h(),Kt&&Kt.c(),zt=h(),Ve=p("div"),Te=w(ye),Ge=h(),nt=p("div"),dt=w(ot),Xt=h(),Rt=w(Ut),sl=h(),de&&de.c(),u(m,"class","text-right"),u(R,"class","text-right"),u(z,"class","text-right"),u(ve,"class","text-right"),u(s,"class",te="grid grid-cols-"+t[14]+" mb-3"),u(Xe,"class","text-right"),u(_t,"class","text-right"),u(Tt,"class","text-right"),u(nt,"class","text-right"),u(ge,"class",Dt="grid grid-cols-"+t[14])},m(Ee,_e){C(Ee,e,_e),a(e,n),C(Ee,i,_e),C(Ee,s,_e),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,b),a(m,g),a(s,k),Ye&&Ye.m(s,null),a(s,v),a(s,N),a(N,O),a(s,E),a(s,R),a(R,B),a(R,K),a(R,A),a(s,L),Bt&&Bt.m(s,null),a(s,H),a(s,U),a(U,Y),a(s,j),a(s,z),a(z,ne),a(z,W),a(z,ue),a(s,re),Jt&&Jt.m(s,null),a(s,fe),a(s,ce),a(ce,Z),a(s,ee),a(s,ve),a(ve,T),a(ve,M),a(ve,D),a(s,V),gt&&gt.m(s,null),C(Ee,ie,_e),C(Ee,pe,_e),a(pe,oe),C(Ee,we,_e),C(Ee,ge,_e),a(ge,Ae),a(Ae,Be),a(ge,ze),a(ge,Xe),a(Xe,qe),a(Xe,tt),a(Xe,Ne),a(ge,lt),ft&&ft.m(ge,null),a(ge,bt),a(ge,mt),a(mt,rt),a(ge,Ht),a(ge,_t),a(_t,Pt),a(_t,Lt),a(_t,pt),a(ge,Pe),St&&St.m(ge,null),a(ge,je),a(ge,Qe),a(Qe,he),a(ge,De),a(ge,Tt),a(Tt,vt),a(Tt,We),a(Tt,xe),a(ge,Ot),Kt&&Kt.m(ge,null),a(ge,zt),a(ge,Ve),a(Ve,Te),a(ge,Ge),a(ge,nt),a(nt,dt),a(nt,Xt),a(nt,Rt),a(ge,sl),de&&de.m(ge,null)},p(Ee,_e){var jt,Oe,Ct,rl,vl,gl,kl,wl,yl,Ml;_e&16&&l!==(l=(((jt=Ee[4].common)==null?void 0:jt.import)??"Import")+"")&&q(n,l),_e&16&&f!==(f=ll(((Oe=Ee[4].common)==null?void 0:Oe.hour)??"Hour")+"")&&q(r,f),_e&64&&d!==(d=Ee[6][0]+"")&&q(_,d),_e&64&&y!==(y=Ee[6][1]+"")&&q(g,y),Ee[5]?Ye?Ye.p(Ee,_e):(Ye=Co(Ee),Ye.c(),Ye.m(s,v)):Ye&&(Ye.d(1),Ye=null),_e&16&&P!==(P=ll(((Ct=Ee[4].common)==null?void 0:Ct.day)??"Day")+"")&&q(O,P),_e&128&&I!==(I=Ee[7][0]+"")&&q(B,I),_e&128&&G!==(G=Ee[7][1]+"")&&q(A,G),Ee[5]?Bt?Bt.p(Ee,_e):(Bt=No(Ee),Bt.c(),Bt.m(s,H)):Bt&&(Bt.d(1),Bt=null),_e&16&&X!==(X=ll(((rl=Ee[4].common)==null?void 0:rl.month)??"Month")+"")&&q(Y,X),_e&256&&$!==($=Ee[8][0]+"")&&q(ne,$),_e&256&&x!==(x=Ee[8][1]+"")&&q(ue,x),Ee[5]?Jt?Jt.p(Ee,_e):(Jt=Po(Ee),Jt.c(),Jt.m(s,fe)):Jt&&(Jt.d(1),Jt=null),_e&16&&le!==(le=(((vl=Ee[4].realtime)==null?void 0:vl.last_mo)??"Last mo.")+"")&&q(Z,le),_e&512&&ke!==(ke=Ee[9][0]+"")&&q(T,ke),_e&512&&F!==(F=Ee[9][1]+"")&&q(D,F),Ee[5]?gt?gt.p(Ee,_e):(gt=To(Ee),gt.c(),gt.m(s,null)):gt&&(gt.d(1),gt=null),_e&16384&&te!==(te="grid grid-cols-"+Ee[14]+" mb-3")&&u(s,"class",te),_e&16&&me!==(me=(((gl=Ee[4].common)==null?void 0:gl.export)??"Export")+"")&&q(oe,me),_e&16&&Le!==(Le=ll(((kl=Ee[4].common)==null?void 0:kl.hour)??"Hour")+"")&&q(Be,Le),_e&1024&&Ze!==(Ze=Ee[10][0]+"")&&q(qe,Ze),_e&1024&&ae!==(ae=Ee[10][1]+"")&&q(Ne,ae),Ee[5]?ft?ft.p(Ee,_e):(ft=Eo(Ee),ft.c(),ft.m(ge,bt)):ft&&(ft.d(1),ft=null),_e&16&&$e!==($e=ll(((wl=Ee[4].common)==null?void 0:wl.day)??"Day")+"")&&q(rt,$e),_e&2048&&qt!==(qt=Ee[11][0]+"")&&q(Pt,qt),_e&2048&&et!==(et=Ee[11][1]+"")&&q(pt,et),Ee[5]?St?St.p(Ee,_e):(St=Ao(Ee),St.c(),St.m(ge,je)):St&&(St.d(1),St=null),_e&16&&Je!==(Je=ll(((yl=Ee[4].common)==null?void 0:yl.month)??"Month")+"")&&q(he,Je),_e&4096&&It!==(It=Ee[12][0]+"")&&q(vt,It),_e&4096&&ut!==(ut=Ee[12][1]+"")&&q(xe,ut),Ee[5]?Kt?Kt.p(Ee,_e):(Kt=qo(Ee),Kt.c(),Kt.m(ge,zt)):Kt&&(Kt.d(1),Kt=null),_e&16&&ye!==(ye=(((Ml=Ee[4].realtime)==null?void 0:Ml.last_mo)??"Last mo.")+"")&&q(Te,ye),_e&8192&&ot!==(ot=Ee[13][0]+"")&&q(dt,ot),_e&8192&&Ut!==(Ut=Ee[13][1]+"")&&q(Rt,Ut),Ee[5]?de?de.p(Ee,_e):(de=Lo(Ee),de.c(),de.m(ge,null)):de&&(de.d(1),de=null),_e&16384&&Dt!==(Dt="grid grid-cols-"+Ee[14])&&u(ge,"class",Dt)},d(Ee){Ee&&(S(e),S(i),S(s),S(ie),S(pe),S(we),S(ge)),Ye&&Ye.d(),Bt&&Bt.d(),Jt&&Jt.d(),gt&&gt.d(),ft&&ft.d(),St&&St.d(),Kt&&Kt.d(),de&&de.d()}}}function So(t){var ee,ve,ke,T,M,F;let e,l=(((ee=t[4].realtime)==null?void 0:ee.cost)??"Cost")+"",n,i,s,o,f=ll(((ve=t[4].common)==null?void 0:ve.hour)??"Hour")+"",r,c,m,d=Wt(t[1].h.c,2)+"",_,b,y,g,k,v=ll(((ke=t[4].common)==null?void 0:ke.day)??"Day")+"",N,P,O,E=Wt(t[1].d.c,1)+"",R,I,B,K,G,A=ll(((T=t[4].common)==null?void 0:T.month)??"Month")+"",L,H,U,X=Wt(t[1].m.c)+"",Y,j,z,$,ne,W=(((M=t[4].realtime)==null?void 0:M.last_month)??"Last month")+"",x,ue,re,fe=Wt((F=t[0].last_month)==null?void 0:F.c)+"",ce,le,Z;return{c(){e=p("strong"),n=w(l),i=h(),s=p("div"),o=p("div"),r=w(f),c=h(),m=p("div"),_=w(d),b=h(),y=w(t[2]),g=h(),k=p("div"),N=w(v),P=h(),O=p("div"),R=w(E),I=h(),B=w(t[2]),K=h(),G=p("div"),L=w(A),H=h(),U=p("div"),Y=w(X),j=h(),z=w(t[2]),$=h(),ne=p("div"),x=w(W),ue=h(),re=p("div"),ce=w(fe),le=h(),Z=w(t[2]),u(m,"class","text-right"),u(O,"class","text-right"),u(U,"class","text-right"),u(re,"class","text-right"),u(s,"class","grid grid-cols-2")},m(D,V){C(D,e,V),a(e,n),C(D,i,V),C(D,s,V),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,b),a(m,y),a(s,g),a(s,k),a(k,N),a(s,P),a(s,O),a(O,R),a(O,I),a(O,B),a(s,K),a(s,G),a(G,L),a(s,H),a(s,U),a(U,Y),a(U,j),a(U,z),a(s,$),a(s,ne),a(ne,x),a(s,ue),a(s,re),a(re,ce),a(re,le),a(re,Z)},p(D,V){var te,ie,pe,me,oe,we;V&16&&l!==(l=(((te=D[4].realtime)==null?void 0:te.cost)??"Cost")+"")&&q(n,l),V&16&&f!==(f=ll(((ie=D[4].common)==null?void 0:ie.hour)??"Hour")+"")&&q(r,f),V&2&&d!==(d=Wt(D[1].h.c,2)+"")&&q(_,d),V&4&&q(y,D[2]),V&16&&v!==(v=ll(((pe=D[4].common)==null?void 0:pe.day)??"Day")+"")&&q(N,v),V&2&&E!==(E=Wt(D[1].d.c,1)+"")&&q(R,E),V&4&&q(B,D[2]),V&16&&A!==(A=ll(((me=D[4].common)==null?void 0:me.month)??"Month")+"")&&q(L,A),V&2&&X!==(X=Wt(D[1].m.c)+"")&&q(Y,X),V&4&&q(z,D[2]),V&16&&W!==(W=(((oe=D[4].realtime)==null?void 0:oe.last_month)??"Last month")+"")&&q(x,W),V&1&&fe!==(fe=Wt((we=D[0].last_month)==null?void 0:we.c)+"")&&q(ce,fe),V&4&&q(Z,D[2])},d(D){D&&(S(e),S(i),S(s))}}}function Co(t){let e,l=Wt(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].h.c,2)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&S(e)}}}function No(t){let e,l=Wt(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].d.c,1)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&S(e)}}}function Po(t){let e,l=Wt(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].m.c)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&S(e)}}}function To(t){var o;let e,l=Wt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Wt((c=f[0].last_month)==null?void 0:c.c)+"")&&q(n,l),r&4&&q(s,f[2])},d(f){f&&S(e)}}}function Eo(t){let e,l=Wt(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].h.i,2)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&S(e)}}}function Ao(t){let e,l=Wt(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].d.i,1)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&S(e)}}}function qo(t){let e,l=Wt(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].m.i)+"")&&q(n,l),f&4&&q(s,o[2])},d(o){o&&S(e)}}}function Lo(t){var o;let e,l=Wt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=h(),s=w(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Wt((c=f[0].last_month)==null?void 0:c.i)+"")&&q(n,l),r&4&&q(s,f[2])},d(f){f&&S(e)}}}function Vc(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&Mo(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("br"),f=p("br"),r=h(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(d,[_]){var b;_&16&&n!==(n=(((b=d[4].realtime)==null?void 0:b.title)??"Real time calculations")+"")&&q(i,n),d[1]?c?c.p(d,_):(c=Mo(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ue,o:Ue,d(d){d&&S(e),c&&c.d()}}}function Gc(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,d,_,b,y,g,k=!1,v=3;return t.$$set=N=>{"sysinfo"in N&&l(0,n=N.sysinfo),"data"in N&&l(1,i=N.data),"currency"in N&&l(2,s=N.currency),"hasExport"in N&&l(3,o=N.hasExport),"translations"in N&&l(4,f=N.translations)},t.$$.update=()=>{var N,P,O,E,R,I,B,K;t.$$.dirty&35&&(l(5,k=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,v=k?3:2),l(6,r=fl(((N=i==null?void 0:i.h)==null?void 0:N.u)*1e3,"Wh")),l(7,c=fl(((P=i==null?void 0:i.d)==null?void 0:P.u)*1e3,"Wh")),l(8,m=fl(((O=i==null?void 0:i.m)==null?void 0:O.u)*1e3,"Wh")),l(9,d=fl(((E=n==null?void 0:n.last_month)==null?void 0:E.u)*1e3,"Wh")),l(10,_=fl(((R=i==null?void 0:i.h)==null?void 0:R.p)*1e3,"Wh")),l(11,b=fl(((I=i==null?void 0:i.d)==null?void 0:I.p)*1e3,"Wh")),l(12,y=fl(((B=i==null?void 0:i.m)==null?void 0:B.p)*1e3,"Wh")),l(13,g=fl(((K=n==null?void 0:n.last_month)==null?void 0:K.p)*1e3,"Wh")))},[n,i,s,o,f,k,r,c,m,d,_,b,y,g,v]}class Yc extends At{constructor(e){super(),Et(this,e,Gc,Vc,Nt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function Xc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Jc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,d=new Date().getUTCHours(),_=0,b=0,y=0,g=[],k=[],v=[];l(5,r=l(4,f=0));let N=new Date;for(Il(N,s.clock_offset-(24+N.getHours()-N.getUTCHours())%24),_=d;_<24&&(b=i[ct(y++)],b!=null);_++)k.push({label:ct(N.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,f=Math.max(f,b*100)),Il(N,1);for(_=0;_<24&&(b=i[ct(y++)],b!=null);_++)k.push({label:ct(N.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,f=Math.max(f,b*100)),Il(N,1);let P=Yn(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(P&&P[1]&&P[1]!=m)for(m=P[1],l(5,r*=100),l(4,f*=100),_=0;_<v.length;_++)v[_]*=100;let O=[];for(_=0;_<v.length;_++){b=v[_];let B=b*.01,K=Math.abs(b)<1e3?2:0;O.push({label:B>=0?B.toFixed(K):"",title:B>=0?B.toFixed(2)+" "+m:"",value:b>=0?Math.abs(b):0,label2:B<0?B.toFixed(K):"",title2:B<0?B.toFixed(2)+" "+m:"",value2:b<0?Math.abs(b):0,color:c?"#5c2da5":"#7c3aed"})}let E=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(E/4*-1,r));let B=Math.ceil(Math.abs(r)/E*4),K=r/B;for(_=1;_<B+1;_++){let G=K*_;g.push({value:G,label:(G/100).toFixed(2)})}}l(4,f=Math.max(E/4,f));let R=Math.ceil(f/E*4),I=f/R;for(_=0;_<R+1;_++){let B=I*_;g.push({value:B,label:(B/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:g},x:{ticks:k},points:O,link:{text:"Provided by: "+B0(i.source),url:j0(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class Qc extends At{constructor(e){super(),Et(this,e,Jc,Xc,Nt,{title:1,json:2,sysinfo:3})}}function Zc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function $c(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],b=[];l(5,r=l(4,f=0));let y=new Date,g=new Date;g.setDate(0),g.setHours(12);let k=(g.getHours()-g.getUTCHours())%24-s.clock_offset,v=y.getUTCHours();for(Il(y,-k-24),m=v;m<24;m++){let E=i["i"+ct(m)],R=i["e"+ct(m)];E===void 0&&(E=0),R===void 0&&(R=0),_.push({label:ct(y.getHours())}),b.push({label:E.toFixed(1),title:E.toFixed(2)+" kWh",value:E*10,label2:R.toFixed(1),title2:R.toFixed(2)+" kWh",value2:R*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,R*10)),l(4,f=Math.max(f,E*10)),Il(y,1)}for(m=0;m<v;m++){let E=i["i"+ct(m)],R=i["e"+ct(m)];E===void 0&&(E=0),R===void 0&&(R=0),_.push({label:ct(y.getHours())}),b.push({label:E.toFixed(1),title:E.toFixed(2)+" kWh",value:E*10,label2:R.toFixed(1),title2:R.toFixed(2)+" kWh",value2:R*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,R*10)),l(4,f=Math.max(f,E*10)),Il(y,1)}l(5,r*=-1);let N=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(N/4*-1,r));let E=Math.ceil(Math.abs(r)/N*4),R=r/E;for(m=1;m<E+1;m++){let I=R*m;d.push({value:I,label:(I/10).toFixed(1)})}}l(4,f=Math.max(N/4,f));let P=Math.ceil(f/N*4),O=f/P;for(m=0;m<P+1;m++){let E=O*m;d.push({value:E,label:(E/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:b,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class xc extends At{constructor(e){super(),Et(this,e,$c,Zc,Nt,{title:1,json:2,sysinfo:3})}}function e1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function t1(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],b=[];l(5,r=l(4,f=0));let y=new Date,g=new Date;g.setDate(0),g.setHours(12);let k=(g.getHours()-g.getUTCHours())%24-s.clock_offset;for(Il(y,-k),Il(g,-k),m=y.getDate();m<=g.getDate();m++){let O=i["i"+ct(m)],E=i["e"+ct(m)];O===void 0&&(O=0),E===void 0&&(E=0),_.push({label:ct(m)}),b.push({label:O.toFixed(O<10?1:0),title:O.toFixed(2)+" kWh",value:O,label2:E.toFixed(E<10?1:0),title2:E.toFixed(2)+" kWh",value2:E,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,E)),l(4,f=Math.max(f,O))}for(m=1;m<y.getDate();m++){let O=i["i"+ct(m)],E=i["e"+ct(m)];O===void 0&&(O=0),E===void 0&&(E=0),_.push({label:ct(m)}),b.push({label:O.toFixed(O<10?1:0),title:O.toFixed(2)+" kWh",value:O,label2:E.toFixed(E<10?1:0),title2:E.toFixed(2)+" kWh",value2:E,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,E)),l(4,f=Math.max(f,O))}l(5,r*=-1);let v=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(v/4*-1,r));let O=Math.ceil(Math.abs(r)/v*4),E=r/O;for(m=1;m<O+1;m++){let R=E*m;d.push({value:R,label:R.toFixed(0)})}}l(4,f=Math.max(v/4,f));let N=Math.ceil(f/v*4),P=f/N;for(m=0;m<N+1;m++){let O=P*m;d.push({value:O,label:O.toFixed(0)})}l(0,o={title:n.replace("{0}",g.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:b,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class l1 extends At{constructor(e){super(),Et(this,e,t1,e1,Nt,{title:1,json:2,sysinfo:3})}}function n1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function i1(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,d=[],_=[],b=[];i.s&&i.s.forEach((k,v)=>{var N=k.n?k.n:k.a;m=k.v,m==-127&&(m=0),_.push({label:N.slice(-4)}),b.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let y=f;r<0&&(y+=Math.abs(r));let g=y/4;for(c=0;c<5;c++)m=r+g*c,d.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:b})}},[o,n,i,f,r]}class s1 extends At{constructor(e){super(),Et(this,e,i1,n1,Nt,{title:1,json:2})}}function o1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}let a1=0;function r1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,d=[],_=[],b=[];if(d.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let y=r.p[m];b.push({label:y.v.toFixed(2),value:y.v,color:s?"#5c2da5":"#7c3aed"}),_.push({label:y.d>0?ct(y.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:ct(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,y.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let y=r.t[m];if(y>=f)break;d.push({value:y,label:y})}d.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(d.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:a1,max:f,ticks:d},x:{ticks:_},points:b})}},[o,n,i,r,f]}class f1 extends At{constructor(e){super(),Et(this,e,r1,o1,Nt,{title:1,translations:2,tariffData:3})}}let nn=0,u1={data:[]};async function as(){let e=await(await Sl(nn<0?"realtime.json":"realtime.json?offset="+nn)).json();rs.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),nn>=0&&(nn+=e.size,nn<e.total?setTimeout(as,2e3):nn=-1)}function c1(){return nn==-1}const rs=il(u1);let bn=0,uu=0,Ki=0,Ei=0,Io=!1;function m1(){Ei==60||Ki>bn||Ki-bn>300?(as(),Ei=0):rs.update(t=>{if(t.lastUpdate)for(;bn>t.lastUpdate;)t.data.unshift(uu),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ei++;else t.lastUpdate=bn;return t})}function _1(t){if(uu=t.i-t.e,bn=t.u,!Io){as(),Io=!0,Ki=bn;return}c1()&&m1()}function Oo(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Do(t,e,l){const n=t.slice();return n[21]=e[l],n}function p1(t){let e,l,n;return{c(){e=p("strong"),l=w(t[0]),n=w(" not available"),u(e,"class","text-sm")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&q(l,i[0])},d(i){i&&S(e)}}}function d1(t){let e,l,n,i,s,o,f,r=t[8]&&Ro(t);return{c(){e=p("strong"),l=w(t[0]),n=w(" ("),i=w(t[12]),s=w(")"),o=h(),r&&r.c(),f=el(),u(e,"class","text-sm")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),C(c,o,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&q(l,c[0]),m&4096&&q(i,c[12]),c[8]?r?r.p(c,m):(r=Ro(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(o),S(f)),r&&r.d(c)}}}function Ro(t){let e,l,n,i,s,o=He(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Uo(Do(t,o,m));let r=He(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=jo(Oo(t,r,m));return{c(){e=Mt("svg"),l=Mt("g");for(let m=0;m<f.length;m+=1)f[m].c();n=Mt("g");for(let m=0;m<c.length;m+=1)c[m].c();i=Mt("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,d){C(m,e,d),a(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(l,null);a(e,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);a(e,i)},p(m,d){if(d&16646){o=He(m[8]);let _;for(_=0;_<o.length;_+=1){const b=Do(m,o,_);f[_]?f[_].p(b,d):(f[_]=Uo(b),f[_].c(),f[_].m(l,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}if(d&34336){r=He(m[9]);let _;for(_=0;_<r.length;_+=1){const b=Oo(m,r,_);c[_]?c[_].p(b,d):(c[_]=jo(b),c[_].c(),c[_].m(n,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=r.length}d&128&&u(i,"points",m[7]),d&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&S(e),Gt(f,m),Gt(c,m)}}}function Fo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=Mt("g"),l=Mt("line"),n=Mt("text"),s=w(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&q(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&S(e)}}}function Uo(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Fo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Fo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function Bo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=Mt("g"),l=Mt("text"),i=w(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&q(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&S(e)}}}function jo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Bo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Bo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function h1(t){let e,l;function n(o,f){return o[11]?d1:p1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Yt(()=>t[17].call(e))},m(o,f){C(o,e,f),s.m(e,null),l=es(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:Ue,o:Ue,d(o){o&&S(e),s.d(),l()}}}function b1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;rs.subscribe(E=>{l(16,s=E)});let o=!1,f,r,c,m,d,_,b,y=function(E,R,I){return Math.ceil(d-(E-R)/(I-R)*d)-25},g=function(E){return 30+Math.ceil(E/s.size*(_-35))},k,v,N,P;function O(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=E=>{"title"in E&&l(0,n=E.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,d=parseInt(m)-50),l(6,_=c-35),l(10,N=_/s.size),l(2,r=0),l(1,f=0),s.data&&d>10&&_>100&&N>.1){l(11,o=!0);for(let I in s.data){let B=s.data[I];isNaN(B)&&(B=0),l(1,f=Math.max(Math.ceil(B/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(B/1e3)*1e3,r))}let E=f-r;l(12,P=f>2500?"kW":"W"),l(8,k=[]);for(let I=r;I<f&&(k.push({value:I,label:f>2500?(I/1e3).toFixed(1):I}),!(k.length>6));I+=E/5);l(9,v=[]);for(let I=0;I<s.size&&(v.push({value:I,label:"-"+Math.round((s.size-I)/6)+" min"}),!(v.length>12));I+=Math.round(s.size/Math.round(_/120)));let R=s.size;l(7,b=g(s.size)+","+y(0,r,f)+" "+g(1)+","+y(0,r,f));for(let I in s.data){if(R<0)break;let B=s.data[I];isNaN(B)&&(B=0),l(7,b=g(R--)+","+y(B,r,f)+" "+b)}}else l(11,o=!1)},[n,f,r,c,m,d,_,b,k,v,N,o,P,i,y,g,s,O]}class v1 extends At{constructor(e){super(),Et(this,e,b1,h1,Nt,{title:0})}}function g1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function k1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:d=0}=e,{l1e:_=0}=e,{l2e:b=0}=e,{l3e:y=0}=e,{maxImport:g=0}=e,{maxExport:k=0}=e,{importColorFn:v}=e,{exportColorFn:N}=e,P={};function O(E,R){return{label:Wt(E>900?E/1e3:E)+(E>900?"k":"")+i,title:E.toFixed(2)+" "+i,value:isNaN(E)?0:E,color:v(E?E/g*100:0,document.documentElement.classList.contains("dark")),label2:Wt(R>900?R/1e3:R)+(R>900?"k":"")+i,title2:R.toFixed(2)+" "+i,value2:isNaN(R)?0:R,color2:N(R?R/k*100:0)}}return t.$$set=E=>{"title"in E&&l(1,n=E.title),"unit"in E&&l(2,i=E.unit),"l1"in E&&l(3,s=E.l1),"l2"in E&&l(4,o=E.l2),"l2x"in E&&l(5,f=E.l2x),"l3"in E&&l(6,r=E.l3),"l1i"in E&&l(7,c=E.l1i),"l2i"in E&&l(8,m=E.l2i),"l3i"in E&&l(9,d=E.l3i),"l1e"in E&&l(10,_=E.l1e),"l2e"in E&&l(11,b=E.l2e),"l3e"in E&&l(12,y=E.l3e),"maxImport"in E&&l(13,g=E.maxImport),"maxExport"in E&&l(14,k=E.maxExport),"importColorFn"in E&&l(15,v=E.importColorFn),"exportColorFn"in E&&l(16,N=E.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let E=[],R=[];s&&(E.push({label:"L1"}),R.push(O(c,_))),o&&(f?(E.push({label:"L2"}),R.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(E.push({label:"L2"}),R.push(O(m,b)))),r&&(E.push({label:"L3"}),R.push(O(d,y)));let I=[];if(k){let B=k>g?4:k*4/g;I.push({value:-k,label:"-100%"}),B>=4&&I.push({value:-k/4*3,label:"-75%"}),B>=2&&I.push({value:-k/2,label:"-50%"}),B>=4&&I.push({value:-k/4,label:"-25%"})}if(I.push({value:0,label:"0%"}),g){let B=g>k?4:g*4/k;I.push({value:g/4,label:"25%"}),B>=4&&I.push({value:g/2,label:"50%"}),B>=2&&I.push({value:g/4*3,label:"75%"}),B>=4&&I.push({value:g,label:"100%"})}l(0,P={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-k,max:g,ticks:I},x:{ticks:E},points:R})}},[P,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N]}class fs extends At{constructor(e){super(),Et(this,e,k1,g1,Nt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Wo(t){var v;let e,l,n,i,s,o,f=(t[0].mt?mi(t[0].mt):"-")+"",r,c,m,d=t[11][0]+"",_,b,y=t[11][1]+"",g,k;return i=new fu({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((v=t[6].common)==null?void 0:v.import)??"Import",sub:Yn(t[0].p,t[0].pc),colorFn:ss}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ce(i.$$.fragment),s=h(),o=p("div"),r=w(f),c=h(),m=p("div"),_=w(d),b=h(),g=w(y),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(N,P){C(N,e,P),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,_),a(m,b),a(m,g),k=!0},p(N,P){var E;const O={};P&1&&(O.val=N[0].i?N[0].i:0),P&1&&(O.max=N[0].im?N[0].im:15e3),P&64&&(O.label=((E=N[6].common)==null?void 0:E.import)??"Import"),P&1&&(O.sub=Yn(N[0].p,N[0].pc)),i.$set(O),(!k||P&1)&&f!==(f=(N[0].mt?mi(N[0].mt):"-")+"")&&q(r,f),(!k||P&2048)&&d!==(d=N[11][0]+"")&&q(_,d),(!k||P&2048)&&y!==(y=N[11][1]+"")&&q(g,y)},i(N){k||(Q(i.$$.fragment,N),k=!0)},o(N){se(i.$$.fragment,N),k=!1},d(N){N&&S(e),Se(i)}}}function Ho(t){var g;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,d,_=t[12][1]+"",b,y;return i=new fu({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((g=t[6].common)==null?void 0:g.export)??"Export",sub:Yn(t[0].px,t[0].pc),colorFn:Vn}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ce(i.$$.fragment),s=h(),o=p("div"),f=h(),r=p("div"),m=w(c),d=h(),b=w(_),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(k,v){C(k,e,v),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,d),a(r,b),y=!0},p(k,v){var P;const N={};v&1&&(N.val=k[0].e?k[0].e:0),v&1&&(N.max=k[0].om?k[0].om*1e3:1e4),v&64&&(N.label=((P=k[6].common)==null?void 0:P.export)??"Export"),v&1&&(N.sub=Yn(k[0].px,k[0].pc)),i.$set(N),(!y||v&4096)&&c!==(c=k[12][0]+"")&&q(m,c),(!y||v&4096)&&_!==(_=k[12][1]+"")&&q(b,_)},i(k){y||(Q(i.$$.fragment,k),y=!0)},o(k){se(i.$$.fragment,k),y=!1},d(k){k&&S(e),Se(i)}}}function zo(t){let e,l,n=t[0].l1&&Ko(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Q(n,1)):(n=Ko(i),n.c(),Q(n,1),n.m(e,null)):n&&(wt(),se(n,1,1,()=>{n=null}),yt())},i(i){l||(Q(n),l=!0)},o(i){se(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Ko(t){var n;let e,l;return e=new Bc({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Ce(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(Q(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Vo(t){let e,l,n=t[0].l1&&Go(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Q(n,1)):(n=Go(i),n.c(),Q(n,1),n.m(e,null)):n&&(wt(),se(n,1,1,()=>{n=null}),yt())},i(i){l||(Q(n),l=!0)},o(i){se(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Go(t){var n;let e,l;return e=new fs({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:ss,exportColorFn:Vn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Ce(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(Q(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Yo(t){let e,l,n=t[0].l1&&Xo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Q(n,1)):(n=Xo(i),n.c(),Q(n,1),n.m(e,null)):n&&(wt(),se(n,1,1,()=>{n=null}),yt())},i(i){l||(Q(n),l=!0)},o(i){se(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Xo(t){var n;let e,l;return e=new fs({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:ss,exportColorFn:Vn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Ce(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(Q(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Jo(t){let e,l,n=t[0].l1&&Qo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Q(n,1)):(n=Qo(i),n.c(),Q(n,1),n.m(e,null)):n&&(wt(),se(n,1,1,()=>{n=null}),yt())},i(i){l||(Q(n),l=!0)},o(i){se(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Qo(t){var n;let e,l;return e=new fs({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:Vn,exportColorFn:Vn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Ce(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(Q(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Zo(t){let e,l,n;return l=new Hc({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(Q(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&S(e),Se(l)}}}function $o(t){let e,l,n;return l=new Yc({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(Q(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&S(e),Se(l)}}}function xo(t){var i;let e,l,n;return l=new f1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(Q(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function ea(t){var i;let e,l,n;return l=new v1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(Q(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function ta(t){var i;let e,l,n;return l=new Qc({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(Q(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function la(t){var i;let e,l,n;return l=new xc({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(Q(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function na(t){var i;let e,l,n;return l=new l1({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(Q(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function ia(t){var i;let e,l,n;return l=new s1({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||(Q(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function w1(t){let e,l=Vt(t[1].ui.i,t[0].i),n,i=Vt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Vt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Vt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Vt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),d,_=Vt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),b,y=Vt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,k=Vt(t[1].ui.c,t[0].ea),v,N=Vt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),P,O=Vt(t[1].ui.l,t[0].hm==1),E,R=Vt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),I,B=Vt(t[1].ui.d,t[3]),K,G=Vt(t[1].ui.m,t[4]),A,L=Vt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),H,U=l&&Wo(t),X=i&&Ho(t),Y=o&&zo(t),j=r&&Vo(t),z=m&&Yo(t),$=_&&Jo(t),ne=y&&Zo(t),W=k&&$o(t),x=N&&xo(t),ue=O&&ea(t),re=R&&ta(t),fe=B&&la(t),ce=G&&na(t),le=L&&ia(t);return{c(){e=p("div"),U&&U.c(),n=h(),X&&X.c(),s=h(),Y&&Y.c(),f=h(),j&&j.c(),c=h(),z&&z.c(),d=h(),$&&$.c(),b=h(),ne&&ne.c(),g=h(),W&&W.c(),v=h(),x&&x.c(),P=h(),ue&&ue.c(),E=h(),re&&re.c(),I=h(),fe&&fe.c(),K=h(),ce&&ce.c(),A=h(),le&&le.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Z,ee){C(Z,e,ee),U&&U.m(e,null),a(e,n),X&&X.m(e,null),a(e,s),Y&&Y.m(e,null),a(e,f),j&&j.m(e,null),a(e,c),z&&z.m(e,null),a(e,d),$&&$.m(e,null),a(e,b),ne&&ne.m(e,null),a(e,g),W&&W.m(e,null),a(e,v),x&&x.m(e,null),a(e,P),ue&&ue.m(e,null),a(e,E),re&&re.m(e,null),a(e,I),fe&&fe.m(e,null),a(e,K),ce&&ce.m(e,null),a(e,A),le&&le.m(e,null),H=!0},p(Z,[ee]){ee&3&&(l=Vt(Z[1].ui.i,Z[0].i)),l?U?(U.p(Z,ee),ee&3&&Q(U,1)):(U=Wo(Z),U.c(),Q(U,1),U.m(e,n)):U&&(wt(),se(U,1,1,()=>{U=null}),yt()),ee&3&&(i=Vt(Z[1].ui.e,Z[0].om||Z[0].e>0)),i?X?(X.p(Z,ee),ee&3&&Q(X,1)):(X=Ho(Z),X.c(),Q(X,1),X.m(e,s)):X&&(wt(),se(X,1,1,()=>{X=null}),yt()),ee&3&&(o=Vt(Z[1].ui.v,Z[0].l1&&(Z[0].l1.u>100||Z[0].l2.u>100||Z[0].l3.u>100))),o?Y?(Y.p(Z,ee),ee&3&&Q(Y,1)):(Y=zo(Z),Y.c(),Q(Y,1),Y.m(e,f)):Y&&(wt(),se(Y,1,1,()=>{Y=null}),yt()),ee&3&&(r=Vt(Z[1].ui.a,Z[0].l1&&(Z[0].l1.i>.01||Z[0].l2.i>.01||Z[0].l3.i>.01))),r?j?(j.p(Z,ee),ee&3&&Q(j,1)):(j=Vo(Z),j.c(),Q(j,1),j.m(e,c)):j&&(wt(),se(j,1,1,()=>{j=null}),yt()),ee&3&&(m=Vt(Z[1].ui.h,Z[0].l1&&(Z[0].l1.p>.01||Z[0].l2.p>.01||Z[0].l3.p>.01||Z[0].l1.q>.01||Z[0].l2.q>.01||Z[0].l3.q>.01))),m?z?(z.p(Z,ee),ee&3&&Q(z,1)):(z=Yo(Z),z.c(),Q(z,1),z.m(e,d)):z&&(wt(),se(z,1,1,()=>{z=null}),yt()),ee&3&&(_=Vt(Z[1].ui.f,Z[0].l1&&(Z[0].l1.f>.01||Z[0].l2.f>.01||Z[0].l3.f>.01))),_?$?($.p(Z,ee),ee&3&&Q($,1)):($=Jo(Z),$.c(),Q($,1),$.m(e,b)):$&&(wt(),se($,1,1,()=>{$=null}),yt()),ee&3&&(y=Vt(Z[1].ui.r,Z[0].ri>0||Z[0].re>0||Z[0].ric>0||Z[0].rec>0)),y?ne?(ne.p(Z,ee),ee&3&&Q(ne,1)):(ne=Zo(Z),ne.c(),Q(ne,1),ne.m(e,g)):ne&&(wt(),se(ne,1,1,()=>{ne=null}),yt()),ee&3&&(k=Vt(Z[1].ui.c,Z[0].ea)),k?W?(W.p(Z,ee),ee&3&&Q(W,1)):(W=$o(Z),W.c(),Q(W,1),W.m(e,v)):W&&(wt(),se(W,1,1,()=>{W=null}),yt()),ee&3&&(N=Vt(Z[1].ui.t,Z[0].pr&&(Z[0].pr.startsWith("NO")||Z[0].pr.startsWith("10YNO")||Z[0].pr.startsWith("10Y1001A1001A4")))),N?x?(x.p(Z,ee),ee&3&&Q(x,1)):(x=xo(Z),x.c(),Q(x,1),x.m(e,P)):x&&(wt(),se(x,1,1,()=>{x=null}),yt()),ee&3&&(O=Vt(Z[1].ui.l,Z[0].hm==1)),O?ue?(ue.p(Z,ee),ee&3&&Q(ue,1)):(ue=ea(Z),ue.c(),Q(ue,1),ue.m(e,E)):ue&&(wt(),se(ue,1,1,()=>{ue=null}),yt()),ee&3&&(R=Vt(Z[1].ui.p,Z[0].pe&&!Number.isNaN(Z[0].p))),R?re?(re.p(Z,ee),ee&3&&Q(re,1)):(re=ta(Z),re.c(),Q(re,1),re.m(e,I)):re&&(wt(),se(re,1,1,()=>{re=null}),yt()),ee&10&&(B=Vt(Z[1].ui.d,Z[3])),B?fe?(fe.p(Z,ee),ee&10&&Q(fe,1)):(fe=la(Z),fe.c(),Q(fe,1),fe.m(e,K)):fe&&(wt(),se(fe,1,1,()=>{fe=null}),yt()),ee&18&&(G=Vt(Z[1].ui.m,Z[4])),G?ce?(ce.p(Z,ee),ee&18&&Q(ce,1)):(ce=na(Z),ce.c(),Q(ce,1),ce.m(e,A)):ce&&(wt(),se(ce,1,1,()=>{ce=null}),yt()),ee&35&&(L=Vt(Z[1].ui.s,Z[0].t&&Z[0].t!=-127&&Z[5].c>1)),L?le?(le.p(Z,ee),ee&35&&Q(le,1)):(le=ia(Z),le.c(),Q(le,1),le.m(e,null)):le&&(wt(),se(le,1,1,()=>{le=null}),yt())},i(Z){H||(Q(U),Q(X),Q(Y),Q(j),Q(z),Q($),Q(ne),Q(W),Q(x),Q(ue),Q(re),Q(fe),Q(ce),Q(le),H=!0)},o(Z){se(U),se(X),se(Y),se(j),se(z),se($),se(ne),se(W),se(x),se(ue),se(re),se(fe),se(ce),se(le),H=!1},d(Z){Z&&S(e),U&&U.d(),X&&X.d(),Y&&Y.d(),j&&j.d(),z&&z.d(),$&&$.d(),ne&&ne.d(),W&&W.d(),x&&x.d(),ue&&ue.d(),re&&re.d(),fe&&fe.d(),ce&&ce.d(),le&&le.d()}}}function y1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,d,_,b,y,g,k;return t.$$set=v=>{"data"in v&&l(0,n=v.data),"sysinfo"in v&&l(1,i=v.sysinfo),"prices"in v&&l(2,s=v.prices),"dayPlot"in v&&l(3,o=v.dayPlot),"monthPlot"in v&&l(4,f=v.monthPlot),"temperatures"in v&&l(5,r=v.temperatures),"translations"in v&&l(6,c=v.translations),"tariffData"in v&&l(7,m=v.tariffData)},t.$$.update=()=>{var v,N,P,O,E,R,I,B,K,G,A,L,H,U,X;t.$$.dirty&1793&&(l(11,d=fl((n==null?void 0:n.ic)*1e3,"Wh")),l(12,_=fl((n==null?void 0:n.ec)*1e3,"Wh")),((v=n==null?void 0:n.l1)==null?void 0:v.u)==0&&((N=n==null?void 0:n.l2)==null?void 0:N.u)==0&&((P=n==null?void 0:n.l3)==null?void 0:P.u)==0?l(8,y=l(9,g=l(10,k=l(13,b=!0)))):(l(8,y=((O=n==null?void 0:n.l1)==null?void 0:O.u)>0||((E=n==null?void 0:n.l1)==null?void 0:E.i)>0||((R=n==null?void 0:n.l1)==null?void 0:R.p)>0||((I=n==null?void 0:n.l1)==null?void 0:I.q)>0),l(9,g=((B=n==null?void 0:n.l2)==null?void 0:B.u)>0||((K=n==null?void 0:n.l2)==null?void 0:K.i)>0||((G=n==null?void 0:n.l2)==null?void 0:G.p)>0||((A=n==null?void 0:n.l2)==null?void 0:A.q)>0),l(10,k=((L=n==null?void 0:n.l3)==null?void 0:L.u)>0||((H=n==null?void 0:n.l3)==null?void 0:H.i)>0||((U=n==null?void 0:n.l3)==null?void 0:U.p)>0||((X=n==null?void 0:n.l3)==null?void 0:X.q)>0),l(13,b=y&&g&&k)))},[n,i,s,o,f,r,c,m,y,g,k,d,_,b]}class M1 extends At{constructor(e){super(),Et(this,e,y1,w1,Nt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Vi={};const vn=il(Vi);async function cu(){Vi=await(await fetch("configuration.json")).json(),vn.set(Vi)}let Gi={};const mu=il(Gi);async function S1(){Gi=await(await fetch("priceconfig.json")).json(),mu.set(Gi)}function sa(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function oa(t){let e,l,n;return{c(){e=p("option"),e.textContent="UART0",l=h(),n=p("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){C(i,e,s),C(i,l,s),C(i,n,s)},d(i){i&&(S(e),S(l),S(n))}}}function aa(t){let e;return{c(){e=p("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function ra(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&aa(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=aa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&S(e),l&&l.d(n)}}}function C1(t){let e,l,n,i,s=t[0]=="esp8266"&&oa(),o=He({length:t[1]+1}),f=[];for(let r=0;r<o.length;r+=1)f[r]=ra(sa(t,o,r));return{c(){e=p("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<f.length;r+=1)f[r].c();i=el(),e.__value=-1,J(e,e.__value)},m(r,c){C(r,e,c),C(r,l,c),s&&s.m(r,c),C(r,n,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);C(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=oa(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){o=He({length:r[1]+1});let m;for(m=0;m<o.length;m+=1){const d=sa(r,o,m);f[m]?f[m].p(d,c):(f[m]=ra(d),f[m].c(),f[m].m(i.parentNode,i))}for(;m<f.length;m+=1)f[m].d(1);f.length=o.length}},i:Ue,o:Ue,d(r){r&&(S(e),S(l),S(n),S(i)),s&&s.d(r),Gt(f,r)}}}function N1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class P1 extends At{constructor(e){super(),Et(this,e,N1,C1,Nt,{chip:0})}}function fa(t){let e,l,n=t[1]&&ua(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){C(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=ua(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&S(e),n&&n.d()}}}function ua(t){let e,l;return{c(){e=p("div"),l=w(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){C(n,e,i),a(e,l)},p(n,i){i&2&&q(l,n[1])},d(n){n&&S(e)}}}function T1(t){let e,l=t[0]&&fa(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=fa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(n){n&&S(e),l&&l.d(n)}}}function E1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class ml extends At{constructor(e){super(),Et(this,e,E1,T1,Nt,{active:0,message:1})}}function ca(t,e,l){const n=t.slice();return n[1]=e[l],n}function ma(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=w("Europe/"),i=w(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p:Ue,d(s){s&&S(e)}}}function A1(t){let e,l,n,i=He(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ma(ca(t,i,o));return{c(){e=p("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=el(),e.__value="GMT",J(e,e.__value)},m(o,f){C(o,e,f),C(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);C(o,n,f)},p(o,[f]){if(f&1){i=He(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ca(o,i,r);s[r]?s[r].p(c,f):(s[r]=ma(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ue,o:Ue,d(o){o&&(S(e),S(l),S(n)),Gt(s,o)}}}function q1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class L1 extends At{constructor(e){super(),Et(this,e,q1,A1,Nt,{})}}var I1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(I1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(T,M){var F;return typeof Object.create=="function"?F=Object.create(T):(l.prototype=T,F=new l,l.prototype=null),M&&f(!0,F,M),F}function o(T,M,F,D){var V=this;return typeof T!="string"&&(D=F,F=M,M=T,T=null),typeof M!="function"&&(D=F,F=M,M=function(){return V.apply(this,arguments)}),f(!1,M,V,D),M.prototype=s(V.prototype,F),M.prototype.constructor=M,M.class_=T||V.class_,M.super_=V,M}function f(T,M,F){F=i.call(arguments,2);for(var D,V,te=0,ie=F.length;te<ie;te++){V=F[te];for(D in V)(!T||n.call(V,D))&&(M[D]=V[D])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,d=m,_=d.extend(function(T,M,F){this.qrious=T,this.element=M,this.element.qrious=T,this.enabled=!!F},{draw:function(T){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(T){var M=this.qrious,F=M.padding||0,D=Math.floor((M.size-F*2)/T.width);return Math.max(1,D)},getOffset:function(T){var M=this.qrious,F=M.padding;if(F!=null)return F;var D=this.getModuleSize(T),V=Math.floor((M.size-D*T.width)/2);return Math.max(0,V)},render:function(T){this.enabled&&(this.resize(),this.reset(),this.draw(T))},reset:function(){},resize:function(){}}),b=_,y=b.extend({draw:function(T){var M,F,D=this.qrious,V=this.getModuleSize(T),te=this.getOffset(T),ie=this.element.getContext("2d");for(ie.fillStyle=D.foreground,ie.globalAlpha=D.foregroundAlpha,M=0;M<T.width;M++)for(F=0;F<T.width;F++)T.buffer[F*T.width+M]&&ie.fillRect(V*M+te,V*F+te,V,V)},reset:function(){var T=this.qrious,M=this.element.getContext("2d"),F=T.size;M.lineWidth=1,M.clearRect(0,0,F,F),M.fillStyle=T.background,M.globalAlpha=T.backgroundAlpha,M.fillRect(0,0,F,F)},resize:function(){var T=this.element;T.width=T.height=this.qrious.size}}),g=y,k=d.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),v=k,N=d.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),P=N,O=d.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),E=O,R=d.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),I=R,B=d.extend(function(T){var M,F,D,V,te,ie=T.value.length;for(this._badness=[],this._level=P.LEVELS[T.level],this._polynomial=[],this._value=T.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,D=(this._level-1)*4+(this._version-1)*16,V=P.BLOCKS[D++],te=P.BLOCKS[D++],M=P.BLOCKS[D++],F=P.BLOCKS[D],D=M*(V+te)+te-3+(this._version<=9),!(ie<=D)););this._dataBlock=M,this._eccBlock=F,this._neccBlock1=V,this._neccBlock2=te;var pe=this.width=17+4*this._version;this.buffer=B._createArray(pe*pe),this._ecc=B._createArray(M+(M+F)*(V+te)+te),this._mask=B._createArray((pe*(pe+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+pe*(pe-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ie),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(T,M){var F,D=this.buffer,V=this.width;for(D[T+V*M]=1,F=-2;F<2;F++)D[T+F+V*(M-2)]=1,D[T-2+V*(M+F+1)]=1,D[T+2+V*(M+F)]=1,D[T+F+1+V*(M+2)]=1;for(F=0;F<2;F++)this._setMask(T-1,M+F),this._setMask(T+1,M-F),this._setMask(T-F,M-1),this._setMask(T+F,M+1)},_appendData:function(T,M,F,D){var V,te,ie,pe=this._polynomial,me=this._stringBuffer;for(te=0;te<D;te++)me[F+te]=0;for(te=0;te<M;te++){if(V=E.LOG[me[T+te]^me[F]],V!==255)for(ie=1;ie<D;ie++)me[F+ie-1]=me[F+ie]^E.EXPONENT[B._modN(V+pe[D-ie])];else for(ie=F;ie<F+D;ie++)me[ie]=me[ie+1];me[F+D-1]=V===255?0:E.EXPONENT[B._modN(V+pe[0])]}},_appendEccToData:function(){var T,M=0,F=this._dataBlock,D=this._calculateMaxLength(),V=this._eccBlock;for(T=0;T<this._neccBlock1;T++)this._appendData(M,F,D,V),M+=F,D+=V;for(T=0;T<this._neccBlock2;T++)this._appendData(M,F+1,D,V),M+=F+1,D+=V},_applyMask:function(T){var M,F,D,V,te=this.buffer,ie=this.width;switch(T){case 0:for(V=0;V<ie;V++)for(D=0;D<ie;D++)!(D+V&1)&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 1:for(V=0;V<ie;V++)for(D=0;D<ie;D++)!(V&1)&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 2:for(V=0;V<ie;V++)for(M=0,D=0;D<ie;D++,M++)M===3&&(M=0),!M&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 3:for(F=0,V=0;V<ie;V++,F++)for(F===3&&(F=0),M=F,D=0;D<ie;D++,M++)M===3&&(M=0),!M&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 4:for(V=0;V<ie;V++)for(M=0,F=V>>1&1,D=0;D<ie;D++,M++)M===3&&(M=0,F=!F),!F&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 5:for(F=0,V=0;V<ie;V++,F++)for(F===3&&(F=0),M=0,D=0;D<ie;D++,M++)M===3&&(M=0),!((D&V&1)+!(!M|!F))&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 6:for(F=0,V=0;V<ie;V++,F++)for(F===3&&(F=0),M=0,D=0;D<ie;D++,M++)M===3&&(M=0),!((D&V&1)+(M&&M===F)&1)&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break;case 7:for(F=0,V=0;V<ie;V++,F++)for(F===3&&(F=0),M=0,D=0;D<ie;D++,M++)M===3&&(M=0),!((M&&M===F)+(D+V&1)&1)&&!this._isMasked(D,V)&&(te[D+V*ie]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var T,M,F=this._eccBlock,D=this._polynomial;for(D[0]=1,T=0;T<F;T++){for(D[T+1]=1,M=T;M>0;M--)D[M]=D[M]?D[M-1]^E.EXPONENT[B._modN(E.LOG[D[M]]+T)]:D[M-1];D[0]=E.EXPONENT[B._modN(E.LOG[D[0]]+T)]}for(T=0;T<=F;T++)D[T]=E.LOG[D[T]]},_checkBadness:function(){var T,M,F,D,V,te=0,ie=this._badness,pe=this.buffer,me=this.width;for(V=0;V<me-1;V++)for(D=0;D<me-1;D++)(pe[D+me*V]&&pe[D+1+me*V]&&pe[D+me*(V+1)]&&pe[D+1+me*(V+1)]||!(pe[D+me*V]||pe[D+1+me*V]||pe[D+me*(V+1)]||pe[D+1+me*(V+1)]))&&(te+=B.N2);var oe=0;for(V=0;V<me;V++){for(F=0,ie[0]=0,T=0,D=0;D<me;D++)M=pe[D+me*V],T===M?ie[F]++:ie[++F]=1,T=M,oe+=T?1:-1;te+=this._getBadness(F)}oe<0&&(oe=-oe);var we=0,ge=oe;for(ge+=ge<<2,ge<<=1;ge>me*me;)ge-=me*me,we++;for(te+=we*B.N4,D=0;D<me;D++){for(F=0,ie[0]=0,T=0,V=0;V<me;V++)M=pe[D+me*V],T===M?ie[F]++:ie[++F]=1,T=M;te+=this._getBadness(F)}return te},_convertBitStream:function(T){var M,F,D=this._ecc,V=this._version;for(F=0;F<T;F++)D[F]=this._value.charCodeAt(F);var te=this._stringBuffer=D.slice(),ie=this._calculateMaxLength();T>=ie-2&&(T=ie-2,V>9&&T--);var pe=T;if(V>9){for(te[pe+2]=0,te[pe+3]=0;pe--;)M=te[pe],te[pe+3]|=255&M<<4,te[pe+2]=M>>4;te[2]|=255&T<<4,te[1]=T>>4,te[0]=64|T>>12}else{for(te[pe+1]=0,te[pe+2]=0;pe--;)M=te[pe],te[pe+2]|=255&M<<4,te[pe+1]=M>>4;te[1]|=255&T<<4,te[0]=64|T>>4}for(pe=T+3-(V<10);pe<ie;)te[pe++]=236,te[pe++]=17},_getBadness:function(T){var M,F=0,D=this._badness;for(M=0;M<=T;M++)D[M]>=5&&(F+=B.N1+D[M]-5);for(M=3;M<T-1;M+=2)D[M-2]===D[M+2]&&D[M+2]===D[M-1]&&D[M-1]===D[M+1]&&D[M-1]*3===D[M]&&(D[M-3]===0||M+3>T||D[M-3]*3>=D[M]*4||D[M+3]*3>=D[M]*4)&&(F+=B.N3);return F},_finish:function(){this._stringBuffer=this.buffer.slice();var T,M,F=0,D=3e4;for(M=0;M<8&&(this._applyMask(M),T=this._checkBadness(),T<D&&(D=T,F=M),F!==7);M++)this.buffer=this._stringBuffer.slice();F!==M&&this._applyMask(F),D=P.FINAL_FORMAT[F+(this._level-1<<3)];var V=this.buffer,te=this.width;for(M=0;M<8;M++,D>>=1)D&1&&(V[te-1-M+te*8]=1,M<6?V[8+te*M]=1:V[8+te*(M+1)]=1);for(M=0;M<7;M++,D>>=1)D&1&&(V[8+te*(te-7+M)]=1,M?V[6-M+te*8]=1:V[7+te*8]=1)},_interleaveBlocks:function(){var T,M,F=this._dataBlock,D=this._ecc,V=this._eccBlock,te=0,ie=this._calculateMaxLength(),pe=this._neccBlock1,me=this._neccBlock2,oe=this._stringBuffer;for(T=0;T<F;T++){for(M=0;M<pe;M++)D[te++]=oe[T+M*F];for(M=0;M<me;M++)D[te++]=oe[pe*F+T+M*(F+1)]}for(M=0;M<me;M++)D[te++]=oe[pe*F+T+M*(F+1)];for(T=0;T<V;T++)for(M=0;M<pe+me;M++)D[te++]=oe[ie+T+M*V];this._stringBuffer=D},_insertAlignments:function(){var T,M,F,D=this._version,V=this.width;if(D>1)for(T=v.BLOCK[D],F=V-7;;){for(M=V-7;M>T-3&&(this._addAlignment(M,F),!(M<T));)M-=T;if(F<=T+9)break;F-=T,this._addAlignment(6,F),this._addAlignment(F,6)}},_insertFinders:function(){var T,M,F,D,V=this.buffer,te=this.width;for(T=0;T<3;T++){for(M=0,D=0,T===1&&(M=te-7),T===2&&(D=te-7),V[D+3+te*(M+3)]=1,F=0;F<6;F++)V[D+F+te*M]=1,V[D+te*(M+F+1)]=1,V[D+6+te*(M+F)]=1,V[D+F+1+te*(M+6)]=1;for(F=1;F<5;F++)this._setMask(D+F,M+1),this._setMask(D+1,M+F+1),this._setMask(D+5,M+F),this._setMask(D+F+1,M+5);for(F=2;F<4;F++)V[D+F+te*(M+2)]=1,V[D+2+te*(M+F+1)]=1,V[D+4+te*(M+F)]=1,V[D+F+1+te*(M+4)]=1}},_insertTimingGap:function(){var T,M,F=this.width;for(M=0;M<7;M++)this._setMask(7,M),this._setMask(F-8,M),this._setMask(7,M+F-7);for(T=0;T<8;T++)this._setMask(T,7),this._setMask(T+F-8,7),this._setMask(T,F-8)},_insertTimingRowAndColumn:function(){var T,M=this.buffer,F=this.width;for(T=0;T<F-14;T++)T&1?(this._setMask(8+T,6),this._setMask(6,8+T)):(M[8+T+F*6]=1,M[6+F*(8+T)]=1)},_insertVersion:function(){var T,M,F,D,V=this.buffer,te=this._version,ie=this.width;if(te>6)for(T=I.BLOCK[te-7],M=17,F=0;F<6;F++)for(D=0;D<3;D++,M--)1&(M>11?te>>M-12:T>>M)?(V[5-F+ie*(2-D+ie-11)]=1,V[2-D+ie-11+ie*(5-F)]=1):(this._setMask(5-F,2-D+ie-11),this._setMask(2-D+ie-11,5-F))},_isMasked:function(T,M){var F=B._getMaskBit(T,M);return this._mask[F]===1},_pack:function(){var T,M,F,D=1,V=1,te=this.width,ie=te-1,pe=te-1,me=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(M=0;M<me;M++)for(T=this._stringBuffer[M],F=0;F<8;F++,T<<=1){128&T&&(this.buffer[ie+te*pe]=1);do V?ie--:(ie++,D?pe!==0?pe--:(ie-=2,D=!D,ie===6&&(ie--,pe=9)):pe!==te-1?pe++:(ie-=2,D=!D,ie===6&&(ie--,pe-=8))),V=!V;while(this._isMasked(ie,pe))}},_reverseMask:function(){var T,M,F=this.width;for(T=0;T<9;T++)this._setMask(T,8);for(T=0;T<8;T++)this._setMask(T+F-8,8),this._setMask(8,T);for(M=0;M<7;M++)this._setMask(8,M+F-7)},_setMask:function(T,M){var F=B._getMaskBit(T,M);this._mask[F]=1},_syncMask:function(){var T,M,F=this.width;for(M=0;M<F;M++)for(T=0;T<=M;T++)this.buffer[T+F*M]&&this._setMask(T,M)}},{_createArray:function(T){var M,F=[];for(M=0;M<T;M++)F[M]=0;return F},_getMaskBit:function(T,M){var F;return T>M&&(F=T,T=M,M=F),F=M,F+=M*M,F>>=1,F+=T,F},_modN:function(T){for(;T>=255;)T-=255,T=(T>>8)+(T&255);return T},N1:3,N2:3,N3:40,N4:10}),K=B,G=b.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var T=this.element;T.width=T.height=this.qrious.size}}),A=G,L=d.extend(function(T,M,F,D){this.name=T,this.modifiable=!!M,this.defaultValue=F,this._valueTransformer=D},{transform:function(T){var M=this._valueTransformer;return typeof M=="function"?M(T,this):T}}),H=L,U=d.extend(null,{abs:function(T){return T!=null?Math.abs(T):null},hasOwn:function(T,M){return Object.prototype.hasOwnProperty.call(T,M)},noop:function(){},toUpperCase:function(T){return T!=null?T.toUpperCase():null}}),X=U,Y=d.extend(function(T){this.options={},T.forEach(function(M){this.options[M.name]=M},this)},{exists:function(T){return this.options[T]!=null},get:function(T,M){return Y._get(this.options[T],M)},getAll:function(T){var M,F=this.options,D={};for(M in F)X.hasOwn(F,M)&&(D[M]=Y._get(F[M],T));return D},init:function(T,M,F){typeof F!="function"&&(F=X.noop);var D,V;for(D in this.options)X.hasOwn(this.options,D)&&(V=this.options[D],Y._set(V,V.defaultValue,M),Y._createAccessor(V,M,F));this._setAll(T,M,!0)},set:function(T,M,F){return this._set(T,M,F)},setAll:function(T,M){return this._setAll(T,M)},_set:function(T,M,F,D){var V=this.options[T];if(!V)throw new Error("Invalid option: "+T);if(!V.modifiable&&!D)throw new Error("Option cannot be modified: "+T);return Y._set(V,M,F)},_setAll:function(T,M,F){if(!T)return!1;var D,V=!1;for(D in T)X.hasOwn(T,D)&&this._set(D,T[D],M,F)&&(V=!0);return V}},{_createAccessor:function(T,M,F){var D={get:function(){return Y._get(T,M)}};T.modifiable&&(D.set=function(V){Y._set(T,V,M)&&F(V,T)}),Object.defineProperty(M,T.name,D)},_get:function(T,M){return M["_"+T.name]},_set:function(T,M,F){var D="_"+T.name,V=F[D],te=T.transform(M??T.defaultValue);return F[D]=te,te!==V}}),j=Y,z=d.extend(function(){this._services={}},{getService:function(T){var M=this._services[T];if(!M)throw new Error("Service is not being managed with name: "+T);return M},setService:function(T,M){if(this._services[T])throw new Error("Service is already managed with name: "+T);M&&(this._services[T]=M)}}),$=z,ne=new j([new H("background",!0,"white"),new H("backgroundAlpha",!0,1,X.abs),new H("element"),new H("foreground",!0,"black"),new H("foregroundAlpha",!0,1,X.abs),new H("level",!0,"L",X.toUpperCase),new H("mime",!0,"image/png"),new H("padding",!0,null,X.abs),new H("size",!0,100,X.abs),new H("value",!0,"")]),W=new $,x=d.extend(function(T){ne.init(T,this,this.update.bind(this));var M=ne.get("element",this),F=W.getService("element"),D=M&&F.isCanvas(M)?M:F.createCanvas(),V=M&&F.isImage(M)?M:F.createImage();this._canvasRenderer=new g(this,D,!0),this._imageRenderer=new A(this,V,V===M),this.update()},{get:function(){return ne.getAll(this)},set:function(T){ne.setAll(T,this)&&this.update()},toDataURL:function(T){return this.canvas.toDataURL(T||this.mime)},update:function(){var T=new K({level:this.level,value:this.value});this._canvasRenderer.render(T),this._imageRenderer.render(T)}},{use:function(T){W.setService(T.getName(),T)}});Object.defineProperties(x.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var ue=x,re=ue,fe=d.extend({getName:function(){}}),ce=fe,le=ce.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(T){},isImage:function(T){}}),Z=le,ee=Z.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(T){return T instanceof HTMLCanvasElement},isImage:function(T){return T instanceof HTMLImageElement}}),ve=ee;re.use(new ve);var ke=re;return ke})})(O1);const Yi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function D1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const us=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function _u(t){return us.find(e=>e.id===t)}function pu(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Yi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=D1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function dn(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Yi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Yi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function R1(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function _a(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function pa(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function da(t,e,l){const n=t.slice();return n[103]=e[l],n[104]=e,n[105]=l,n}function ha(t,e,l){const n=t.slice();return n[106]=e[l],n[108]=l,n}function F1(t,e,l){const n=t.slice();return n[109]=e[l],n}function U1(t,e,l){const n=t.slice();return n[112]=e[l],n}function ba(t,e,l){const n=t.slice();return n[115]=e[l],n}function B1(t,e,l){const n=t.slice();return n[118]=e[l],n}function va(t,e,l){const n=t.slice();return n[121]=e[l],n}function ga(t){var cl,Ee,_e,jt,Oe,Ct,rl,vl,gl,kl,wl,yl,Ml,Dl,Rl,Fl,Re,at,Ul,Bl,jl,Wl,Hl,zl,Kl,Vl,Gl,Yl,Xl,Jl;let e,l,n=(((Ee=(cl=t[2].conf)==null?void 0:cl.general)==null?void 0:Ee.title)??"General")+"",i,s,o,f,r,c,m,d,_,b=(((jt=(_e=t[2].conf)==null?void 0:_e.general)==null?void 0:jt.hostname)??"Hostname")+"",y,g,k,v,N,P,O=(((Ct=(Oe=t[2].conf)==null?void 0:Oe.general)==null?void 0:Ct.timezone)??"Time zone")+"",E,R,I,B,K,G,A,L=(((vl=(rl=t[2].conf)==null?void 0:rl.general)==null?void 0:vl.language)??((kl=(gl=t[2].conf)==null?void 0:gl.ui)==null?void 0:kl.lang)??"Language")+"",H,U,X,Y,j,z,$,ne,W,x,ue=(((yl=(wl=t[2].conf)==null?void 0:wl.price)==null?void 0:yl.region)??"Price region")+"",re,fe,ce,le,Z,ee,ve,ke,T,M,F,D,V,te,ie,pe,me,oe,we,ge,Ae,Le,Be,ze,Xe,Ze,qe,tt,ae,Ne,lt,bt,mt,$e,rt=(((Dl=(Ml=t[2].conf)==null?void 0:Ml.price)==null?void 0:Dl.currency)??"Currency")+"",Ht,_t,qt,Pt,Lt,et,pt,Pe,je,Qe,Je,he,De=(((Fl=(Rl=t[2].conf)==null?void 0:Rl.price)==null?void 0:Fl.enabled)??"Enabled")+"",Tt,It,vt,We,ut=(((Ul=(at=(Re=t[2].conf)==null?void 0:Re.general)==null?void 0:at.security)==null?void 0:Ul.title)??"Security")+"",xe,Ot,zt,Ve,ye,Te=(((Wl=(jl=(Bl=t[2].conf)==null?void 0:Bl.general)==null?void 0:jl.security)==null?void 0:Wl.none)??"None")+"",Ge,nt,ot=(((Kl=(zl=(Hl=t[2].conf)==null?void 0:Hl.general)==null?void 0:zl.security)==null?void 0:Kl.conf)??"Conf")+"",dt,Xt,Ut=(((Yl=(Gl=(Vl=t[2].conf)==null?void 0:Vl.general)==null?void 0:Gl.security)==null?void 0:Yl.all)??"All")+"",Rt,sl,Dt,Ye,Bt=(((Jl=(Xl=t[2].conf)==null?void 0:Xl.general)==null?void 0:Jl.context)??"Context")+"",Jt,gt,ft,St,Kt,de,it,Ke;K=new L1({});let ol=He(t[4]),Qt=[];for(let Ie=0;Ie<ol.length;Ie+=1)Qt[Ie]=ka(va(t,ol,Ie));let tl=!t[3].p.t&&wa(),_l=He(["NOK","SEK","DKK","EUR","CHF"]),al=[];for(let Ie=0;Ie<5;Ie+=1)al[Ie]=j1(B1(t,_l,Ie));pt=new bl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[W1]},$$scope:{ctx:t}}});let Zt=t[3].p.e&&t[0].chip!="esp8266"&&ya(t),$t=t[3].g.s>0&&Ma(t);return{c(){var Ie,ht;e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=p("div"),_=p("div"),y=w(b),g=p("br"),k=h(),v=p("input"),N=h(),P=p("div"),E=w(O),R=p("br"),I=h(),B=p("select"),Ce(K.$$.fragment),G=h(),A=p("div"),H=w(L),U=p("br"),X=h(),Y=p("select");for(let xt=0;xt<Qt.length;xt+=1)Qt[xt].c();j=h(),z=p("input"),$=h(),ne=p("div"),W=p("div"),x=p("div"),re=w(ue),fe=p("br"),ce=h(),le=p("select"),Z=p("optgroup"),tl&&tl.c(),ee=p("option"),ee.textContent="NO1",ve=p("option"),ve.textContent="NO2",ke=p("option"),ke.textContent="NO3",T=p("option"),T.textContent="NO4",M=p("option"),M.textContent="NO5",F=p("optgroup"),D=p("option"),D.textContent="SE1",V=p("option"),V.textContent="SE2",te=p("option"),te.textContent="SE3",ie=p("option"),ie.textContent="SE4",pe=p("optgroup"),me=p("option"),me.textContent="DK1",oe=p("option"),oe.textContent="DK2",we=p("option"),we.textContent="Austria",ge=p("option"),ge.textContent="Belgium",Ae=p("option"),Ae.textContent="Czech Republic",Le=p("option"),Le.textContent="Estonia",Be=p("option"),Be.textContent="Finland",ze=p("option"),ze.textContent="France",Xe=p("option"),Xe.textContent="Germany",Ze=p("option"),Ze.textContent="Great Britain",qe=p("option"),qe.textContent="Latvia",tt=p("option"),tt.textContent="Lithuania",ae=p("option"),ae.textContent="Netherland",Ne=p("option"),Ne.textContent="Poland",lt=p("option"),lt.textContent="Slovenia",bt=p("option"),bt.textContent="Switzerland",mt=h(),$e=p("div"),Ht=w(rt),_t=p("br"),qt=h(),Pt=p("select");for(let xt=0;xt<5;xt+=1)al[xt].c();Lt=h(),et=p("div"),Ce(pt.$$.fragment),Pe=h(),je=p("div"),Qe=p("label"),Je=p("input"),he=h(),Tt=w(De),It=h(),Zt&&Zt.c(),vt=h(),We=p("div"),xe=w(ut),Ot=p("br"),zt=h(),Ve=p("select"),ye=p("option"),Ge=w(Te),nt=p("option"),dt=w(ot),Xt=p("option"),Rt=w(Ut),sl=h(),$t&&$t.c(),Dt=h(),Ye=p("div"),Jt=w(Bt),gt=p("br"),ft=h(),St=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(v,"name","gh"),u(v,"type","text"),u(v,"class","in-f w-full"),u(v,"pattern",pi),u(B,"name","gt"),u(B,"class","in-l w-full"),t[3].g.t===void 0&&Yt(()=>t[29].call(B)),u(d,"class","flex"),u(m,"class","my-1"),u(Y,"name","ulang"),u(Y,"class","in-s"),t[3].u.lang===void 0&&Yt(()=>t[30].call(Y)),u(A,"class","my-1"),u(z,"type","hidden"),u(z,"name","p"),z.value="true",ee.__value="10YNO-1--------2",J(ee,ee.__value),ve.__value="10YNO-2--------T",J(ve,ve.__value),ke.__value="10YNO-3--------J",J(ke,ke.__value),T.__value="10YNO-4--------9",J(T,T.__value),M.__value="10Y1001A1001A48H",J(M,M.__value),u(Z,"label","Norway"),D.__value="10Y1001A1001A44P",J(D,D.__value),V.__value="10Y1001A1001A45N",J(V,V.__value),te.__value="10Y1001A1001A46L",J(te,te.__value),ie.__value="10Y1001A1001A47J",J(ie,ie.__value),u(F,"label","Sweden"),me.__value="10YDK-1--------W",J(me,me.__value),oe.__value="10YDK-2--------M",J(oe,oe.__value),u(pe,"label","Denmark"),we.__value="10YAT-APG------L",J(we,we.__value),ge.__value="10YBE----------2",J(ge,ge.__value),Ae.__value="10YCZ-CEPS-----N",J(Ae,Ae.__value),Le.__value="10Y1001A1001A39I",J(Le,Le.__value),Be.__value="10YFI-1--------U",J(Be,Be.__value),ze.__value="10YFR-RTE------C",J(ze,ze.__value),Xe.__value="10Y1001A1001A83F",J(Xe,Xe.__value),Ze.__value="10YGB----------A",J(Ze,Ze.__value),qe.__value="10YLV-1001A00074",J(qe,qe.__value),tt.__value="10YLT-1001A0008Q",J(tt,tt.__value),ae.__value="10YNL----------L",J(ae,ae.__value),Ne.__value="10YPL-AREA-----S",J(Ne,Ne.__value),lt.__value="10YSI-ELES-----O",J(lt,lt.__value),bt.__value="10YCH-SWISSGRIDZ",J(bt,bt.__value),u(le,"name","pr"),u(le,"class","in-f w-full"),t[3].p.r===void 0&&Yt(()=>t[31].call(le)),u(x,"class","w-full"),u(Pt,"name","pc"),u(Pt,"class","in-l"),t[3].p.c===void 0&&Yt(()=>t[32].call(Pt)),u(W,"class","flex"),u(ne,"class","my-1"),u(et,"class","my-1"),u(Je,"type","checkbox"),u(Je,"name","pe"),Je.__value="true",J(Je,Je.__value),u(Je,"class","rounded mb-1"),u(je,"class","my-1"),ye.__value=0,J(ye,ye.__value),nt.__value=1,J(nt,nt.__value),Xt.__value=2,J(Xt,Xt.__value),u(Ve,"name","gs"),u(Ve,"class","in-s"),t[3].g.s===void 0&&Yt(()=>t[35].call(Ve)),u(We,"class","my-1"),u(St,"name","gc"),u(St,"type","text"),u(St,"pattern",pi),u(St,"placeholder",Kt=((ht=(Ie=t[2].conf)==null?void 0:Ie.general)==null?void 0:ht.context_placeholder)??"/"),u(St,"class","in-s"),u(St,"maxlength","36"),u(Ye,"class","my-1"),u(e,"class","cnt")},m(Ie,ht){C(Ie,e,ht),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,_),a(_,y),a(_,g),a(_,k),a(_,v),J(v,t[3].g.h),a(d,N),a(d,P),a(P,E),a(P,R),a(P,I),a(P,B),Me(K,B,null),st(B,t[3].g.t,!0),a(e,G),a(e,A),a(A,H),a(A,U),a(A,X),a(A,Y);for(let xt=0;xt<Qt.length;xt+=1)Qt[xt]&&Qt[xt].m(Y,null);st(Y,t[3].u.lang,!0),a(e,j),a(e,z),a(e,$),a(e,ne),a(ne,W),a(W,x),a(x,re),a(x,fe),a(x,ce),a(x,le),a(le,Z),tl&&tl.m(Z,null),a(Z,ee),a(Z,ve),a(Z,ke),a(Z,T),a(Z,M),a(le,F),a(F,D),a(F,V),a(F,te),a(F,ie),a(le,pe),a(pe,me),a(pe,oe),a(le,we),a(le,ge),a(le,Ae),a(le,Le),a(le,Be),a(le,ze),a(le,Xe),a(le,Ze),a(le,qe),a(le,tt),a(le,ae),a(le,Ne),a(le,lt),a(le,bt),st(le,t[3].p.r,!0),a(W,mt),a(W,$e),a($e,Ht),a($e,_t),a($e,qt),a($e,Pt);for(let xt=0;xt<5;xt+=1)al[xt]&&al[xt].m(Pt,null);st(Pt,t[3].p.c,!0),a(e,Lt),a(e,et),Me(pt,et,null),a(e,Pe),a(e,je),a(je,Qe),a(Qe,Je),Je.checked=t[3].p.e,a(Qe,he),a(Qe,Tt),a(je,It),Zt&&Zt.m(je,null),a(e,vt),a(e,We),a(We,xe),a(We,Ot),a(We,zt),a(We,Ve),a(Ve,ye),a(ye,Ge),a(Ve,nt),a(nt,dt),a(Ve,Xt),a(Xt,Rt),st(Ve,t[3].g.s,!0),a(e,sl),$t&&$t.m(e,null),a(e,Dt),a(e,Ye),a(Ye,Jt),a(Ye,gt),a(Ye,ft),a(Ye,St),J(St,t[3].g.c),de=!0,it||(Ke=[be(v,"input",t[28]),be(B,"change",t[29]),be(Y,"change",t[30]),be(Y,"change",t[23]),be(le,"change",t[31]),be(le,"change",t[26]),be(Pt,"change",t[32]),be(Je,"change",t[33]),be(Ve,"change",t[35]),be(St,"input",t[38])],it=!0)},p(Ie,ht){var Ql,Zl,Sn,Cn,Nn,Pn,Tn,En,An,qn,Ln,In,On,Dn,Rn,ms,_s,ps,ds,hs,bs,vs,gs,ks,ws,ys,Ms,Ss,Cs,Ns,Ps,Ts;if((!de||ht[0]&4)&&n!==(n=(((Zl=(Ql=Ie[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.title)??"General")+"")&&q(i,n),(!de||ht[0]&4)&&b!==(b=(((Cn=(Sn=Ie[2].conf)==null?void 0:Sn.general)==null?void 0:Cn.hostname)??"Hostname")+"")&&q(y,b),ht[0]&8&&v.value!==Ie[3].g.h&&J(v,Ie[3].g.h),(!de||ht[0]&4)&&O!==(O=(((Pn=(Nn=Ie[2].conf)==null?void 0:Nn.general)==null?void 0:Pn.timezone)??"Time zone")+"")&&q(E,O),ht[0]&8&&st(B,Ie[3].g.t),(!de||ht[0]&4)&&L!==(L=(((En=(Tn=Ie[2].conf)==null?void 0:Tn.general)==null?void 0:En.language)??((qn=(An=Ie[2].conf)==null?void 0:An.ui)==null?void 0:qn.lang)??"Language")+"")&&q(H,L),ht[0]&16){ol=He(Ie[4]);let pl;for(pl=0;pl<ol.length;pl+=1){const Es=va(Ie,ol,pl);Qt[pl]?Qt[pl].p(Es,ht):(Qt[pl]=ka(Es),Qt[pl].c(),Qt[pl].m(Y,null))}for(;pl<Qt.length;pl+=1)Qt[pl].d(1);Qt.length=ol.length}ht[0]&8&&st(Y,Ie[3].u.lang),(!de||ht[0]&4)&&ue!==(ue=(((In=(Ln=Ie[2].conf)==null?void 0:Ln.price)==null?void 0:In.region)??"Price region")+"")&&q(re,ue),Ie[3].p.t?tl&&(tl.d(1),tl=null):tl||(tl=wa(),tl.c(),tl.m(Z,ee)),ht[0]&8&&st(le,Ie[3].p.r),(!de||ht[0]&4)&&rt!==(rt=(((Dn=(On=Ie[2].conf)==null?void 0:On.price)==null?void 0:Dn.currency)??"Currency")+"")&&q(Ht,rt),ht[0]&8&&st(Pt,Ie[3].p.c);const xt={};ht[0]&4|ht[4]&1&&(xt.$$scope={dirty:ht,ctx:Ie}),pt.$set(xt),ht[0]&8&&(Je.checked=Ie[3].p.e),(!de||ht[0]&4)&&De!==(De=(((ms=(Rn=Ie[2].conf)==null?void 0:Rn.price)==null?void 0:ms.enabled)??"Enabled")+"")&&q(Tt,De),Ie[3].p.e&&Ie[0].chip!="esp8266"?Zt?Zt.p(Ie,ht):(Zt=ya(Ie),Zt.c(),Zt.m(je,null)):Zt&&(Zt.d(1),Zt=null),(!de||ht[0]&4)&&ut!==(ut=(((ds=(ps=(_s=Ie[2].conf)==null?void 0:_s.general)==null?void 0:ps.security)==null?void 0:ds.title)??"Security")+"")&&q(xe,ut),(!de||ht[0]&4)&&Te!==(Te=(((vs=(bs=(hs=Ie[2].conf)==null?void 0:hs.general)==null?void 0:bs.security)==null?void 0:vs.none)??"None")+"")&&q(Ge,Te),(!de||ht[0]&4)&&ot!==(ot=(((ws=(ks=(gs=Ie[2].conf)==null?void 0:gs.general)==null?void 0:ks.security)==null?void 0:ws.conf)??"Conf")+"")&&q(dt,ot),(!de||ht[0]&4)&&Ut!==(Ut=(((Ss=(Ms=(ys=Ie[2].conf)==null?void 0:ys.general)==null?void 0:Ms.security)==null?void 0:Ss.all)??"All")+"")&&q(Rt,Ut),ht[0]&8&&st(Ve,Ie[3].g.s),Ie[3].g.s>0?$t?$t.p(Ie,ht):($t=Ma(Ie),$t.c(),$t.m(e,Dt)):$t&&($t.d(1),$t=null),(!de||ht[0]&4)&&Bt!==(Bt=(((Ns=(Cs=Ie[2].conf)==null?void 0:Cs.general)==null?void 0:Ns.context)??"Context")+"")&&q(Jt,Bt),(!de||ht[0]&4&&Kt!==(Kt=((Ts=(Ps=Ie[2].conf)==null?void 0:Ps.general)==null?void 0:Ts.context_placeholder)??"/"))&&u(St,"placeholder",Kt),ht[0]&8&&St.value!==Ie[3].g.c&&J(St,Ie[3].g.c)},i(Ie){de||(Q(K.$$.fragment,Ie),Q(pt.$$.fragment,Ie),de=!0)},o(Ie){se(K.$$.fragment,Ie),se(pt.$$.fragment,Ie),de=!1},d(Ie){Ie&&S(e),Se(K),Gt(Qt,Ie),tl&&tl.d(),Gt(al,Ie),Se(pt),Zt&&Zt.d(),$t&&$t.d(),it=!1,Ft(Ke)}}}function ka(t){let e,l=t[121].name+"",n,i;return{c(){e=p("option"),n=w(l),e.__value=i=t[121].code,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o[0]&16&&l!==(l=s[121].name+"")&&q(n,l),o[0]&16&&i!==(i=s[121].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&S(e)}}}function wa(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f),C(o,i,f),C(o,s,f)},d(o){o&&(S(e),S(l),S(n),S(i),S(s))}}}function j1(t){let e;return{c(){e=p("option"),e.textContent=`${t[118]}`,e.__value=t[118],J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function W1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&q(l,e)},d(s){s&&S(l)}}}function ya(t){let e,l,n,i,s;return{c(){var o,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",pi)},m(o,f){C(o,e,f),C(o,l,f),J(l,t[3].p.t),i||(s=be(l,"input",t[34]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&8&&l.value!==o[3].p.t&&J(l,o[3].p.t)},d(o){o&&(S(e),S(l)),i=!1,s()}}}function Ma(t){var k,v,N,P,O,E;let e,l=(((N=(v=(k=t[2].conf)==null?void 0:k.general)==null?void 0:v.security)==null?void 0:N.username)??"Username")+"",n,i,s,o,f,r,c=(((E=(O=(P=t[2].conf)==null?void 0:P.general)==null?void 0:O.security)==null?void 0:E.password)??"Password")+"",m,d,_,b,y,g;return{c(){e=p("div"),n=w(l),i=p("br"),s=h(),o=p("input"),f=h(),r=p("div"),m=w(c),d=p("br"),_=h(),b=p("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",tn),u(e,"class","my-1"),u(b,"name","gp"),u(b,"type","password"),u(b,"class","in-s"),u(b,"maxlength","36"),u(b,"pattern",tn),u(r,"class","my-1")},m(R,I){C(R,e,I),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[3].g.u),C(R,f,I),C(R,r,I),a(r,m),a(r,d),a(r,_),a(r,b),J(b,t[3].g.p),y||(g=[be(o,"input",t[36]),be(b,"input",t[37])],y=!0)},p(R,I){var B,K,G,A,L,H;I[0]&4&&l!==(l=(((G=(K=(B=R[2].conf)==null?void 0:B.general)==null?void 0:K.security)==null?void 0:G.username)??"Username")+"")&&q(n,l),I[0]&8&&o.value!==R[3].g.u&&J(o,R[3].g.u),I[0]&4&&c!==(c=(((H=(L=(A=R[2].conf)==null?void 0:A.general)==null?void 0:L.security)==null?void 0:H.password)??"Password")+"")&&q(m,c),I[0]&8&&b.value!==R[3].g.p&&J(b,R[3].g.p)},d(R){R&&(S(e),S(f),S(r)),y=!1,Ft(g)}}}function Sa(t){let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R,I,B=Za(t[3].fw.s)+"",K,G,A,L,H,U;function X(z,$){var ne,W,x,ue;return((W=(ne=z[0])==null?void 0:ne.upgrade)==null?void 0:W.m)===!0?K1:(ue=(x=z[0])==null?void 0:x.upgrade)!=null&&ue.n?z1:H1}let Y=X(t),j=Y(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=w(`
                    Enable nightly auto-updates`),m=h(),d=p("div"),_=p("div"),b=w("Update hour"),y=p("br"),g=h(),k=p("input"),N=h(),P=p("input"),E=h(),R=p("div"),I=w("When enabled, the device checks for updates daily at "),K=w(B),G=w(" (local time) and applies them automatically if available."),A=h(),L=p("div"),j.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(k,"name","fws"),u(k,"type","number"),u(k,"min","0"),u(k,"max","23"),u(k,"class","in-s w-full"),k.disabled=v=!t[3].fw.a,u(P,"type","hidden"),u(P,"name","fwe"),P.value=O=t[3].fw.s,u(_,"class","col-span-2"),u(d,"class","my-1 grid grid-cols-2 gap-2"),u(R,"class","my-1 text-xs text-gray-500"),u(L,"class","my-1 text-xs"),u(e,"class","cnt")},m(z,$){C(z,e,$),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].fw.a,a(f,c),a(e,m),a(e,d),a(d,_),a(_,b),a(_,y),a(_,g),a(_,k),J(k,t[3].fw.s),a(_,N),a(_,P),a(e,E),a(e,R),a(R,I),a(R,K),a(R,G),a(e,A),a(e,L),j.m(L,null),H||(U=[be(r,"change",t[39]),be(k,"input",t[40])],H=!0)},p(z,$){$[0]&8&&(r.checked=z[3].fw.a),$[0]&8&&v!==(v=!z[3].fw.a)&&(k.disabled=v),$[0]&8&&kt(k.value)!==z[3].fw.s&&J(k,z[3].fw.s),$[0]&8&&O!==(O=z[3].fw.s)&&(P.value=O),$[0]&8&&B!==(B=Za(z[3].fw.s)+"")&&q(K,B),Y===(Y=X(z))&&j?j.p(z,$):(j.d(1),j=Y(z),j&&(j.c(),j.m(L,null)))},d(z){z&&S(e),j.d(),H=!1,Ft(U)}}}function H1(t){let e;return{c(){e=w("Checking for updates…")},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function z1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=w("Latest available: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&q(n,l)},d(i){i&&(S(e),S(n))}}}function K1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function Ca(t){let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R,I,B,K=He(t[14]),G=[];for(let A=0;A<K.length;A+=1)G[A]=Na(ba(t,K,A));return{c(){e=p("div"),l=p("strong"),l.textContent="Debug logging",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=w(`
                    Enable telnet (RemoteDebug)`),m=h(),d=p("div"),_=p("label"),b=p("input"),y=w(`
                    Enable serial log output`),g=h(),k=p("div"),v=w("Log level"),N=p("br"),P=h(),O=p("select");for(let A=0;A<G.length;A+=1)G[A].c();E=h(),R=p("div"),R.textContent="Telnet logging requires the device to be connected to the network. Leave telnet off for normal operation.",u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","d"),i.value="true",u(r,"type","checkbox"),u(r,"name","dt"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(b,"type","checkbox"),u(b,"name","ds"),b.__value="true",J(b,b.__value),u(b,"class","rounded mb-1"),u(d,"class","my-1"),u(O,"name","dl"),u(O,"class","in-s"),t[3].d.l===void 0&&Yt(()=>t[43].call(O)),u(k,"class","my-1"),u(R,"class","my-1 text-xs text-gray-500"),u(e,"class","cnt")},m(A,L){C(A,e,L),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].d.t,a(f,c),a(e,m),a(e,d),a(d,_),a(_,b),b.checked=t[3].d.s,a(_,y),a(e,g),a(e,k),a(k,v),a(k,N),a(k,P),a(k,O);for(let H=0;H<G.length;H+=1)G[H]&&G[H].m(O,null);st(O,t[3].d.l,!0),a(e,E),a(e,R),I||(B=[be(r,"change",t[41]),be(b,"change",t[42]),be(O,"change",t[43])],I=!0)},p(A,L){if(L[0]&8&&(r.checked=A[3].d.t),L[0]&8&&(b.checked=A[3].d.s),L[0]&16384){K=He(A[14]);let H;for(H=0;H<K.length;H+=1){const U=ba(A,K,H);G[H]?G[H].p(U,L):(G[H]=Na(U),G[H].c(),G[H].m(O,null))}for(;H<G.length;H+=1)G[H].d(1);G.length=K.length}L[0]&8&&st(O,A[3].d.l)},d(A){A&&S(e),Gt(G,A),I=!1,Ft(B)}}}function Na(t){let e,l=t[115].label+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[115].value,J(e,e.__value)},m(i,s){C(i,e,s),a(e,n)},p:Ue,d(i){i&&S(e)}}}function Pa(t){var nt,ot,dt,Xt,Ut,Rt,sl,Dt,Ye,Bt,Jt,gt,ft,St,Kt,de,it,Ke,ol,Qt,tl,_l,al,Zt,$t,cl,Ee,_e,jt;let e,l,n=(((ot=(nt=t[2].conf)==null?void 0:nt.meter)==null?void 0:ot.title)??"Meter")+"",i,s,o,f,r,c,m,d,_,b,y=(((Ut=(Xt=(dt=t[2].conf)==null?void 0:dt.meter)==null?void 0:Xt.preset)==null?void 0:Ut.title)??"Meter preset")+"",g,k,v,N,P,O=(((Dt=(sl=(Rt=t[2].conf)==null?void 0:Rt.meter)==null?void 0:sl.preset)==null?void 0:Dt.manual)??"Manual configuration")+"",E,R,I,B,K,G=(((Jt=(Bt=(Ye=t[2].conf)==null?void 0:Ye.meter)==null?void 0:Bt.comm)==null?void 0:Jt.title)??"Communication")+"",A,L,H,U,X,Y=(((St=(ft=(gt=t[2].conf)==null?void 0:gt.meter)==null?void 0:ft.comm)==null?void 0:St.passive)??"Passive")+"",j,z,$=(((it=(de=(Kt=t[2].conf)==null?void 0:Kt.meter)==null?void 0:de.comm)==null?void 0:it.pulse)??"Pulse")+"",ne,W=(ol=(Ke=t[0])==null?void 0:Ke.features)==null?void 0:ol.includes("kmp"),x,ue,re,fe=(((Qt=t[2].common)==null?void 0:Qt.voltage)??"Voltage")+"",ce,le,Z,ee,ve,ke,T,M,F,D=(((_l=(tl=t[2].conf)==null?void 0:tl.meter)==null?void 0:_l.fuse)??"Main fuse")+"",V,te,ie,pe,me,oe,we,ge,Ae,Le=(((Zt=(al=t[2].conf)==null?void 0:al.meter)==null?void 0:Zt.prod)??"Production")+"",Be,ze,Xe,Ze,qe,tt,ae,Ne,lt,bt,mt,$e,rt,Ht,_t=(((cl=($t=t[2].conf)==null?void 0:$t.meter)==null?void 0:cl.encrypted)??"Encrypted")+"",qt,Pt,Lt,et,pt,Pe,je,Qe=(((jt=(_e=(Ee=t[2].conf)==null?void 0:Ee.meter)==null?void 0:_e.multipliers)==null?void 0:jt.title)??"Multipliers")+"",Je,he,De,Tt,It=He(us),vt=[];for(let Oe=0;Oe<It.length;Oe+=1)vt[Oe]=V1(U1(t,It,Oe));let We=t[8]&&Ta(t),ut=t[9]&&Ea(t),xe=W&&qa();function Ot(Oe,Ct){return Oe[3].m.a===2?Y1:G1}let zt=Ot(t),Ve=zt(t),ye=t[3].m.e.e&&La(t),Te=t[3].m.e.e&&Ia(t),Ge=t[3].m.m.e&&Oa(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("input"),d=h(),_=p("div"),b=p("label"),g=w(y),k=h(),v=p("div"),N=p("select"),P=p("option"),E=w(O);for(let Oe=0;Oe<vt.length;Oe+=1)vt[Oe].c();R=h(),We&&We.c(),I=h(),ut&&ut.c(),B=h(),K=p("div"),A=w(G),L=p("br"),H=h(),U=p("select"),X=p("option"),j=w(Y),z=p("option"),ne=w($),xe&&xe.c(),x=h(),Ve.c(),ue=h(),re=p("div"),ce=w(fe),le=p("br"),Z=h(),ee=p("select"),ve=p("option"),ve.textContent="400V (TN)",ke=p("option"),ke.textContent="230V (IT/TT)",T=h(),M=p("div"),F=p("div"),V=w(D),te=p("br"),ie=h(),pe=p("label"),me=p("input"),oe=h(),we=p("span"),we.textContent="A",ge=h(),Ae=p("div"),Be=w(Le),ze=p("br"),Xe=h(),Ze=p("label"),qe=p("input"),tt=h(),ae=p("span"),ae.textContent="kWp",Ne=h(),lt=p("div"),lt.innerHTML="",bt=h(),mt=p("div"),$e=p("label"),rt=p("input"),Ht=h(),qt=w(_t),Pt=h(),ye&&ye.c(),Lt=h(),Te&&Te.c(),et=h(),pt=p("label"),Pe=p("input"),je=h(),Je=w(Qe),he=h(),Ge&&Ge.c(),u(l,"class","text-sm"),u(o,"href",Ol("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(b,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(b,"for","meter-preset-select"),P.__value="",J(P,P.__value),u(N,"id","meter-preset-select"),u(N,"class","in-s w-full"),t[8]===void 0&&Yt(()=>t[44].call(N)),u(v,"class","mt-1 flex gap-2"),u(_,"class","my-1"),X.__value=0,J(X,X.__value),z.__value=2,J(z,z.__value),u(U,"name","ma"),u(U,"class","in-s"),t[3].m.a===void 0&&Yt(()=>t[46].call(U)),u(K,"class","my-1"),ve.__value=2,J(ve,ve.__value),ke.__value=1,J(ke,ke.__value),u(ee,"name","md"),u(ee,"class","in-s"),t[3].m.d===void 0&&Yt(()=>t[52].call(ee)),u(re,"class","my-1"),u(me,"name","mf"),u(me,"type","number"),u(me,"min","5"),u(me,"max","65535"),u(me,"class","in-f tr w-full"),u(we,"class","in-post"),u(pe,"class","flex"),u(F,"class","mx-1"),u(qe,"name","mr"),u(qe,"type","number"),u(qe,"min","0"),u(qe,"max","65535"),u(qe,"class","in-f tr w-full"),u(ae,"class","in-post"),u(Ze,"class","flex"),u(Ae,"class","mx-1"),u(M,"class","my-1 flex"),u(lt,"class","my-1"),u(rt,"type","checkbox"),u(rt,"name","me"),rt.__value="true",J(rt,rt.__value),u(rt,"class","rounded mb-1"),u(mt,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",J(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(Oe,Ct){C(Oe,e,Ct),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,d),a(e,_),a(_,b),a(b,g),a(_,k),a(_,v),a(v,N),a(N,P),a(P,E);for(let rl=0;rl<vt.length;rl+=1)vt[rl]&&vt[rl].m(N,null);st(N,t[8],!0),a(v,R),We&&We.m(v,null),a(_,I),ut&&ut.m(_,null),a(e,B),a(e,K),a(K,A),a(K,L),a(K,H),a(K,U),a(U,X),a(X,j),a(U,z),a(z,ne),xe&&xe.m(U,null),st(U,t[3].m.a,!0),a(e,x),Ve.m(e,null),a(e,ue),a(e,re),a(re,ce),a(re,le),a(re,Z),a(re,ee),a(ee,ve),a(ee,ke),st(ee,t[3].m.d,!0),a(e,T),a(e,M),a(M,F),a(F,V),a(F,te),a(F,ie),a(F,pe),a(pe,me),J(me,t[3].m.f),a(pe,oe),a(pe,we),a(M,ge),a(M,Ae),a(Ae,Be),a(Ae,ze),a(Ae,Xe),a(Ae,Ze),a(Ze,qe),J(qe,t[3].m.r),a(Ze,tt),a(Ze,ae),a(e,Ne),a(e,lt),a(e,bt),a(e,mt),a(mt,$e),a($e,rt),rt.checked=t[3].m.e.e,a($e,Ht),a($e,qt),a(mt,Pt),ye&&ye.m(mt,null),a(e,Lt),Te&&Te.m(e,null),a(e,et),a(e,pt),a(pt,Pe),Pe.checked=t[3].m.m.e,a(pt,je),a(pt,Je),a(e,he),Ge&&Ge.m(e,null),De||(Tt=[be(N,"change",t[44]),be(N,"change",t[45]),be(U,"change",t[46]),be(ee,"change",t[52]),be(me,"input",t[53]),be(qe,"input",t[54]),be(rt,"change",t[55]),be(Pe,"change",t[58])],De=!0)},p(Oe,Ct){var rl,vl,gl,kl,wl,yl,Ml,Dl,Rl,Fl,Re,at,Ul,Bl,jl,Wl,Hl,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ie,ht,xt,Ql,Zl;Ct[0]&4&&n!==(n=(((vl=(rl=Oe[2].conf)==null?void 0:rl.meter)==null?void 0:vl.title)??"Meter")+"")&&q(i,n),Ct[0]&4&&y!==(y=(((wl=(kl=(gl=Oe[2].conf)==null?void 0:gl.meter)==null?void 0:kl.preset)==null?void 0:wl.title)??"Meter preset")+"")&&q(g,y),Ct[0]&4&&O!==(O=(((Dl=(Ml=(yl=Oe[2].conf)==null?void 0:yl.meter)==null?void 0:Ml.preset)==null?void 0:Dl.manual)??"Manual configuration")+"")&&q(E,O),Ct[0]&256&&st(N,Oe[8]),Oe[8]?We?We.p(Oe,Ct):(We=Ta(Oe),We.c(),We.m(v,null)):We&&(We.d(1),We=null),Oe[9]?ut?ut.p(Oe,Ct):(ut=Ea(Oe),ut.c(),ut.m(_,null)):ut&&(ut.d(1),ut=null),Ct[0]&4&&G!==(G=(((Re=(Fl=(Rl=Oe[2].conf)==null?void 0:Rl.meter)==null?void 0:Fl.comm)==null?void 0:Re.title)??"Communication")+"")&&q(A,G),Ct[0]&4&&Y!==(Y=(((Bl=(Ul=(at=Oe[2].conf)==null?void 0:at.meter)==null?void 0:Ul.comm)==null?void 0:Bl.passive)??"Passive")+"")&&q(j,Y),Ct[0]&4&&$!==($=(((Hl=(Wl=(jl=Oe[2].conf)==null?void 0:jl.meter)==null?void 0:Wl.comm)==null?void 0:Hl.pulse)??"Pulse")+"")&&q(ne,$),Ct[0]&1&&(W=(Kl=(zl=Oe[0])==null?void 0:zl.features)==null?void 0:Kl.includes("kmp")),W?xe||(xe=qa(),xe.c(),xe.m(U,null)):xe&&(xe.d(1),xe=null),Ct[0]&8&&st(U,Oe[3].m.a),zt===(zt=Ot(Oe))&&Ve?Ve.p(Oe,Ct):(Ve.d(1),Ve=zt(Oe),Ve&&(Ve.c(),Ve.m(e,ue))),Ct[0]&4&&fe!==(fe=(((Vl=Oe[2].common)==null?void 0:Vl.voltage)??"Voltage")+"")&&q(ce,fe),Ct[0]&8&&st(ee,Oe[3].m.d),Ct[0]&4&&D!==(D=(((Yl=(Gl=Oe[2].conf)==null?void 0:Gl.meter)==null?void 0:Yl.fuse)??"Main fuse")+"")&&q(V,D),Ct[0]&8&&kt(me.value)!==Oe[3].m.f&&J(me,Oe[3].m.f),Ct[0]&4&&Le!==(Le=(((Jl=(Xl=Oe[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.prod)??"Production")+"")&&q(Be,Le),Ct[0]&8&&kt(qe.value)!==Oe[3].m.r&&J(qe,Oe[3].m.r),Ct[0]&8&&(rt.checked=Oe[3].m.e.e),Ct[0]&4&&_t!==(_t=(((ht=(Ie=Oe[2].conf)==null?void 0:Ie.meter)==null?void 0:ht.encrypted)??"Encrypted")+"")&&q(qt,_t),Oe[3].m.e.e?ye?ye.p(Oe,Ct):(ye=La(Oe),ye.c(),ye.m(mt,null)):ye&&(ye.d(1),ye=null),Oe[3].m.e.e?Te?Te.p(Oe,Ct):(Te=Ia(Oe),Te.c(),Te.m(e,et)):Te&&(Te.d(1),Te=null),Ct[0]&8&&(Pe.checked=Oe[3].m.m.e),Ct[0]&4&&Qe!==(Qe=(((Zl=(Ql=(xt=Oe[2].conf)==null?void 0:xt.meter)==null?void 0:Ql.multipliers)==null?void 0:Zl.title)??"Multipliers")+"")&&q(Je,Qe),Oe[3].m.m.e?Ge?Ge.p(Oe,Ct):(Ge=Oa(Oe),Ge.c(),Ge.m(e,null)):Ge&&(Ge.d(1),Ge=null)},d(Oe){Oe&&S(e),Gt(vt,Oe),We&&We.d(),ut&&ut.d(),xe&&xe.d(),Ve.d(),ye&&ye.d(),Te&&Te.d(),Ge&&Ge.d(),De=!1,Ft(Tt)}}}function V1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112].label}`,e.__value=t[112].id,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function Ta(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=be(e,"click",t[25]),i=!0)},p(c,m){var d,_,b;m[0]&4&&l!==(l=(((b=(_=(d=c[2].conf)==null?void 0:d.meter)==null?void 0:_.preset)==null?void 0:b.clear)??"Clear")+"")&&q(n,l)},d(c){c&&S(e),i=!1,s()}}}function Ea(t){let e,l=_a(t[9])+"",n,i,s=t[9].notes&&Aa(t);return{c(){e=p("div"),n=w(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=_a(o[9])+"")&&q(n,l),o[9].notes?s?s.p(o,f):(s=Aa(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&S(e),s&&s.d()}}}function Aa(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=w(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&q(n,l)},d(i){i&&S(e)}}}function qa(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function G1(t){var ue,re,fe,ce,le,Z;let e,l,n=(((re=(ue=t[2].conf)==null?void 0:ue.meter)==null?void 0:re.buffer)??"Buffer size")+"",i,s,o,f=(((ce=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:ce.serial)??"Serial conf.")+"",r,c,m,d,_,b=(((Z=(le=t[2].conf)==null?void 0:le.meter)==null?void 0:Z.inverted)??"inverted")+"",y,g,k,v,N,P,O,E,R,I,B,K,G,A,L,H,U,X,Y,j,z,$,ne,W=He([3,12,24,48,96,192,384,576,1152]),x=[];for(let ee=0;ee<9;ee+=1)x[ee]=X1(F1(t,W,ee));return{c(){e=p("div"),l=p("span"),i=w(n),s=h(),o=p("span"),r=w(f),c=h(),m=p("label"),d=p("input"),_=h(),y=w(b),g=h(),k=p("div"),v=p("select"),N=p("option"),P=w("Autodetect");for(let ee=0;ee<9;ee+=1)x[ee].c();E=h(),R=p("select"),I=p("option"),B=w("-"),G=p("option"),G.textContent="7N1",A=p("option"),A.textContent="8N1",L=p("option"),L.textContent="8N2",H=p("option"),H.textContent="7E1",U=p("option"),U.textContent="8E1",Y=h(),j=p("input"),u(l,"class","float-right"),u(d,"name","mi"),d.__value="true",J(d,d.__value),u(d,"type","checkbox"),u(d,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),N.__value=0,J(N,N.__value),N.disabled=O=t[3].m.b!=0,u(v,"name","mb"),u(v,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Yt(()=>t[49].call(v)),I.__value=0,J(I,I.__value),I.disabled=K=t[3].m.b!=0,G.__value=2,J(G,G.__value),A.__value=3,J(A,A.__value),L.__value=7,J(L,L.__value),H.__value=10,J(H,H.__value),U.__value=11,J(U,U.__value),u(R,"name","mp"),u(R,"class","in-m"),R.disabled=X=t[3].m.b==0,t[3].m.p===void 0&&Yt(()=>t[50].call(R)),u(j,"name","ms"),u(j,"type","number"),u(j,"min",64),u(j,"max",z=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:256:4096),u(j,"step",64),u(j,"class","in-l tr w-1/2"),u(k,"class","flex w-full"),u(e,"class","my-1")},m(ee,ve){C(ee,e,ve),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,d),d.checked=t[3].m.i,a(m,_),a(m,y),a(e,g),a(e,k),a(k,v),a(v,N),a(N,P);for(let ke=0;ke<9;ke+=1)x[ke]&&x[ke].m(v,null);st(v,t[3].m.b,!0),a(k,E),a(k,R),a(R,I),a(I,B),a(R,G),a(R,A),a(R,L),a(R,H),a(R,U),st(R,t[3].m.p,!0),a(k,Y),a(k,j),J(j,t[3].m.s),$||(ne=[be(d,"change",t[48]),be(v,"change",t[49]),be(R,"change",t[50]),be(j,"input",t[51])],$=!0)},p(ee,ve){var ke,T,M,F,D,V;ve[0]&4&&n!==(n=(((T=(ke=ee[2].conf)==null?void 0:ke.meter)==null?void 0:T.buffer)??"Buffer size")+"")&&q(i,n),ve[0]&4&&f!==(f=(((F=(M=ee[2].conf)==null?void 0:M.meter)==null?void 0:F.serial)??"Serial conf.")+"")&&q(r,f),ve[0]&8&&(d.checked=ee[3].m.i),ve[0]&4&&b!==(b=(((V=(D=ee[2].conf)==null?void 0:D.meter)==null?void 0:V.inverted)??"inverted")+"")&&q(y,b),ve[0]&8&&O!==(O=ee[3].m.b!=0)&&(N.disabled=O),ve[0]&8&&st(v,ee[3].m.b),ve[0]&8&&K!==(K=ee[3].m.b!=0)&&(I.disabled=K),ve[0]&8&&X!==(X=ee[3].m.b==0)&&(R.disabled=X),ve[0]&8&&st(R,ee[3].m.p),ve[0]&9&&z!==(z=ee[0].chip=="esp8266"?ee[3].i.h.p==3||ee[3].i.h.p==113?512:256:4096)&&u(j,"max",z),ve[0]&8&&kt(j.value)!==ee[3].m.s&&J(j,ee[3].m.s)},d(ee){ee&&S(e),Gt(x,ee),$=!1,Ft(ne)}}}function Y1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=p("div"),l=p("span"),i=w(n),s=h(),o=p("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[3].m.b),f||(r=be(o,"input",t[47]),f=!0)},p(d,_){var b,y;_[0]&4&&n!==(n=(((y=(b=d[2].conf)==null?void 0:b.meter)==null?void 0:y.pulses)??"Pulses per kWh")+"")&&q(i,n),_[0]&8&&kt(o.value)!==d[3].m.b&&J(o,d[3].m.b)},d(d){d&&S(e),f=!1,r()}}}function X1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109]*100}`,e.__value=t[109]*100,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function La(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Vf)},m(s,o){C(s,e,o),C(s,l,o),J(l,t[3].m.e.k),n||(i=be(l,"input",t[56]),n=!0)},p(s,o){o[0]&8&&l.value!==s[3].m.e.k&&J(l,s[3].m.e.k)},d(s){s&&(S(e),S(l)),n=!1,i()}}}function Ia(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=p("div"),n=w(l),i=p("br"),s=h(),o=p("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Vf),u(e,"class","my-1")},m(d,_){C(d,e,_),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[3].m.e.a),f||(r=be(o,"input",t[57]),f=!0)},p(d,_){var b,y;_[0]&4&&l!==(l=(((y=(b=d[2].conf)==null?void 0:b.meter)==null?void 0:y.authkey)??"Authentication key")+"")&&q(n,l),_[0]&8&&o.value!==d[3].m.e.a&&J(o,d[3].m.e.a)},d(d){d&&S(e),f=!1,r()}}}function Oa(t){var X,Y,j,z,$,ne,W,x,ue,re,fe,ce;let e,l,n=(((j=(Y=(X=t[2].conf)==null?void 0:X.meter)==null?void 0:Y.multipliers)==null?void 0:j.watt)??"Watt")+"",i,s,o,f,r,c,m=(((ne=($=(z=t[2].conf)==null?void 0:z.meter)==null?void 0:$.multipliers)==null?void 0:ne.volt)??"Volt")+"",d,_,b,y,g,k,v=(((ue=(x=(W=t[2].conf)==null?void 0:W.meter)==null?void 0:x.multipliers)==null?void 0:ue.amp)??"Amp")+"",N,P,O,E,R,I,B=(((ce=(fe=(re=t[2].conf)==null?void 0:re.meter)==null?void 0:fe.multipliers)==null?void 0:ce.kwh)??"kWh")+"",K,G,A,L,H,U;return{c(){e=p("div"),l=p("div"),i=w(n),s=p("br"),o=h(),f=p("input"),r=h(),c=p("div"),d=w(m),_=p("br"),b=h(),y=p("input"),g=h(),k=p("div"),N=w(v),P=p("br"),O=h(),E=p("input"),R=h(),I=p("div"),K=w(B),G=p("br"),A=h(),L=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(y,"name","mmv"),u(y,"type","number"),u(y,"min","0.00"),u(y,"max","1000"),u(y,"step","0.001"),u(y,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(E,"name","mma"),u(E,"type","number"),u(E,"min","0.00"),u(E,"max","1000"),u(E,"step","0.001"),u(E,"class","in-m tr w-full"),u(k,"class","w-1/4"),u(L,"name","mmc"),u(L,"type","number"),u(L,"min","0.00"),u(L,"max","1000"),u(L,"step","0.001"),u(L,"class","in-l tr w-full"),u(I,"class","w-1/4"),u(e,"class","flex my-1")},m(le,Z){C(le,e,Z),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),J(f,t[3].m.m.w),a(e,r),a(e,c),a(c,d),a(c,_),a(c,b),a(c,y),J(y,t[3].m.m.v),a(e,g),a(e,k),a(k,N),a(k,P),a(k,O),a(k,E),J(E,t[3].m.m.a),a(e,R),a(e,I),a(I,K),a(I,G),a(I,A),a(I,L),J(L,t[3].m.m.c),H||(U=[be(f,"input",t[59]),be(y,"input",t[60]),be(E,"input",t[61]),be(L,"input",t[62])],H=!0)},p(le,Z){var ee,ve,ke,T,M,F,D,V,te,ie,pe,me;Z[0]&4&&n!==(n=(((ke=(ve=(ee=le[2].conf)==null?void 0:ee.meter)==null?void 0:ve.multipliers)==null?void 0:ke.watt)??"Watt")+"")&&q(i,n),Z[0]&8&&kt(f.value)!==le[3].m.m.w&&J(f,le[3].m.m.w),Z[0]&4&&m!==(m=(((F=(M=(T=le[2].conf)==null?void 0:T.meter)==null?void 0:M.multipliers)==null?void 0:F.volt)??"Volt")+"")&&q(d,m),Z[0]&8&&kt(y.value)!==le[3].m.m.v&&J(y,le[3].m.m.v),Z[0]&4&&v!==(v=(((te=(V=(D=le[2].conf)==null?void 0:D.meter)==null?void 0:V.multipliers)==null?void 0:te.amp)??"Amp")+"")&&q(N,v),Z[0]&8&&kt(E.value)!==le[3].m.m.a&&J(E,le[3].m.m.a),Z[0]&4&&B!==(B=(((me=(pe=(ie=le[2].conf)==null?void 0:ie.meter)==null?void 0:pe.multipliers)==null?void 0:me.kwh)??"kWh")+"")&&q(K,B),Z[0]&8&&kt(L.value)!==le[3].m.m.c&&J(L,le[3].m.m.c)},d(le){le&&S(e),H=!1,Ft(U)}}}function Da(t){var d,_;let e,l,n=(((_=(d=t[2].conf)==null?void 0:d.connection)==null?void 0:_.title)??"Connection")+"",i,s,o,f,r,c,m=(t[3].n.c==1||t[3].n.c==2)&&Ra(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Ol("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(b,y){C(b,e,y),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(b,y){var g,k;y[0]&4&&n!==(n=(((k=(g=b[2].conf)==null?void 0:g.connection)==null?void 0:k.title)??"Connection")+"")&&q(i,n),b[3].n.c==1||b[3].n.c==2?m?m.p(b,y):(m=Ra(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&S(e),m&&m.d()}}}function Ra(t){var we,ge,Ae,Le,Be,ze,Xe,Ze,qe,tt,ae,Ne,lt,bt,mt,$e,rt,Ht,_t,qt,Pt,Lt,et,pt;let e,l=(((ge=(we=t[2].conf)==null?void 0:we.connection)==null?void 0:ge.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((Le=(Ae=t[2].conf)==null?void 0:Ae.connection)==null?void 0:Le.psk)??"Password")+"",d,_,b,y,g,k,v,N=(((Xe=(ze=(Be=t[2].conf)==null?void 0:Be.connection)==null?void 0:ze.ps)==null?void 0:Xe.title)??"Power saving")+"",P,O,E,R,I,B=(((tt=(qe=(Ze=t[2].conf)==null?void 0:Ze.connection)==null?void 0:qe.ps)==null?void 0:tt.default)??"Default")+"",K,G,A=(((lt=(Ne=(ae=t[2].conf)==null?void 0:ae.connection)==null?void 0:Ne.ps)==null?void 0:lt.off)??"Off")+"",L,H,U=((($e=(mt=(bt=t[2].conf)==null?void 0:bt.connection)==null?void 0:mt.ps)==null?void 0:$e.min)??"Min")+"",X,Y,j=(((_t=(Ht=(rt=t[2].conf)==null?void 0:rt.connection)==null?void 0:Ht.ps)==null?void 0:_t.max)??"Max")+"",z,$,ne,W=(((Pt=(qt=t[2].conf)==null?void 0:qt.connection)==null?void 0:Pt.pwr)??"Power")+"",x,ue,re,fe,ce,le,Z,ee,ve,ke,T,M,F=(((et=(Lt=t[2].conf)==null?void 0:Lt.connection)==null?void 0:et.tick_11b)??"802.11b")+"",D,V,te,ie=((pt=t[5])==null?void 0:pt.c)==-1&&Fa(t);function pe(Pe,je){var Qe,Je,he;if((Je=(Qe=Pe[5])==null?void 0:Qe.n)!=null&&Je.length)return Q1;if(((he=Pe[5])==null?void 0:he.c)!=-1)return J1}let me=pe(t),oe=me&&me(t);return{c(){e=p("div"),n=w(l),i=h(),s=p("br"),o=h(),ie&&ie.c(),f=h(),oe&&oe.c(),r=h(),c=p("div"),d=w(m),_=p("br"),b=h(),y=p("input"),g=h(),k=p("div"),v=p("div"),P=w(N),O=p("br"),E=h(),R=p("select"),I=p("option"),K=w(B),G=p("option"),L=w(A),H=p("option"),X=w(U),Y=p("option"),z=w(j),$=h(),ne=p("div"),x=w(W),ue=p("br"),re=h(),fe=p("div"),ce=p("input"),le=h(),Z=p("span"),Z.textContent="dBm",ee=h(),ve=p("div"),ke=p("label"),T=p("input"),M=h(),D=w(F),u(e,"class","my-1"),u(y,"name","wp"),u(y,"type","password"),u(y,"class","in-s"),u(y,"pattern",_i),u(c,"class","my-1"),I.__value=255,J(I,I.__value),G.__value=0,J(G,G.__value),H.__value=1,J(H,H.__value),Y.__value=2,J(Y,Y.__value),u(R,"name","wz"),u(R,"class","in-s"),t[3].w.z===void 0&&Yt(()=>t[66].call(R)),u(v,"class","w-1/2"),u(ce,"name","ww"),u(ce,"type","number"),u(ce,"min","0"),u(ce,"max","20.5"),u(ce,"step","0.5"),u(ce,"class","in-f tr w-full"),u(Z,"class","in-post"),u(fe,"class","flex"),u(ne,"class","ml-2 w-1/2"),u(k,"class","my-1 flex"),u(T,"type","checkbox"),u(T,"name","wb"),T.__value="true",J(T,T.__value),u(T,"class","rounded mb-1"),u(ve,"class","my-3")},m(Pe,je){C(Pe,e,je),a(e,n),a(e,i),a(e,s),a(e,o),ie&&ie.m(e,null),a(e,f),oe&&oe.m(e,null),C(Pe,r,je),C(Pe,c,je),a(c,d),a(c,_),a(c,b),a(c,y),J(y,t[3].w.p),C(Pe,g,je),C(Pe,k,je),a(k,v),a(v,P),a(v,O),a(v,E),a(v,R),a(R,I),a(I,K),a(R,G),a(G,L),a(R,H),a(H,X),a(R,Y),a(Y,z),st(R,t[3].w.z,!0),a(k,$),a(k,ne),a(ne,x),a(ne,ue),a(ne,re),a(ne,fe),a(fe,ce),J(ce,t[3].w.w),a(fe,le),a(fe,Z),C(Pe,ee,je),C(Pe,ve,je),a(ve,ke),a(ke,T),T.checked=t[3].w.b,a(ke,M),a(ke,D),V||(te=[be(y,"input",t[65]),be(R,"change",t[66]),be(ce,"input",t[67]),be(T,"change",t[68])],V=!0)},p(Pe,je){var Qe,Je,he,De,Tt,It,vt,We,ut,xe,Ot,zt,Ve,ye,Te,Ge,nt,ot,dt,Xt,Ut,Rt,sl,Dt;je[0]&4&&l!==(l=(((Je=(Qe=Pe[2].conf)==null?void 0:Qe.connection)==null?void 0:Je.ssid)??"Network name (SSID)")+"")&&q(n,l),((he=Pe[5])==null?void 0:he.c)==-1?ie?ie.p(Pe,je):(ie=Fa(Pe),ie.c(),ie.m(e,f)):ie&&(ie.d(1),ie=null),me===(me=pe(Pe))&&oe?oe.p(Pe,je):(oe&&oe.d(1),oe=me&&me(Pe),oe&&(oe.c(),oe.m(e,null))),je[0]&4&&m!==(m=(((Tt=(De=Pe[2].conf)==null?void 0:De.connection)==null?void 0:Tt.psk)??"Password")+"")&&q(d,m),je[0]&8&&y.value!==Pe[3].w.p&&J(y,Pe[3].w.p),je[0]&4&&N!==(N=(((We=(vt=(It=Pe[2].conf)==null?void 0:It.connection)==null?void 0:vt.ps)==null?void 0:We.title)??"Power saving")+"")&&q(P,N),je[0]&4&&B!==(B=(((Ot=(xe=(ut=Pe[2].conf)==null?void 0:ut.connection)==null?void 0:xe.ps)==null?void 0:Ot.default)??"Default")+"")&&q(K,B),je[0]&4&&A!==(A=(((ye=(Ve=(zt=Pe[2].conf)==null?void 0:zt.connection)==null?void 0:Ve.ps)==null?void 0:ye.off)??"Off")+"")&&q(L,A),je[0]&4&&U!==(U=(((nt=(Ge=(Te=Pe[2].conf)==null?void 0:Te.connection)==null?void 0:Ge.ps)==null?void 0:nt.min)??"Min")+"")&&q(X,U),je[0]&4&&j!==(j=(((Xt=(dt=(ot=Pe[2].conf)==null?void 0:ot.connection)==null?void 0:dt.ps)==null?void 0:Xt.max)??"Max")+"")&&q(z,j),je[0]&8&&st(R,Pe[3].w.z),je[0]&4&&W!==(W=(((Rt=(Ut=Pe[2].conf)==null?void 0:Ut.connection)==null?void 0:Rt.pwr)??"Power")+"")&&q(x,W),je[0]&8&&kt(ce.value)!==Pe[3].w.w&&J(ce,Pe[3].w.w),je[0]&8&&(T.checked=Pe[3].w.b),je[0]&4&&F!==(F=(((Dt=(sl=Pe[2].conf)==null?void 0:sl.connection)==null?void 0:Dt.tick_11b)??"802.11b")+"")&&q(D,F)},d(Pe){Pe&&(S(e),S(r),S(c),S(g),S(k),S(ee),S(ve)),ie&&ie.d(),oe&&oe.d(),V=!1,Ft(te)}}}function Fa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&q(n,l)},d(o){o&&S(e)}}}function J1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&q(n,l)},d(o){o&&S(e)}}}function Q1(t){let e,l=[],n=new Map,i=He(t[5].n);const s=o=>o[106].s??o[108];for(let o=0;o<i.length;o+=1){let f=ha(t,i,o),r=s(f);n.set(r,l[o]=Ba(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9260&&(i=He(o[5].n),l=gf(l,f,s,1,o,i,n,e,vf,Ba,null,ha))},d(o){o&&S(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ua(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=w(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&q(n,l)},d(o){o&&S(e)}}}function Ba(t,e){var L,H,U,X,Y;let l,n,i,s,o=!1,f,r,c,m=(e[106].s||(((H=(L=e[2].conf)==null?void 0:L.connection)==null?void 0:H.hidden_ssid)??"Hidden network"))+"",d,_,b,y=(((U=e[10][e[108]])==null?void 0:U.title)??((Y=(X=e[2].conf)==null?void 0:X.connection)==null?void 0:Y.wifi_offline)??"Signal unavailable")+"",g,k,v,N,P,O,E,R,I,B,K,G,A=e[3].w.s===e[106].s&&Ua(e);return B=pf(e[64][0]),{key:t,first:null,c(){var j,z,$;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),c=p("span"),d=w(m),_=h(),b=p("span"),g=w(y),k=h(),v=p("div"),N=p("img"),R=h(),A&&A.c(),I=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[106].s,J(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(b,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(N,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),fn(N.src,P=((j=e[10][e[108]])==null?void 0:j.icon)??e[13].off)||u(N,"src",P),u(N,"alt",O=((z=e[10][e[108]])==null?void 0:z.title)??"Wi-Fi offline"),u(N,"title",E=(($=e[10][e[108]])==null?void 0:$.title)??"Wi-Fi offline"),u(v,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),B.p(i),this.first=l},m(j,z){C(j,l,z),a(l,n),a(n,i),i.checked=i.__value===e[3].w.s,a(n,f),a(n,r),a(r,c),a(c,d),a(r,_),a(r,b),a(b,g),a(l,k),a(l,v),a(v,N),a(v,R),A&&A.m(v,null),a(l,I),K||(G=be(i,"change",e[63]),K=!0)},p(j,z){var $,ne,W,x,ue,re,fe,ce;e=j,z[0]&32&&s!==(s=e[106].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||z[0]&40)&&(i.checked=i.__value===e[3].w.s),z[0]&36&&m!==(m=(e[106].s||(((ne=($=e[2].conf)==null?void 0:$.connection)==null?void 0:ne.hidden_ssid)??"Hidden network"))+"")&&q(d,m),z[0]&1060&&y!==(y=(((W=e[10][e[108]])==null?void 0:W.title)??((ue=(x=e[2].conf)==null?void 0:x.connection)==null?void 0:ue.wifi_offline)??"Signal unavailable")+"")&&q(g,y),z[0]&1056&&!fn(N.src,P=((re=e[10][e[108]])==null?void 0:re.icon)??e[13].off)&&u(N,"src",P),z[0]&1056&&O!==(O=((fe=e[10][e[108]])==null?void 0:fe.title)??"Wi-Fi offline")&&u(N,"alt",O),z[0]&1056&&E!==(E=((ce=e[10][e[108]])==null?void 0:ce.title)??"Wi-Fi offline")&&u(N,"title",E),e[3].w.s===e[106].s?A?A.p(e,z):(A=Ua(e),A.c(),A.m(v,null)):A&&(A.d(1),A=null)},d(j){j&&S(l),A&&A.d(),B.r(),K=!1,G()}}}function ja(t){var St,Kt,de,it,Ke,ol,Qt,tl,_l,al,Zt,$t,cl,Ee,_e,jt,Oe,Ct,rl,vl,gl,kl,wl,yl,Ml,Dl,Rl,Fl;let e,l,n=(((Kt=(St=t[2].conf)==null?void 0:St.mqtt)==null?void 0:Kt.title)??"MQTT")+"",i,s,o,f,r,c,m,d=(((it=(de=t[2].conf)==null?void 0:de.mqtt)==null?void 0:it.server)??"Server")+"",_,b,y,g,k,v,N,P,O,E,R,I,B=(((ol=(Ke=t[2].conf)==null?void 0:Ke.mqtt)==null?void 0:ol.user)??"Username")+"",K,G,A,L,H,U,X=(((tl=(Qt=t[2].conf)==null?void 0:Qt.mqtt)==null?void 0:tl.pass)??"Password")+"",Y,j,z,$,ne,W,x,ue=(((al=(_l=t[2].conf)==null?void 0:_l.mqtt)==null?void 0:al.id)??"Client ID")+"",re,fe,ce,le,Z,ee,ve,ke=((($t=(Zt=t[2].conf)==null?void 0:Zt.mqtt)==null?void 0:$t.payload)??"Payload")+"",T,M,F,D,V,te,ie,pe,me,oe,we,ge,Ae,Le,Be=(((Ee=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:Ee.publish)??"Publish topic")+"",ze,Xe,Ze,qe,tt,ae,Ne=(((jt=(_e=t[2].conf)==null?void 0:_e.mqtt)==null?void 0:jt.subscribe)??"Subscribe topic")+"",lt,bt,mt,$e,rt,Ht,_t,qt=(((Ct=(Oe=t[2].conf)==null?void 0:Oe.mqtt)==null?void 0:Ct.update)??"Update method")+"",Pt,Lt,et,pt=(((vl=(rl=t[2].conf)==null?void 0:rl.mqtt)==null?void 0:vl.interval)??"Interval")+"",Pe,je,Qe,Je,he,De=(((kl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:kl.realtime)??"Real time")+"",Tt,It,vt=(((yl=(wl=t[2].conf)==null?void 0:wl.mqtt)==null?void 0:yl.interval)??"Interval")+"",We,ut,xe,Ot,zt,Ve,ye=(((Dl=(Ml=t[2].conf)==null?void 0:Ml.mqtt)==null?void 0:Dl.timeout)??"Timeout")+"",Te,Ge,nt,ot=(((Fl=(Rl=t[2].conf)==null?void 0:Rl.mqtt)==null?void 0:Fl.keepalive)??"Keep-alive")+"",dt,Xt,Ut,Rt,sl,Dt,Ye,Bt,Jt,gt=t[0].chip!="esp8266"&&Wa(t),ft=t[3].q.s.e&&Ha(t);return{c(){var Re,at;e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=w(d),b=h(),gt&&gt.c(),y=h(),g=p("br"),k=h(),v=p("div"),N=p("input"),P=h(),O=p("input"),E=h(),ft&&ft.c(),R=h(),I=p("div"),K=w(B),G=p("br"),A=h(),L=p("input"),H=h(),U=p("div"),Y=w(X),j=p("br"),z=h(),$=p("input"),ne=h(),W=p("div"),x=p("div"),re=w(ue),fe=p("br"),ce=h(),le=p("input"),ee=h(),ve=p("div"),T=w(ke),M=p("br"),F=h(),D=p("select"),V=p("option"),V.textContent="Raw (minimal)",te=p("option"),te.textContent="Raw (full)",ie=p("option"),ie.textContent="Domoticz",pe=p("option"),pe.textContent="Home-Assistant",me=p("option"),me.textContent="JSON (classic)",oe=p("option"),oe.textContent="JSON (multi topic)",we=p("option"),we.textContent="JSON (flat)",ge=p("option"),ge.textContent="HEX dump",Ae=h(),Le=p("div"),ze=w(Be),Xe=p("br"),Ze=h(),qe=p("input"),tt=h(),ae=p("div"),lt=w(Ne),bt=p("br"),mt=h(),$e=p("input"),Ht=h(),_t=p("div"),Pt=w(qt),Lt=h(),et=p("span"),Pe=w(pt),je=h(),Qe=p("div"),Je=p("select"),he=p("option"),Tt=w(De),It=p("option"),We=w(vt),ut=h(),xe=p("input"),zt=h(),Ve=p("div"),Te=w(ye),Ge=h(),nt=p("span"),dt=w(ot),Xt=h(),Ut=p("div"),Rt=p("input"),sl=h(),Dt=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(N,"name","qh"),u(N,"type","text"),u(N,"class","in-f w-2/3"),u(N,"pattern",tn),u(O,"name","qp"),u(O,"type","number"),u(O,"min","1024"),u(O,"max","65535"),u(O,"class","in-l tr w-1/3"),u(v,"class","flex"),u(m,"class","my-1"),u(L,"name","qu"),u(L,"type","text"),u(L,"class","in-s"),u(L,"pattern",_i),u(I,"class","my-1"),u($,"name","qa"),u($,"type","password"),u($,"class","in-s"),u($,"pattern",_i),u(U,"class","my-1"),u(le,"name","qc"),u(le,"type","text"),u(le,"class","in-f w-full"),le.required=Z=t[3].q.h,u(le,"pattern",pi),V.__value=1,J(V,V.__value),te.__value=2,J(te,te.__value),ie.__value=3,J(ie,ie.__value),pe.__value=4,J(pe,pe.__value),me.__value=0,J(me,me.__value),oe.__value=5,J(oe,oe.__value),we.__value=6,J(we,we.__value),ge.__value=255,J(ge,ge.__value),u(D,"name","qm"),u(D,"class","in-l"),t[3].q.m===void 0&&Yt(()=>t[75].call(D)),u(W,"class","my-1 flex"),u(qe,"name","qb"),u(qe,"type","text"),u(qe,"class","in-s"),u(qe,"pattern",tn),u(Le,"class","my-1"),u($e,"name","qr"),u($e,"type","text"),u($e,"class","in-s"),u($e,"pattern",tn),u($e,"placeholder",rt=t[3].q.b+"/command"),u(ae,"class","my-1"),u(et,"class","float-right"),he.__value=0,J(he,he.__value),It.__value=1,J(It,It.__value),u(Je,"name","qt"),u(Je,"class","in-f w-1/2"),t[3].q.t===void 0&&Yt(()=>t[78].call(Je)),u(xe,"name","qd"),u(xe,"type","number"),u(xe,"min","1"),u(xe,"max","3600"),u(xe,"class","in-l tr w-1/2"),xe.disabled=Ot=((at=(Re=t[3])==null?void 0:Re.q)==null?void 0:at.t)!=1,u(Qe,"class","flex"),u(_t,"class","my-1"),u(nt,"class","float-right"),u(Rt,"name","qi"),u(Rt,"type","number"),u(Rt,"min","500"),u(Rt,"max","10000"),u(Rt,"class","in-f tr w-1/2"),u(Dt,"name","qk"),u(Dt,"type","number"),u(Dt,"min","5"),u(Dt,"max","180"),u(Dt,"class","in-l tr w-1/2"),u(Ut,"class","flex"),u(Ve,"class","my-1"),u(e,"class","cnt")},m(Re,at){C(Re,e,at),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,b),gt&&gt.m(m,null),a(m,y),a(m,g),a(m,k),a(m,v),a(v,N),J(N,t[3].q.h),a(v,P),a(v,O),J(O,t[3].q.p),a(e,E),ft&&ft.m(e,null),a(e,R),a(e,I),a(I,K),a(I,G),a(I,A),a(I,L),J(L,t[3].q.u),a(e,H),a(e,U),a(U,Y),a(U,j),a(U,z),a(U,$),J($,t[3].q.a),a(e,ne),a(e,W),a(W,x),a(x,re),a(x,fe),a(x,ce),a(x,le),J(le,t[3].q.c),a(W,ee),a(W,ve),a(ve,T),a(ve,M),a(ve,F),a(ve,D),a(D,V),a(D,te),a(D,ie),a(D,pe),a(D,me),a(D,oe),a(D,we),a(D,ge),st(D,t[3].q.m,!0),a(e,Ae),a(e,Le),a(Le,ze),a(Le,Xe),a(Le,Ze),a(Le,qe),J(qe,t[3].q.b),a(e,tt),a(e,ae),a(ae,lt),a(ae,bt),a(ae,mt),a(ae,$e),J($e,t[3].q.r),a(e,Ht),a(e,_t),a(_t,Pt),a(_t,Lt),a(_t,et),a(et,Pe),a(_t,je),a(_t,Qe),a(Qe,Je),a(Je,he),a(he,Tt),a(Je,It),a(It,We),st(Je,t[3].q.t,!0),a(Qe,ut),a(Qe,xe),J(xe,t[3].q.d),a(e,zt),a(e,Ve),a(Ve,Te),a(Ve,Ge),a(Ve,nt),a(nt,dt),a(Ve,Xt),a(Ve,Ut),a(Ut,Rt),J(Rt,t[3].q.i),a(Ut,sl),a(Ut,Dt),J(Dt,t[3].q.k),Ye=!0,Bt||(Jt=[be(N,"input",t[70]),be(O,"input",t[71]),be(L,"input",t[72]),be($,"input",t[73]),be(le,"input",t[74]),be(D,"change",t[75]),be(qe,"input",t[76]),be($e,"input",t[77]),be(Je,"change",t[78]),be(xe,"input",t[79]),be(Rt,"input",t[80]),be(Dt,"input",t[81])],Bt=!0)},p(Re,at){var Ul,Bl,jl,Wl,Hl,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ie,ht,xt,Ql,Zl,Sn,Cn,Nn,Pn,Tn,En,An,qn,Ln,In,On,Dn,Rn;(!Ye||at[0]&4)&&n!==(n=(((Bl=(Ul=Re[2].conf)==null?void 0:Ul.mqtt)==null?void 0:Bl.title)??"MQTT")+"")&&q(i,n),(!Ye||at[0]&4)&&d!==(d=(((Wl=(jl=Re[2].conf)==null?void 0:jl.mqtt)==null?void 0:Wl.server)??"Server")+"")&&q(_,d),Re[0].chip!="esp8266"?gt?gt.p(Re,at):(gt=Wa(Re),gt.c(),gt.m(m,y)):gt&&(gt.d(1),gt=null),at[0]&8&&N.value!==Re[3].q.h&&J(N,Re[3].q.h),at[0]&8&&kt(O.value)!==Re[3].q.p&&J(O,Re[3].q.p),Re[3].q.s.e?ft?(ft.p(Re,at),at[0]&8&&Q(ft,1)):(ft=Ha(Re),ft.c(),Q(ft,1),ft.m(e,R)):ft&&(wt(),se(ft,1,1,()=>{ft=null}),yt()),(!Ye||at[0]&4)&&B!==(B=(((zl=(Hl=Re[2].conf)==null?void 0:Hl.mqtt)==null?void 0:zl.user)??"Username")+"")&&q(K,B),at[0]&8&&L.value!==Re[3].q.u&&J(L,Re[3].q.u),(!Ye||at[0]&4)&&X!==(X=(((Vl=(Kl=Re[2].conf)==null?void 0:Kl.mqtt)==null?void 0:Vl.pass)??"Password")+"")&&q(Y,X),at[0]&8&&$.value!==Re[3].q.a&&J($,Re[3].q.a),(!Ye||at[0]&4)&&ue!==(ue=(((Yl=(Gl=Re[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.id)??"Client ID")+"")&&q(re,ue),(!Ye||at[0]&8&&Z!==(Z=Re[3].q.h))&&(le.required=Z),at[0]&8&&le.value!==Re[3].q.c&&J(le,Re[3].q.c),(!Ye||at[0]&4)&&ke!==(ke=(((Jl=(Xl=Re[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.payload)??"Payload")+"")&&q(T,ke),at[0]&8&&st(D,Re[3].q.m),(!Ye||at[0]&4)&&Be!==(Be=(((ht=(Ie=Re[2].conf)==null?void 0:Ie.mqtt)==null?void 0:ht.publish)??"Publish topic")+"")&&q(ze,Be),at[0]&8&&qe.value!==Re[3].q.b&&J(qe,Re[3].q.b),(!Ye||at[0]&4)&&Ne!==(Ne=(((Ql=(xt=Re[2].conf)==null?void 0:xt.mqtt)==null?void 0:Ql.subscribe)??"Subscribe topic")+"")&&q(lt,Ne),(!Ye||at[0]&8&&rt!==(rt=Re[3].q.b+"/command"))&&u($e,"placeholder",rt),at[0]&8&&$e.value!==Re[3].q.r&&J($e,Re[3].q.r),(!Ye||at[0]&4)&&qt!==(qt=(((Sn=(Zl=Re[2].conf)==null?void 0:Zl.mqtt)==null?void 0:Sn.update)??"Update method")+"")&&q(Pt,qt),(!Ye||at[0]&4)&&pt!==(pt=(((Nn=(Cn=Re[2].conf)==null?void 0:Cn.mqtt)==null?void 0:Nn.interval)??"Interval")+"")&&q(Pe,pt),(!Ye||at[0]&4)&&De!==(De=(((Tn=(Pn=Re[2].conf)==null?void 0:Pn.mqtt)==null?void 0:Tn.realtime)??"Real time")+"")&&q(Tt,De),(!Ye||at[0]&4)&&vt!==(vt=(((An=(En=Re[2].conf)==null?void 0:En.mqtt)==null?void 0:An.interval)??"Interval")+"")&&q(We,vt),at[0]&8&&st(Je,Re[3].q.t),(!Ye||at[0]&8&&Ot!==(Ot=((Ln=(qn=Re[3])==null?void 0:qn.q)==null?void 0:Ln.t)!=1))&&(xe.disabled=Ot),at[0]&8&&kt(xe.value)!==Re[3].q.d&&J(xe,Re[3].q.d),(!Ye||at[0]&4)&&ye!==(ye=(((On=(In=Re[2].conf)==null?void 0:In.mqtt)==null?void 0:On.timeout)??"Timeout")+"")&&q(Te,ye),(!Ye||at[0]&4)&&ot!==(ot=(((Rn=(Dn=Re[2].conf)==null?void 0:Dn.mqtt)==null?void 0:Rn.keepalive)??"Keep-alive")+"")&&q(dt,ot),at[0]&8&&kt(Rt.value)!==Re[3].q.i&&J(Rt,Re[3].q.i),at[0]&8&&kt(Dt.value)!==Re[3].q.k&&J(Dt,Re[3].q.k)},i(Re){Ye||(Q(ft),Ye=!0)},o(Re){se(ft),Ye=!1},d(Re){Re&&S(e),gt&&gt.d(),ft&&ft.d(),Bt=!1,Ft(Jt)}}}function Wa(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=w(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",J(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){C(o,e,f),a(e,l),l.checked=t[3].q.s.e,a(e,n),i||(s=[be(l,"change",t[69]),be(l,"change",t[22])],i=!0)},p(o,f){f[0]&8&&(l.checked=o[3].q.s.e)},d(o){o&&S(e),i=!1,Ft(s)}}}function Ha(t){let e,l,n,i,s,o,f,r,c,m,d,_,b;const y=[$1,Z1],g=[];function k(I,B){return I[3].q.s.c?0:1}n=k(t),i=g[n]=y[n](t);const v=[lm,tm],N=[];function P(I,B){return I[3].q.s.r?0:1}f=P(t),r=N[f]=v[f](t);const O=[om,sm],E=[];function R(I,B){return I[3].q.s.k?0:1}return d=R(t),_=E[d]=O[d](t),{c(){e=p("div"),l=p("span"),i.c(),s=h(),o=p("span"),r.c(),c=h(),m=p("span"),_.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(I,B){C(I,e,B),a(e,l),g[n].m(l,null),a(e,s),a(e,o),N[f].m(o,null),a(e,c),a(e,m),E[d].m(m,null),b=!0},p(I,B){let K=n;n=k(I),n===K?g[n].p(I,B):(wt(),se(g[K],1,1,()=>{g[K]=null}),yt(),i=g[n],i?i.p(I,B):(i=g[n]=y[n](I),i.c()),Q(i,1),i.m(l,null));let G=f;f=P(I),f===G?N[f].p(I,B):(wt(),se(N[G],1,1,()=>{N[G]=null}),yt(),r=N[f],r?r.p(I,B):(r=N[f]=v[f](I),r.c()),Q(r,1),r.m(o,null));let A=d;d=R(I),d===A?E[d].p(I,B):(wt(),se(E[A],1,1,()=>{E[A]=null}),yt(),_=E[d],_?_.p(I,B):(_=E[d]=O[d](I),_.c()),Q(_,1),_.m(m,null))},i(I){b||(Q(i),Q(r),Q(_),b=!0)},o(I){se(i),se(r),se(_),b=!1},d(I){I&&S(e),g[n].d(),N[f].d(),E[d].d()}}}function Z1(t){let e,l;return e=new bl({props:{to:"/mqtt-ca",$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function $1(t){let e,l,n,i,s,o,f;return l=new bl({props:{to:"/mqtt-ca",$$slots:{default:[em]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ce(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[be(i,"click",t[19]),be(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(Q(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),Se(l),o=!1,Ft(f)}}}function x1(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Ce(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,b;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((b=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:b.title_ca)??""),e.$set(c)},i(f){l||(Q(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function em(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&q(l,e)},d(s){s&&S(l)}}}function tm(t){let e,l;return e=new bl({props:{to:"/mqtt-cert",$$slots:{default:[nm]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function lm(t){let e,l,n,i,s,o,f;return l=new bl({props:{to:"/mqtt-cert",$$slots:{default:[im]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ce(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[be(i,"click",t[20]),be(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(Q(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),Se(l),o=!1,Ft(f)}}}function nm(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Ce(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,b;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((b=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:b.title_crt)??""),e.$set(c)},i(f){l||(Q(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function im(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&q(l,e)},d(s){s&&S(l)}}}function sm(t){let e,l;return e=new bl({props:{to:"/mqtt-key",$$slots:{default:[am]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function om(t){let e,l,n,i,s,o,f;return l=new bl({props:{to:"/mqtt-key",$$slots:{default:[rm]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ce(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[be(i,"click",t[21]),be(i,"keypress",t[21])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(Q(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),Se(l),o=!1,Ft(f)}}}function am(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Ce(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,b;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((b=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:b.title_key)??""),e.$set(c)},i(f){l||(Q(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function rm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=w(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&q(l,e)},d(s){s&&S(l)}}}function za(t){var W,x,ue,re,fe,ce,le,Z,ee,ve,ke,T;let e,l,n=(((ue=(x=(W=t[2].conf)==null?void 0:W.mqtt)==null?void 0:x.domoticz)==null?void 0:ue.title)??"Domoticz")+"",i,s,o,f,r,c,m,d,_=(((ce=(fe=(re=t[2].conf)==null?void 0:re.mqtt)==null?void 0:fe.domoticz)==null?void 0:ce.eidx)??"Electricity IDX")+"",b,y,g,k,v,N,P=(((ee=(Z=(le=t[2].conf)==null?void 0:le.mqtt)==null?void 0:Z.domoticz)==null?void 0:ee.cidx)??"Current IDX")+"",O,E,R,I,B,K,G=(((T=(ke=(ve=t[2].conf)==null?void 0:ve.mqtt)==null?void 0:ke.domoticz)==null?void 0:T.vidx)??"Voltage IDX")+"",A,L,H,U,X,Y,j,z,$,ne;return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=p("div"),b=w(_),y=p("br"),g=h(),k=p("input"),v=h(),N=p("div"),O=w(P),E=p("br"),R=h(),I=p("input"),B=h(),K=p("div"),A=w(G),L=w(`: L1, L2 & L3
                    `),H=p("div"),U=p("input"),X=h(),Y=p("input"),j=h(),z=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(k,"name","oe"),u(k,"type","text"),u(k,"class","in-f tr w-full"),u(k,"pattern",Fn),u(d,"class","w-1/2"),u(I,"name","oc"),u(I,"type","text"),u(I,"class","in-l tr w-full"),u(I,"pattern",Fn),u(N,"class","w-1/2"),u(m,"class","my-1 flex"),u(U,"name","ou1"),u(U,"type","text"),u(U,"class","in-f tr w-1/3"),u(U,"pattern",Fn),u(Y,"name","ou2"),u(Y,"type","text"),u(Y,"class","in-m tr w-1/3"),u(Y,"pattern",Fn),u(z,"name","ou3"),u(z,"type","text"),u(z,"class","in-l tr w-1/3"),u(z,"pattern",Fn),u(H,"class","flex"),u(K,"class","my-1"),u(e,"class","cnt")},m(M,F){C(M,e,F),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,b),a(d,y),a(d,g),a(d,k),J(k,t[3].o.e),a(m,v),a(m,N),a(N,O),a(N,E),a(N,R),a(N,I),J(I,t[3].o.c),a(e,B),a(e,K),a(K,A),a(K,L),a(K,H),a(H,U),J(U,t[3].o.u1),a(H,X),a(H,Y),J(Y,t[3].o.u2),a(H,j),a(H,z),J(z,t[3].o.u3),$||(ne=[be(k,"input",t[82]),be(I,"input",t[83]),be(U,"input",t[84]),be(Y,"input",t[85]),be(z,"input",t[86])],$=!0)},p(M,F){var D,V,te,ie,pe,me,oe,we,ge,Ae,Le,Be;F[0]&4&&n!==(n=(((te=(V=(D=M[2].conf)==null?void 0:D.mqtt)==null?void 0:V.domoticz)==null?void 0:te.title)??"Domoticz")+"")&&q(i,n),F[0]&4&&_!==(_=(((me=(pe=(ie=M[2].conf)==null?void 0:ie.mqtt)==null?void 0:pe.domoticz)==null?void 0:me.eidx)??"Electricity IDX")+"")&&q(b,_),F[0]&8&&k.value!==M[3].o.e&&J(k,M[3].o.e),F[0]&4&&P!==(P=(((ge=(we=(oe=M[2].conf)==null?void 0:oe.mqtt)==null?void 0:we.domoticz)==null?void 0:ge.cidx)??"Current IDX")+"")&&q(O,P),F[0]&8&&I.value!==M[3].o.c&&J(I,M[3].o.c),F[0]&4&&G!==(G=(((Be=(Le=(Ae=M[2].conf)==null?void 0:Ae.mqtt)==null?void 0:Le.domoticz)==null?void 0:Be.vidx)??"Voltage IDX")+"")&&q(A,G),F[0]&8&&U.value!==M[3].o.u1&&J(U,M[3].o.u1),F[0]&8&&Y.value!==M[3].o.u2&&J(Y,M[3].o.u2),F[0]&8&&z.value!==M[3].o.u3&&J(z,M[3].o.u3)},d(M){M&&S(e),$=!1,Ft(ne)}}}function Ka(t){var j,z,$,ne,W,x,ue,re,fe,ce,le,Z;let e,l,n=((($=(z=(j=t[2].conf)==null?void 0:j.mqtt)==null?void 0:z.ha)==null?void 0:$.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,d=(((x=(W=(ne=t[2].conf)==null?void 0:ne.mqtt)==null?void 0:W.ha)==null?void 0:x.discovery)??"Discovery topic prefix")+"",_,b,y,g,k,v,N=(((fe=(re=(ue=t[2].conf)==null?void 0:ue.mqtt)==null?void 0:re.ha)==null?void 0:fe.hostname)??"Hostname for URL")+"",P,O,E,R,I,B,K,G=(((Z=(le=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:le.ha)==null?void 0:Z.tag)??"Name tag")+"",A,L,H,U,X,Y;return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=w(d),b=p("br"),y=h(),g=p("input"),k=h(),v=p("div"),P=w(N),O=p("br"),E=h(),R=p("input"),B=h(),K=p("div"),A=w(G),L=p("br"),H=h(),U=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(g,"name","ht"),u(g,"type","text"),u(g,"class","in-s"),u(g,"placeholder","homeassistant"),u(g,"pattern",tn),u(m,"class","my-1"),u(R,"name","hh"),u(R,"type","text"),u(R,"class","in-s"),u(R,"placeholder",I=t[3].g.h+".local"),u(R,"pattern",tn),u(v,"class","my-1"),u(U,"name","hn"),u(U,"type","text"),u(U,"class","in-s"),u(U,"pattern",tn),u(K,"class","my-1"),u(e,"class","cnt")},m(ee,ve){C(ee,e,ve),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,b),a(m,y),a(m,g),J(g,t[3].h.t),a(e,k),a(e,v),a(v,P),a(v,O),a(v,E),a(v,R),J(R,t[3].h.h),a(e,B),a(e,K),a(K,A),a(K,L),a(K,H),a(K,U),J(U,t[3].h.n),X||(Y=[be(g,"input",t[87]),be(R,"input",t[88]),be(U,"input",t[89])],X=!0)},p(ee,ve){var ke,T,M,F,D,V,te,ie,pe,me,oe,we;ve[0]&4&&n!==(n=(((M=(T=(ke=ee[2].conf)==null?void 0:ke.mqtt)==null?void 0:T.ha)==null?void 0:M.title)??"Home-Assistant")+"")&&q(i,n),ve[0]&4&&d!==(d=(((V=(D=(F=ee[2].conf)==null?void 0:F.mqtt)==null?void 0:D.ha)==null?void 0:V.discovery)??"Discovery topic prefix")+"")&&q(_,d),ve[0]&8&&g.value!==ee[3].h.t&&J(g,ee[3].h.t),ve[0]&4&&N!==(N=(((pe=(ie=(te=ee[2].conf)==null?void 0:te.mqtt)==null?void 0:ie.ha)==null?void 0:pe.hostname)??"Hostname for URL")+"")&&q(P,N),ve[0]&8&&I!==(I=ee[3].g.h+".local")&&u(R,"placeholder",I),ve[0]&8&&R.value!==ee[3].h.h&&J(R,ee[3].h.h),ve[0]&4&&G!==(G=(((we=(oe=(me=ee[2].conf)==null?void 0:me.mqtt)==null?void 0:oe.ha)==null?void 0:we.tag)??"Name tag")+"")&&q(A,G),ve[0]&8&&U.value!==ee[3].h.n&&J(U,ee[3].h.n)},d(ee){ee&&S(e),X=!1,Ft(Y)}}}function Va(t){var G,A,L,H,U;let e,l,n=(((A=(G=t[2].conf)==null?void 0:G.thresholds)==null?void 0:A.title)??"Thresholds")+"",i,s,o,f,r,c,m,d,_,b,y=(((H=(L=t[2].conf)==null?void 0:L.thresholds)==null?void 0:H.avg)??"Average of")+"",g,k,v,N,P,O=(((U=t[2].common)==null?void 0:U.hours)??"hours")+"",E,R,I,B=He({length:9}),K=[];for(let X=0;X<B.length;X+=1)K[X]=Ga(da(t,B,X));return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let X=0;X<K.length;X+=1)K[X].c();d=h(),_=p("label"),b=p("span"),g=w(y),k=h(),v=p("input"),N=h(),P=p("span"),E=w(O),u(l,"class","text-sm"),u(o,"href",Ol("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(b,"class","in-pre"),u(v,"name","th"),u(v,"type","number"),u(v,"min","0"),u(v,"max","255"),u(v,"class","in-txt tr w-full"),u(P,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(X,Y){C(X,e,Y),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let j=0;j<K.length;j+=1)K[j]&&K[j].m(m,null);a(e,d),a(e,_),a(_,b),a(b,g),a(_,k),a(_,v),J(v,t[3].t.h),a(_,N),a(_,P),a(P,E),R||(I=be(v,"input",t[91]),R=!0)},p(X,Y){var j,z,$,ne,W;if(Y[0]&4&&n!==(n=(((z=(j=X[2].conf)==null?void 0:j.thresholds)==null?void 0:z.title)??"Thresholds")+"")&&q(i,n),Y[0]&8){B=He({length:9});let x;for(x=0;x<B.length;x+=1){const ue=da(X,B,x);K[x]?K[x].p(ue,Y):(K[x]=Ga(ue),K[x].c(),K[x].m(m,null))}for(;x<K.length;x+=1)K[x].d(1);K.length=B.length}Y[0]&4&&y!==(y=(((ne=($=X[2].conf)==null?void 0:$.thresholds)==null?void 0:ne.avg)??"Average of")+"")&&q(g,y),Y[0]&8&&kt(v.value)!==X[3].t.h&&J(v,X[3].t.h),Y[0]&4&&O!==(O=(((W=X[2].common)==null?void 0:W.hours)??"hours")+"")&&q(E,O)},d(X){X&&S(e),Gt(K,X),R=!1,I()}}}function Ga(t){let e,l,n,i,s,o,f,r,c;function m(){t[90].call(i,t[105])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[105]+1}`,n=h(),i=p("input"),s=h(),o=p("span"),o.textContent="kWh",f=h(),u(l,"class","in-pre"),u(i,"name","t"+t[105]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(d,_){C(d,e,_),a(e,l),a(e,n),a(e,i),J(i,t[3].t.t[t[105]]),a(e,s),a(e,o),a(e,f),r||(c=be(i,"input",m),r=!0)},p(d,_){t=d,_[0]&8&&kt(i.value)!==t[3].t.t[t[105]]&&J(i,t[3].t.t[t[105]])},d(d){d&&S(e),r=!1,c()}}}function Ya(t){var b,y;let e,l,n=(((y=(b=t[2].conf)==null?void 0:b.ui)==null?void 0:y.title)??"User interface")+"",i,s,o,f,r,c,m,d=He(t[15]),_=[];for(let g=0;g<d.length;g+=1)_[g]=Xa(pa(t,d,g));return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let g=0;g<_.length;g+=1)_[g].c();u(l,"class","text-sm"),u(o,"href",Ol("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(g,k){C(g,e,k),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(m,null)},p(g,k){var v,N;if(k[0]&4&&n!==(n=(((N=(v=g[2].conf)==null?void 0:v.ui)==null?void 0:N.title)??"User interface")+"")&&q(i,n),k[0]&32780){d=He(g[15]);let P;for(P=0;P<d.length;P+=1){const O=pa(g,d,P);_[P]?_[P].p(O,k):(_[P]=Xa(O),_[P].c(),_[P].m(m,null))}for(;P<_.length;P+=1)_[P].d(1);_.length=d.length}},d(g){g&&S(e),Gt(_,g)}}}function Xa(t){var O,E,R,I,B,K,G,A;let e,l=(((E=(O=t[2].conf)==null?void 0:O.ui)==null?void 0:E[t[100].key])??t[100].name)+"",n,i,s,o,f,r=(((I=(R=t[2].conf)==null?void 0:R.ui)==null?void 0:I.disabled)??"Disabled")+"",c,m,d=(((K=(B=t[2].conf)==null?void 0:B.ui)==null?void 0:K.enabled)??"Enabled")+"",_,b,y=(((A=(G=t[2].conf)==null?void 0:G.ui)==null?void 0:A.auto)??"Auto")+"",g,k,v,N;function P(){t[92].call(o,t[100])}return{c(){e=p("div"),n=w(l),i=p("br"),s=h(),o=p("select"),f=p("option"),c=w(r),m=p("option"),_=w(d),b=p("option"),g=w(y),k=h(),f.__value=0,J(f,f.__value),m.__value=1,J(m,m.__value),b.__value=2,J(b,b.__value),u(o,"name","u"+t[100].key),u(o,"class","in-s"),t[3].u[t[100].key]===void 0&&Yt(P),u(e,"class","w-1/2")},m(L,H){C(L,e,H),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,_),a(o,b),a(b,g),st(o,t[3].u[t[100].key],!0),a(e,k),v||(N=be(o,"change",P),v=!0)},p(L,H){var U,X,Y,j,z,$,ne,W;t=L,H[0]&4&&l!==(l=(((X=(U=t[2].conf)==null?void 0:U.ui)==null?void 0:X[t[100].key])??t[100].name)+"")&&q(n,l),H[0]&4&&r!==(r=(((j=(Y=t[2].conf)==null?void 0:Y.ui)==null?void 0:j.disabled)??"Disabled")+"")&&q(c,r),H[0]&4&&d!==(d=((($=(z=t[2].conf)==null?void 0:z.ui)==null?void 0:$.enabled)??"Enabled")+"")&&q(_,d),H[0]&4&&y!==(y=(((W=(ne=t[2].conf)==null?void 0:ne.ui)==null?void 0:W.auto)??"Auto")+"")&&q(g,y),H[0]&32776&&st(o,t[3].u[t[100].key])},d(L){L&&S(e),v=!1,N()}}}function Ja(t){var _,b;let e,l,n=(((_=t[2].conf)==null?void 0:_.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((b=t[2].btn)==null?void 0:b.reboot)??"Reboot")+"",c,m,d;return{c(){e=p("div"),l=p("button"),i=w(n),s=h(),o=p("div"),f=p("button"),c=w(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(y,g){C(y,e,g),a(e,l),a(l,i),C(y,s,g),C(y,o,g),a(o,f),a(f,c),m||(d=[be(l,"click",t[16]),be(f,"click",t[18])],m=!0)},p(y,g){var k,v;g[0]&4&&n!==(n=(((k=y[2].conf)==null?void 0:k.btn_reset)??"Factory reset")+"")&&q(i,n),g[0]&4&&r!==(r=(((v=y[2].btn)==null?void 0:v.reboot)??"Reboot")+"")&&q(c,r)},d(y){y&&(S(e),S(s),S(o)),m=!1,Ft(d)}}}function Qa(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=w(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&q(i,n)},d(o){o&&S(e)}}}function fm(t){var ue,re,fe,ce,le,Z,ee,ve,ke,T,M,F,D,V,te,ie,pe,me,oe,we,ge,Ae,Le,Be,ze,Xe,Ze,qe,tt;let e,l,n,i,s,o,f,r,c,m,d=((fe=(re=(ue=t[3])==null?void 0:ue.p)==null?void 0:re.r)==null?void 0:fe.startsWith("NO"))||((Z=(le=(ce=t[3])==null?void 0:ce.p)==null?void 0:le.r)==null?void 0:Z.startsWith("10YNO"))||((ke=(ve=(ee=t[3])==null?void 0:ee.p)==null?void 0:ve.r)==null?void 0:ke.startsWith("10Y1001A1001A4")),_,b,y,g,k,v,N,P,O,E,R,I,B,K,G,A=((T=t[3])==null?void 0:T.g)&&ga(t),L=((M=t[3])==null?void 0:M.fw)&&Sa(t),H=((F=t[3])==null?void 0:F.d)&&Ca(t),U=((D=t[3])==null?void 0:D.m)&&Pa(t),X=((V=t[3])==null?void 0:V.w)&&Da(t),Y=((te=t[3])==null?void 0:te.q)&&ja(t),j=((pe=(ie=t[3])==null?void 0:ie.q)==null?void 0:pe.m)==3&&za(t),z=((oe=(me=t[3])==null?void 0:me.q)==null?void 0:oe.m)==4&&Ka(t),$=d&&Va(t),ne=((we=t[3])==null?void 0:we.u)&&Ya(t),W=((ge=t[1])==null?void 0:ge.a)&&Ja(t),x=t[3]&&Qa(t);return v=new ml({props:{active:t[6],message:((Le=(Ae=t[2].conf)==null?void 0:Ae.mask)==null?void 0:Le.loading)??"Loading"}}),P=new ml({props:{active:t[7],message:((ze=(Be=t[2].conf)==null?void 0:Be.mask)==null?void 0:ze.saving)??"Saving"}}),E=new ml({props:{active:t[11],message:((Ze=(Xe=t[2].conf)==null?void 0:Xe.mask)==null?void 0:Ze.reset)??"Factory reset"}}),I=new ml({props:{active:t[12],message:((tt=(qe=t[2].conf)==null?void 0:qe.mask)==null?void 0:tt.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),A&&A.c(),n=h(),L&&L.c(),i=h(),H&&H.c(),s=h(),U&&U.c(),o=h(),X&&X.c(),f=h(),Y&&Y.c(),r=h(),j&&j.c(),c=h(),z&&z.c(),m=h(),$&&$.c(),_=h(),ne&&ne.c(),b=h(),y=p("div"),W&&W.c(),g=h(),x&&x.c(),k=h(),Ce(v.$$.fragment),N=h(),Ce(P.$$.fragment),O=h(),Ce(E.$$.fragment),R=h(),Ce(I.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(y,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(ae,Ne){C(ae,e,Ne),a(e,l),A&&A.m(l,null),a(l,n),L&&L.m(l,null),a(l,i),H&&H.m(l,null),a(l,s),U&&U.m(l,null),a(l,o),X&&X.m(l,null),a(l,f),Y&&Y.m(l,null),a(l,r),j&&j.m(l,null),a(l,c),z&&z.m(l,null),a(l,m),$&&$.m(l,null),a(l,_),ne&&ne.m(l,null),a(e,b),a(e,y),W&&W.m(y,null),a(y,g),x&&x.m(y,null),C(ae,k,Ne),Me(v,ae,Ne),C(ae,N,Ne),Me(P,ae,Ne),C(ae,O,Ne),Me(E,ae,Ne),C(ae,R,Ne),Me(I,ae,Ne),B=!0,K||(G=be(e,"submit",Mn(t[17])),K=!0)},p(ae,Ne){var rt,Ht,_t,qt,Pt,Lt,et,pt,Pe,je,Qe,Je,he,De,Tt,It,vt,We,ut,xe,Ot,zt,Ve,ye,Te,Ge,nt,ot,dt;(rt=ae[3])!=null&&rt.g?A?(A.p(ae,Ne),Ne[0]&8&&Q(A,1)):(A=ga(ae),A.c(),Q(A,1),A.m(l,n)):A&&(wt(),se(A,1,1,()=>{A=null}),yt()),(Ht=ae[3])!=null&&Ht.fw?L?L.p(ae,Ne):(L=Sa(ae),L.c(),L.m(l,i)):L&&(L.d(1),L=null),(_t=ae[3])!=null&&_t.d?H?H.p(ae,Ne):(H=Ca(ae),H.c(),H.m(l,s)):H&&(H.d(1),H=null),(qt=ae[3])!=null&&qt.m?U?U.p(ae,Ne):(U=Pa(ae),U.c(),U.m(l,o)):U&&(U.d(1),U=null),(Pt=ae[3])!=null&&Pt.w?X?X.p(ae,Ne):(X=Da(ae),X.c(),X.m(l,f)):X&&(X.d(1),X=null),(Lt=ae[3])!=null&&Lt.q?Y?(Y.p(ae,Ne),Ne[0]&8&&Q(Y,1)):(Y=ja(ae),Y.c(),Q(Y,1),Y.m(l,r)):Y&&(wt(),se(Y,1,1,()=>{Y=null}),yt()),((pt=(et=ae[3])==null?void 0:et.q)==null?void 0:pt.m)==3?j?j.p(ae,Ne):(j=za(ae),j.c(),j.m(l,c)):j&&(j.d(1),j=null),((je=(Pe=ae[3])==null?void 0:Pe.q)==null?void 0:je.m)==4?z?z.p(ae,Ne):(z=Ka(ae),z.c(),z.m(l,m)):z&&(z.d(1),z=null),Ne[0]&8&&(d=((he=(Je=(Qe=ae[3])==null?void 0:Qe.p)==null?void 0:Je.r)==null?void 0:he.startsWith("NO"))||((It=(Tt=(De=ae[3])==null?void 0:De.p)==null?void 0:Tt.r)==null?void 0:It.startsWith("10YNO"))||((ut=(We=(vt=ae[3])==null?void 0:vt.p)==null?void 0:We.r)==null?void 0:ut.startsWith("10Y1001A1001A4"))),d?$?$.p(ae,Ne):($=Va(ae),$.c(),$.m(l,_)):$&&($.d(1),$=null),(xe=ae[3])!=null&&xe.u?ne?ne.p(ae,Ne):(ne=Ya(ae),ne.c(),ne.m(l,null)):ne&&(ne.d(1),ne=null),(Ot=ae[1])!=null&&Ot.a?W?W.p(ae,Ne):(W=Ja(ae),W.c(),W.m(y,g)):W&&(W.d(1),W=null),ae[3]?x?x.p(ae,Ne):(x=Qa(ae),x.c(),x.m(y,null)):x&&(x.d(1),x=null);const lt={};Ne[0]&64&&(lt.active=ae[6]),Ne[0]&4&&(lt.message=((Ve=(zt=ae[2].conf)==null?void 0:zt.mask)==null?void 0:Ve.loading)??"Loading"),v.$set(lt);const bt={};Ne[0]&128&&(bt.active=ae[7]),Ne[0]&4&&(bt.message=((Te=(ye=ae[2].conf)==null?void 0:ye.mask)==null?void 0:Te.saving)??"Saving"),P.$set(bt);const mt={};Ne[0]&2048&&(mt.active=ae[11]),Ne[0]&4&&(mt.message=((nt=(Ge=ae[2].conf)==null?void 0:Ge.mask)==null?void 0:nt.reset)??"Factory reset"),E.$set(mt);const $e={};Ne[0]&4096&&($e.active=ae[12]),Ne[0]&4&&($e.message=((dt=(ot=ae[2].conf)==null?void 0:ot.mask)==null?void 0:dt.reset_done)??"Done"),I.$set($e)},i(ae){B||(Q(A),Q(Y),Q(v.$$.fragment,ae),Q(P.$$.fragment,ae),Q(E.$$.fragment,ae),Q(I.$$.fragment,ae),B=!0)},o(ae){se(A),se(Y),se(v.$$.fragment,ae),se(P.$$.fragment,ae),se(E.$$.fragment,ae),se(I.$$.fragment,ae),B=!1},d(ae){ae&&(S(e),S(k),S(N),S(O),S(R)),A&&A.d(),L&&L.d(),H&&H.d(),U&&U.d(),X&&X.d(),Y&&Y.d(),j&&j.d(),z&&z.d(),$&&$.d(),ne&&ne.d(),W&&W.d(),x&&x.d(),Se(v,ae),Se(P,ae),Se(E,ae),Se(I,ae),K=!1,G()}}}async function um(){await(await fetch("reboot",{method:"POST"})).json()}function Za(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function cm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:su,medium:iu,low:nu,off:ou};o.off;let f={};Cl.subscribe(ye=>{l(2,f=ye)});const r=[{value:0,label:"Verbose"},{value:1,label:"Debug"},{value:2,label:"Info"},{value:3,label:"Warning"},{value:4,label:"Error"},{value:5,label:"Silent"}];let c=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],m=!0,d=!1,_,b=[],y="",g=null;vn.subscribe(ye=>{var Te,Ge,nt,ot;if(ye.version){(Te=ye==null?void 0:ye.c)==null||Te.e,l(3,_=ye),l(6,m=!1);const dt=((Ge=f.consent)==null?void 0:Ge.load_from_server)??"Load from server";l(4,b=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),_!=null&&_.fw?l(3,_.fw={a:!!_.fw.a,s:Number(_.fw.s??2),e:Number(_.fw.e??3)},_):l(3,_={..._,fw:{a:!1,s:2,e:3}}),_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??_.fw.e??2),_),_!=null&&_.d?l(3,_.d={s:_.d.s===!0||_.d.s==="true",t:_.d.t===!0||_.d.t==="true",l:Number(_.d.l??4)},_):l(3,_={..._,d:{s:!1,t:!1,l:4}}),(nt=_==null?void 0:_.u)!=null&&nt.lang&&!b.find(Xt=>Xt.code===_.u.lang)&&b.push({code:_.u.lang,name:((ot=f.language)==null?void 0:ot.name)??"Unknown"}),b.push({code:"hub",name:dt})}}),cu();let k={},v=[];tu.subscribe(ye=>{var Te;for(let Ge=0;Ge<ye.n.length&&ye.n[Ge].s!=((Te=_==null?void 0:_.w)==null?void 0:Te.s);Ge++);l(5,k=ye)});let N=!1,P=!1;async function O(){if(confirm("Factory reset?")){l(11,N=!0);const ye=new URLSearchParams;ye.append("perform","true");let Ge=await(await fetch("reset",{method:"POST",body:ye})).json();l(11,N=!1),l(12,P=Ge.success)}}async function E(ye){l(7,d=!0);const Te=new FormData(ye.target),Ge=new URLSearchParams;for(let dt of Te){const[Xt,Ut]=dt;Ge.append(Xt,Ut)}let ot=await(await fetch("save",{method:"POST",body:Ge})).json();ul.update(dt=>(dt.hostname=Te.get("gh"),dt.usrcfg=ot.success,dt.booting=ot.reboot,Te.get("nm")=="static"&&(dt.net.ip=Te.get("ni"),dt.net.mask=Te.get("nu"),dt.net.gw=Te.get("ng"),dt.net.dns1=Te.get("nd")),dt.ui=_.u,dt)),l(7,d=!1),yn(n)}const R=function(){confirm("Reboot?")&&(ul.update(ye=>(ye.booting=!0,ye)),um())};async function I(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.c=!1,Te)))}async function B(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.r=!1,Te)))}async function K(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.k=!1,Te)))}const G=function(){_.q.s.e?_.q.p==1883&&l(3,_.q.p=8883,_):_.q.p==8883&&l(3,_.q.p=1883,_)};async function A(){if(_.u.lang=="hub"){const ye=await Sl("http://hub.amsleser.no/hub/language/list.json");l(4,b=await ye.json()),l(3,_.u.lang=f.language.code,_);return}_.u.lang&&await hi(_.u.lang)}function L(ye){l(8,y=ye);const Te=_u(ye);if(l(9,g=Te??null),!Te||!(_!=null&&_.m))return;const Ge=dn(_.m),nt=pu(Ge,Te),ot=R1(_.m,nt);l(3,_={..._,m:ot})}function H(){l(8,y=""),l(9,g=null)}async function U(){l(3,_.p.e=!0,_)}const X=window||global;X.bindToCloud=function(){console.log("BIND CALLED")};const Y=[[]];function j(){_.g.h=this.value,l(3,_)}function z(){_.g.t=nl(this),l(3,_)}function $(){_.u.lang=nl(this),l(3,_)}function ne(){_.p.r=nl(this),l(3,_)}function W(){_.p.c=nl(this),l(3,_)}function x(){_.p.e=this.checked,l(3,_)}function ue(){_.p.t=this.value,l(3,_)}function re(){_.g.s=nl(this),l(3,_)}function fe(){_.g.u=this.value,l(3,_)}function ce(){_.g.p=this.value,l(3,_)}function le(){_.g.c=this.value,l(3,_)}function Z(){_.fw.a=this.checked,l(3,_)}function ee(){_.fw.s=kt(this.value),l(3,_)}function ve(){_.d.t=this.checked,l(3,_)}function ke(){_.d.s=this.checked,l(3,_)}function T(){_.d.l=nl(this),l(3,_)}function M(){y=nl(this),l(8,y)}const F=ye=>L(ye.target.value);function D(){_.m.a=nl(this),l(3,_)}function V(){_.m.b=kt(this.value),l(3,_)}function te(){_.m.i=this.checked,l(3,_)}function ie(){_.m.b=nl(this),l(3,_)}function pe(){_.m.p=nl(this),l(3,_)}function me(){_.m.s=kt(this.value),l(3,_)}function oe(){_.m.d=nl(this),l(3,_)}function we(){_.m.f=kt(this.value),l(3,_)}function ge(){_.m.r=kt(this.value),l(3,_)}function Ae(){_.m.e.e=this.checked,l(3,_)}function Le(){_.m.e.k=this.value,l(3,_)}function Be(){_.m.e.a=this.value,l(3,_)}function ze(){_.m.m.e=this.checked,l(3,_)}function Xe(){_.m.m.w=kt(this.value),l(3,_)}function Ze(){_.m.m.v=kt(this.value),l(3,_)}function qe(){_.m.m.a=kt(this.value),l(3,_)}function tt(){_.m.m.c=kt(this.value),l(3,_)}function ae(){_.w.s=this.__value,l(3,_)}function Ne(){_.w.p=this.value,l(3,_)}function lt(){_.w.z=nl(this),l(3,_)}function bt(){_.w.w=kt(this.value),l(3,_)}function mt(){_.w.b=this.checked,l(3,_)}function $e(){_.q.s.e=this.checked,l(3,_)}function rt(){_.q.h=this.value,l(3,_)}function Ht(){_.q.p=kt(this.value),l(3,_)}function _t(){_.q.u=this.value,l(3,_)}function qt(){_.q.a=this.value,l(3,_)}function Pt(){_.q.c=this.value,l(3,_)}function Lt(){_.q.m=nl(this),l(3,_)}function et(){_.q.b=this.value,l(3,_)}function pt(){_.q.r=this.value,l(3,_)}function Pe(){_.q.t=nl(this),l(3,_)}function je(){_.q.d=kt(this.value),l(3,_)}function Qe(){_.q.i=kt(this.value),l(3,_)}function Je(){_.q.k=kt(this.value),l(3,_)}function he(){_.o.e=this.value,l(3,_)}function De(){_.o.c=this.value,l(3,_)}function Tt(){_.o.u1=this.value,l(3,_)}function It(){_.o.u2=this.value,l(3,_)}function vt(){_.o.u3=this.value,l(3,_)}function We(){_.h.t=this.value,l(3,_)}function ut(){_.h.h=this.value,l(3,_)}function xe(){_.h.n=this.value,l(3,_)}function Ot(ye){_.t.t[ye]=kt(this.value),l(3,_)}function zt(){_.t.h=kt(this.value),l(3,_)}function Ve(ye){_.u[ye.key]=nl(this),l(3,_)}return t.$$set=ye=>{"basepath"in ye&&l(27,n=ye.basepath),"sysinfo"in ye&&l(0,i=ye.sysinfo),"data"in ye&&l(1,s=ye.data)},t.$$.update=()=>{var ye;if(t.$$.dirty[0]&8&&_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??0),_),t.$$.dirty[0]&20&&b.length){const Te=((ye=f.consent)==null?void 0:ye.load_from_server)??"Load from server";b.some(nt=>nt.code==="hub")?b.find(ot=>ot.code==="hub"&&ot.name!==Te)&&l(4,b=b.map(ot=>ot.code==="hub"?{...ot,name:Te}:ot)):l(4,b=[...b,{code:"hub",name:Te}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Te,label:Ge}=Gn(s==null?void 0:s.r);o[Te]??o.off}t.$$.dirty[0]&32&&l(10,v=Array.isArray(k==null?void 0:k.n)?k.n.map(Te=>{const{level:Ge,label:nt}=Gn(Te==null?void 0:Te.r);return{icon:o[Ge]??o.off,title:nt}}):[])},[i,s,f,_,b,k,m,d,y,g,v,N,P,o,r,c,O,E,R,I,B,K,G,A,L,H,U,n,j,z,$,ne,W,x,ue,re,fe,ce,le,Z,ee,ve,ke,T,M,F,D,V,te,ie,pe,me,oe,we,ge,Ae,Le,Be,ze,Xe,Ze,qe,tt,ae,Y,Ne,lt,bt,mt,$e,rt,Ht,_t,qt,Pt,Lt,et,pt,Pe,je,Qe,Je,he,De,Tt,It,vt,We,ut,xe,Ot,zt,Ve]}class mm extends At{constructor(e){super(),Et(this,e,cm,fm,Nt,{basepath:27,sysinfo:0,data:1},null,[-1,-1,-1,-1,-1])}}function $a(t,e,l){const n=t.slice();return n[21]=e[l],n}function xa(t){let e,l=t[1].cpu+"",n,i;return{c(){e=w("("),n=w(l),i=w("MHz)")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&q(n,l)},d(s){s&&(S(e),S(n),S(i))}}}function _m(t){let e=Fe(t[1].chip,t[1].board)+"",l;return{c(){l=w(e)},m(n,i){C(n,l,i)},p(n,i){i&2&&e!==(e=Fe(n[1].chip,n[1].board)+"")&&q(l,e)},d(n){n&&S(l)}}}function er(t){var Y,j,z,$,ne,W,x,ue;let e,l=(((j=(Y=t[3].status)==null?void 0:Y.device)==null?void 0:j.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=((($=(z=t[3].status)==null?void 0:z.device)==null?void 0:$.last_boot)??"Last boot")+"",m,d,_,b,y,g,k=(((W=(ne=t[3].status)==null?void 0:ne.device)==null?void 0:W.reason)??"Reason")+"",v,N,P=(((ue=(x=t[3][zs(t[1].chip)])==null?void 0:x.reason)==null?void 0:ue[t[1].boot_reason])??t[1].boot_reason)+"",O,E,R=t[1].boot_reason+"",I,B,K=t[1].ex_cause+"",G,A,L;const H=[dm,pm],U=[];function X(re,fe){return re[0].u>0?0:1}return _=X(t),b=U[_]=H[_](t),{c(){e=p("div"),n=w(l),i=w(": "),o=w(s),f=h(),r=p("div"),m=w(c),d=w(`:
            `),b.c(),y=h(),g=p("div"),v=w(k),N=w(": "),O=w(P),E=w(" ("),I=w(R),B=w("/"),G=w(K),A=w(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(g,"class","my-2")},m(re,fe){C(re,e,fe),a(e,n),a(e,i),a(e,o),C(re,f,fe),C(re,r,fe),a(r,m),a(r,d),U[_].m(r,null),C(re,y,fe),C(re,g,fe),a(g,v),a(g,N),a(g,O),a(g,E),a(g,I),a(g,B),a(g,G),a(g,A),L=!0},p(re,fe){var le,Z,ee,ve,ke,T,M,F;(!L||fe&8)&&l!==(l=(((Z=(le=re[3].status)==null?void 0:le.device)==null?void 0:Z.apmac)??"AP MAC")+"")&&q(n,l),(!L||fe&2)&&s!==(s=re[1].apmac+"")&&q(o,s),(!L||fe&8)&&c!==(c=(((ve=(ee=re[3].status)==null?void 0:ee.device)==null?void 0:ve.last_boot)??"Last boot")+"")&&q(m,c);let ce=_;_=X(re),_===ce?U[_].p(re,fe):(wt(),se(U[ce],1,1,()=>{U[ce]=null}),yt(),b=U[_],b?b.p(re,fe):(b=U[_]=H[_](re),b.c()),Q(b,1),b.m(r,null)),(!L||fe&8)&&k!==(k=(((T=(ke=re[3].status)==null?void 0:ke.device)==null?void 0:T.reason)??"Reason")+"")&&q(v,k),(!L||fe&10)&&P!==(P=(((F=(M=re[3][zs(re[1].chip)])==null?void 0:M.reason)==null?void 0:F[re[1].boot_reason])??re[1].boot_reason)+"")&&q(O,P),(!L||fe&2)&&R!==(R=re[1].boot_reason+"")&&q(I,R),(!L||fe&2)&&K!==(K=re[1].ex_cause+"")&&q(G,K)},i(re){L||(Q(b),L=!0)},o(re){se(b),L=!1},d(re){re&&(S(e),S(f),S(r),S(y),S(g)),U[_].d()}}}function pm(t){let e;return{c(){e=w("-")},m(l,n){C(l,e,n)},p:Ue,i:Ue,o:Ue,d(l){l&&S(e)}}}function dm(t){let e,l;return e=new ru({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function tr(t){var f;let e,l,n=(((f=t[3].btn)==null?void 0:f.reboot)??"Reboot")+"",i,s,o;return{c(){e=p("div"),l=p("button"),i=w(n),u(l,"class","btn-yellow-sm"),u(e,"class","my-2")},m(r,c){C(r,e,c),a(e,l),a(l,i),s||(o=be(l,"click",t[11]),s=!0)},p(r,c){var m;c&8&&n!==(n=(((m=r[3].btn)==null?void 0:m.reboot)??"Reboot")+"")&&q(i,n)},d(r){r&&S(e),s=!1,o()}}}function lr(t){var G,A,L,H,U,X,Y,j;let e,l,n=(((A=(G=t[3].status)==null?void 0:G.meter)==null?void 0:A.title)??"Meter")+"",i,s,o,f=(((H=(L=t[3].status)==null?void 0:L.meter)==null?void 0:H.manufacturer)??"Manufacturer")+"",r,c,m=mi(t[1].meter.mfg)+"",d,_,b,y=(((X=(U=t[3].status)==null?void 0:U.meter)==null?void 0:X.model)??"Model")+"",g,k,v=(t[1].meter.model?t[1].meter.model:"unknown")+"",N,P,O,E=(((j=(Y=t[3].status)==null?void 0:Y.meter)==null?void 0:j.id)??"ID")+"",R,I,B=(t[1].meter.id?t[1].meter.id:"unknown")+"",K;return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("div"),r=w(f),c=w(": "),d=w(m),_=h(),b=p("div"),g=w(y),k=w(": "),N=w(v),P=h(),O=p("div"),R=w(E),I=w(": "),K=w(B),u(l,"class","text-sm"),u(o,"class","my-2"),u(b,"class","my-2"),u(O,"class","my-2"),u(e,"class","cnt")},m(z,$){C(z,e,$),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,_),a(e,b),a(b,g),a(b,k),a(b,N),a(e,P),a(e,O),a(O,R),a(O,I),a(O,K)},p(z,$){var ne,W,x,ue,re,fe,ce,le;$&8&&n!==(n=(((W=(ne=z[3].status)==null?void 0:ne.meter)==null?void 0:W.title)??"Meter")+"")&&q(i,n),$&8&&f!==(f=(((ue=(x=z[3].status)==null?void 0:x.meter)==null?void 0:ue.manufacturer)??"Manufacturer")+"")&&q(r,f),$&2&&m!==(m=mi(z[1].meter.mfg)+"")&&q(d,m),$&8&&y!==(y=(((fe=(re=z[3].status)==null?void 0:re.meter)==null?void 0:fe.model)??"Model")+"")&&q(g,y),$&2&&v!==(v=(z[1].meter.model?z[1].meter.model:"unknown")+"")&&q(N,v),$&8&&E!==(E=(((le=(ce=z[3].status)==null?void 0:ce.meter)==null?void 0:le.id)??"ID")+"")&&q(R,E),$&2&&B!==(B=(z[1].meter.id?z[1].meter.id:"unknown")+"")&&q(K,B)},d(z){z&&S(e)}}}function nr(t){var j,z,$,ne,W,x,ue,re;let e,l,n=(((z=(j=t[3].status)==null?void 0:j.network)==null?void 0:z.title)??"Network")+"",i,s,o,f=(((ne=($=t[3].conf)==null?void 0:$.network)==null?void 0:ne.ip)??"IP")+"",r,c,m=t[1].net.ip+"",d,_,b,y=(((x=(W=t[3].conf)==null?void 0:W.network)==null?void 0:x.mask)??"Mask")+"",g,k,v=t[1].net.mask+"",N,P,O,E=(((re=(ue=t[3].conf)==null?void 0:ue.network)==null?void 0:re.gw)??"Gateway")+"",R,I,B=t[1].net.gw+"",K,G,A,L,H,U=t[1].net.dns1&&ir(t),X=t[1].net.dns2&&sr(t),Y=t[1].net.ipv6&&or(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("div"),r=w(f),c=w(": "),d=w(m),_=h(),b=p("div"),g=w(y),k=w(": "),N=w(v),P=h(),O=p("div"),R=w(E),I=w(": "),K=w(B),G=h(),A=p("div"),U&&U.c(),L=h(),X&&X.c(),H=h(),Y&&Y.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(b,"class","my-2"),u(O,"class","my-2"),u(A,"class","my-2"),u(e,"class","cnt")},m(fe,ce){C(fe,e,ce),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,_),a(e,b),a(b,g),a(b,k),a(b,N),a(e,P),a(e,O),a(O,R),a(O,I),a(O,K),a(e,G),a(e,A),U&&U.m(A,null),a(A,L),X&&X.m(A,null),a(e,H),Y&&Y.m(e,null)},p(fe,ce){var le,Z,ee,ve,ke,T,M,F;ce&8&&n!==(n=(((Z=(le=fe[3].status)==null?void 0:le.network)==null?void 0:Z.title)??"Network")+"")&&q(i,n),ce&8&&f!==(f=(((ve=(ee=fe[3].conf)==null?void 0:ee.network)==null?void 0:ve.ip)??"IP")+"")&&q(r,f),ce&2&&m!==(m=fe[1].net.ip+"")&&q(d,m),ce&8&&y!==(y=(((T=(ke=fe[3].conf)==null?void 0:ke.network)==null?void 0:T.mask)??"Mask")+"")&&q(g,y),ce&2&&v!==(v=fe[1].net.mask+"")&&q(N,v),ce&8&&E!==(E=(((F=(M=fe[3].conf)==null?void 0:M.network)==null?void 0:F.gw)??"Gateway")+"")&&q(R,E),ce&2&&B!==(B=fe[1].net.gw+"")&&q(K,B),fe[1].net.dns1?U?U.p(fe,ce):(U=ir(fe),U.c(),U.m(A,L)):U&&(U.d(1),U=null),fe[1].net.dns2?X?X.p(fe,ce):(X=sr(fe),X.c(),X.m(A,null)):X&&(X.d(1),X=null),fe[1].net.ipv6?Y?Y.p(fe,ce):(Y=or(fe),Y.c(),Y.m(e,null)):Y&&(Y.d(1),Y=null)},d(fe){fe&&S(e),U&&U.d(),X&&X.d(),Y&&Y.d()}}}function ir(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=w(e),n=w(": "),s=w(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&q(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&q(s,i)},d(r){r&&(S(l),S(n),S(s))}}}function sr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=w(e),n=w(": "),s=w(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&q(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&q(s,i)},d(r){r&&(S(l),S(n),S(s))}}}function or(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&ar(t),m=t[1].net.dns2v6&&rr(t);return{c(){e=p("div"),l=w("IPv6: "),n=p("span"),s=w(i),o=h(),f=p("div"),c&&c.c(),r=h(),m&&m.c(),en(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(d,_){C(d,e,_),a(e,l),a(e,n),a(n,s),C(d,o,_),C(d,f,_),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(d,_){_&2&&i!==(i=d[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&q(s,i),d[1].net.dns1v6?c?c.p(d,_):(c=ar(d),c.c(),c.m(f,r)):c&&(c.d(1),c=null),d[1].net.dns2v6?m?m.p(d,_):(m=rr(d),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(d){d&&(S(e),S(o),S(f)),c&&c.d(),m&&m.d()}}}function ar(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=w("DNSv6: "),l=p("span"),i=w(n),en(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&q(i,n)},d(s){s&&(S(e),S(l))}}}function rr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=w("DNSv6: "),l=p("span"),i=w(n),en(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&q(i,n)},d(s){s&&(S(e),S(l))}}}function fr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","my-2 text-green-600")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&q(n,l)},d(o){o&&S(e)}}}function ur(t){var r,c,m,d;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((d=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:d[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=w(n),s=h(),f=w(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(_,b){C(_,e,b),a(e,l),a(l,i),a(l,s),a(l,f)},p(_,b){var y,g,k,v;b&10&&n!==(n=(((g=(y=_[3].status)==null?void 0:y.firmware)==null?void 0:g.failed)??"Upgrade from {0} to {1} failed").replace("{0}",_[1].upgrade.f).replace("{1}",_[1].upgrade.t)+"")&&q(i,n),b&10&&o!==(o=(((v=(k=_[3].errors)==null?void 0:k.upgrade)==null?void 0:v[_[1].upgrade.e])??_[1].upgrade.e)+"")&&q(f,o)},d(_){_&&S(e)}}}function cr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=w("Last HTTP status: "),s=w(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){C(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&q(s,i)},d(o){o&&S(e)}}}function mr(t){var y,g;let e,l=(((g=(y=t[3].status)==null?void 0:y.firmware)==null?void 0:g.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,d,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&_r(t),b=t[1].fwconsent===2&&pr(t);return{c(){e=p("div"),n=w(l),i=w(`: 
                `),s=p("a"),f=w(o),c=h(),_&&_.c(),m=h(),b&&b.c(),d=el(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(k,v){C(k,e,v),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),_&&_.m(e,null),C(k,m,v),b&&b.m(k,v),C(k,d,v)},p(k,v){var N,P;v&8&&l!==(l=(((P=(N=k[3].status)==null?void 0:N.firmware)==null?void 0:P.latest)??"Latest")+"")&&q(n,l),v&2&&o!==(o=k[1].upgrade.n+"")&&q(f,o),v&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+k[1].upgrade.n)&&u(s,"href",r),(k[1].security==0||k[0].a)&&k[1].fwconsent===1&&k[1].upgrade.n&&k[1].upgrade.n!=k[1].version?_?_.p(k,v):(_=_r(k),_.c(),_.m(e,null)):_&&(_.d(1),_=null),k[1].fwconsent===2?b?b.p(k,v):(b=pr(k),b.c(),b.m(d.parentNode,d)):b&&(b.d(1),b=null)},d(k){k&&(S(e),S(m),S(d)),_&&_.d(),b&&b.d(k)}}}function _r(t){let e,l,n,i,s;return{c(){var o,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){C(o,e,f),a(e,l),i||(s=be(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&S(e),i=!1,s()}}}function pr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=w(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&q(i,n)},d(f){f&&S(e)}}}function dr(t){let e,l=Ys(Fe(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=Ys(Fe(i[1].chip,i[1].board))+"")&&q(n,l)},d(i){i&&S(e)}}}function hr(t){let e,l,n,i,s,o;function f(m,d){return m[5].length==0?bm:hm}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=h(),c.c(),en(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,d){C(m,e,d),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[be(n,"change",t[14]),be(l,"submit",t[16])],s=!0)},p(m,d){r===(r=f(m))&&c?c.p(m,d):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&S(e),t[13](null),c.d(),s=!1,Ft(o)}}}function hm(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=w(e),n=h(),i=p("button"),o=w(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&q(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&q(o,s)},d(r){r&&(S(l),S(n),S(i))}}}function bm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){C(r,e,c),a(e,n),i||(s=be(e,"click",t[15]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:d.btn_select_file)??"Select file")+"")&&q(n,l)},d(r){r&&S(e),i=!1,s()}}}function br(t){var X,Y,j,z,$,ne;let e,l,n=(((Y=(X=t[3].status)==null?void 0:X.backup)==null?void 0:Y.title)??"Backup")+"",i,s,o,f,r,c,m,d,_=(((z=(j=t[3].status)==null?void 0:j.backup)==null?void 0:z.secrets)??"Include secrets")+"",b,y,g,k=(((ne=($=t[3].status)==null?void 0:$.backup)==null?void 0:ne.secrets_desc)??"")+"",v,N,P,O,E,R,I,B,K=He(t[9]),G=[];for(let W=0;W<K.length;W+=1)G[W]=vr($a(t,K,W));let A=t[2].length==0&&gr(t);function L(W,x){return W[2].length==0?gm:vm}let H=L(t),U=H(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("form"),f=p("div");for(let W=0;W<G.length;W+=1)G[W].c();r=h(),c=p("label"),m=p("input"),d=h(),b=w(_),y=p("br"),g=p("small"),v=w(k),N=h(),A&&A.c(),P=h(),O=p("form"),E=p("input"),R=h(),U.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),en(E,"display","none"),u(E,"name","file"),u(E,"type","file"),u(E,"accept",".cfg"),u(O,"autocomplete","off"),u(e,"class","cnt")},m(W,x){C(W,e,x),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let ue=0;ue<G.length;ue+=1)G[ue]&&G[ue].m(f,null);a(f,r),a(f,c),a(c,m),a(c,d),a(c,b),a(c,y),a(c,g),a(g,v),a(o,N),A&&A.m(o,null),a(e,P),a(e,O),a(O,E),t[17](E),a(O,R),U.m(O,null),I||(B=[be(E,"change",t[18]),be(O,"submit",Mn(t[12]))],I=!0)},p(W,x){var ue,re,fe,ce,le,Z;if(x&8&&n!==(n=(((re=(ue=W[3].status)==null?void 0:ue.backup)==null?void 0:re.title)??"Backup")+"")&&q(i,n),x&520){K=He(W[9]);let ee;for(ee=0;ee<K.length;ee+=1){const ve=$a(W,K,ee);G[ee]?G[ee].p(ve,x):(G[ee]=vr(ve),G[ee].c(),G[ee].m(f,r))}for(;ee<G.length;ee+=1)G[ee].d(1);G.length=K.length}x&8&&_!==(_=(((ce=(fe=W[3].status)==null?void 0:fe.backup)==null?void 0:ce.secrets)??"Include secrets")+"")&&q(b,_),x&8&&k!==(k=(((Z=(le=W[3].status)==null?void 0:le.backup)==null?void 0:Z.secrets_desc)??"")+"")&&q(v,k),W[2].length==0?A?A.p(W,x):(A=gr(W),A.c(),A.m(o,null)):A&&(A.d(1),A=null),H===(H=L(W))&&U?U.p(W,x):(U.d(1),U=H(W),U&&(U.c(),U.m(O,null)))},d(W){W&&S(e),Gt(G,W),A&&A.d(),t[17](null),U.d(),I=!1,Ft(B)}}}function vr(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=h(),s=w(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,d;c&8&&i!==(i=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d[r[21].key])??r[21].name)+"")&&q(s,i)},d(r){r&&S(e)}}}function gr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=w(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&q(n,l)},d(o){o&&S(e)}}}function vm(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=w(e),n=h(),i=p("button"),o=w(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&q(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&q(o,s)},d(r){r&&(S(l),S(n),S(i))}}}function gm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){C(r,e,c),a(e,n),i||(s=be(e,"click",t[19]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d.btn_select_file)??"Select file")+"")&&q(n,l)},d(r){r&&S(e),i=!1,s()}}}function km(t){var ae,Ne,lt,bt,mt,$e,rt,Ht,_t,qt,Pt,Lt,et,pt,Pe,je,Qe,Je;let e,l,n,i=(((ae=t[3].status)==null?void 0:ae.device.title)??"Device")+"",s,o,f,r=(((lt=(Ne=t[3].status)==null?void 0:Ne.device)==null?void 0:lt.chip)??"Chip")+"",c,m,d=t[1].chip+"",_,b,y,g,k=(((mt=(bt=t[3].status)==null?void 0:bt.device)==null?void 0:mt.device)??"Device")+"",v,N,P,O,E,R=(((rt=($e=t[3].status)==null?void 0:$e.device)==null?void 0:rt.mac)??"MAC")+"",I,B,K=t[1].mac+"",G,A,L,H,U,X,Y,j,z=(((_t=(Ht=t[3].status)==null?void 0:Ht.firmware)==null?void 0:_t.title)??"Firmware")+"",$,ne,W,x=(((Pt=(qt=t[3].status)==null?void 0:qt.firmware)==null?void 0:Pt.installed)??"Installed")+"",ue,re,fe=t[1].version+"",ce,le,Z,ee,ve,ke,T=(t[1].security==0||t[0].a)&&Hn(t[1].board),M,F,D,V,te,ie,pe,me=t[1].cpu&&xa(t);P=new bl({props:{to:"/vendor",$$slots:{default:[_m]},$$scope:{ctx:t}}});let oe=t[1].apmac&&t[1].apmac!=t[1].mac&&er(t),we=((Lt=t[0])==null?void 0:Lt.a)&&tr(t),ge=t[1].meter&&lr(t),Ae=t[1].net&&nr(t),Le=((et=t[1].upgrade)==null?void 0:et.m)===!0&&fr(t),Be=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&ur(t),ze=((pt=t[1].upgrade)==null?void 0:pt.x)!==void 0&&t[1].upgrade.x!==-1&&cr(t),Xe=t[1].upgrade.n&&mr(t),Ze=T&&dr(t),qe=(t[1].security==0||t[0].a)&&hr(t),tt=(t[1].security==0||t[0].a)&&br(t);return V=new ml({props:{active:t[6],message:((je=(Pe=t[3].status)==null?void 0:Pe.mask)==null?void 0:je.firmware)??"Uploading"}}),ie=new ml({props:{active:t[8],message:((Je=(Qe=t[3].status)==null?void 0:Qe.mask)==null?void 0:Je.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=w(i),o=h(),f=p("div"),c=w(r),m=w(": "),_=w(d),b=h(),me&&me.c(),y=h(),g=p("div"),v=w(k),N=w(": "),Ce(P.$$.fragment),O=h(),E=p("div"),I=w(R),B=w(": "),G=w(K),A=h(),oe&&oe.c(),L=h(),we&&we.c(),H=h(),ge&&ge.c(),U=h(),Ae&&Ae.c(),X=h(),Y=p("div"),j=p("strong"),$=w(z),ne=h(),W=p("div"),ue=w(x),re=w(": "),ce=w(fe),le=h(),Le&&Le.c(),Z=h(),Be&&Be.c(),ee=h(),ze&&ze.c(),ve=h(),Xe&&Xe.c(),ke=h(),Ze&&Ze.c(),M=h(),qe&&qe.c(),F=h(),tt&&tt.c(),D=h(),Ce(V.$$.fragment),te=h(),Ce(ie.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(g,"class","my-2"),u(E,"class","my-2"),u(l,"class","cnt"),u(j,"class","text-sm"),u(W,"class","my-2"),u(Y,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(he,De){C(he,e,De),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,_),a(f,b),me&&me.m(f,null),a(l,y),a(l,g),a(g,v),a(g,N),Me(P,g,null),a(l,O),a(l,E),a(E,I),a(E,B),a(E,G),a(l,A),oe&&oe.m(l,null),a(l,L),we&&we.m(l,null),a(e,H),ge&&ge.m(e,null),a(e,U),Ae&&Ae.m(e,null),a(e,X),a(e,Y),a(Y,j),a(j,$),a(Y,ne),a(Y,W),a(W,ue),a(W,re),a(W,ce),a(Y,le),Le&&Le.m(Y,null),a(Y,Z),Be&&Be.m(Y,null),a(Y,ee),ze&&ze.m(Y,null),a(Y,ve),Xe&&Xe.m(Y,null),a(Y,ke),Ze&&Ze.m(Y,null),a(Y,M),qe&&qe.m(Y,null),a(e,F),tt&&tt.m(e,null),C(he,D,De),Me(V,he,De),C(he,te,De),Me(ie,he,De),pe=!0},p(he,[De]){var We,ut,xe,Ot,zt,Ve,ye,Te,Ge,nt,ot,dt,Xt,Ut,Rt,sl,Dt,Ye;(!pe||De&8)&&i!==(i=(((We=he[3].status)==null?void 0:We.device.title)??"Device")+"")&&q(s,i),(!pe||De&8)&&r!==(r=(((xe=(ut=he[3].status)==null?void 0:ut.device)==null?void 0:xe.chip)??"Chip")+"")&&q(c,r),(!pe||De&2)&&d!==(d=he[1].chip+"")&&q(_,d),he[1].cpu?me?me.p(he,De):(me=xa(he),me.c(),me.m(f,null)):me&&(me.d(1),me=null),(!pe||De&8)&&k!==(k=(((zt=(Ot=he[3].status)==null?void 0:Ot.device)==null?void 0:zt.device)??"Device")+"")&&q(v,k);const Tt={};De&16777218&&(Tt.$$scope={dirty:De,ctx:he}),P.$set(Tt),(!pe||De&8)&&R!==(R=(((ye=(Ve=he[3].status)==null?void 0:Ve.device)==null?void 0:ye.mac)??"MAC")+"")&&q(I,R),(!pe||De&2)&&K!==(K=he[1].mac+"")&&q(G,K),he[1].apmac&&he[1].apmac!=he[1].mac?oe?(oe.p(he,De),De&2&&Q(oe,1)):(oe=er(he),oe.c(),Q(oe,1),oe.m(l,L)):oe&&(wt(),se(oe,1,1,()=>{oe=null}),yt()),(Te=he[0])!=null&&Te.a?we?we.p(he,De):(we=tr(he),we.c(),we.m(l,null)):we&&(we.d(1),we=null),he[1].meter?ge?ge.p(he,De):(ge=lr(he),ge.c(),ge.m(e,U)):ge&&(ge.d(1),ge=null),he[1].net?Ae?Ae.p(he,De):(Ae=nr(he),Ae.c(),Ae.m(e,X)):Ae&&(Ae.d(1),Ae=null),(!pe||De&8)&&z!==(z=(((nt=(Ge=he[3].status)==null?void 0:Ge.firmware)==null?void 0:nt.title)??"Firmware")+"")&&q($,z),(!pe||De&8)&&x!==(x=(((dt=(ot=he[3].status)==null?void 0:ot.firmware)==null?void 0:dt.installed)??"Installed")+"")&&q(ue,x),(!pe||De&2)&&fe!==(fe=he[1].version+"")&&q(ce,fe),((Xt=he[1].upgrade)==null?void 0:Xt.m)===!0?Le?Le.p(he,De):(Le=fr(he),Le.c(),Le.m(Y,Z)):Le&&(Le.d(1),Le=null),he[1].upgrade.t&&he[1].upgrade.t!=he[1].version&&he[1].upgrade.e!=0&&he[1].upgrade.e!=123?Be?Be.p(he,De):(Be=ur(he),Be.c(),Be.m(Y,ee)):Be&&(Be.d(1),Be=null),((Ut=he[1].upgrade)==null?void 0:Ut.x)!==void 0&&he[1].upgrade.x!==-1?ze?ze.p(he,De):(ze=cr(he),ze.c(),ze.m(Y,ve)):ze&&(ze.d(1),ze=null),he[1].upgrade.n?Xe?Xe.p(he,De):(Xe=mr(he),Xe.c(),Xe.m(Y,ke)):Xe&&(Xe.d(1),Xe=null),De&3&&(T=(he[1].security==0||he[0].a)&&Hn(he[1].board)),T?Ze?Ze.p(he,De):(Ze=dr(he),Ze.c(),Ze.m(Y,M)):Ze&&(Ze.d(1),Ze=null),he[1].security==0||he[0].a?qe?qe.p(he,De):(qe=hr(he),qe.c(),qe.m(Y,null)):qe&&(qe.d(1),qe=null),he[1].security==0||he[0].a?tt?tt.p(he,De):(tt=br(he),tt.c(),tt.m(e,null)):tt&&(tt.d(1),tt=null);const It={};De&64&&(It.active=he[6]),De&8&&(It.message=((sl=(Rt=he[3].status)==null?void 0:Rt.mask)==null?void 0:sl.firmware)??"Uploading"),V.$set(It);const vt={};De&256&&(vt.active=he[8]),De&8&&(vt.message=((Ye=(Dt=he[3].status)==null?void 0:Dt.mask)==null?void 0:Ye.config)??"Uploading"),ie.$set(vt)},i(he){pe||(Q(P.$$.fragment,he),Q(oe),Q(V.$$.fragment,he),Q(ie.$$.fragment,he),pe=!0)},o(he){se(P.$$.fragment,he),se(oe),se(V.$$.fragment,he),se(ie.$$.fragment,he),pe=!1},d(he){he&&(S(e),S(D),S(te)),me&&me.d(),Se(P),oe&&oe.d(),we&&we.d(),ge&&ge.d(),Ae&&Ae.d(),Le&&Le.d(),Be&&Be.d(),ze&&ze.d(),Xe&&Xe.d(),Ze&&Ze.d(),qe&&qe.d(),tt&&tt.d(),Se(V,he),Se(ie,he)}}}async function wm(){await(await fetch("reboot",{method:"POST"})).json()}function ym(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Cl.subscribe(B=>{l(3,o=B)});function f(){var B;confirm((((B=o.header)==null?void 0:B.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(au(i.upgrade.n),ul.update(K=>(K.upgrade.t=i.upgrade.n,K.upgrade.p=0,K.upgrading=!0,K)))}const r=function(){var B;confirm(((B=o.device)==null?void 0:B.reboot_confirm)??"Reboot?")&&(ul.update(K=>(K.booting=!0,K)),wm())};let c,m=[],d=!1,_,b=[],y=!1;ki();let g={hostname:"",ip:""};function k(B){l(8,y=!0);const K=new FormData;K.append("file",b[0]),fetch("configfile",{method:"POST",body:K}).then(G=>G.json()).then(G=>{ul.update(A=>(g&&g.hostname&&(A.hostname=g.hostname),A.booting=G.reboot,g&&g.ip&&(A.net.ip=g.ip),setTimeout(rn,5e3,i),A))}).catch(G=>{console.error("Error:",G),setTimeout(rn,5e3,i)})}function v(B){ui[B?"unshift":"push"](()=>{c=B,l(4,c)})}function N(){m=this.files,l(5,m)}const P=()=>{c.click()},O=()=>l(6,d=!0);function E(B){ui[B?"unshift":"push"](()=>{_=B,l(7,_)})}function R(){b=this.files,l(2,b)}const I=()=>{_.click()};return t.$$set=B=>{"data"in B&&l(0,n=B.data),"sysinfo"in B&&l(1,i=B.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&b.length==1){let B=b[0],K=new FileReader,G=A=>{let L=A.target.result.split(`
`);for(let H in L){let U=L[H];U.startsWith("hostname ")?g.hostname=U.split(" ")[1]:U.startsWith("ip ")&&(g.ip=U.split(" ")[1])}};K.onload=G,K.readAsText(B)}},[n,i,b,o,c,m,d,_,y,s,f,r,k,v,N,P,O,E,R,I]}class Mm extends At{constructor(e){super(),Et(this,e,ym,km,Nt,{data:0,sysinfo:1})}}function kr(t){let e,l,n=Fe(t[0],7)+"",i,s,o=Fe(t[0],5)+"",f,r,c=Fe(t[0],4)+"",m,d,_=Fe(t[0],3)+"",b,y,g,k,v=Fe(t[0],2)+"",N,P,O=Fe(t[0],1)+"",E,R,I=Fe(t[0],0)+"",B,K,G,A,L=Fe(t[0],101)+"",H,U,X=Fe(t[0],100)+"",Y;return{c(){e=p("optgroup"),l=p("option"),i=w(n),s=p("option"),f=w(o),r=p("option"),m=w(c),d=p("option"),b=w(_),y=h(),g=p("optgroup"),k=p("option"),N=w(v),P=p("option"),E=w(O),R=p("option"),B=w(I),K=h(),G=p("optgroup"),A=p("option"),H=w(L),U=p("option"),Y=w(X),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),d.__value=3,J(d,d.__value),u(e,"label","amsleser.no"),k.__value=2,J(k,k.__value),P.__value=1,J(P,P.__value),R.__value=0,J(R,R.__value),u(g,"label","Custom hardware"),A.__value=101,J(A,A.__value),U.__value=100,J(U,U.__value),u(G,"label","Generic hardware")},m(j,z){C(j,e,z),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,d),a(d,b),C(j,y,z),C(j,g,z),a(g,k),a(k,N),a(g,P),a(P,E),a(g,R),a(R,B),C(j,K,z),C(j,G,z),a(G,A),a(A,H),a(G,U),a(U,Y)},p(j,z){z&1&&n!==(n=Fe(j[0],7)+"")&&q(i,n),z&1&&o!==(o=Fe(j[0],5)+"")&&q(f,o),z&1&&c!==(c=Fe(j[0],4)+"")&&q(m,c),z&1&&_!==(_=Fe(j[0],3)+"")&&q(b,_),z&1&&v!==(v=Fe(j[0],2)+"")&&q(N,v),z&1&&O!==(O=Fe(j[0],1)+"")&&q(E,O),z&1&&I!==(I=Fe(j[0],0)+"")&&q(B,I),z&1&&L!==(L=Fe(j[0],101)+"")&&q(H,L),z&1&&X!==(X=Fe(j[0],100)+"")&&q(Y,X)},d(j){j&&(S(e),S(y),S(g),S(K),S(G))}}}function wr(t){let e,l,n=Fe(t[0],201)+"",i,s,o=Fe(t[0],202)+"",f,r,c=Fe(t[0],203)+"",m,d,_=Fe(t[0],241)+"",b,y,g=Fe(t[0],242)+"",k,v,N=Fe(t[0],243)+"",P,O,E=Fe(t[0],245)+"",R,I,B=Fe(t[0],200)+"",K;return{c(){e=p("optgroup"),l=p("option"),i=w(n),s=p("option"),f=w(o),r=p("option"),m=w(c),d=p("option"),b=w(_),y=p("option"),k=w(g),v=p("option"),P=w(N),O=p("option"),R=w(E),I=p("option"),K=w(B),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),d.__value=241,J(d,d.__value),y.__value=242,J(y,y.__value),v.__value=243,J(v,v.__value),O.__value=245,J(O,O.__value),I.__value=200,J(I,I.__value),u(e,"label","Generic hardware")},m(G,A){C(G,e,A),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,d),a(d,b),a(e,y),a(y,k),a(e,v),a(v,P),a(e,O),a(O,R),a(e,I),a(I,K)},p(G,A){A&1&&n!==(n=Fe(G[0],201)+"")&&q(i,n),A&1&&o!==(o=Fe(G[0],202)+"")&&q(f,o),A&1&&c!==(c=Fe(G[0],203)+"")&&q(m,c),A&1&&_!==(_=Fe(G[0],241)+"")&&q(b,_),A&1&&g!==(g=Fe(G[0],242)+"")&&q(k,g),A&1&&N!==(N=Fe(G[0],243)+"")&&q(P,N),A&1&&E!==(E=Fe(G[0],245)+"")&&q(R,E),A&1&&B!==(B=Fe(G[0],200)+"")&&q(K,B)},d(G){G&&S(e)}}}function yr(t){let e,l,n=Fe(t[0],7)+"",i,s,o=Fe(t[0],6)+"",f,r,c=Fe(t[0],5)+"",m,d,_,b,y=Fe(t[0],51)+"",g,k,v=Fe(t[0],50)+"",N;return{c(){e=p("optgroup"),l=p("option"),i=w(n),s=p("option"),f=w(o),r=p("option"),m=w(c),d=h(),_=p("optgroup"),b=p("option"),g=w(y),k=p("option"),N=w(v),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),u(e,"label","amsleser.no"),b.__value=51,J(b,b.__value),k.__value=50,J(k,k.__value),u(_,"label","Generic hardware")},m(P,O){C(P,e,O),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),C(P,d,O),C(P,_,O),a(_,b),a(b,g),a(_,k),a(k,N)},p(P,O){O&1&&n!==(n=Fe(P[0],7)+"")&&q(i,n),O&1&&o!==(o=Fe(P[0],6)+"")&&q(f,o),O&1&&c!==(c=Fe(P[0],5)+"")&&q(m,c),O&1&&y!==(y=Fe(P[0],51)+"")&&q(g,y),O&1&&v!==(v=Fe(P[0],50)+"")&&q(N,v)},d(P){P&&(S(e),S(d),S(_))}}}function Mr(t){let e,l,n=Fe(t[0],8)+"",i,s,o,f,r=Fe(t[0],71)+"",c,m,d=Fe(t[0],70)+"",_;return{c(){e=p("optgroup"),l=p("option"),i=w(n),s=h(),o=p("optgroup"),f=p("option"),c=w(r),m=p("option"),_=w(d),l.__value=8,J(l,l.__value),u(e,"label","Custom hardware"),f.__value=71,J(f,f.__value),m.__value=70,J(m,m.__value),u(o,"label","Generic hardware")},m(b,y){C(b,e,y),a(e,l),a(l,i),C(b,s,y),C(b,o,y),a(o,f),a(f,c),a(o,m),a(m,_)},p(b,y){y&1&&n!==(n=Fe(b[0],8)+"")&&q(i,n),y&1&&r!==(r=Fe(b[0],71)+"")&&q(c,r),y&1&&d!==(d=Fe(b[0],70)+"")&&q(_,d)},d(b){b&&(S(e),S(s),S(o))}}}function Sr(t){let e,l,n=Fe(t[0],200)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=w(n),l.__value=200,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Fe(s[0],200)+"")&&q(i,n)},d(s){s&&S(e)}}}function Cr(t){let e,l,n=Fe(t[0],80)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=w(n),l.__value=80,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Fe(s[0],80)+"")&&q(i,n)},d(s){s&&S(e)}}}function Sm(t){let e,l,n,i,s,o,f,r,c=t[0]=="esp8266"&&kr(t),m=t[0]=="esp32"&&wr(t),d=t[0]=="esp32s2"&&yr(t),_=t[0]=="esp32c3"&&Mr(t),b=t[0]=="esp32solo"&&Sr(t),y=t[0]=="esp32s3"&&Cr(t);return{c(){e=p("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),d&&d.c(),s=h(),_&&_.c(),o=h(),b&&b.c(),f=h(),y&&y.c(),r=el(),e.__value=-1,J(e,e.__value)},m(g,k){C(g,e,k),C(g,l,k),c&&c.m(g,k),C(g,n,k),m&&m.m(g,k),C(g,i,k),d&&d.m(g,k),C(g,s,k),_&&_.m(g,k),C(g,o,k),b&&b.m(g,k),C(g,f,k),y&&y.m(g,k),C(g,r,k)},p(g,[k]){g[0]=="esp8266"?c?c.p(g,k):(c=kr(g),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),g[0]=="esp32"?m?m.p(g,k):(m=wr(g),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),g[0]=="esp32s2"?d?d.p(g,k):(d=yr(g),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g[0]=="esp32c3"?_?_.p(g,k):(_=Mr(g),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null),g[0]=="esp32solo"?b?b.p(g,k):(b=Sr(g),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null),g[0]=="esp32s3"?y?y.p(g,k):(y=Cr(g),y.c(),y.m(r.parentNode,r)):y&&(y.d(1),y=null)},i:Ue,o:Ue,d(g){g&&(S(e),S(l),S(n),S(i),S(s),S(o),S(f),S(r)),c&&c.d(g),m&&m.d(g),d&&d.d(g),_&&_.d(g),b&&b.d(g),y&&y.d(g)}}}function Cm(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class Nm extends At{constructor(e){super(),Et(this,e,Cm,Sm,Nt,{chip:0})}}function Nr(t){let e;return{c(){e=p("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Pr(t){let e,l,n,i,s,o,f;return o=new P1({props:{chip:t[0].chip}}),{c(){e=p("div"),l=w("HAN GPIO"),n=p("br"),i=h(),s=p("select"),Ce(o.$$.fragment),u(s,"name","vh"),u(s,"class","in-s"),u(e,"class","my-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,i),a(e,s),Me(o,s,null),f=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),o.$set(m)},i(r){f||(Q(o.$$.fragment,r),f=!0)},o(r){se(o.$$.fragment,r),f=!1},d(r){r&&S(e),Se(o)}}}function Pm(t){let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R,I,B,K,G,A,L,H,U=t[0].usrcfg&&Nr();y=new Nm({props:{chip:t[0].chip}});let X=t[0].board&&t[0].board>20&&Pr(t);return G=new ml({props:{active:t[1],message:"Saving"}}),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("input"),s=h(),o=p("strong"),o.textContent="Initial configuration",f=h(),U&&U.c(),r=h(),c=p("div"),m=w("Board type"),d=p("br"),_=h(),b=p("select"),Ce(y.$$.fragment),g=h(),X&&X.c(),k=h(),v=p("div"),N=p("label"),P=p("input"),O=w(" Clear all other configuration"),E=h(),R=p("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',I=h(),B=p("span"),B.textContent=" ",K=h(),Ce(G.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(o,"class","text-sm"),u(b,"name","vb"),u(b,"class","in-s"),t[0].board===void 0&&Yt(()=>t[5].call(b)),u(c,"class","my-3"),u(P,"type","checkbox"),u(P,"name","vr"),P.__value="true",J(P,P.__value),u(P,"class","rounded mb-1"),u(v,"class","my-3"),u(R,"class","my-3"),u(B,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(Y,j){C(Y,e,j),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),U&&U.m(n,null),a(n,r),a(n,c),a(c,m),a(c,d),a(c,_),a(c,b),Me(y,b,null),st(b,t[0].board,!0),a(n,g),X&&X.m(n,null),a(n,k),a(n,v),a(v,N),a(N,P),P.checked=t[2],a(N,O),a(n,E),a(n,R),a(n,I),a(n,B),C(Y,K,j),Me(G,Y,j),A=!0,L||(H=[be(b,"change",t[5]),be(P,"change",t[6]),be(n,"submit",Mn(t[3]))],L=!0)},p(Y,[j]){Y[0].usrcfg?U||(U=Nr(),U.c(),U.m(n,r)):U&&(U.d(1),U=null);const z={};j&1&&(z.chip=Y[0].chip),y.$set(z),j&1&&st(b,Y[0].board),Y[0].board&&Y[0].board>20?X?(X.p(Y,j),j&1&&Q(X,1)):(X=Pr(Y),X.c(),Q(X,1),X.m(n,k)):X&&(wt(),se(X,1,1,()=>{X=null}),yt()),j&4&&(P.checked=Y[2]);const $={};j&2&&($.active=Y[1]),G.$set($)},i(Y){A||(Q(y.$$.fragment,Y),Q(X),Q(G.$$.fragment,Y),A=!0)},o(Y){se(y.$$.fragment,Y),se(X),se(G.$$.fragment,Y),A=!1},d(Y){Y&&(S(e),S(K)),U&&U.d(),Se(y),X&&X.d(),Se(G,Y),L=!1,Ft(H)}}}function Tm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function o(m){l(1,s=!0);const d=new FormData(m.target),_=new URLSearchParams;for(let g of d){const[k,v]=g;_.append(k,v)}let y=await(await fetch("save",{method:"POST",body:_})).json();l(1,s=!1),ul.update(g=>(g.vndcfg=y.success,g.booting=y.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),yn(n+(i.usrcfg?"":"setup"))}let f=!0;ul.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,f=!i.usrcfg)});function r(){i.board=nl(this),l(0,i)}function c(){f=this.checked,l(2,f)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,f,o,n,r,c]}class Em extends At{constructor(e){super(),Et(this,e,Tm,Pm,Nt,{basepath:4,sysinfo:0})}}const Am="/wifi-low.svg",qm="/wifi-medium.svg",Lm="/wifi-high.svg",Im="/wifi-off.svg",Om={aidon:[/^7359\d+$/,/^6442\d+$/,/^6490\d+$/,/^6492\d+$/],kaifa:[/^MA105\w*$/,/^MA304\w*$/,/^MA309\w*$/],kamstrup:[/^OMNIA\w*$/,/^6841\d+$/,/^MULTICAL\w*$/]},Dm={high_baud_inverted:{baud:115200,parity:"8N1",invert:!0,likelyPresets:["aidon-rj12"]},standard_han_2400:{baud:2400,parity:"8E1",invert:!1,likelyPresets:["aidon-rj45-han","kaifa-rj45"]},kamstrup_signature:{baud:9600,parity:"8N2",invert:!1,likelyPresets:["kamstrup-han"]}};function Rm(t,e){const l={confidence:0,suggestedPresets:[],detectedManufacturer:null,detectedModel:null,reasoning:[]},n=(t==null?void 0:t.meterId)||"",i=(t==null?void 0:t.meterModel)||"";for(const[s,o]of Object.entries(Om))for(const f of o)if(f.test(n)){l.detectedManufacturer=s,l.confidence+=30,l.reasoning.push(`Meter ID "${n}" matches ${s} pattern`);const r=us.filter(c=>c.manufacturer.toLowerCase().includes(s));l.suggestedPresets.push(...r.map(c=>c.id));break}if(e){`${e.baud}${e.parity}${e.invert}`;for(const[s,o]of Object.entries(Dm))if(e.baud===o.baud&&e.parity===o.parity&&e.invert===o.invert){l.confidence+=25,l.reasoning.push(`Communication pattern matches ${s}`),l.suggestedPresets.push(...o.likelyPresets);break}}if(i){l.detectedModel=i,l.confidence+=15,l.reasoning.push(`Detected meter model: ${i}`);const s=i.toLowerCase();s.includes("aidon")?l.suggestedPresets.push("aidon-rj45-han"):s.includes("kaifa")||s.includes("ma105")||s.includes("ma304")?l.suggestedPresets.push("kaifa-rj45"):(s.includes("kamstrup")||s.includes("omnia"))&&l.suggestedPresets.push("kamstrup-han")}return l.suggestedPresets=[...new Set(l.suggestedPresets)],l.confidence<50&&e&&e.baud===2400&&e.parity==="8E1"&&(l.suggestedPresets.push("kaifa-rj45","aidon-rj45-han"),l.reasoning.push("Added common HAN-port presets as fallback")),l}function Tr(t,e,l){const n=t.slice();return n[30]=e[l],n}function Er(t,e,l){const n=t.slice();return n[33]=e[l],n}function Ar(t,e,l){const n=t.slice();return n[36]=e[l],n[38]=l,n}function qr(t){var f,r;let e,l,n,i,s=(((r=(f=t[1].conf)==null?void 0:f.connection)==null?void 0:r.searching)??"Søker etter nettverk...")+"",o;return{c(){e=p("div"),l=p("div"),n=h(),i=p("span"),o=w(s),u(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-neas-green mr-3"),u(i,"class","text-sm font-medium"),u(e,"class","flex items-center justify-center py-8 text-black dark:text-black")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(i,o)},p(c,m){var d,_;m[0]&2&&s!==(s=(((_=(d=c[1].conf)==null?void 0:d.connection)==null?void 0:_.searching)??"Søker etter nettverk...")+"")&&q(o,s)},d(c){c&&S(e)}}}function Fm(t){var r,c;let e,l,n,i,s,o=(((c=(r=t[1].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"Ingen nettverk funnet")+"",f;return{c(){e=p("div"),l=Mt("svg"),n=Mt("path"),i=h(),s=p("p"),f=w(o),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"stroke-width","2"),u(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),u(l,"class","mb-3 opacity-100"),u(l,"fill","none"),u(l,"stroke","currentColor"),u(l,"viewBox","0 0 24 24"),u(s,"class","text-sm font-medium"),u(e,"class","text-center py-8 text-neas-green dark:text-neas-green")},m(m,d){C(m,e,d),a(e,l),a(l,n),a(e,i),a(e,s),a(s,f)},p(m,d){var _,b;d[0]&2&&o!==(o=(((b=(_=m[1].conf)==null?void 0:_.connection)==null?void 0:b.no_networks)??"Ingen nettverk funnet")+"")&&q(f,o)},d(m){m&&S(e)}}}function Um(t){let e,l=[],n=new Map,i=He(t[0].n);const s=o=>o[36].s??o[38];for(let o=0;o<i.length;o+=1){let f=Ar(t,i,o),r=s(f);n.set(r,l[o]=Lr(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","space-y-3 max-h overflow-y-auto")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&451&&(i=He(o[0].n),l=gf(l,f,s,1,o,i,n,e,vf,Lr,null,Ar))},d(o){o&&S(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Lr(t,e){var E,R;let l,n,i,s,o=!1,f,r,c=(e[36].s||(((R=(E=e[1].conf)==null?void 0:E.connection)==null?void 0:R.hidden_ssid)??"Skjult nettverk"))+"",m,d,_,b,y,g,k,v,N,P,O;return N=pf(e[15][0]),{key:t,first:null,c(){var I,B,K,G,A;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),m=w(c),d=h(),_=p("div"),b=p("img"),v=h(),u(i,"type","radio"),u(i,"class","sr-only"),u(i,"name","ss"),i.__value=s=e[36].s,J(i,i.__value),i.required=du==1,u(r,"class","min-w-0 flex-1 text-neas-green dark:text-neas-green font-medium truncate"),u(n,"class","flex items-center gap-3 flex-1 min-w-0"),u(b,"class","h-10 w-10"),fn(b.src,y=((I=e[6][e[38]])==null?void 0:I.icon)??e[8].off)||u(b,"src",y),u(b,"alt",g=((B=e[6][e[38]])==null?void 0:B.title)??"Wi-Fi frakoblet"),u(b,"title",k=((K=e[6][e[38]])==null?void 0:K.rssi)!=null?`${((G=e[6][e[38]])==null?void 0:G.title)??"Wi-Fi frakoblet"} (${e[6][e[38]].rssi} dBm)`:((A=e[6][e[38]])==null?void 0:A.title)??"Wi-Fi frakoblet"),u(_,"class","flex items-center gap-3 flex-shrink-0"),u(l,"class","group flex items-center justify-between gap-4 rounded-2xl border-2 border-transparent bg-neas-gray px-5 py-4 shadow-sm transition hover:border-neas-lightgreen-70 hover:bg-white dark:bg-neas-gray dark:hover:bg-neas-lightgreen-70 cursor-pointer"),$l(l,"border-neas-green",e[7]===e[36].s),$l(l,"border-transparent",e[7]!==e[36].s),$l(l,"bg-white",e[7]===e[36].s),$l(l,"shadow-lg",e[7]===e[36].s),N.p(i),this.first=l},m(I,B){C(I,l,B),a(l,n),a(n,i),i.checked=i.__value===e[7],a(n,f),a(n,r),a(r,m),a(l,d),a(l,_),a(_,b),a(l,v),P||(O=be(i,"change",e[14]),P=!0)},p(I,B){var K,G,A,L,H,U,X;e=I,B[0]&1&&s!==(s=e[36].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||B[0]&129)&&(i.checked=i.__value===e[7]),B[0]&3&&c!==(c=(e[36].s||(((G=(K=e[1].conf)==null?void 0:K.connection)==null?void 0:G.hidden_ssid)??"Skjult nettverk"))+"")&&q(m,c),B[0]&65&&!fn(b.src,y=((A=e[6][e[38]])==null?void 0:A.icon)??e[8].off)&&u(b,"src",y),B[0]&65&&g!==(g=((L=e[6][e[38]])==null?void 0:L.title)??"Wi-Fi frakoblet")&&u(b,"alt",g),B[0]&65&&k!==(k=((H=e[6][e[38]])==null?void 0:H.rssi)!=null?`${((U=e[6][e[38]])==null?void 0:U.title)??"Wi-Fi frakoblet"} (${e[6][e[38]].rssi} dBm)`:((X=e[6][e[38]])==null?void 0:X.title)??"Wi-Fi frakoblet")&&u(b,"title",k),B[0]&129&&$l(l,"border-neas-green",e[7]===e[36].s),B[0]&129&&$l(l,"border-transparent",e[7]!==e[36].s),B[0]&129&&$l(l,"bg-white",e[7]===e[36].s),B[0]&129&&$l(l,"shadow-lg",e[7]===e[36].s)},d(I){I&&S(l),N.r(),P=!1,O()}}}function Ir(t){let e,l,n,i,s,o,f,r,c,m=(t[2].detectedManufacturer||"ukjent")+"",d,_,b,y=t[2].confidence+"",g,k,v,N,P,O,E,R,I,B,K=t[2].detectedModel&&Or(t),G=t[2].reasoning.length>0&&Dr(t);return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=h(),s=p("div"),o=p("h3"),o.textContent="Måler oppdaget automatisk!",f=h(),r=p("p"),c=w("Vi har oppdaget en "),d=w(m),_=w(` måler
                                `),K&&K.c(),b=w(`
                                med `),g=w(y),k=w(`%
                                sikkerhet.`),v=h(),G&&G.c(),N=h(),P=p("div"),O=p("button"),O.textContent="Bruk anbefalte innstillinger",E=h(),R=p("button"),R.textContent="Avvis",u(n,"class","flex-shrink-0"),u(o,"class","text-sm font-medium text-green-800 mb-2"),u(r,"class","text-sm text-green-700 mb-3"),u(O,"type","button"),u(O,"class","bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(R,"type","button"),u(R,"class","bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(P,"class","flex gap-2"),u(s,"class","flex-1"),u(l,"class","flex items-start gap-3"),u(e,"class","mb-6 rounded-2xl bg-green-50 border border-green-200 p-5 shadow-sm")},m(A,L){C(A,e,L),a(e,l),a(l,n),a(l,i),a(l,s),a(s,o),a(s,f),a(s,r),a(r,c),a(r,d),a(r,_),K&&K.m(r,null),a(r,b),a(r,g),a(r,k),a(s,v),G&&G.m(s,null),a(s,N),a(s,P),a(P,O),a(P,E),a(P,R),I||(B=[be(O,"click",t[9]),be(R,"click",t[10])],I=!0)},p(A,L){L[0]&4&&m!==(m=(A[2].detectedManufacturer||"ukjent")+"")&&q(d,m),A[2].detectedModel?K?K.p(A,L):(K=Or(A),K.c(),K.m(r,b)):K&&(K.d(1),K=null),L[0]&4&&y!==(y=A[2].confidence+"")&&q(g,y),A[2].reasoning.length>0?G?G.p(A,L):(G=Dr(A),G.c(),G.m(s,N)):G&&(G.d(1),G=null)},d(A){A&&S(e),K&&K.d(),G&&G.d(),I=!1,Ft(B)}}}function Or(t){let e,l=t[2].detectedModel+"",n,i;return{c(){e=w("(modell: "),n=w(l),i=w(")")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o[0]&4&&l!==(l=s[2].detectedModel+"")&&q(n,l)},d(s){s&&(S(e),S(n),S(i))}}}function Dr(t){let e,l,n,i,s=He(t[2].reasoning),o=[];for(let f=0;f<s.length;f+=1)o[f]=Rr(Er(t,s,f));return{c(){e=p("details"),l=p("summary"),l.textContent="Vis detaljer",n=h(),i=p("ul");for(let f=0;f<o.length;f+=1)o[f].c();u(l,"class","cursor-pointer hover:text-green-800"),u(i,"class","mt-2 space-y-1 pl-4"),u(e,"class","text-xs text-green-600 mb-3")},m(f,r){C(f,e,r),a(e,l),a(e,n),a(e,i);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null)},p(f,r){if(r[0]&4){s=He(f[2].reasoning);let c;for(c=0;c<s.length;c+=1){const m=Er(f,s,c);o[c]?o[c].p(m,r):(o[c]=Rr(m),o[c].c(),o[c].m(i,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(f){f&&S(e),Gt(o,f)}}}function Rr(t){let e,l,n=t[33]+"",i;return{c(){e=p("li"),l=w("• "),i=w(n)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p(s,o){o[0]&4&&n!==(n=s[33]+"")&&q(i,n)},d(s){s&&S(e)}}}function Fr(t){var N,P,O,E;let e,l,n,i,s,o,f,r=(((P=(N=t[1].setup)==null?void 0:N.reconnect)==null?void 0:P.title)??"Oppsett fullført!")+"",c,m,d,_=(((E=(O=t[1].setup)==null?void 0:O.reconnect)==null?void 0:E.info)??"Enheten starter på nytt og prøver å koble til på følgende adresser:")+"",b,y,g,k=He(t[5]),v=[];for(let R=0;R<k.length;R+=1)v[R]=Ur(Tr(t,k,R));return{c(){e=p("div"),l=p("div"),n=Mt("svg"),i=Mt("path"),s=h(),o=p("div"),f=p("h4"),c=w(r),m=h(),d=p("p"),b=w(_),y=h(),g=p("div");for(let R=0;R<v.length;R+=1)v[R].c();u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(i,"stroke-width","2"),u(i,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),u(n,"class","w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-3 flex-shrink-0"),u(n,"fill","none"),u(n,"stroke","currentColor"),u(n,"viewBox","0 0 24 24"),u(f,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),u(d,"class","text-sm text-green-700 dark:text-green-300 mb-3"),u(g,"class","space-y-1"),u(l,"class","flex items-start"),u(e,"class","mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg")},m(R,I){C(R,e,I),a(e,l),a(l,n),a(n,i),a(l,s),a(l,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,b),a(o,y),a(o,g);for(let B=0;B<v.length;B+=1)v[B]&&v[B].m(g,null)},p(R,I){var B,K,G,A;if(I[0]&2&&r!==(r=(((K=(B=R[1].setup)==null?void 0:B.reconnect)==null?void 0:K.title)??"Oppsett fullført!")+"")&&q(c,r),I[0]&2&&_!==(_=(((A=(G=R[1].setup)==null?void 0:G.reconnect)==null?void 0:A.info)??"Enheten starter på nytt og prøver å koble til på følgende adresser:")+"")&&q(b,_),I[0]&32){k=He(R[5]);let L;for(L=0;L<k.length;L+=1){const H=Tr(R,k,L);v[L]?v[L].p(H,I):(v[L]=Ur(H),v[L].c(),v[L].m(g,null))}for(;L<v.length;L+=1)v[L].d(1);v.length=k.length}},d(R){R&&S(e),Gt(v,R)}}}function Ur(t){let e,l,n=(t[30].startsWith("http://")||t[30].startsWith("https://")?t[30]:`http://${t[30]}`)+"",i,s;return{c(){e=p("div"),l=p("code"),i=w(n),s=h(),u(l,"class","text-xs bg-green-100 dark:bg-green-800/50 text-green-800 dark:text-green-200 px-2 py-1 rounded font-mono"),u(e,"class","flex items-center")},m(o,f){C(o,e,f),a(e,l),a(l,i),a(e,s)},p(o,f){f[0]&32&&n!==(n=(o[30].startsWith("http://")||o[30].startsWith("https://")?o[30]:`http://${o[30]}`)+"")&&q(i,n)},d(o){o&&S(e)}}}function Bm(t){var Ae,Le,Be,ze,Xe,Ze,qe,tt;let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R=(((Ae=t[1].setup)==null?void 0:Ae.title)??"WiFi-oppsett")+"",I,B,K,G=(((Le=t[1].setup)==null?void 0:Le.subtitle)??"Koble enheten til internett")+"",A,L,H,U,X,Y=(((ze=(Be=t[1].conf)==null?void 0:Be.connection)==null?void 0:ze.ssid)??"Velg nettverk")+"",j,z,$,ne,W,x,ue=(((Ze=(Xe=t[1].conf)==null?void 0:Xe.connection)==null?void 0:Ze.psk)??"WiFi-passord")+"",re,fe,ce,le,Z,ee,ve,ke,T,M,F,D,V,te,ie=((qe=t[0])==null?void 0:qe.c)==-1&&qr(t);function pe(ae,Ne){var lt,bt,mt;if((bt=(lt=ae[0])==null?void 0:lt.n)!=null&&bt.length)return Um;if(((mt=ae[0])==null?void 0:mt.c)!=-1)return Fm}let me=pe(t),oe=me&&me(t),we=t[3]&&t[2]&&Ir(t),ge=t[5].length&&Fr(t);return F=new ml({props:{active:t[4],message:((tt=t[1].setup)==null?void 0:tt.mask)??"Kobler til..."}}),{c(){var ae,Ne;e=p("div"),l=p("div"),l.innerHTML=`<svg class="w-20 h-20 text-blue-600 dark:text-blue-400" viewBox="0 0 100 100" fill="currentColor"><img alt="Neas logo" src="${lu}" class="w-36 h-auto"/></svg>`,n=h(),i=p("div"),s=p("form"),o=p("input"),f=h(),r=p("input"),c=h(),m=p("input"),d=h(),_=p("input"),b=h(),y=p("input"),g=h(),k=p("input"),v=h(),N=p("input"),P=h(),O=p("div"),E=p("h1"),I=w(R),B=h(),K=p("p"),A=w(G),L=h(),H=p("div"),U=p("div"),X=p("span"),j=w(Y),z=h(),ie&&ie.c(),$=h(),oe&&oe.c(),ne=h(),W=p("div"),x=p("label"),re=w(ue),fe=h(),ce=p("input"),Z=h(),we&&we.c(),ee=h(),ve=p("div"),ke=p("button"),ke.textContent="Koble til og fortsett",T=h(),ge&&ge.c(),M=h(),Ce(F.$$.fragment),u(l,"class","mb-8"),u(o,"type","hidden"),u(o,"name","s"),o.value="true",u(r,"type","hidden"),u(r,"name","fw"),r.value="true",u(m,"type","hidden"),u(m,"name","sf"),m.value="1",u(_,"type","hidden"),u(_,"name","ulang"),_.value="no",u(y,"type","hidden"),u(y,"name","fwa"),y.value="true",u(k,"type","hidden"),u(k,"name","fws"),k.value="2",u(N,"type","hidden"),u(N,"name","fwe"),N.value="2",u(E,"class","text-2xl font-semibold text-neas-green mb-2"),u(K,"class","text-sm text-black"),u(O,"class","text-center mb-8"),u(X,"class","block text-sm font-medium text-neas-green dark:text-neas-green"),u(U,"class","flex items-center justify-between mb-3"),u(H,"class","mb-6"),u(x,"for","wifi-password"),u(x,"class","block text-sm font-medium text-neas-green dark:text-neas-green mb-2"),u(ce,"id","wifi-password"),u(ce,"name","sp"),u(ce,"type","password"),u(ce,"pattern",_i),u(ce,"class","w-full px-4 py-3 rounded-xl bg-neas-gray dark:bg-neas-gray text-neas-green dark:text-neas-green border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-neas-green focus:border-neas-green transition-colors shadow-sm"),u(ce,"placeholder",le=((Ne=(ae=t[1].conf)==null?void 0:ae.connection)==null?void 0:Ne.password_placeholder)??"Skriv inn WiFi-passord"),u(ce,"autocomplete","off"),ce.required=du==2,u(W,"class","mb-6"),u(ke,"type","submit"),u(ke,"class","w-full bg-neas-green hover:bg-neas-green-90 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(ve,"class","text-center"),u(i,"class","bg-white dark:white border border-neas-lightgreen-30 shadow-xl shadow-black/10 rounded-3xl max-w-md w-full p-8"),u(e,"class","min-h-screen bg-neas-green flex flex-col items-center p-4")},m(ae,Ne){C(ae,e,Ne),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,f),a(s,r),a(s,c),a(s,m),a(s,d),a(s,_),a(s,b),a(s,y),a(s,g),a(s,k),a(s,v),a(s,N),a(s,P),a(s,O),a(O,E),a(E,I),a(O,B),a(O,K),a(K,A),a(s,L),a(s,H),a(H,U),a(U,X),a(X,j),a(H,z),ie&&ie.m(H,null),a(H,$),oe&&oe.m(H,null),a(s,ne),a(s,W),a(W,x),a(x,re),a(W,fe),a(W,ce),a(s,Z),we&&we.m(s,null),a(s,ee),a(s,ve),a(ve,ke),a(s,T),ge&&ge.m(s,null),C(ae,M,Ne),Me(F,ae,Ne),D=!0,V||(te=be(s,"submit",Mn(t[11])),V=!0)},p(ae,Ne){var bt,mt,$e,rt,Ht,_t,qt,Pt,Lt,et;(!D||Ne[0]&2)&&R!==(R=(((bt=ae[1].setup)==null?void 0:bt.title)??"WiFi-oppsett")+"")&&q(I,R),(!D||Ne[0]&2)&&G!==(G=(((mt=ae[1].setup)==null?void 0:mt.subtitle)??"Koble enheten til internett")+"")&&q(A,G),(!D||Ne[0]&2)&&Y!==(Y=(((rt=($e=ae[1].conf)==null?void 0:$e.connection)==null?void 0:rt.ssid)??"Velg nettverk")+"")&&q(j,Y),((Ht=ae[0])==null?void 0:Ht.c)==-1?ie?ie.p(ae,Ne):(ie=qr(ae),ie.c(),ie.m(H,$)):ie&&(ie.d(1),ie=null),me===(me=pe(ae))&&oe?oe.p(ae,Ne):(oe&&oe.d(1),oe=me&&me(ae),oe&&(oe.c(),oe.m(H,null))),(!D||Ne[0]&2)&&ue!==(ue=(((qt=(_t=ae[1].conf)==null?void 0:_t.connection)==null?void 0:qt.psk)??"WiFi-passord")+"")&&q(re,ue),(!D||Ne[0]&2&&le!==(le=((Lt=(Pt=ae[1].conf)==null?void 0:Pt.connection)==null?void 0:Lt.password_placeholder)??"Skriv inn WiFi-passord"))&&u(ce,"placeholder",le),ae[3]&&ae[2]?we?we.p(ae,Ne):(we=Ir(ae),we.c(),we.m(s,ee)):we&&(we.d(1),we=null),ae[5].length?ge?ge.p(ae,Ne):(ge=Fr(ae),ge.c(),ge.m(s,null)):ge&&(ge.d(1),ge=null);const lt={};Ne[0]&16&&(lt.active=ae[4]),Ne[0]&2&&(lt.message=((et=ae[1].setup)==null?void 0:et.mask)??"Kobler til..."),F.$set(lt)},i(ae){D||(Q(F.$$.fragment,ae),D=!0)},o(ae){se(F.$$.fragment,ae),D=!1},d(ae){ae&&(S(e),S(M)),ie&&ie.d(),oe&&oe.d(),we&&we.d(),ge&&ge.d(),Se(F,ae),V=!1,te()}}}let du=1;function jm(t){return{2:"7N1",3:"8N1",7:"8N2",10:"7E1",11:"8E1"}[t]||"8E1"}function Wm(t,e,l){const n={high:Lm,medium:qm,low:Am,off:Im};n.off;let i={};Cl.subscribe(L=>{l(1,i=L)});let s,o,f=!1,r=null,c=!1;const m=vn.subscribe(L=>{s=L,L!=null&&L.m&&!f&&(o=dn(L.m),f=!0)});bi(()=>{cu(),setTimeout(()=>{b()},3e3)}),vi(()=>{typeof m=="function"&&m()});function d(){!f&&(s!=null&&s.m)&&(o=dn(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=dn(s.m))}function _(L){d();const H=_u(L);H?o=pu(o,H):s!=null&&s.m&&(o=dn(s.m))}function b(){if(!P)return;const L={meterId:P.id||"",meterModel:P.model||""},H=s!=null&&s.m?{baud:s.m.b||0,parity:jm(s.m.p||0),invert:s.m.i||!1}:null;l(2,r=Rm(L,H)),r.confidence>50&&r.suggestedPresets.length>0&&l(3,c=!0)}function y(){if(r&&r.suggestedPresets.length>0){const L=r.suggestedPresets[0];_(L),l(3,c=!1)}}function g(){l(3,c=!1)}function k(){var U,X,Y,j,z,$,ne,W,x,ue,re;d();const L=o??dn(s==null?void 0:s.m);if(!L)return null;const H=(s==null?void 0:s.m)??{};return{source:L.source??H.o??1,parser:L.parser??H.a??0,baud:L.baud??H.b??0,parity:L.parity??H.p??3,invert:L.invert??H.i??!1,distributionSystem:L.distributionSystem??H.d??2,mainFuse:L.mainFuse??H.f??0,production:L.production??H.r??0,buffer:L.buffer??H.s??256,encrypted:L.encrypted??((U=H==null?void 0:H.e)==null?void 0:U.e)??!1,encryptionKey:L.encryptionKey??((X=H==null?void 0:H.e)==null?void 0:X.k)??"",authenticationKey:L.authenticationKey??((Y=H==null?void 0:H.e)==null?void 0:Y.a)??"",multipliers:{watt:((j=L.multipliers)==null?void 0:j.watt)??((z=H==null?void 0:H.m)==null?void 0:z.w)??1,volt:(($=L.multipliers)==null?void 0:$.volt)??((ne=H==null?void 0:H.m)==null?void 0:ne.v)??1,amp:((W=L.multipliers)==null?void 0:W.amp)??((x=H==null?void 0:H.m)==null?void 0:x.a)??1,kwh:((ue=L.multipliers)==null?void 0:ue.kwh)??((re=H==null?void 0:H.m)==null?void 0:re.c)??1}}}let v={};tu.subscribe(L=>{l(0,v=L)});let{sysinfo:N={}}=e,{data:P={}}=e,O=!1,E=[],R=[],I="";function B(L){ul.update(H=>(H.trying=L,H))}async function K(L){var ee,ve,ke,T;l(4,O=!0);const H=new FormData(L.target),U=new URLSearchParams;for(let M of H){const[F,D]=M;U.append(F,typeof D=="string"?D:String(D))}const X=k();X&&(U.set("m","true"),U.set("mo",String(X.source??1)),U.set("ma",String(X.parser??0)),U.set("mb",String(X.baud??0)),U.set("mp",String(X.parity??3)),U.set("mi",X.invert?"true":"false"),U.set("md",String(X.distributionSystem??2)),U.set("mf",String(X.mainFuse??0)),U.set("mr",String(X.production??0)),U.set("ms",String(X.buffer??256)),X.encrypted&&(U.set("me","true"),U.set("mek",X.encryptionKey??""),U.set("mea",X.authenticationKey??"")),U.set("mmw",String(((ee=X.multipliers)==null?void 0:ee.watt)??1)),U.set("mmv",String(((ve=X.multipliers)==null?void 0:ve.volt)??1)),U.set("mma",String(((ke=X.multipliers)==null?void 0:ke.amp)??1)),U.set("mmc",String(((T=X.multipliers)==null?void 0:T.kwh)??1))),U.set("fwa","true"),U.set("fws",U.get("fws")??"2"),U.set("fwe",U.get("fwe")??U.get("fws")??"2"),U.set("sf","1"),U.set("ulang","no");let j=await(await fetch("save",{method:"POST",body:U})).json();l(4,O=!1);const z=String(H.get("sh")??"").trim(),ne=(typeof j.message=="string"?j.message:"").split("|").map(M=>M.trim()),W=ne[0]??"",x=ne[1]??"",ue=ne[2]??"",re=W||z||N.hostname||(N!=null&&N.chipId?`ams-${N.chipId}`:"ams-reader"),fe=x||(re&&re.indexOf(".")===-1&&re.indexOf(":")===-1?`${re}.local`:re),ce=ue,le=Array.from(new Set([ce,re,fe].filter(M=>M&&M.length>0)));l(5,E=j.reboot?[...le]:[]),ul.update(M=>{M.net||(M.net={});const F=re||M.hostname||z;return M.hostname=F,(!M.upgrade||typeof M.upgrade!="object")&&(M.upgrade={x:-1,e:0,f:null,t:null,m:!1}),M.upgrade.auto=!0,M.fwconsent=1,(!M.ui||typeof M.ui!="object")&&(M.ui={}),M.ui.lang="no",ue&&(M.net.ip=ue),M.targets=[...le],M.usrcfg=j.success,M.booting=j.reboot,M});const Z=xl(ul);l(12,N=Z),j.reboot&&setTimeout(()=>rn(Z,B),5e3)}const G=[[]];function A(){I=this.__value,l(7,I)}return t.$$set=L=>{"sysinfo"in L&&l(12,N=L.sysinfo),"data"in L&&l(13,P=L.data)},t.$$.update=()=>{if(t.$$.dirty[0]&8192){const{level:L,label:H}=Gn(P==null?void 0:P.r);n[L]??n.off}t.$$.dirty[0]&1&&l(6,R=Array.isArray(v==null?void 0:v.n)?v.n.map(L=>{const{level:H,label:U}=Gn(L==null?void 0:L.r);return{icon:n[H]??n.off,title:U,rssi:typeof(L==null?void 0:L.r)>"u"?null:L.r}}):[])},[v,i,r,c,O,E,R,I,n,y,g,K,N,P,A,G]}class Hm extends At{constructor(e){super(),Et(this,e,Wm,Bm,Nt,{sysinfo:12,data:13},null,[-1,-1])}}function zm(t){let e;return{c(){e=w("Kopier til utklippstavlen")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Km(t){let e;return{c(){e=w("Kopier mislyktes")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Vm(t){let e;return{c(){e=w("Kopiert!")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Gm(t){let e;return{c(){e=w("Kopierer…")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Ym(t){let e;return{c(){e=w("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Xm(t){let e;return{c(){e=w("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Jm(t){let e;return{c(){e=w("Lim adressen inn i nettleserens adresselinje.")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Br(t){let e;return{c(){e=p("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function jr(t){let e;return{c(){e=p("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Qm(t){let e;return{c(){e=p("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker."},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Zm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function $m(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function xm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function Wr(t){let e;return{c(){e=p("div"),e.innerHTML='<p class="font-medium">Tips når du lukker vinduet</p> <p class="mt-2">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',u(e,"class","rounded-md border border-amber-300 bg-amber-50 p-4 text-sm text-amber-900 dark:border-amber-900/60 dark:bg-amber-900/20 dark:text-amber-100")},m(l,n){C(l,e,n)},d(l){l&&S(e)}}}function e_(t){let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R,I,B,K,G,A,L,H,U,X,Y,j,z,$,ne,W,x,ue,re;function fe(te,ie){return te[5]==="pending"?Gm:te[5]==="success"?Vm:te[5]==="error"?Km:zm}let ce=fe(t),le=ce(t);function Z(te,ie){return te[5]==="success"?Jm:te[5]==="error"?Xm:Ym}let ee=Z(t),ve=ee(t),ke=t[7]&&!t[8]&&Br(),T=t[8]&&jr();function M(te,ie){return te[2]?xm:te[3]?$m:te[4]?Zm:Qm}let F=M(t),D=F(t),V=t[1]&&t[6]&&Wr();return{c(){e=p("section"),l=p("div"),n=p("h1"),n.textContent="Gå til oppsettet i nettleseren din",i=h(),s=p("p"),s.textContent="Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.",o=h(),f=p("div"),r=p("div"),c=p("p"),c.textContent="1. Kopier adressen",m=h(),d=p("p"),_=w("Adressen er "),b=p("code"),y=w(t[0]),g=w(" og virker mens du er tilkoblet "),k=p("strong"),k.textContent="NEAS-WATTUP",v=w("."),N=h(),P=p("div"),O=p("button"),le.c(),E=h(),R=p("span"),ve.c(),I=h(),ke&&ke.c(),B=h(),T&&T.c(),K=h(),G=p("div"),A=p("p"),A.textContent="2. Åpne den i nettleseren",L=h(),H=p("div"),D.c(),U=h(),V&&V.c(),X=h(),Y=p("div"),j=p("p"),j.textContent="3. Start selve oppsettet",z=h(),$=p("a"),ne=w("Åpne oppsettet i nettleseren"),W=h(),x=p("p"),x.textContent="Lenken åpnes i standardnettleseren din. Du kan også lime inn adressen manuelt hvis du foretrekker det.",u(n,"class","text-2xl font-semibold text-slate-800 dark:text-slate-100"),u(s,"class","mt-3 text-slate-600 dark:text-slate-300"),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(b,"class","rounded bg-white px-2 py-1 font-mono text-sm text-slate-900 dark:bg-slate-800 dark:text-slate-100"),u(d,"class","mt-2"),u(O,"class","rounded border border-slate-300 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-slate-400 hover:text-slate-900 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:border-slate-500"),u(R,"class","text-xs text-slate-500 dark:text-slate-400"),u(P,"class","mt-3 flex flex-wrap items-center gap-2"),u(r,"class","rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(A,"class","font-medium"),u(H,"class","mt-2 space-y-2"),u(G,"class","rounded-md border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 dark:border-blue-900/60 dark:bg-blue-900/30 dark:text-blue-100"),u(j,"class","font-medium text-slate-800 dark:text-slate-100"),u($,"class","btn-pri inline-block"),u($,"href",t[0]),u($,"target","_blank"),u($,"rel","noreferrer"),u(x,"class","text-xs text-slate-500 dark:text-slate-400"),u(Y,"class","flex flex-col items-start gap-2 rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(f,"class","mt-5 space-y-5"),u(l,"class","rounded-lg border border-slate-200 bg-white/90 p-6 shadow-md backdrop-blur dark:border-slate-700 dark:bg-slate-800/80"),u(e,"class","mt-6")},m(te,ie){C(te,e,ie),a(e,l),a(l,n),a(l,i),a(l,s),a(l,o),a(l,f),a(f,r),a(r,c),a(r,m),a(r,d),a(d,_),a(d,b),a(b,y),a(d,g),a(d,k),a(d,v),a(r,N),a(r,P),a(P,O),le.m(O,null),a(P,E),a(P,R),ve.m(R,null),a(P,I),ke&&ke.m(P,null),a(P,B),T&&T.m(P,null),a(f,K),a(f,G),a(G,A),a(G,L),a(G,H),D.m(H,null),a(f,U),V&&V.m(f,null),a(f,X),a(f,Y),a(Y,j),a(Y,z),a(Y,$),a($,ne),a(Y,W),a(Y,x),ue||(re=be(O,"click",t[9]),ue=!0)},p(te,[ie]){ie&1&&q(y,te[0]),ce!==(ce=fe(te))&&(le.d(1),le=ce(te),le&&(le.c(),le.m(O,null))),ee!==(ee=Z(te))&&(ve.d(1),ve=ee(te),ve&&(ve.c(),ve.m(R,null))),te[7]&&!te[8]?ke||(ke=Br(),ke.c(),ke.m(P,B)):ke&&(ke.d(1),ke=null),te[8]?T||(T=jr(),T.c(),T.m(P,null)):T&&(T.d(1),T=null),F!==(F=M(te))&&(D.d(1),D=F(te),D&&(D.c(),D.m(H,null))),te[1]&&te[6]?V||(V=Wr(),V.c(),V.m(f,X)):V&&(V.d(1),V=null),ie&1&&u($,"href",te[0])},i:Ue,o:Ue,d(te){te&&S(e),le.d(),ve.d(),ke&&ke.d(),T&&T.d(),D.d(),V&&V.d(),ue=!1,re()}}}function t_(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,f=!1,r=!1,c="idle",m=!1,d=!1,_=!1;bi(()=>{l(0,i=b()),y()}),vi(()=>{});function b(){const v="http://192.168.4.1/setup";try{const N=new URL(n||"/",window.location.href);return new URL("./setup",N).href}catch{return v}}function y(){if(typeof navigator>"u")return!1;const v=navigator.userAgent||"",N=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(v)&&!window.MSStream),l(3,f=/Macintosh|Mac OS X/.test(v)),l(4,r=/Android/.test(v)),l(1,s=N.some(P=>P.test(v))),l(2,o=s&&o),l(3,f=s&&f&&!o),l(4,r=s&&r),s}async function g(v){var P,O;(P=v==null?void 0:v.preventDefault)==null||P.call(v),l(5,c="pending");const N=()=>{try{const E=document.createElement("textarea");E.value=i,E.setAttribute("readonly",""),E.style.position="absolute",E.style.left="-9999px",document.body.appendChild(E),E.select();const R=document.execCommand("copy");return document.body.removeChild(E),R}catch{return!1}};try{(O=navigator.clipboard)!=null&&O.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):N()?l(5,c="success"):l(5,c="error")}catch{N()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(k(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function k(){if(!s||d)return;l(7,d=!0);let v=!1;try{window.close(),v=window.closed}catch{v=!1}if(!v)try{window.open("","_self"),window.close(),v=window.closed}catch{v=!1}if(v){l(8,_=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,_=!0)},400)}return t.$$set=v=>{"basepath"in v&&l(10,n=v.basepath)},[i,s,o,f,r,c,m,d,_,g,n]}class l_ extends At{constructor(e){super(),Et(this,e,t_,e_,Nt,{basepath:10})}}function n_(t){var G,A,L,H;let e,l,n,i=(((G=t[2].upload)==null?void 0:G.title)??"Upload")+"",s,o,f,r,c,m=(((A=t[2].upload)==null?void 0:A.desc)??"")+"",d,_,b,y,g,k,v,N,P=(((L=t[2].btn)==null?void 0:L.upload)??"Upload")+"",O,E,R,I,B,K;return R=new ml({props:{active:t[3],message:((H=t[2].upload)==null?void 0:H.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=w(i),o=h(),f=w(t[1]),r=h(),c=p("p"),d=w(m),_=h(),b=p("form"),y=p("input"),g=h(),k=p("div"),v=p("button"),N=p("p"),O=w(P),E=h(),Ce(R.$$.fragment),u(c,"class","mb-4"),u(y,"name","file"),u(y,"type","file"),u(N,"class","mb-4"),u(v,"type","submit"),u(v,"class","btn-pri"),u(k,"class","w-full text-right mt-4"),u(b,"action",t[0]),u(b,"enctype","multipart/form-data"),u(b,"method","post"),u(b,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(U,X){C(U,e,X),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,d),a(l,_),a(l,b),a(b,y),a(b,g),a(b,k),a(k,v),a(v,N),a(N,O),C(U,E,X),Me(R,U,X),I=!0,B||(K=be(b,"submit",t[4]),B=!0)},p(U,[X]){var j,z,$,ne;(!I||X&4)&&i!==(i=(((j=U[2].upload)==null?void 0:j.title)??"Upload")+"")&&q(s,i),(!I||X&2)&&q(f,U[1]),(!I||X&4)&&m!==(m=(((z=U[2].upload)==null?void 0:z.desc)??"")+"")&&q(d,m),(!I||X&4)&&P!==(P=((($=U[2].btn)==null?void 0:$.upload)??"Upload")+"")&&q(O,P),(!I||X&1)&&u(b,"action",U[0]);const Y={};X&8&&(Y.active=U[3]),X&4&&(Y.message=((ne=U[2].upload)==null?void 0:ne.mask)??"Uploading"),R.$set(Y)},i(U){I||(Q(R.$$.fragment,U),I=!0)},o(U){se(R.$$.fragment,U),I=!1},d(U){U&&(S(e),S(E)),Se(R,U),B=!1,K()}}}function i_(t,e,l){let{action:n}=e,{title:i}=e,s={};Cl.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class cs extends At{constructor(e){super(),Et(this,e,i_,n_,Nt,{action:0,title:1})}}function Hr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function zr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function s_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Kr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function o_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Vr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Gr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Yr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Xr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Jr(t){let e,l=He(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=lf(Hr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=el()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);C(i,e,s)},p(i,s){if(s[0]&1875){l=He(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Hr(i,l,o);n[o]?n[o].p(f,s):(n[o]=lf(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&S(e),Gt(n,i)}}}function Qr(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function Zr(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function $r(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function xr(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function a_(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function ef(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&q(n,l)},d(s){s&&S(e)}}}function r_(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&S(e)}}}function tf(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&q(n,l)},d(s){s&&S(e)}}}function lf(t){var Rt,sl,Dt,Ye,Bt,Jt,gt,ft,St,Kt;let e,l,n,i,s,o,f,r=(((sl=(Rt=t[0].conf)==null?void 0:Rt.common)==null?void 0:sl.import)??"Import")+"",c,m,d=(((Ye=(Dt=t[0].conf)==null?void 0:Dt.common)==null?void 0:Ye.export)??"Export")+"",_,b,y=(((Jt=(Bt=t[0].conf)==null?void 0:Bt.price)==null?void 0:Jt.both)??"Both")+"",g,k,v,N,P=(((ft=(gt=t[0].conf)==null?void 0:gt.price)==null?void 0:ft.fixed)??"Fixed")+"",O,E,R,I,B,K,G,A,L,H=(((St=t[0].common)==null?void 0:St.days)??"Days")+"",U,X,Y,j,z,$,ne,W=(((Kt=t[0].common)==null?void 0:Kt.hours)??"Hours")+"",x,ue,re,fe,ce,le,Z,ee,ve,ke,T,M,F,D,V,te,ie,pe,me,oe,we,ge,Ae,Le,Be,ze,Xe,Ze,qe,tt,ae,Ne,lt,bt,mt,$e,rt;function Ht(){t[12].call(n,t[31],t[32])}function _t(){t[13].call(o,t[31],t[32])}function qt(){t[14].call(v,t[31],t[32])}function Pt(){t[15].call(K,t[31],t[32])}let Lt=He({length:7}),et=[];for(let de=0;de<Lt.length;de+=1)et[de]=Qr(Xr(t,Lt,de));let pt=He({length:8}),Pe=[];for(let de=0;de<pt.length;de+=1)Pe[de]=Zr(Yr(t,pt,de));let je=He({length:8}),Qe=[];for(let de=0;de<je.length;de+=1)Qe[de]=$r(Gr(t,je,de));let Je=He({length:8}),he=[];for(let de=0;de<Je.length;de+=1)he[de]=xr(Vr(t,Je,de));let De=He({length:31}),Tt=[];for(let de=0;de<De.length;de+=1)Tt[de]=a_(o_(t,De,de));function It(){t[20].call(M,t[31],t[32])}let vt=He({length:12}),We=[];for(let de=0;de<vt.length;de+=1)We[de]=ef(Kr(t,vt,de));function ut(){t[21].call(V,t[31],t[32])}let xe=He({length:31}),Ot=[];for(let de=0;de<xe.length;de+=1)Ot[de]=r_(s_(t,xe,de));function zt(){t[22].call(oe,t[31],t[32])}let Ve=He({length:12}),ye=[];for(let de=0;de<Ve.length;de+=1)ye[de]=tf(zr(t,Ve,de));function Te(){t[23].call(Ae,t[31],t[32])}function Ge(){return t[24](t[32])}function nt(){return t[25](t[32])}function ot(){return t[26](t[32])}function dt(){return t[27](t[32])}function Xt(){return t[28](t[32])}function Ut(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=h(),s=p("div"),o=p("select"),f=p("option"),c=w(r),m=p("option"),_=w(d),b=p("option"),g=w(y),k=h(),v=p("select"),N=p("option"),O=w(P),E=p("option"),E.textContent="+",R=p("option"),R.textContent="-",I=p("option"),I.textContent="%",B=h(),K=p("input"),G=h(),A=p("div"),L=p("span"),U=w(H),X=w(":"),Y=h(),j=p("div");for(let de=0;de<et.length;de+=1)et[de].c();z=h(),$=p("div"),ne=p("span"),x=w(W),ue=w(":"),re=h(),fe=p("div"),ce=p("div");for(let de=0;de<Pe.length;de+=1)Pe[de].c();le=h(),Z=p("div");for(let de=0;de<Qe.length;de+=1)Qe[de].c();ee=h(),ve=p("div");for(let de=0;de<he.length;de+=1)he[de].c();ke=h(),T=p("div"),M=p("select"),F=p("option"),F.textContent="-";for(let de=0;de<Tt.length;de+=1)Tt[de].c();D=h(),V=p("select"),te=p("option"),te.textContent="-";for(let de=0;de<We.length;de+=1)We[de].c();ie=h(),pe=p("input"),me=h(),oe=p("select"),we=p("option"),we.textContent="-";for(let de=0;de<Ot.length;de+=1)Ot[de].c();ge=h(),Ae=p("select"),Le=p("option"),Le.textContent="-";for(let de=0;de<ye.length;de+=1)ye[de].c();Be=h(),ze=p("div"),Xe=p("span"),Xe.textContent="⇧",Ze=h(),qe=p("span"),tt=w("⇩"),Ne=h(),lt=p("span"),lt.textContent="🗑",bt=h(),mt=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,J(f,f.__value),m.__value=2,J(m,m.__value),b.__value=3,J(b,b.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Yt(_t),N.__value=0,J(N,N.__value),E.__value=1,J(E,E.__value),R.__value=3,J(R,R.__value),I.__value=2,J(I,I.__value),u(v,"name","rt"),u(v,"class","in-m"),t[30].t===void 0&&Yt(qt),u(K,"name","rv"),u(K,"type","number"),u(K,"class","in-l tr"),en(K,"width","100px"),u(K,"min","0.0001"),u(K,"max","99.9999"),u(K,"step","0.0001"),u(s,"class","flex mr-3"),u(L,"class","mr-2"),u(A,"class","flex flex-wrap mr-3"),u(ne,"class","mr-2"),u($,"class","flex flex-wrap mr-3"),F.__value=0,J(F,F.__value),u(M,"name","rsd"),u(M,"class","in-f"),t[30].s.d===void 0&&Yt(It),te.__value=0,J(te,te.__value),u(V,"name","rsm"),u(V,"class","in-m"),t[30].s.m===void 0&&Yt(ut),u(pe,"class","in-m"),pe.disabled=!0,pe.value="to",en(pe,"width","20px"),en(pe,"color","#888"),we.__value=0,J(we,we.__value),u(oe,"name","red"),u(oe,"class","in-m"),t[30].e.d===void 0&&Yt(zt),Le.__value=0,J(Le,Le.__value),u(Ae,"name","rem"),u(Ae,"class","in-l"),t[30].e.m===void 0&&Yt(Te),u(T,"class","flex flex-wrap mr-3"),u(Xe,"class",t[32]>0?"text-green-600":"text-gray-300"),u(qe,"class",ae=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(lt,"class","text-red-500 text-xs"),u(ze,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(mt,"class","m-3")},m(de,it){C(de,e,it),a(e,l),a(l,n),J(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,_),a(o,b),a(b,g),st(o,t[30].d,!0),a(s,k),a(s,v),a(v,N),a(N,O),a(v,E),a(v,R),a(v,I),st(v,t[30].t,!0),a(s,B),a(s,K),J(K,t[30].v),a(e,G),a(e,A),a(A,L),a(L,U),a(L,X),a(A,Y),a(A,j);for(let Ke=0;Ke<et.length;Ke+=1)et[Ke]&&et[Ke].m(j,null);a(e,z),a(e,$),a($,ne),a(ne,x),a(ne,ue),a($,re),a($,fe),a(fe,ce);for(let Ke=0;Ke<Pe.length;Ke+=1)Pe[Ke]&&Pe[Ke].m(ce,null);a(fe,le),a(fe,Z);for(let Ke=0;Ke<Qe.length;Ke+=1)Qe[Ke]&&Qe[Ke].m(Z,null);a(fe,ee),a(fe,ve);for(let Ke=0;Ke<he.length;Ke+=1)he[Ke]&&he[Ke].m(ve,null);a(e,ke),a(e,T),a(T,M),a(M,F);for(let Ke=0;Ke<Tt.length;Ke+=1)Tt[Ke]&&Tt[Ke].m(M,null);st(M,t[30].s.d,!0),a(T,D),a(T,V),a(V,te);for(let Ke=0;Ke<We.length;Ke+=1)We[Ke]&&We[Ke].m(V,null);st(V,t[30].s.m,!0),a(T,ie),a(T,pe),a(T,me),a(T,oe),a(oe,we);for(let Ke=0;Ke<Ot.length;Ke+=1)Ot[Ke]&&Ot[Ke].m(oe,null);st(oe,t[30].e.d,!0),a(T,ge),a(T,Ae),a(Ae,Le);for(let Ke=0;Ke<ye.length;Ke+=1)ye[Ke]&&ye[Ke].m(Ae,null);st(Ae,t[30].e.m,!0),a(e,Be),a(e,ze),a(ze,Xe),a(ze,Ze),a(ze,qe),a(qe,tt),a(ze,Ne),a(ze,lt),C(de,bt,it),C(de,mt,it),$e||(rt=[be(n,"input",Ht),be(o,"change",_t),be(v,"change",qt),be(K,"input",Pt),be(M,"change",It),be(V,"change",ut),be(oe,"change",zt),be(Ae,"change",Te),be(Xe,"click",Ge),be(Xe,"keypress",nt),be(qe,"click",ot),be(qe,"keypress",dt),be(lt,"click",Xt),be(lt,"keypress",Ut)],$e=!0)},p(de,it){var Ke,ol,Qt,tl,_l,al,Zt,$t,cl,Ee;if(t=de,it[0]&2&&n.value!==t[30].n&&J(n,t[30].n),it[0]&1&&r!==(r=(((ol=(Ke=t[0].conf)==null?void 0:Ke.common)==null?void 0:ol.import)??"Import")+"")&&q(c,r),it[0]&1&&d!==(d=(((tl=(Qt=t[0].conf)==null?void 0:Qt.common)==null?void 0:tl.export)??"Export")+"")&&q(_,d),it[0]&1&&y!==(y=(((al=(_l=t[0].conf)==null?void 0:_l.price)==null?void 0:al.both)??"Both")+"")&&q(g,y),it[0]&2&&st(o,t[30].d),it[0]&1&&P!==(P=((($t=(Zt=t[0].conf)==null?void 0:Zt.price)==null?void 0:$t.fixed)??"Fixed")+"")&&q(O,P),it[0]&2&&st(v,t[30].t),it[0]&2&&kt(K.value)!==t[30].v&&J(K,t[30].v),it[0]&1&&H!==(H=(((cl=t[0].common)==null?void 0:cl.days)??"Days")+"")&&q(U,H),it[0]&82){Lt=He({length:7});let _e;for(_e=0;_e<Lt.length;_e+=1){const jt=Xr(t,Lt,_e);et[_e]?et[_e].p(jt,it):(et[_e]=Qr(jt),et[_e].c(),et[_e].m(j,null))}for(;_e<et.length;_e+=1)et[_e].d(1);et.length=Lt.length}if(it[0]&1&&W!==(W=(((Ee=t[0].common)==null?void 0:Ee.hours)??"Hours")+"")&&q(x,W),it[0]&66){pt=He({length:8});let _e;for(_e=0;_e<pt.length;_e+=1){const jt=Yr(t,pt,_e);Pe[_e]?Pe[_e].p(jt,it):(Pe[_e]=Zr(jt),Pe[_e].c(),Pe[_e].m(ce,null))}for(;_e<Pe.length;_e+=1)Pe[_e].d(1);Pe.length=pt.length}if(it[0]&66){je=He({length:8});let _e;for(_e=0;_e<je.length;_e+=1){const jt=Gr(t,je,_e);Qe[_e]?Qe[_e].p(jt,it):(Qe[_e]=$r(jt),Qe[_e].c(),Qe[_e].m(Z,null))}for(;_e<Qe.length;_e+=1)Qe[_e].d(1);Qe.length=je.length}if(it[0]&66){Je=He({length:8});let _e;for(_e=0;_e<Je.length;_e+=1){const jt=Vr(t,Je,_e);he[_e]?he[_e].p(jt,it):(he[_e]=xr(jt),he[_e].c(),he[_e].m(ve,null))}for(;_e<he.length;_e+=1)he[_e].d(1);he.length=Je.length}if(it[0]&2&&st(M,t[30].s.d),it[0]&1){vt=He({length:12});let _e;for(_e=0;_e<vt.length;_e+=1){const jt=Kr(t,vt,_e);We[_e]?We[_e].p(jt,it):(We[_e]=ef(jt),We[_e].c(),We[_e].m(V,null))}for(;_e<We.length;_e+=1)We[_e].d(1);We.length=vt.length}if(it[0]&2&&st(V,t[30].s.m),it[0]&2&&st(oe,t[30].e.d),it[0]&1){Ve=He({length:12});let _e;for(_e=0;_e<Ve.length;_e+=1){const jt=zr(t,Ve,_e);ye[_e]?ye[_e].p(jt,it):(ye[_e]=tf(jt),ye[_e].c(),ye[_e].m(Ae,null))}for(;_e<ye.length;_e+=1)ye[_e].d(1);ye.length=Ve.length}it[0]&2&&st(Ae,t[30].e.m),it[0]&2&&ae!==(ae=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(qe,"class",ae)},d(de){de&&(S(e),S(bt),S(mt)),Gt(et,de),Gt(Pe,de),Gt(Qe,de),Gt(he,de),Gt(Tt,de),Gt(We,de),Gt(Ot,de),Gt(ye,de),$e=!1,Ft(rt)}}}function f_(t){var z,$,ne,W,x,ue,re,fe,ce;let e,l,n=((($=(z=t[0].conf)==null?void 0:z.price)==null?void 0:$.title)??"Price")+"",i,s,o,f,r,c,m,d,_,b,y,g,k,v=(((W=(ne=t[0].conf)==null?void 0:ne.price)==null?void 0:W.btn_add)??"Add")+"",N,P,O,E,R,I,B=(((x=t[0].btn)==null?void 0:x.save)??"Save")+"",K,G,A,L,H,U,X,Y,j=t[1].o&&Jr(t);return A=new ml({props:{active:t[2],message:((re=(ue=t[0].conf)==null?void 0:ue.price)==null?void 0:re.mask_loading)??"Loading"}}),H=new ml({props:{active:t[3],message:((ce=(fe=t[0].conf)==null?void 0:fe.price)==null?void 0:ce.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=w(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("hr"),c=h(),m=p("form"),d=p("input"),_=h(),j&&j.c(),b=h(),y=p("div"),g=p("div"),k=p("button"),N=w(v),P=h(),O=p("div"),O.innerHTML="",E=h(),R=p("div"),I=p("button"),K=w(B),G=h(),Ce(A.$$.fragment),L=h(),Ce(H.$$.fragment),u(l,"class","text-sm"),u(o,"href",Ol("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(d,"type","hidden"),u(d,"name","r"),d.value="true",u(k,"type","button"),u(k,"class","btn-pri"),u(O,"class","text-center"),u(I,"type","submit"),u(I,"class","btn-pri"),u(R,"class","text-right"),u(y,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(le,Z){C(le,e,Z),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,_),j&&j.m(m,null),a(m,b),a(m,y),a(y,g),a(g,k),a(k,N),a(y,P),a(y,O),a(y,E),a(y,R),a(R,I),a(I,K),C(le,G,Z),Me(A,le,Z),C(le,L,Z),Me(H,le,Z),U=!0,X||(Y=[be(k,"click",t[7]),be(m,"submit",Mn(t[5]))],X=!0)},p(le,Z){var ke,T,M,F,D,V,te,ie,pe;(!U||Z[0]&1)&&n!==(n=(((T=(ke=le[0].conf)==null?void 0:ke.price)==null?void 0:T.title)??"Price")+"")&&q(i,n),le[1].o?j?j.p(le,Z):(j=Jr(le),j.c(),j.m(m,b)):j&&(j.d(1),j=null),(!U||Z[0]&1)&&v!==(v=(((F=(M=le[0].conf)==null?void 0:M.price)==null?void 0:F.btn_add)??"Add")+"")&&q(N,v),(!U||Z[0]&1)&&B!==(B=(((D=le[0].btn)==null?void 0:D.save)??"Save")+"")&&q(K,B);const ee={};Z[0]&4&&(ee.active=le[2]),Z[0]&1&&(ee.message=((te=(V=le[0].conf)==null?void 0:V.price)==null?void 0:te.mask_loading)??"Loading"),A.$set(ee);const ve={};Z[0]&8&&(ve.active=le[3]),Z[0]&1&&(ve.message=((pe=(ie=le[0].conf)==null?void 0:ie.price)==null?void 0:pe.mask_saving)??"Saving"),H.$set(ve)},i(le){U||(Q(A.$$.fragment,le),Q(H.$$.fragment,le),U=!0)},o(le){se(A.$$.fragment,le),se(H.$$.fragment,le),U=!1},d(le){le&&(S(e),S(G),S(L)),j&&j.d(),Se(A,le),Se(H,le),X=!1,Ft(Y)}}}function u_(t,e,l){let{basepath:n="/"}=e,i={};Cl.subscribe(j=>{l(0,i=j)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;mu.subscribe(j=>{j.o&&(l(1,o=j),l(2,f=!1))}),S1();async function c(j){l(3,r=!0);const z=new URLSearchParams;z.append("r","true"),z.append("rc",o.o.length),o.o.forEach(function(ne,W){z.append("rt"+W,ne.t),z.append("rn"+W,ne.n),z.append("rd"+W,ne.d),z.append("ra"+W,ne.a),z.append("rh"+W,ne.h),z.append("rv"+W,ne.v),z.append("rsm"+W,ne.s.m),z.append("rsd"+W,ne.s.d),z.append("rem"+W,ne.e.m),z.append("red"+W,ne.e.d)}),await(await fetch("save",{method:"POST",body:z})).json(),l(3,r=!1),yn(n+"configuration")}let m=function(j,z){return j.includes(z)?j=j.filter(function($){return $!==z}):j.push(z),j},d=function(){let j=o.o;j.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=j,o)},_=function(j){let z=o.o;z.splice(j,1),l(1,o.o=z,o)},b=function(j){if(j<=0)return;let z=o.o;var $=z[j];z[j]=z[j-1],z[j-1]=$,l(1,o.o=z,o)},y=function(j){let z=o.o;if(!(j>=z.length-1)){var $=z[j];z[j]=z[j+1],z[j+1]=$,l(1,o.o=z,o)}};function g(j,z){j[z].n=this.value,l(1,o)}function k(j,z){j[z].d=nl(this),l(1,o)}function v(j,z){j[z].t=nl(this),l(1,o)}function N(j,z){j[z].v=kt(this.value),l(1,o)}const P=(j,z,$,ne)=>l(1,$[ne].a=m(j.a,z),o),O=(j,z,$,ne)=>l(1,$[ne].h=m(j.h,z),o),E=(j,z,$,ne)=>l(1,$[ne].h=m(j.h,z+8),o),R=(j,z,$,ne)=>l(1,$[ne].h=m(j.h,z+16),o);function I(j,z){j[z].s.d=nl(this),l(1,o)}function B(j,z){j[z].s.m=nl(this),l(1,o)}function K(j,z){j[z].e.d=nl(this),l(1,o)}function G(j,z){j[z].e.m=nl(this),l(1,o)}const A=j=>b(j),L=j=>b(j),H=j=>y(j),U=j=>y(j),X=j=>_(j),Y=j=>_(j);return t.$$set=j=>{"basepath"in j&&l(11,n=j.basepath)},[i,o,f,r,s,c,m,d,_,b,y,n,g,k,v,N,P,O,E,R,I,B,K,G,A,L,H,U,X,Y]}class c_ extends At{constructor(e){super(),Et(this,e,u_,f_,Nt,{basepath:11},null,[-1,-1])}}function nf(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function sf(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function of(t){let e,l,n,i=He(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=af(sf(t,i,o));return{c(){e=p("div"),e.textContent="Import",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=He(o[1]);let r;for(r=0;r<i.length;r+=1){const c=sf(o,i,r);s[r]?s[r].p(c,f):(s[r]=af(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(S(e),S(l),S(n)),Gt(s,o)}}}function af(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,_;function b(){t[11].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=w(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(y,g){C(y,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(_=be(o,"input",b),d=!0)},p(y,g){t=y,g&2&&n!==(n=t[13].name+"")&&q(i,n),g&2&&f!==(f=t[13].key)&&u(o,"name",f),g&3&&kt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(y){y&&S(e),d=!1,_()}}}function rf(t){let e,l,n,i=He(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ff(nf(t,i,o));return{c(){e=p("div"),e.textContent="Export",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=He(o[2]);let r;for(r=0;r<i.length;r+=1){const c=nf(o,i,r);s[r]?s[r].p(c,f):(s[r]=ff(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(S(e),S(l),S(n)),Gt(s,o)}}}function ff(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,_;function b(){t[12].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=w(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(y,g){C(y,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(_=be(o,"input",b),d=!0)},p(y,g){t=y,g&4&&n!==(n=t[13].name+"")&&q(i,n),g&4&&f!==(f=t[13].key)&&u(o,"name",f),g&5&&kt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(y){y&&S(e),d=!1,_()}}}function m_(t){var O,E,R;let e,l,n,i,s,o,f,r,c,m,d=(((O=t[3].btn)==null?void 0:O.save)??"Save")+"",_,b,y,g,k,v,N=t[1]&&of(t),P=t[2]&&t[4]&&rf(t);return y=new ml({props:{active:t[5],message:((R=(E=t[3].conf)==null?void 0:E.mask)==null?void 0:R.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),N&&N.c(),n=h(),P&&P.c(),i=h(),s=p("div"),o=p("div"),f=p("button"),f.textContent="Clear all",r=h(),c=p("div"),m=p("button"),_=w(d),b=h(),Ce(y.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(I,B){C(I,e,B),a(e,l),N&&N.m(l,null),a(l,n),P&&P.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,_),C(I,b,B),Me(y,I,B),g=!0,k||(v=[be(f,"click",t[6]),be(e,"submit",Mn(t[7]))],k=!0)},p(I,[B]){var G,A,L;I[1]?N?N.p(I,B):(N=of(I),N.c(),N.m(l,n)):N&&(N.d(1),N=null),I[2]&&I[4]?P?P.p(I,B):(P=rf(I),P.c(),P.m(l,i)):P&&(P.d(1),P=null),(!g||B&8)&&d!==(d=(((G=I[3].btn)==null?void 0:G.save)??"Save")+"")&&q(_,d);const K={};B&32&&(K.active=I[5]),B&8&&(K.message=((L=(A=I[3].conf)==null?void 0:A.mask)==null?void 0:L.saving)??"Saving"),y.$set(K)},i(I){g||(Q(y.$$.fragment,I),g=!0)},o(I){se(y.$$.fragment,I),g=!1},d(I){I&&(S(e),S(b)),N&&N.d(),P&&P.d(),Se(y,I),k=!1,Ft(v)}}}function __(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};Cl.subscribe(k=>{l(3,f=k)});let r=!1,c,m;async function d(){if(confirm("Clear all data?"))for(let k in i)(k.startsWith("i")||k.startsWith("e"))&&l(0,i[k]=0,i)}let _=!1;async function b(k){l(5,_=!0);const v=new FormData(k.target),N=new URLSearchParams;for(let O of v){const[E,R]=O;N.append(E,R)}await(await fetch(s,{method:"POST",body:N})).json(),l(5,_=!1),yn(o)}function y(k){i[k.key]=kt(this.value),l(0,i)}function g(k){i[k.key]=kt(this.value),l(0,i)}return t.$$set=k=>{"prefix"in k&&l(8,n=k.prefix),"data"in k&&l(0,i=k.data),"url"in k&&l(9,s=k.url),"basepath"in k&&l(10,o=k.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let k in i){let v=[];k.startsWith("i")?v=c:k.startsWith("e")&&(v=m,i[k]&&l(4,r=!0)),v.push({key:k,name:n+" "+k.substring(1),value:i[k]})}}},[i,c,m,f,r,_,d,b,n,s,o,y,g]}class hu extends At{constructor(e){super(),Et(this,e,__,m_,Nt,{prefix:8,data:0,url:9,basepath:10})}}function uf(t){let e,l;return e=new Nc({props:{data:t[6],basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function p_(t){let e,l;return e=new l_({props:{basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function d_(t){let e,l;return e=new M1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function h_(t){let e,l;return e=new mm({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function b_(t){let e,l;return e=new c_({props:{basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function v_(t){let e,l;return e=new Mm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function g_(t){let e,l;return e=new cs({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function k_(t){let e,l;return e=new cs({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function w_(t){let e,l;return e=new cs({props:{title:"private key",action:"/mqtt-key"}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function y_(t){let e,l;return e=new Hm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function M_(t){let e,l;return e=new Em({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function S_(t){let e,l;return e=new hu({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function C_(t){let e,l;return e=new hu({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function N_(t){let e,l,n,i,s,o,f,r,c,m,d,_,b,y,g,k,v,N,P,O,E,R,I,B,K,G=!t[9]&&uf(t);return l=new dl({props:{path:"/welcome",$$slots:{default:[p_]},$$scope:{ctx:t}}}),i=new dl({props:{path:"/",$$slots:{default:[d_]},$$scope:{ctx:t}}}),o=new dl({props:{path:"/configuration",$$slots:{default:[h_]},$$scope:{ctx:t}}}),r=new dl({props:{path:"/priceconfig",$$slots:{default:[b_]},$$scope:{ctx:t}}}),m=new dl({props:{path:"/status",$$slots:{default:[v_]},$$scope:{ctx:t}}}),_=new dl({props:{path:"/mqtt-ca",$$slots:{default:[g_]},$$scope:{ctx:t}}}),y=new dl({props:{path:"/mqtt-cert",$$slots:{default:[k_]},$$scope:{ctx:t}}}),k=new dl({props:{path:"/mqtt-key",$$slots:{default:[w_]},$$scope:{ctx:t}}}),N=new dl({props:{path:"/setup",$$slots:{default:[y_]},$$scope:{ctx:t}}}),O=new dl({props:{path:"/vendor",$$slots:{default:[M_]},$$scope:{ctx:t}}}),R=new dl({props:{path:"/edit-day",$$slots:{default:[S_]},$$scope:{ctx:t}}}),B=new dl({props:{path:"/edit-month",$$slots:{default:[C_]},$$scope:{ctx:t}}}),{c(){G&&G.c(),e=h(),Ce(l.$$.fragment),n=h(),Ce(i.$$.fragment),s=h(),Ce(o.$$.fragment),f=h(),Ce(r.$$.fragment),c=h(),Ce(m.$$.fragment),d=h(),Ce(_.$$.fragment),b=h(),Ce(y.$$.fragment),g=h(),Ce(k.$$.fragment),v=h(),Ce(N.$$.fragment),P=h(),Ce(O.$$.fragment),E=h(),Ce(R.$$.fragment),I=h(),Ce(B.$$.fragment)},m(A,L){G&&G.m(A,L),C(A,e,L),Me(l,A,L),C(A,n,L),Me(i,A,L),C(A,s,L),Me(o,A,L),C(A,f,L),Me(r,A,L),C(A,c,L),Me(m,A,L),C(A,d,L),Me(_,A,L),C(A,b,L),Me(y,A,L),C(A,g,L),Me(k,A,L),C(A,v,L),Me(N,A,L),C(A,P,L),Me(O,A,L),C(A,E,L),Me(R,A,L),C(A,I,L),Me(B,A,L),K=!0},p(A,L){A[9]?G&&(wt(),se(G,1,1,()=>{G=null}),yt()):G?(G.p(A,L),L&512&&Q(G,1)):(G=uf(A),G.c(),Q(G,1),G.m(e.parentNode,e));const H={};L&65537&&(H.$$scope={dirty:L,ctx:A}),l.$set(H);const U={};L&66046&&(U.$$scope={dirty:L,ctx:A}),i.$set(U);const X={};L&65729&&(X.$$scope={dirty:L,ctx:A}),o.$set(X);const Y={};L&65537&&(Y.$$scope={dirty:L,ctx:A}),r.$set(Y);const j={};L&65728&&(j.$$scope={dirty:L,ctx:A}),m.$set(j);const z={};L&65536&&(z.$$scope={dirty:L,ctx:A}),_.$set(z);const $={};L&65536&&($.$$scope={dirty:L,ctx:A}),y.$set($);const ne={};L&65536&&(ne.$$scope={dirty:L,ctx:A}),k.$set(ne);const W={};L&65728&&(W.$$scope={dirty:L,ctx:A}),N.$set(W);const x={};L&65665&&(x.$$scope={dirty:L,ctx:A}),O.$set(x);const ue={};L&65541&&(ue.$$scope={dirty:L,ctx:A}),R.$set(ue);const re={};L&65545&&(re.$$scope={dirty:L,ctx:A}),B.$set(re)},i(A){K||(Q(G),Q(l.$$.fragment,A),Q(i.$$.fragment,A),Q(o.$$.fragment,A),Q(r.$$.fragment,A),Q(m.$$.fragment,A),Q(_.$$.fragment,A),Q(y.$$.fragment,A),Q(k.$$.fragment,A),Q(N.$$.fragment,A),Q(O.$$.fragment,A),Q(R.$$.fragment,A),Q(B.$$.fragment,A),K=!0)},o(A){se(G),se(l.$$.fragment,A),se(i.$$.fragment,A),se(o.$$.fragment,A),se(r.$$.fragment,A),se(m.$$.fragment,A),se(_.$$.fragment,A),se(y.$$.fragment,A),se(k.$$.fragment,A),se(N.$$.fragment,A),se(O.$$.fragment,A),se(R.$$.fragment,A),se(B.$$.fragment,A),K=!1},d(A){A&&(S(e),S(n),S(s),S(f),S(c),S(d),S(b),S(g),S(v),S(P),S(E),S(I)),G&&G.d(A),Se(l,A),Se(i,A),Se(o,A),Se(r,A),Se(m,A),Se(_,A),Se(y,A),Se(k,A),Se(N,A),Se(O,A),Se(R,A),Se(B,A)}}}function cf(t){let e,l,n,i;const s=[T_,P_],o=[];function f(r,c){return r[7].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=el()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(wt(),se(o[m],1,1,()=>{o[m]=null}),yt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),Q(l,1),l.m(n.parentNode,n))},i(r){i||(Q(l),i=!0)},o(r){se(l),i=!1},d(r){r&&S(n),o[e].d(r)}}}function P_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function T_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Ce(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(Q(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function E_(t){let e,l,n,i;l=new jf({props:{basepath:t[0],$$slots:{default:[N_]},$$scope:{ctx:t}}});let s=t[7].booting&&cf(t);return{c(){e=p("div"),Ce(l.$$.fragment),n=h(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){C(o,e,f),Me(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&66559&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,f),f&128&&Q(s,1)):(s=cf(o),s.c(),Q(s,1),s.m(e,null)):s&&(wt(),se(s,1,1,()=>{s=null}),yt())},i(o){i||(Q(l.$$.fragment,o),Q(s),i=!0)},o(o){se(l.$$.fragment,o),se(s),i=!1},d(o){o&&S(e),Se(l),s&&s.d()}}}function A_(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/"),hi("no");let s;os.subscribe(P=>{l(1,s=P)});let o;Qf.subscribe(P=>{l(2,o=P)});let f;Zf.subscribe(P=>{l(3,f=P)});let r;$f.subscribe(P=>{l(4,r=P)});let c={};Cl.subscribe(P=>{l(5,c=P)});let m,d={},_={},b;const y=(P="")=>{if(typeof P!="string")return"/";let O=P||"/";return i&&i!=="/"&&O.startsWith(i)&&(O=O.slice(i.length),O.startsWith("/")||(O=`/${O}`)),O.startsWith("/")||(O=`/${O}`),O.length>1&&(O=O.replace(/\/+$/,"")),O||"/"};ul.subscribe(P=>{var E;l(7,_=P);const O=(()=>typeof window>"u"?"":y(window.location.pathname??"/").replace(/^\/+/,""))();if(_.vndcfg===!1){O!=="vendor"&&yn(i+"vendor");return}if(_.usrcfg===!1){O!=="setup"&&O!=="welcome"&&yn(i+"welcome");return}_.ui.k===1?document.documentElement.classList.add("dark"):_.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),_.ui.lang&&_.ui.lang!=((E=c==null?void 0:c.language)==null?void 0:E.code)&&hi(_.ui.lang),_.version&&b&&_.version!=b&&window.location.reload(),b=_.version,m&&clearTimeout(m),m=setTimeout(ki,!d||!d.u||d.u<30||_!=null&&_.upgrading?1e4:3e5)}),J0.subscribe(P=>{l(6,d=P),_1(P)});let g={};eu.subscribe(P=>{l(8,g=P)}),xf();let k=typeof window<"u"?y(window.location.pathname??"/"):"/";const v=(P="/")=>P==="/setup"||P==="/welcome",N=()=>{typeof window<"u"&&l(10,k=y(window.location.pathname??"/"))};return bi(()=>{N();const P=()=>N();window.addEventListener("popstate",P);const O=history.pushState,E=history.replaceState;return history.pushState=function(...R){O.apply(this,R),N()},history.replaceState=function(...R){E.apply(this,R),N()},()=>{window.removeEventListener("popstate",P),history.pushState=O,history.replaceState=E}}),vi(()=>{N()}),t.$$.update=()=>{t.$$.dirty&1024&&l(9,n=v(k))},[i,s,o,f,r,c,d,_,g,n,k]}class q_ extends At{constructor(e){super(),Et(this,e,A_,E_,Nt,{})}}new q_({target:document.getElementById("app")});
