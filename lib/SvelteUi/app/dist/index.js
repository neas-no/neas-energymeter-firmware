var wu=Object.defineProperty;var Mu=(t,e,l)=>e in t?wu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(Mu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function je(){}function hl(t,e){for(const l in e)t[l]=e[l];return t}function hf(t){return t()}function Ls(){return Object.create(null)}function Rt(t){t.forEach(hf)}function Xi(t){return typeof t=="function"}function Ct(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let xn;function fn(t,e){return t===e?!0:(xn||(xn=document.createElement("a")),xn.href=e,t===xn.href)}function yu(t){return Object.keys(t).length===0}function Ji(t,...e){if(t==null){for(const n of e)n(void 0);return je}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function xl(t){let e;return Ji(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Ji(e,l))}function Qi(t,e,l,n){if(t){const i=bf(t,e,l,n);return t[0](i)}}function bf(t,e,l,n){return t[1]&&n?hl(l.ctx.slice(),t[1](n(e))):l.ctx}function Zi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function $i(t,e,l,n,i,s){if(i){const o=bf(e,l,n,s);t.p(o,i)}}function xi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ri(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function fi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const Su=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function N(t,e,l){t.insertBefore(e,l||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function Gt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function yt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function h(){return M(" ")}function el(){return M("")}function be(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function yn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const Nu=["width","height"];function kn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&Nu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function vf(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function kt(t){return t===""?null:+t}function Cu(t){return Array.from(t.childNodes)}function L(t,e){e=""+e,t.data!==e&&(t.data=e)}function Pu(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Tu(t,e,l){~Su.indexOf(l)?Pu(t,e):L(t,e)}function J(t,e){t.value=e??""}function en(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function st(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function nl(t){const e=t.querySelector(":checked");return e&&e.__value}let ei;function Au(){if(ei===void 0){ei=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ei=!0}}return ei}function es(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Au();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=be(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=be(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),S(n)}}function $l(t,e,l){t.classList.toggle(e,!!l)}function Eu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function qs(t,e){return new t(e)}let Kn;function Bn(t){Kn=t}function Jn(){if(!Kn)throw new Error("Function called outside component initialization");return Kn}function bi(t){Jn().$$.on_mount.push(t)}function vi(t){Jn().$$.on_destroy.push(t)}function Lu(){const t=Jn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Eu(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function Hn(t,e){return Jn().$$.context.set(t,e),e}function ln(t){return Jn().$$.context.get(t)}const _n=[],ui=[];let gn=[];const Is=[],gf=Promise.resolve();let Ei=!1;function kf(){Ei||(Ei=!0,gf.then(wf))}function qu(){return kf(),gf}function Yt(t){gn.push(t)}const Mi=new Set;let mn=0;function wf(){if(mn!==0)return;const t=Kn;do{try{for(;mn<_n.length;){const e=_n[mn];mn++,Bn(e),Iu(e.$$)}}catch(e){throw _n.length=0,mn=0,e}for(Bn(null),_n.length=0,mn=0;ui.length;)ui.pop()();for(let e=0;e<gn.length;e+=1){const l=gn[e];Mi.has(l)||(Mi.add(l),l())}gn.length=0}while(_n.length);for(;Is.length;)Is.pop()();Ei=!1,Mi.clear(),Bn(t)}function Iu(t){if(t.fragment!==null){t.update(),Rt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Yt)}}function Ou(t){const e=[],l=[];gn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),gn=e}const si=new Set;let sn;function wt(){sn={r:0,c:[],p:sn}}function Mt(){sn.r||Rt(sn.c),sn=sn.p}function $(t,e){t&&t.i&&(si.delete(t),t.i(e))}function ne(t,e,l,n){if(t&&t.o){if(si.has(t))return;si.add(t),sn.c.push(()=>{si.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function We(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Mf(t,e){t.d(1),e.delete(t.key)}function yf(t,e,l,n,i,s,o,f,r,c,m,d){let p=t.length,b=s.length,k=p;const g={};for(;k--;)g[t[k].key]=k;const w=[],v=new Map,C=new Map,T=[];for(k=b;k--;){const I=d(i,s,k),U=l(I);let Y=o.get(U);Y?n&&T.push(()=>Y.p(I,e)):(Y=c(U,I),Y.c()),v.set(U,w[k]=Y),U in g&&C.set(U,Math.abs(k-g[U]))}const O=new Set,P=new Set;function D(I){$(I,1),I.m(f,m),o.set(I.key,I),m=I.first,b--}for(;p&&b;){const I=w[b-1],U=t[p-1],Y=I.key,V=U.key;I===U?(m=I.first,p--,b--):v.has(V)?!o.has(Y)||O.has(Y)?D(I):P.has(V)?p--:C.get(Y)>C.get(V)?(P.add(Y),D(I)):(O.add(V),p--):(r(U,o),p--)}for(;p--;){const I=t[p];v.has(I.key)||r(I,o)}for(;b;)D(w[b-1]);return Rt(T),w}function Li(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function ti(t){return typeof t=="object"&&t!==null?t:{}}function Ne(t){t&&t.c()}function Me(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Yt(()=>{const s=t.$$.on_mount.map(hf).filter(Xi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Rt(s),t.$$.on_mount=[]}),i.forEach(Yt)}function ye(t,e){const l=t.$$;l.fragment!==null&&(Ou(l.after_update),Rt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Du(t,e){t.$$.dirty[0]===-1&&(_n.push(t),kf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function At(t,e,l,n,i,s,o=null,f=[-1]){const r=Kn;Bn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:je,not_equal:i,bound:Ls(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Ls(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(d,p,...b)=>{const k=b.length?b[0]:p;return c.ctx&&i(c.ctx[d],c.ctx[d]=k)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](k),m&&Du(t,d)),p}):[],c.update(),m=!0,Rt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=Cu(e.target);c.fragment&&c.fragment.l(d),d.forEach(S)}else c.fragment&&c.fragment.c();e.intro&&$(t.$$.fragment),Me(t,e.target,e.anchor),wf()}Bn(r)}class Et{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){ye(this,1),this.$destroy=je}$on(e,l){if(!Xi(l))return je;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!yu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fu);const Os=t=>typeof t>"u",Sf=t=>typeof t=="function",Nf=t=>typeof t=="number";function Ru(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cf(){let t=0;return()=>t++}function ju(){return Math.random().toString(36).substring(2)}const ql=typeof window>"u";function Pf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Tf=(t,e)=>t?{}:{style:e},qi=t=>({"aria-hidden":"true",...Tf(t,"display:none;")}),pn=[];function Af(t,e){return{subscribe:il(t,e).subscribe}}function il(t,e=je){let l;const n=new Set;function i(f){if(Ct(t,f)&&(t=f,l)){const r=!pn.length;for(const c of n)c[1](),pn.push(c,t);if(r){for(let c=0;c<pn.length;c+=2)pn[c][0](pn[c+1]);pn.length=0}}}function s(f){i(f(t))}function o(f,r=je){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||je),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Uu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Af(l,(o,f)=>{let r=!1;const c=[];let m=0,d=je;const p=()=>{if(m)return;d();const k=e(n?c[0]:c,o,f);s?o(k):d=Xi(k)?k:je},b=i.map((k,g)=>Ji(k,w=>{c[g]=w,m&=~(1<<g),r&&p()},()=>{m|=1<<g}));return r=!0,p(),function(){Rt(b),d(),r=!1}})}const Qn=t=>`@@svnav-ctx__${t}`,Ii=Qn("LOCATION"),wn=Qn("ROUTER"),Ef=Qn("ROUTE"),Bu=Qn("ROUTE_PARAMS"),Hu=Qn("FOCUS_ELEM"),Lf=/^:(.+)/,jn=(t,e,l)=>t.substr(e,l),Oi=(t,e)=>jn(t,0,e.length)===e,Wu=t=>t==="",zu=t=>Lf.test(t),qf=t=>t[0]==="*",Ku=t=>t.replace(/\*.*$/,""),If=t=>t.replace(/(^\/+|\/+$)/g,"");function Tl(t,e=!1){const l=If(t).split("/");return e?l.filter(Boolean):l}const yi=(t,e)=>t+(e?`?${e}`:""),ts=t=>`/${If(t)}`;function Zn(...t){const e=n=>Tl(n,!0).join("/"),l=t.map(e).join("/");return ts(l)}const ls=1,gi=2,un=3,Vu=4,Of=5,Gu=6,Df=7,Yu=8,Xu=9,Ff=10,Rf=11,Ju={[ls]:"Link",[gi]:"Route",[un]:"Router",[Vu]:"useFocus",[Of]:"useLocation",[Gu]:"useMatch",[Df]:"useNavigate",[Yu]:"useParams",[Xu]:"useResolvable",[Ff]:"useResolve",[Rf]:"navigate"},ns=t=>Ju[t];function Qu(t,e){let l;return t===gi?l=e.path?`path="${e.path}"`:"default":t===ls?l=`to="${e.to}"`:t===un&&(l=`basepath="${e.basepath||""}"`),`<${ns(t)} ${l||""} />`}function Zu(t,e,l,n){const i=l&&Qu(n||t,l),s=i?`

Occurred in: ${i}`:"",o=ns(t),f=Sf(e)?e(o):e;return`<${o}> ${f}${s}`}const jf=t=>(...e)=>t(Zu(...e)),Uf=jf(t=>{throw new Error(t)}),ci=jf(console.warn),Ds=4,$u=3,xu=2,ec=1,tc=1;function lc(t,e){const l=t.default?0:Tl(t.fullPath).reduce((n,i)=>{let s=n;return s+=Ds,Wu(i)?s+=tc:zu(i)?s+=xu:qf(i)?s-=Ds+ec:s+=$u,s},0);return{route:t,score:l,index:e}}function nc(t){return t.map(lc).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Bf(t,e){let l,n;const[i]=e.split("?"),s=Tl(i),o=s[0]==="",f=nc(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let d=!1;const p={},b=v=>({...m,params:p,uri:v});if(m.default){n=b(e);continue}const k=Tl(m.fullPath),g=Math.max(s.length,k.length);let w=0;for(;w<g;w++){const v=k[w],C=s[w];if(!Os(v)&&qf(v)){const O=v==="*"?"*":v.slice(1);p[O]=s.slice(w).map(decodeURIComponent).join("/");break}if(Os(C)){d=!0;break}const T=Lf.exec(v);if(T&&!o){const O=decodeURIComponent(C);p[T[1]]=O}else if(v!==C){d=!0;break}}if(!d){l=b(Zn(...s.slice(0,w)));break}}return l||n||null}function Hf(t,e){return Bf([t],e)}function ic(t,e){if(Oi(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Tl(l),o=Tl(i);if(s[0]==="")return yi(i,n);if(!Oi(s[0],".")){const c=o.concat(s).join("/");return yi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),yi(`/${r.join("/")}`,n)}function Fs(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=Tl(e,!0),f=Tl(l,!0);for(;o.length;)o[0]!==f[0]&&Uf(un,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:Zn(...f),hash:n,search:i,state:s}}const Rs=t=>t.length===1?"":t,is=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Rs(jn(t,l)):"",o=i?jn(t,0,l):t,f=n?Rs(jn(o,e)):"";return{pathname:(n?jn(o,0,e):o)||"/",search:f,hash:s}},sc=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function oc(t,e,l){return Zn(l,ic(t,e))}function ac(t,e){const l=ts(Ku(t)),n=Tl(l,!0),i=Tl(e,!0).slice(0,n.length),s=Hf({fullPath:l},Zn(...i));return s&&s.uri}const Si="POP",rc="PUSH",fc="REPLACE";function Ni(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function uc(t){let e=[],l=Ni(t),n=Si;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Ni(t),n=Si,i([s])};i([s]);const f=Pf(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?fc:rc,Nf(s))o&&ci(Rf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Si,t.history.go(s);else{const c={...f,_key:ju()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Ni(t),i()}}}function Ci(t,e){return{...is(e),state:t}}function cc(t="/"){let e=0,l=[Ci(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ci(n,s))},replaceState(n,i,s){l[e]=Ci(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const mc=!!(!ql&&window.document&&window.document.createElement),pc=!ql&&window.location.origin==="null",Wf=uc(mc&&!pc?window:cc()),{navigate:Mn}=Wf;let Al=null,zf=!0;function _c(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function dc(t){(!Al||t.level>Al.level||t.level===Al.level&&_c(t.routerId,Al.routerId))&&(Al=t)}function hc(){Al=null}function bc(){zf=!1}function js(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Pf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function vc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function gc(t){return/^H[1-6]$/i.test(t.tagName)}function Us(t,e=document){return e.querySelector(t)}function kc(t){let l=Us(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!vc(l,t);){if(gc(l))return l;const n=Us("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function wc(t){Promise.resolve(xl(t.focusElement)).then(e=>{const l=e||kc(t.id);l||ci(un,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gi),!js(l)&&js(document.documentElement)})}const Mc=(t,e,l)=>(n,i)=>qu().then(()=>{if(!Al||zf){bc();return}if(n&&wc(Al.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=Al.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},xl(l));Promise.resolve(m).then(d=>{e.set(d)})}hc()}),yc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function Sc(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Tf(t[6],yc)],i={};for(let s=0;s<n.length;s+=1)i=hl(i,n[s]);return{c(){e=_("div"),l=M(t[0]),kn(e,i)},m(s,o){N(s,e,o),a(e,l)},p(s,o){o[0]&1&&Tu(l,s[0],i.contenteditable)},d(s){s&&S(e)}}}function Nc(t){let e,l,n,i,s,o=[qi(t[6]),{"data-svnav-router":t[3]}],f={};for(let d=0;d<o.length;d+=1)f=hl(f,o[d]);const r=t[22].default,c=Qi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&Sc(t);return{c(){e=_("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=el(),kn(e,f)},m(d,p){N(d,e,p),N(d,l,p),c&&c.m(d,p),N(d,n,p),m&&m.m(d,p),N(d,i,p),s=!0},p(d,p){c&&c.p&&(!s||p[0]&2097152)&&$i(c,r,d,d[21],s?Zi(r,d[21],p,null):xi(d[21]),null),d[2]&&d[4]&&d[1].announcements&&m.p(d,p)},i(d){s||($(c,d),s=!0)},o(d){ne(c,d),s=!1},d(d){d&&(S(e),S(l),S(n),S(i)),c&&c.d(d),m&&m.d(d)}}}const Cc=Cf(),Bs="/";function Pc(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Bs}=e,{url:d=null}=e,{history:p=Wf}=e,{primary:b=!0}=e,{a11y:k={}}=e,{disableInlineStyles:g=!1}=e;const w={createAnnouncement:W=>`Navigated to ${W.uri}`,announcements:!0,...k},v=m,C=ts(m),T=ln(Ii),O=ln(wn),P=!T,D=Cc(),I=b&&!(O&&!O.manageFocus),U=il("");Pl(t,U,W=>l(0,f=W));const Y=O?O.disableInlineStyles:g,V=il([]);Pl(t,V,W=>l(20,o=W));const E=il(null);Pl(t,E,W=>l(18,i=W));let A=!1;const H=P?0:O.level+1,K=P?il((()=>Fs(ql?is(d):p.location,C))()):T;Pl(t,K,W=>l(17,n=W));const G=il(n);Pl(t,G,W=>l(19,s=W));const B=Mc(w,U,K),z=W=>x=>x.filter(fe=>fe.id!==W);function ee(W){if(ql){if(A)return;const x=Hf(W,n.pathname);if(x)return A=!0,x}else V.update(x=>{const fe=z(W.id)(x);return fe.push(W),fe})}function le(W){V.update(z(W))}return!P&&m!==Bs&&ci(un,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),P&&(bi(()=>p.listen(x=>{const fe=Fs(x.location,C);G.set(n),K.set(fe)})),Hn(Ii,K)),Hn(wn,{activeRoute:E,registerRoute:ee,unregisterRoute:le,manageFocus:I,level:H,id:D,history:P?p:O.history,basepath:P?C:O.basepath,disableInlineStyles:Y}),t.$$set=W=>{"basepath"in W&&l(11,m=W.basepath),"url"in W&&l(12,d=W.url),"history"in W&&l(13,p=W.history),"primary"in W&&l(14,b=W.primary),"a11y"in W&&l(15,k=W.a11y),"disableInlineStyles"in W&&l(16,g=W.disableInlineStyles),"$$scope"in W&&l(21,c=W.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==v&&ci(un,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const W=Bf(o,n.pathname);E.set(W)}if(t.$$.dirty[0]&655360&&P){const W=!!n.hash,x=!W&&I,fe=!W||n.pathname!==s.pathname;B(x,fe)}t.$$.dirty[0]&262144&&I&&i&&i.primary&&dc({level:H,routerId:D,route:i})},[f,w,P,D,I,U,Y,V,E,K,G,m,d,p,b,k,g,n,i,s,o,c,r]}class Tc extends Et{constructor(e){super(),At(this,e,Pc,Nc,Ct,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Kf=Tc;function $n(t,e,l=wn,n=un){ln(l)||Uf(t,s=>`You cannot use ${s} outside of a ${ns(n)}.`,e)}const Ac=t=>{const{subscribe:e}=ln(t);return{subscribe:e}};function Vf(){return $n(Of),Ac(Ii)}function Gf(){const{history:t}=ln(wn);return t}function Yf(){const t=ln(Ef);return t?Uu(t,e=>e.base):il("/")}function Xf(){$n(Ff);const t=Yf(),{basepath:e}=ln(wn);return n=>oc(n,xl(t),e)}function Ec(){$n(Df);const t=Xf(),{navigate:e}=Gf();return(n,i)=>{const s=Nf(n)?n:t(n);return e(s,i)}}const Lc=t=>({params:t&16,location:t&8}),Hs=t=>({params:ql?xl(t[10]):t[4],location:t[3],navigate:t[11]});function Ws(t){let e,l;return e=new Kf({props:{primary:t[1],$$slots:{default:[Oc]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function qc(t){let e;const l=t[18].default,n=Qi(l,t,t[19],Hs);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&$i(n,l,i,i[19],e?Zi(l,i[19],s,Lc):xi(i[19]),Hs)},i(i){e||($(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function Ic(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},ql?xl(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=hl(c,i[m]);return r!==void 0&&r&7192&&(c=hl(c,Li(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(ql?xl(f[10]):f[4]),r&4096&&ti(f[12])]))),{props:c}}return s&&(e=qs(s,o(t))),{c(){e&&Ne(e.$$.fragment),l=el()},m(f,r){e&&Me(e,f,r),N(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){wt();const c=e;ne(c.$$.fragment,1,0,()=>{ye(c,1)}),Mt()}s?(e=qs(s,o(f,r)),Ne(e.$$.fragment),$(e.$$.fragment,1),Me(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?Li(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(ql?xl(f[10]):f[4]),r&4096&&ti(f[12])]):{};e.$set(c)}},i(f){n||(e&&$(e.$$.fragment,f),n=!0)},o(f){e&&ne(e.$$.fragment,f),n=!1},d(f){f&&S(l),e&&ye(e,f)}}}function Oc(t){let e,l,n,i;const s=[Ic,qc],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=el()},m(r,c){o[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(wt(),ne(o[m],1,1,()=>{o[m]=null}),Mt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),$(l,1),l.m(n.parentNode,n))},i(r){i||($(l),i=!0)},o(r){ne(l),i=!1},d(r){r&&S(n),o[e].d(r)}}}function Dc(t){let e,l,n,i,s,o=[qi(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let d=0;d<o.length;d+=1)f=hl(f,o[d]);let r=t[2]&&Ws(t),c=[qi(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let d=0;d<c.length;d+=1)m=hl(m,c[d]);return{c(){e=_("div"),l=h(),r&&r.c(),n=h(),i=_("div"),kn(e,f),kn(i,m)},m(d,p){N(d,e,p),N(d,l,p),r&&r.m(d,p),N(d,n,p),N(d,i,p),s=!0},p(d,[p]){d[2]?r?(r.p(d,p),p&4&&$(r,1)):(r=Ws(d),r.c(),$(r,1),r.m(n.parentNode,n)):r&&(wt(),ne(r,1,1,()=>{r=null}),Mt())},i(d){s||($(r),s=!0)},o(d){ne(r),s=!1},d(d){d&&(S(e),S(l),S(n),S(i)),r&&r.d(d)}}}const Fc=Cf();function Rc(t,e,l){let n;const i=["path","component","meta","primary"];let s=fi(e,i),o,f,r,c,{$$slots:m={},$$scope:d}=e,{path:p=""}=e,{component:b=null}=e,{meta:k={}}=e,{primary:g=!0}=e;$n(gi,e);const w=Fc(),{registerRoute:v,unregisterRoute:C,activeRoute:T,disableInlineStyles:O}=ln(wn);Pl(t,T,A=>l(16,o=A));const P=Yf();Pl(t,P,A=>l(17,r=A));const D=Vf();Pl(t,D,A=>l(3,f=A));const I=il(null);let U;const Y=il(),V=il({});Pl(t,V,A=>l(4,c=A)),Hn(Ef,Y),Hn(Bu,V),Hn(Hu,I);const E=Ec();return ql||vi(()=>C(w)),t.$$set=A=>{l(24,e=hl(hl({},e),ri(A))),l(12,s=fi(e,i)),"path"in A&&l(13,p=A.path),"component"in A&&l(0,b=A.component),"meta"in A&&l(14,k=A.meta),"primary"in A&&l(1,g=A.primary),"$$scope"in A&&l(19,d=A.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const A=p==="",H=Zn(r,p),j={id:w,path:p,meta:k,default:A,fullPath:A?"":H,base:A?r:ac(H,f.pathname),primary:g,focusElement:I};Y.set(j),l(15,U=v(j))}if(t.$$.dirty&98304&&l(2,n=!!(U||o&&o.id===w)),t.$$.dirty&98308&&n){const{params:A}=U||o;V.set(A)}},e=ri(e),[b,g,n,f,c,w,T,O,P,D,V,E,s,p,k,U,o,r,m,d]}class jc extends Et{constructor(e){super(),At(this,e,Rc,Dc,Ct,{path:13,component:0,meta:14,primary:1})}}const dl=jc;function Uc(t){let e,l,n,i;const s=t[13].default,o=Qi(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=hl(r,f[c]);return{c(){e=_("a"),o&&o.c(),kn(e,r)},m(c,m){N(c,e,m),o&&o.m(e,null),l=!0,n||(i=be(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&$i(o,s,c,c[12],l?Zi(s,c[12],m,null):xi(c[12]),null),kn(e,r=Li(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||($(o,c),l=!0)},o(c){ne(o,c),l=!1},d(c){c&&S(e),o&&o.d(c),n=!1,i()}}}function Bc(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=fi(e,c),d,{$$slots:p={},$$scope:b}=e,{to:k}=e,{replace:g=!1}=e,{state:w={}}=e,{getProps:v=null}=e;$n(ls,e);const C=Vf();Pl(t,C,I=>l(11,d=I));const T=Lu(),O=Xf(),{navigate:P}=Gf();function D(I){T("click",I),Ru(I)&&(I.preventDefault(),P(n,{state:w,replace:o||g}))}return t.$$set=I=>{l(19,e=hl(hl({},e),ri(I))),l(18,m=fi(e,c)),"to"in I&&l(5,k=I.to),"replace"in I&&l(6,g=I.replace),"state"in I&&l(7,w=I.state),"getProps"in I&&l(8,v=I.getProps),"$$scope"in I&&l(12,b=I.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=O(k,d)),t.$$.dirty&2049&&l(10,i=Oi(d.pathname,n)),t.$$.dirty&2049&&l(9,s=n===d.pathname),t.$$.dirty&2049&&(o=is(n)===sc(d)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(Sf(v)){const I=v({location:d,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...I}}return m})())},e=ri(e),[n,r,f,C,D,k,g,w,v,s,i,d,b,p]}class Hc extends Et{constructor(e){super(),At(this,e,Bc,Uc,Ct,{to:5,replace:6,state:7,getProps:8})}}const bl=Hc;function li(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Wc(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function ss(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function Vn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function mi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function ct(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Gn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function Re(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Wn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Vt(t,e){return t==1||t==2&&e}function Ol(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Ht(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Il(t,e){return t.setTime(t.getTime()+e*36e5),t}function zc(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function Kc(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let zs=0;function rn(t,e){zs++;const l=Vc(t);if(!l.length){e&&e(""),setTimeout(rn,1500,t,e);return}const n=l[(zs-1)%l.length];if(!n){setTimeout(rn,1e3,t,e);return}const i=Gc(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(rn,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function Vc(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function Gc(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function ll(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ks(t){return t.startsWith("esp32")?"esp32":t}function fl(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Yn(t,e){let l=[Ht(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Ht(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let tn="[\\x20-\\x7E]+",pi="[\\x20-\\xFF]+",_i="[A-Za-z0-9_\\-]+",Jf="[0-9A-Fa-f]+",Rn="[0-9]+",oi={},Di=[];async function Yc(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function Qf(){if(Di.length){let t=Di.shift();delete oi[t.resource];try{let e=await Yc(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(Qf,100)}Qf();async function Sl(t,e={}){let l;return oi[t]?l=oi[t]:(l={resource:t,options:e,callbacks:[]},oi[t]=l,Di.push(l)),new Promise(i=>l.callbacks.push(i))}let Cl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function ki(){Cl=await(await Sl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ul.set(Cl)}const ul=il(Cl,t=>(ki(),function(){}));function Xc(t){ul.update(e=>(e.trying=t,e))}let zn={c:-1,n:[]};const Vs=new Map;let Jc=0,on=null,di=!1,hn=null,ai=null;async function Qc(){try{const e=await(await Sl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let o=Vs.get(s.s);o===void 0&&(o=Jc++,Vs.set(s.s,o)),l.set(s.s,{...s,_order:o})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);zn={c:n.length,n},hn&&hn(zn)}catch{zn.c<0&&hn&&hn({c:-1,n:[]})}finally{ai=null}}function Zc(){return ai||(ai=Qc()),ai}function Zf(t=0){di&&(on&&clearTimeout(on),on=setTimeout(()=>{on=null,Zc()},Math.max(0,t)))}let ni=0,Gs=-127,Ys=null,$c={};const xc=Af($c,t=>{let e,l,n=!1;async function i(){Sl("data.json").then(s=>s.json()).then(s=>{t(s),Gs!=s.t&&(Gs=s.t,setTimeout(e0,2e3)),Ys==null&&s.pe&&s.p!=null&&(Ys=s.p,xf()),(!Cl||!Cl.chip||Cl.booting||ni>1&&!Wn(Cl.board))&&(ki(),El&&clearTimeout(El),El=setTimeout(ji,2e3),Ll&&clearTimeout(Ll),Ll=setTimeout(Bi,3e3)),s.u,El||(El=ji()),Ll||(Ll=Bi());let o=5e3;if(Wn(Cl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),ni=0,di&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Zf(0)}))}).catch(s=>{ni++,ni>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(rn,5e3,Cl,Xc))):e=setTimeout(i,Wn(Cl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Fi={},Un;const os=il(Fi);async function $f(){let t=!1;os.update(e=>{for(var l=0;l<36;l++){if(e[ct(l)]==null){t=l<12;break}e[ct(l)]=e[ct(l+1)]}return e}),t?xf():Un=setTimeout($f,(60-new Date().getMinutes())*6e4)}async function xf(){Un&&(clearTimeout(Un),Un=0),Fi=await(await Sl("energyprice.json")).json(),os.set(Fi),Un=setTimeout($f,(60-new Date().getMinutes())*6e4)}let Ri={},El;async function ji(){El&&(clearTimeout(El),El=0),Ri=await(await Sl("dayplot.json")).json(),eu.set(Ri),El=setTimeout(ji,(60-new Date().getMinutes())*6e4+20)}const eu=il(Ri,t=>function(){});let Ui={},Ll;async function Bi(){Ll&&(clearTimeout(Ll),Ll=0),Ui=await(await Sl("monthplot.json")).json(),tu.set(Ui),Ll=setTimeout(Bi,(24-new Date().getHours())*36e5+40)}const tu=il(Ui,t=>function(){});let Hi={};async function e0(){Hi=await(await Sl("temperature.json")).json(),lu.set(Hi)}const lu=il(Hi,t=>function(){});let Wi={},ii;async function nu(){ii&&(clearTimeout(ii),ii=0),Wi=await(await Sl("tariff.json")).json(),iu.set(Wi),ii=setTimeout(nu,(60-new Date().getMinutes())*6e4+30)}const iu=il(Wi,t=>function(){}),su=il(zn,t=>(hn=t,di=!0,t(zn),Zf(0),function(){di=!1,hn=null,on&&(clearTimeout(on),on=null)}));let zi=!1;const Nl=il(zi);async function hi(t){zi=await(await Sl("translations.json"+(t?"?lang="+t:""))).json(),Nl.set(zi)}hi();const as="/neas_logotype_white.svg",ou="/wifi-low-light.svg",au="/wifi-medium-light.svg",ru="/wifi-high-light.svg",fu="/wifi-off-light.svg";function Xs(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function uu(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Js(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?a0:c[2]>0?o0:c[3]>1?s0:c[3]>0?i0:c[4]>1?n0:c[4]>0?l0:t0}let o=s(t),f=o(t);return{c(){l=M(e),n=h(),f.c(),i=el()},m(c,m){N(c,l,m),N(c,n,m),f.m(c,m),N(c,i,m)},p(c,m){var d;m&2&&e!==(e=(((d=c[1].header)==null?void 0:d.uptime)??"Up")+"")&&L(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(S(l),S(n),S(i)),f.d(c)}}}function t0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=M(t[0]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&1&&L(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function l0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=M(t[4]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&16&&L(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function n0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=M(t[4]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&16&&L(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function i0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=M(t[3]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&8&&L(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function s0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=M(t[3]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&8&&L(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function o0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=M(t[2]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&4&&L(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function a0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=M(t[2]),l=h(),i=M(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&4&&L(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&L(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function r0(t){let e,l=t[0]&&Js(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Js(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:je,o:je,d(n){n&&S(e),l&&l.d(n)}}}function f0(t,e,l){let{epoch:n}=e,i={};Nl.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class u0 extends Et{constructor(e){super(),At(this,e,f0,r0,Ct,{epoch:0})}}function c0(t){let e,l,n;return{c(){e=_("span"),l=M(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){N(i,e,s),a(e,l)},p(i,[s]){s&4&&L(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:je,o:je,d(i){i&&S(e)}}}function m0(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Xn extends Et{constructor(e){super(),At(this,e,m0,c0,Ct,{color:0,title:1,text:2})}}function p0(t){let e,l=`${ct(t[0].getDate())}.${ct(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,n;return{c(){e=_("span"),n=M(l),u(e,"class",t[1])},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${ct(i[0].getDate())}.${ct(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&L(n,l),s&2&&u(e,"class",i[1])},d(i){i&&S(e)}}}function _0(t){var n;let e=`${ct(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:ct(t[0].getMonth()+1)} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,l;return{c(){l=M(e)},m(i,s){N(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${ct(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:ct(i[0].getMonth()+1)} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&L(l,e)},d(i){i&&S(l)}}}function d0(t){let e;function l(s,o){return s[3]?_0:p0}let n=l(t),i=n(t);return{c(){i.c(),e=el()},m(s,o){i.m(s,o),N(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:je,o:je,d(s){s&&S(e),i.d(s)}}}function h0(t,e,l){let n={};Nl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Il(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class cu extends Et{constructor(e){super(),At(this,e,h0,d0,Ct,{timestamp:0,fullTimeColor:1,offset:4})}}function b0(t){let e,l,n;return{c(){e=yt("svg"),l=yt("path"),n=yt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){N(i,e,s),a(e,l),a(e,n)},p:je,i:je,o:je,d(i){i&&S(e)}}}class v0 extends Et{constructor(e){super(),At(this,e,null,b0,Ct,{})}}function g0(t){let e,l;return{c(){e=yt("svg"),l=yt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){N(n,e,i),a(e,l)},p:je,i:je,o:je,d(n){n&&S(e)}}}class k0 extends Et{constructor(e){super(),At(this,e,null,g0,Ct,{})}}function w0(t){let e,l;return{c(){e=_("img"),u(e,"class","w-36 h-auto"),u(e,"alt","Neas logo"),fn(e.src,l=as)||u(e,"src",l)},m(n,i){N(n,e,i)},p:je,d(n){n&&S(e)}}}function Qs(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=_("div"),n=M(l),i=M("°C"),u(e,"class","flex-none my-auto")},m(s,o){N(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&L(n,l)},d(s){s&&S(e)}}}function Zs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=_("div"),n=M(l),u(e,"class","bd-red")},m(f,r){N(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.han)??"Han-port")+": "+(((d=(m=f[5].errors)==null?void 0:m.han)==null?void 0:d[f[0].he])??f[0].he))&&L(n,l)},d(f){f&&S(e)}}}function $s(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=_("div"),n=M(l),u(e,"class","bd-red")},m(f,r){N(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((d=(m=f[5].errors)==null?void 0:m.mqtt)==null?void 0:d[f[0].me])??f[0].me))&&L(n,l)},d(f){f&&S(e)}}}function xs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=_("div"),n=M(l),u(e,"class","bd-red")},m(f,r){N(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.price)??"PS")+": "+(((d=(m=f[5].errors)==null?void 0:m.price)==null?void 0:d[f[0].ee])??f[0].ee))&&L(n,l)},d(f){f&&S(e)}}}function eo(t){let e,l,n,i,s,o,f,r;return l=new bl({props:{to:"/configuration",$$slots:{default:[M0]},$$scope:{ctx:t}}}),o=new bl({props:{to:"/status",$$slots:{default:[y0]},$$scope:{ctx:t}}}),{c(){var c,m;e=_("div"),Ne(l.$$.fragment),i=h(),s=_("div"),Ne(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){N(c,e,m),Me(l,e,null),N(c,i,m),N(c,s,m),Me(o,s,null),r=!0},p(c,m){var b,k;const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),l.$set(d),(!r||m&32&&n!==(n=((b=c[5].header)==null?void 0:b.config)??""))&&u(e,"title",n);const p={};m&512&&(p.$$scope={dirty:m,ctx:c}),o.$set(p),(!r||m&32&&f!==(f=((k=c[5].header)==null?void 0:k.status)??""))&&u(s,"title",f)},i(c){r||($(l.$$.fragment,c),$(o.$$.fragment,c),r=!0)},o(c){ne(l.$$.fragment,c),ne(o.$$.fragment,c),r=!1},d(c){c&&(S(e),S(i),S(s)),ye(l),ye(o)}}}function M0(t){let e,l;return e=new v0({}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function y0(t){let e,l;return e=new k0({}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function S0(t){let e,l;function n(o,f){return o[1].security==0||o[0].a?P0:C0}let i=n(t),s=i(t);return{c(){e=_("div"),s.c(),u(e,"class","flex-none mr-3 my-auto"),u(e,"title",l="Ny oppdatering: "+t[1].upgrade.n)},m(o,f){N(o,e,f),s.m(e,null)},p(o,f){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&2&&l!==(l="Ny oppdatering: "+o[1].upgrade.n)&&u(e,"title",l)},d(o){o&&S(e),s.d()}}}function N0(t){let e,l,n,i,s,o,f,r=t[1].upgrade.t+"",c,m,d=t[4].toFixed(1)+"",p,b;return{c(){e=_("div"),l=_("div"),n=_("div"),i=_("div"),i.innerHTML='<svg class="animate-spin text-neas-lightgreen-70" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',s=h(),o=_("span"),f=M("Oppdaterer til "),c=M(r),m=M(", "),p=M(d),b=M("%"),u(i,"class","w-4 h-4"),u(o,"class","text-sm font-medium text-neas-lightgreen-70"),u(n,"class","flex items-center gap-2"),u(l,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm"),u(e,"class","flex-none mr-3 my-auto")},m(k,g){N(k,e,g),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(o,f),a(o,c),a(o,m),a(o,p),a(o,b)},p(k,g){g&2&&r!==(r=k[1].upgrade.t+"")&&L(c,r),g&16&&d!==(d=k[4].toFixed(1)+"")&&L(p,d)},d(k){k&&S(e)}}}function C0(t){let e,l,n,i,s,o="Ny oppdatering",f,r,c=t[1].upgrade.n+"",m;return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=h(),s=_("span"),f=M(o),r=M(": "),m=M(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm")},m(d,p){N(d,e,p),a(e,l),a(l,n),a(l,i),a(l,s),a(s,f),a(s,r),a(s,m)},p(d,p){p&2&&c!==(c=d[1].upgrade.n+"")&&L(m,c)},d(d){d&&S(e)}}}function P0(t){let e,l,n,i,s,o="Ny oppdatering",f,r,c=t[1].upgrade.n+"",m,d,p;return{c(){e=_("button"),l=_("div"),n=_("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>',i=h(),s=_("span"),f=M(o),r=M(": "),m=M(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 hover:bg-neas-lightgreen-50/30 border border-neas-lightgreen-70/30 hover:border-neas-lightgreen-70/50 rounded-full px-4 py-2 backdrop-blur-sm transition-all duration-200 hover:shadow-sm")},m(b,k){N(b,e,k),a(e,l),a(l,n),a(l,i),a(l,s),a(s,f),a(s,r),a(s,m),d||(p=be(e,"click",t[6]),d=!0)},p(b,k){k&2&&c!==(c=b[1].upgrade.n+"")&&L(m,c)},d(b){b&&S(e),d=!1,p()}}}function T0(t){let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D,I,U,Y,V,E,A;i=new bl({props:{to:"/",class:"flex items-center",$$slots:{default:[w0]},$$scope:{ctx:t}}}),r=new u0({props:{epoch:t[0].u}});let H=t[0].t>-50&&Qs(t);p=new Xn({props:{title:"Han-port",text:"Han-port",color:li(t[1].booting?9:t[0].hm)}}),k=new Xn({props:{title:"Minside",text:"Minside",color:li(t[1].booting?9:t[0].mm)}});let j=(t[0].he<0||t[0].he>0)&&Zs(t),K=t[0].me<0&&$s(t),G=(t[0].ee>0||t[0].ee<0)&&xs(t);Y=new cu({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let B=t[1].vndcfg&&t[1].usrcfg&&eo(t);function z(W,x){if(W[1].upgrading)return N0;if(W[1].fwconsent===1&&W[1].upgrade.n)return S0}let ee=z(t),le=ee&&ee(t);return{c(){e=_("nav"),l=_("div"),n=_("div"),Ne(i.$$.fragment),s=h(),o=_("div"),f=_("div"),Ne(r.$$.fragment),c=h(),H&&H.c(),m=h(),d=_("div"),Ne(p.$$.fragment),b=h(),Ne(k.$$.fragment),g=h(),j&&j.c(),w=h(),K&&K.c(),v=h(),G&&G.c(),C=h(),T=_("div"),O=_("div"),P=_("img"),I=h(),U=_("div"),Ne(Y.$$.fragment),V=h(),B&&B.c(),E=h(),le&&le.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(d,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(P,"class","h-10 w-10"),fn(P.src,D=t[2])||u(P,"src",D),u(P,"alt",t[3]),u(O,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(U,"class","flex-none my-auto px-2"),u(T,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(W,x){N(W,e,x),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,f),Me(r,f,null),a(o,c),H&&H.m(o,null),a(l,m),a(l,d),Me(p,d,null),a(d,b),Me(k,d,null),a(l,g),j&&j.m(l,null),a(l,w),K&&K.m(l,null),a(l,v),G&&G.m(l,null),a(l,C),a(l,T),a(T,O),a(O,P),a(T,I),a(T,U),Me(Y,U,null),a(T,V),B&&B.m(T,null),a(T,E),le&&le.m(T,null),A=!0},p(W,[x]){const fe={};x&512&&(fe.$$scope={dirty:x,ctx:W}),i.$set(fe);const se={};x&1&&(se.epoch=W[0].u),r.$set(se),W[0].t>-50?H?H.p(W,x):(H=Qs(W),H.c(),H.m(o,null)):H&&(H.d(1),H=null);const ue={};x&3&&(ue.color=li(W[1].booting?9:W[0].hm)),p.$set(ue);const ce={};x&3&&(ce.color=li(W[1].booting?9:W[0].mm)),k.$set(ce),W[0].he<0||W[0].he>0?j?j.p(W,x):(j=Zs(W),j.c(),j.m(l,w)):j&&(j.d(1),j=null),W[0].me<0?K?K.p(W,x):(K=$s(W),K.c(),K.m(l,v)):K&&(K.d(1),K=null),W[0].ee>0||W[0].ee<0?G?G.p(W,x):(G=xs(W),G.c(),G.m(l,C)):G&&(G.d(1),G=null),(!A||x&4&&!fn(P.src,D=W[2]))&&u(P,"src",D),(!A||x&8)&&u(P,"alt",W[3]);const te={};x&1&&(te.timestamp=W[0].c?new Date(W[0].c*1e3):new Date(0)),x&2&&(te.offset=W[1].clock_offset),Y.$set(te),W[1].vndcfg&&W[1].usrcfg?B?(B.p(W,x),x&2&&$(B,1)):(B=eo(W),B.c(),$(B,1),B.m(T,E)):B&&(wt(),ne(B,1,1,()=>{B=null}),Mt()),ee===(ee=z(W))&&le?le.p(W,x):(le&&le.d(1),le=ee&&ee(W),le&&(le.c(),le.m(T,null)))},i(W){A||($(i.$$.fragment,W),$(r.$$.fragment,W),$(p.$$.fragment,W),$(k.$$.fragment,W),$(Y.$$.fragment,W),$(B),A=!0)},o(W){ne(i.$$.fragment,W),ne(r.$$.fragment,W),ne(p.$$.fragment,W),ne(k.$$.fragment,W),ne(Y.$$.fragment,W),ne(B),A=!1},d(W){W&&S(e),ye(i),ye(r),H&&H.d(),ye(p),ye(k),j&&j.d(),K&&K.d(),G&&G.d(),ye(Y),B&&B.d(),le&&le.d()}}}function A0(t,e,l){const n={high:ru,medium:au,low:ou,off:fu};let i=n.off,s="Wi-Fi offline",{basepath:o="/"}=e,{data:f={}}=e,r={};function c(){var p;confirm((((p=d.header)==null?void 0:p.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(uu(r.upgrade.n),ul.update(b=>(b.upgrade.t=r.upgrade.n,b.upgrade.p=0,b.upgrading=!0,b)))}let m;ul.subscribe(p=>{l(1,r=p)});let d={};return Nl.subscribe(p=>{l(5,d=p)}),t.$$set=p=>{"basepath"in p&&l(7,o=p.basepath),"data"in p&&l(0,f=p.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:p,label:b}=Gn(f==null?void 0:f.r);l(2,i=n[p]??n.off),l(3,s=b)}},[f,r,i,s,m,d,c,o]}class E0 extends Et{constructor(e){super(),At(this,e,A0,T0,Ct,{basepath:7,data:0})}}function L0(t){let e,l,n,i;return{c(){e=yt("svg"),l=yt("path"),n=yt("path"),u(l,"d",Ti(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ti(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){N(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ti(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:je,o:je,d(s){s&&S(e)}}}function to(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ti(t,e,l,n,i){var s=to(t,e,l,i),o=to(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function q0(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class I0 extends Et{constructor(e){super(),At(this,e,q0,L0,Ct,{pct:0,color:1})}}function lo(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=_("br"),l=h(),n=_("span"),s=M(i),o=h(),f=_("span"),c=M(r),m=M("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(d,p){N(d,e,p),N(d,l,p),N(d,n,p),a(n,s),N(d,o,p),N(d,f,p),a(f,c),a(f,m)},p(d,p){p&2&&i!==(i=d[1][0]+"")&&L(s,i),p&2&&r!==(r=d[1][1]+"")&&L(c,r)},d(d){d&&(S(e),S(l),S(n),S(o),S(f))}}}function O0(t){let e,l,n,i,s,o,f,r,c,m,d=t[3][0]+"",p,b,k,g=t[3][1]+"",w,v,C;l=new I0({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let T=t[1]&&lo(t);return{c(){e=_("div"),Ne(l.$$.fragment),n=h(),i=_("span"),s=_("span"),o=M(t[0]),f=h(),r=_("br"),c=h(),m=_("span"),p=M(d),b=h(),k=_("span"),w=M(g),v=h(),T&&T.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(k,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(O,P){N(O,e,P),Me(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,p),a(i,b),a(i,k),a(k,w),a(i,v),T&&T.m(i,null),C=!0},p(O,[P]){const D={};P&16&&(D.pct=O[4]),P&20&&(D.color=O[2](O[4],document.documentElement.classList.contains("dark"))),l.$set(D),(!C||P&1)&&L(o,O[0]),(!C||P&8)&&d!==(d=O[3][0]+"")&&L(p,d),(!C||P&8)&&g!==(g=O[3][1]+"")&&L(w,g),O[1]?T?T.p(O,P):(T=lo(O),T.c(),T.m(i,null)):T&&(T.d(1),T=null)},i(O){C||($(l.$$.fragment,O),C=!0)},o(O){ne(l.$$.fragment,O),C=!1},d(O){O&&S(e),ye(l),T&&T.d()}}}function D0(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=d=>{"val"in d&&l(5,n=d.val),"max"in d&&l(6,i=d.max),"unit"in d&&l(7,s=d.unit),"label"in d&&l(0,o=d.label),"sub"in d&&l(1,f=d.sub),"colorFn"in d&&l(2,r=d.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=fl(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class mu extends Et{constructor(e){super(),At(this,e,D0,O0,Ct,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function no(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function io(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function so(t,e,l){const n=t.slice();return n[15]=e[l],n}function oo(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&ao(t),c=We(t[0].y.ticks),m=[];for(let g=0;g<c.length;g+=1)m[g]=co(so(t,c,g));let d=We(t[0].x.ticks),p=[];for(let g=0;g<d.length;g+=1)p[g]=_o(io(t,d,g));let b=We(t[0].points),k=[];for(let g=0;g<b.length;g+=1)k[g]=yo(no(t,b,g));return{c(){r&&r.c(),e=h(),l=yt("svg"),n=yt("g");for(let g=0;g<m.length;g+=1)m[g].c();i=yt("g");for(let g=0;g<p.length;g+=1)p[g].c();s=yt("g");for(let g=0;g<k.length;g+=1)k[g].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(g,w){r&&r.m(g,w),N(g,e,w),N(g,l,w),a(l,n);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(n,null);a(l,i);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(i,null);a(l,s);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(s,null);f=!0},p(g,w){if(g[0].title||g[0].link?r?(r.p(g,w),w&1&&$(r,1)):(r=ao(g),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(wt(),ne(r,1,1,()=>{r=null}),Mt()),w&129){c=We(g[0].y.ticks);let v;for(v=0;v<c.length;v+=1){const C=so(g,c,v);m[v]?m[v].p(C,w):(m[v]=co(C),m[v].c(),m[v].m(n,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=c.length}if(w&89){d=We(g[0].x.ticks);let v;for(v=0;v<d.length;v+=1){const C=io(g,d,v);p[v]?p[v].p(C,w):(p[v]=_o(C),p[v].c(),p[v].m(i,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=d.length}if(w&457){b=We(g[0].points);let v;for(v=0;v<b.length;v+=1){const C=no(g,b,v);k[v]?k[v].p(C,w):(k[v]=yo(C),k[v].c(),k[v].m(s,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=b.length}(!f||w&18&&o!==(o="0 0 "+g[1]+" "+g[4]))&&u(l,"viewBox",o)},i(g){f||($(r),f=!0)},o(g){ne(r),f=!1},d(g){g&&(S(e),S(l)),r&&r.d(g),Gt(m,g),Gt(p,g),Gt(k,g)}}}function ao(t){let e,l,n,i=t[0].title&&ro(t),s=t[0].link&&fo(t);return{c(){e=_("div"),i&&i.c(),l=h(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){N(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=ro(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&$(s,1)):(s=fo(o),s.c(),$(s,1),s.m(e,null)):s&&(wt(),ne(s,1,1,()=>{s=null}),Mt())},i(o){n||($(s),n=!0)},o(o){ne(s),n=!1},d(o){o&&S(e),i&&i.d(),s&&s.d()}}}function ro(t){let e,l=t[0].title+"",n,i;return{c(){e=_("div"),n=M(l),u(e,"class","text-sm font-bold"),Yt(()=>t[9].call(e))},m(s,o){N(s,e,o),a(e,n),i=es(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&L(n,l)},d(s){s&&S(e),i()}}}function fo(t){let e,l,n,i;const s=[R0,F0],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=_("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){N(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(wt(),ne(o[m],1,1,()=>{o[m]=null}),Mt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),$(n,1),n.m(e,null))},i(r){i||($(n),i=!0)},o(r){ne(n),i=!1},d(r){r&&S(e),o[l].d()}}}function F0(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=_("a"),n=M(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){N(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&L(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:je,o:je,d(o){o&&S(e)}}}function R0(t){let e,l;return e=new bl({props:{to:t[0].link.url,$$slots:{default:[j0]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function j0(t){let e=t[0].link.text+"",l;return{c(){l=M(e)},m(n,i){N(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&L(l,e)},d(n){n&&S(l)}}}function uo(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=yt("g"),l=yt("line"),n=yt("text"),s=M(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&L(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&S(e)}}}function co(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&uo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=uo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function mo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&po(t);return{c(){e=yt("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){N(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=po(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&S(e),n&&n.d()}}}function po(t){let e,l=t[11].label+"",n,i;return{c(){e=yt("text"),n=M(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){N(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&L(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&S(e)}}}function _o(t){let e=!isNaN(t[6](t[13])),l,n=e&&mo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=mo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function ho(t){let e,l,n=t[11].value!==void 0&&bo(t),i=t[11].value2>1e-4&&ko(t);return{c(){e=yt("g"),n&&n.c(),l=yt("g"),i&&i.c()},m(s,o){N(s,e,o),n&&n.m(e,null),N(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=bo(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=ko(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(S(e),S(l)),n&&n.d(),i&&i.d()}}}function bo(t){let e,l,n,i,s,o,f,r=t[3]>15&&vo(t);return{c(){e=yt("rect"),r&&r.c(),f=el(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=vo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function vo(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&go(t);return{c(){e=yt("text"),n=M(l),c&&c.c(),r=el(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<an||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<an?90:0)+")")},m(m,d){N(m,e,d),a(e,n),c&&c.m(m,d),N(m,r,d)},p(m,d){d&1&&l!==(l=m[11].label+"")&&L(n,l),d&8&&i!==(i=m[3]-4)&&u(e,"width",i),d&9&&s!==(s=m[3]<an||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),d&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),d&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<an?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,d):(c=go(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(S(e),S(r)),c&&c.d(m)}}}function go(t){let e,l=t[11].title+"",n;return{c(){e=yt("title"),n=M(l)},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&L(n,l)},d(i){i&&S(e)}}}function ko(t){let e,l,n,i,s,o,f,r=t[3]>15&&wo(t);return{c(){e=yt("rect"),r&&r.c(),f=el(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=wo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function wo(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&Mo(t);return{c(){e=yt("text"),n=M(l),r&&r.c(),f=el(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<an?90:0)+")")},m(c,m){N(c,e,m),a(e,n),r&&r.m(c,m),N(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&L(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<an?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=Mo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function Mo(t){let e,l=t[11].title2+"",n;return{c(){e=yt("title"),n=M(l)},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&L(n,l)},d(i){i&&S(e)}}}function yo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&ho(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=ho(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function U0(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&oo(t);return{c(){e=_("div"),i&&i.c(),u(e,"class","chart"),Yt(()=>t[10].call(e))},m(s,o){N(s,e,o),i&&i.m(e,null),l=es(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&$(i,1)):(i=oo(s),i.c(),$(i,1),i.m(e,null)):i&&(wt(),ne(i,1,1,()=>{i=null}),Mt())},i(s){n||($(i),n=!0)},o(s){ne(i),n=!1},d(s){s&&S(e),i&&i.d(),l()}}}let an=30;function B0(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,d=0;function p(){d=this.clientHeight,l(5,d)}function b(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=k=>{"config"in k&&l(0,n=k.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-d);let k=i-(n.padding.left+n.padding.right);l(3,o=k/n.points.length),l(8,m=o<an?30:15);let g=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(w){return w*o+n.padding.left}),l(7,r=function(w){let v=0;return w>n.y.max?v=n.padding.bottom:w<n.y.min?v=c-n.padding.bottom:v=c-n.padding.bottom-(w-n.y.min)*g,v>c||v<0?0:v})}},[n,i,s,o,c,d,f,r,m,p,b]}class cn extends Et{constructor(e){super(),At(this,e,B0,U0,Ct,{config:0})}}function H0(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function W0(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Ht(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:Wc(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],d=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),d.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),d.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),d.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:d})}},[r,n,i,s,o,f]}class z0 extends Et{constructor(e){super(),At(this,e,W0,H0,Ct,{title:1,u1:2,u2:3,u3:4,ds:5})}}function K0(t){var F,X,oe,ie,_e;let e,l,n=(((F=t[0].reactive)==null?void 0:F.title)??"Reactive")+"",i,s,o,f,r=(((X=t[0].reactive)==null?void 0:X.instant_in)??"Instant in")+"",c,m,d,p=t[1][0]+"",b,k,g=t[1][1]+"",w,v,C,T=(((oe=t[0].reactive)==null?void 0:oe.instant_out)??"Instant out")+"",O,P,D,I=t[2][0]+"",U,Y,V=t[2][1]+"",E,A,H,j,K=(((ie=t[0].reactive)==null?void 0:ie.total_in)??"Total in")+"",G,B,z,ee=t[3][0]+"",le,W,x=t[3][1]+"",fe,se,ue,ce=(((_e=t[0].reactive)==null?void 0:_e.total_out)??"Total out")+"",te,Z,Q,ve=t[4][0]+"",Se,q,y=t[4][1]+"",R;return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("div"),f=_("div"),c=M(r),m=h(),d=_("div"),b=M(p),k=h(),w=M(g),v=h(),C=_("div"),O=M(T),P=h(),D=_("div"),U=M(I),Y=h(),E=M(V),A=h(),H=_("div"),j=_("div"),G=M(K),B=h(),z=_("div"),le=M(ee),W=h(),fe=M(x),se=h(),ue=_("div"),te=M(ce),Z=h(),Q=_("div"),Se=M(ve),q=h(),R=M(y),u(d,"class","text-right"),u(D,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(z,"class","text-right"),u(Q,"class","text-right"),u(H,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(me,ae){N(me,e,ae),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,b),a(d,k),a(d,w),a(o,v),a(o,C),a(C,O),a(o,P),a(o,D),a(D,U),a(D,Y),a(D,E),a(e,A),a(e,H),a(H,j),a(j,G),a(H,B),a(H,z),a(z,le),a(z,W),a(z,fe),a(H,se),a(H,ue),a(ue,te),a(H,Z),a(H,Q),a(Q,Se),a(Q,q),a(Q,R)},p(me,[ae]){var ke,ge,Ee,qe,Ue;ae&1&&n!==(n=(((ke=me[0].reactive)==null?void 0:ke.title)??"Reactive")+"")&&L(i,n),ae&1&&r!==(r=(((ge=me[0].reactive)==null?void 0:ge.instant_in)??"Instant in")+"")&&L(c,r),ae&2&&p!==(p=me[1][0]+"")&&L(b,p),ae&2&&g!==(g=me[1][1]+"")&&L(w,g),ae&1&&T!==(T=(((Ee=me[0].reactive)==null?void 0:Ee.instant_out)??"Instant out")+"")&&L(O,T),ae&4&&I!==(I=me[2][0]+"")&&L(U,I),ae&4&&V!==(V=me[2][1]+"")&&L(E,V),ae&1&&K!==(K=(((qe=me[0].reactive)==null?void 0:qe.total_in)??"Total in")+"")&&L(G,K),ae&8&&ee!==(ee=me[3][0]+"")&&L(le,ee),ae&8&&x!==(x=me[3][1]+"")&&L(fe,x),ae&1&&ce!==(ce=(((Ue=me[0].reactive)==null?void 0:Ue.total_out)??"Total out")+"")&&L(te,ce),ae&16&&ve!==(ve=me[4][0]+"")&&L(Se,ve),ae&16&&y!==(y=me[4][1]+"")&&L(R,y)},i:je,o:je,d(me){me&&S(e)}}}function V0(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,d;return t.$$set=p=>{"importInstant"in p&&l(5,n=p.importInstant),"exportInstant"in p&&l(6,i=p.exportInstant),"importTotal"in p&&l(7,s=p.importTotal),"exportTotal"in p&&l(8,o=p.exportTotal),"translations"in p&&l(0,f=p.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=fl(n,"VAr")),l(2,c=fl(i,"VAr")),l(3,m=fl(s*1e3,"VArh")),l(4,d=fl(o*1e3,"VArh")))},[f,r,c,m,d,n,i,s,o]}class G0 extends Et{constructor(e){super(),At(this,e,V0,K0,Ct,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function So(t){let e;function l(s,o){return s[3]?X0:Y0}let n=l(t),i=n(t);return{c(){i.c(),e=el()},m(s,o){i.m(s,o),N(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&S(e),i.d(s)}}}function Y0(t){var X,oe,ie,_e,me;let e,l=(((X=t[4].realtime)==null?void 0:X.consumption)??"Consumption")+"",n,i,s,o,f=ll(((oe=t[4].common)==null?void 0:oe.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",p,b,k=t[6][1]+"",g,w,v,C=ll(((ie=t[4].common)==null?void 0:ie.day)??"Day")+"",T,O,P,D=t[7][0]+"",I,U,Y=t[7][1]+"",V,E,A,H=ll(((_e=t[4].common)==null?void 0:_e.month)??"Month")+"",j,K,G,B=t[8][0]+"",z,ee,le=t[8][1]+"",W,x,fe,se=(((me=t[4].realtime)==null?void 0:me.last_month)??"Last month")+"",ue,ce,te,Z=t[9][0]+"",Q,ve,Se=t[9][1]+"",q,y,R,F=t[5]&&No(t);return{c(){e=_("strong"),n=M(l),i=h(),s=_("div"),o=_("div"),r=M(f),c=h(),m=_("div"),p=M(d),b=h(),g=M(k),w=h(),v=_("div"),T=M(C),O=h(),P=_("div"),I=M(D),U=h(),V=M(Y),E=h(),A=_("div"),j=M(H),K=h(),G=_("div"),z=M(B),ee=h(),W=M(le),x=h(),fe=_("div"),ue=M(se),ce=h(),te=_("div"),Q=M(Z),ve=h(),q=M(Se),y=h(),F&&F.c(),R=el(),u(m,"class","text-right"),u(P,"class","text-right"),u(G,"class","text-right"),u(te,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(ae,ke){N(ae,e,ke),a(e,n),N(ae,i,ke),N(ae,s,ke),a(s,o),a(o,r),a(s,c),a(s,m),a(m,p),a(m,b),a(m,g),a(s,w),a(s,v),a(v,T),a(s,O),a(s,P),a(P,I),a(P,U),a(P,V),a(s,E),a(s,A),a(A,j),a(s,K),a(s,G),a(G,z),a(G,ee),a(G,W),a(s,x),a(s,fe),a(fe,ue),a(s,ce),a(s,te),a(te,Q),a(te,ve),a(te,q),N(ae,y,ke),F&&F.m(ae,ke),N(ae,R,ke)},p(ae,ke){var ge,Ee,qe,Ue,ze;ke&16&&l!==(l=(((ge=ae[4].realtime)==null?void 0:ge.consumption)??"Consumption")+"")&&L(n,l),ke&16&&f!==(f=ll(((Ee=ae[4].common)==null?void 0:Ee.hour)??"Hour")+"")&&L(r,f),ke&64&&d!==(d=ae[6][0]+"")&&L(p,d),ke&64&&k!==(k=ae[6][1]+"")&&L(g,k),ke&16&&C!==(C=ll(((qe=ae[4].common)==null?void 0:qe.day)??"Day")+"")&&L(T,C),ke&128&&D!==(D=ae[7][0]+"")&&L(I,D),ke&128&&Y!==(Y=ae[7][1]+"")&&L(V,Y),ke&16&&H!==(H=ll(((Ue=ae[4].common)==null?void 0:Ue.month)??"Month")+"")&&L(j,H),ke&256&&B!==(B=ae[8][0]+"")&&L(z,B),ke&256&&le!==(le=ae[8][1]+"")&&L(W,le),ke&16&&se!==(se=(((ze=ae[4].realtime)==null?void 0:ze.last_month)??"Last month")+"")&&L(ue,se),ke&512&&Z!==(Z=ae[9][0]+"")&&L(Q,Z),ke&512&&Se!==(Se=ae[9][1]+"")&&L(q,Se),ae[5]?F?F.p(ae,ke):(F=No(ae),F.c(),F.m(R.parentNode,R)):F&&(F.d(1),F=null)},d(ae){ae&&(S(e),S(i),S(s),S(y),S(R)),F&&F.d(ae)}}}function X0(t){var it,Ke,ol,Qt,tl,pl,al,Zt,$t,cl;let e,l=(((it=t[4].common)==null?void 0:it.import)??"Import")+"",n,i,s,o,f=ll(((Ke=t[4].common)==null?void 0:Ke.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",p,b,k=t[6][1]+"",g,w,v,C,T=ll(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",O,P,D,I=t[7][0]+"",U,Y,V=t[7][1]+"",E,A,H,j,K=ll(((Qt=t[4].common)==null?void 0:Qt.month)??"Month")+"",G,B,z,ee=t[8][0]+"",le,W,x=t[8][1]+"",fe,se,ue,ce,te=(((tl=t[4].realtime)==null?void 0:tl.last_mo)??"Last mo.")+"",Z,Q,ve,Se=t[9][0]+"",q,y,R=t[9][1]+"",F,X,oe,ie,_e,me=(((pl=t[4].common)==null?void 0:pl.export)??"Export")+"",ae,ke,ge,Ee,qe=ll(((al=t[4].common)==null?void 0:al.hour)??"Hour")+"",Ue,ze,Xe,Ze=t[10][0]+"",Le,tt,re=t[10][1]+"",Ce,lt,bt,mt,$e=ll(((Zt=t[4].common)==null?void 0:Zt.day)??"Day")+"",rt,Wt,pt,Lt=t[11][0]+"",Pt,qt,et=t[11][1]+"",_t,Pe,Be,Qe,Je=ll((($t=t[4].common)==null?void 0:$t.month)??"Month")+"",he,De,Tt,It=t[12][0]+"",vt,He,ut=t[12][1]+"",xe,Ot,zt,Ve,we=(((cl=t[4].realtime)==null?void 0:cl.last_mo)??"Last mo.")+"",Te,Ge,nt,ot=t[13][0]+"",dt,Xt,jt=t[13][1]+"",Ft,sl,Dt,Ye=t[5]&&Co(t),Ut=t[5]&&Po(t),Jt=t[5]&&To(t),gt=t[5]&&Ao(t),ft=t[5]&&Eo(t),St=t[5]&&Lo(t),Kt=t[5]&&qo(t),de=t[5]&&Io(t);return{c(){e=_("strong"),n=M(l),i=h(),s=_("div"),o=_("div"),r=M(f),c=h(),m=_("div"),p=M(d),b=h(),g=M(k),w=h(),Ye&&Ye.c(),v=h(),C=_("div"),O=M(T),P=h(),D=_("div"),U=M(I),Y=h(),E=M(V),A=h(),Ut&&Ut.c(),H=h(),j=_("div"),G=M(K),B=h(),z=_("div"),le=M(ee),W=h(),fe=M(x),se=h(),Jt&&Jt.c(),ue=h(),ce=_("div"),Z=M(te),Q=h(),ve=_("div"),q=M(Se),y=h(),F=M(R),X=h(),gt&&gt.c(),ie=h(),_e=_("strong"),ae=M(me),ke=h(),ge=_("div"),Ee=_("div"),Ue=M(qe),ze=h(),Xe=_("div"),Le=M(Ze),tt=h(),Ce=M(re),lt=h(),ft&&ft.c(),bt=h(),mt=_("div"),rt=M($e),Wt=h(),pt=_("div"),Pt=M(Lt),qt=h(),_t=M(et),Pe=h(),St&&St.c(),Be=h(),Qe=_("div"),he=M(Je),De=h(),Tt=_("div"),vt=M(It),He=h(),xe=M(ut),Ot=h(),Kt&&Kt.c(),zt=h(),Ve=_("div"),Te=M(we),Ge=h(),nt=_("div"),dt=M(ot),Xt=h(),Ft=M(jt),sl=h(),de&&de.c(),u(m,"class","text-right"),u(D,"class","text-right"),u(z,"class","text-right"),u(ve,"class","text-right"),u(s,"class",oe="grid grid-cols-"+t[14]+" mb-3"),u(Xe,"class","text-right"),u(pt,"class","text-right"),u(Tt,"class","text-right"),u(nt,"class","text-right"),u(ge,"class",Dt="grid grid-cols-"+t[14])},m(Ae,pe){N(Ae,e,pe),a(e,n),N(Ae,i,pe),N(Ae,s,pe),a(s,o),a(o,r),a(s,c),a(s,m),a(m,p),a(m,b),a(m,g),a(s,w),Ye&&Ye.m(s,null),a(s,v),a(s,C),a(C,O),a(s,P),a(s,D),a(D,U),a(D,Y),a(D,E),a(s,A),Ut&&Ut.m(s,null),a(s,H),a(s,j),a(j,G),a(s,B),a(s,z),a(z,le),a(z,W),a(z,fe),a(s,se),Jt&&Jt.m(s,null),a(s,ue),a(s,ce),a(ce,Z),a(s,Q),a(s,ve),a(ve,q),a(ve,y),a(ve,F),a(s,X),gt&&gt.m(s,null),N(Ae,ie,pe),N(Ae,_e,pe),a(_e,ae),N(Ae,ke,pe),N(Ae,ge,pe),a(ge,Ee),a(Ee,Ue),a(ge,ze),a(ge,Xe),a(Xe,Le),a(Xe,tt),a(Xe,Ce),a(ge,lt),ft&&ft.m(ge,null),a(ge,bt),a(ge,mt),a(mt,rt),a(ge,Wt),a(ge,pt),a(pt,Pt),a(pt,qt),a(pt,_t),a(ge,Pe),St&&St.m(ge,null),a(ge,Be),a(ge,Qe),a(Qe,he),a(ge,De),a(ge,Tt),a(Tt,vt),a(Tt,He),a(Tt,xe),a(ge,Ot),Kt&&Kt.m(ge,null),a(ge,zt),a(ge,Ve),a(Ve,Te),a(ge,Ge),a(ge,nt),a(nt,dt),a(nt,Xt),a(nt,Ft),a(ge,sl),de&&de.m(ge,null)},p(Ae,pe){var Bt,Oe,Nt,rl,vl,gl,kl,wl,Ml,yl;pe&16&&l!==(l=(((Bt=Ae[4].common)==null?void 0:Bt.import)??"Import")+"")&&L(n,l),pe&16&&f!==(f=ll(((Oe=Ae[4].common)==null?void 0:Oe.hour)??"Hour")+"")&&L(r,f),pe&64&&d!==(d=Ae[6][0]+"")&&L(p,d),pe&64&&k!==(k=Ae[6][1]+"")&&L(g,k),Ae[5]?Ye?Ye.p(Ae,pe):(Ye=Co(Ae),Ye.c(),Ye.m(s,v)):Ye&&(Ye.d(1),Ye=null),pe&16&&T!==(T=ll(((Nt=Ae[4].common)==null?void 0:Nt.day)??"Day")+"")&&L(O,T),pe&128&&I!==(I=Ae[7][0]+"")&&L(U,I),pe&128&&V!==(V=Ae[7][1]+"")&&L(E,V),Ae[5]?Ut?Ut.p(Ae,pe):(Ut=Po(Ae),Ut.c(),Ut.m(s,H)):Ut&&(Ut.d(1),Ut=null),pe&16&&K!==(K=ll(((rl=Ae[4].common)==null?void 0:rl.month)??"Month")+"")&&L(G,K),pe&256&&ee!==(ee=Ae[8][0]+"")&&L(le,ee),pe&256&&x!==(x=Ae[8][1]+"")&&L(fe,x),Ae[5]?Jt?Jt.p(Ae,pe):(Jt=To(Ae),Jt.c(),Jt.m(s,ue)):Jt&&(Jt.d(1),Jt=null),pe&16&&te!==(te=(((vl=Ae[4].realtime)==null?void 0:vl.last_mo)??"Last mo.")+"")&&L(Z,te),pe&512&&Se!==(Se=Ae[9][0]+"")&&L(q,Se),pe&512&&R!==(R=Ae[9][1]+"")&&L(F,R),Ae[5]?gt?gt.p(Ae,pe):(gt=Ao(Ae),gt.c(),gt.m(s,null)):gt&&(gt.d(1),gt=null),pe&16384&&oe!==(oe="grid grid-cols-"+Ae[14]+" mb-3")&&u(s,"class",oe),pe&16&&me!==(me=(((gl=Ae[4].common)==null?void 0:gl.export)??"Export")+"")&&L(ae,me),pe&16&&qe!==(qe=ll(((kl=Ae[4].common)==null?void 0:kl.hour)??"Hour")+"")&&L(Ue,qe),pe&1024&&Ze!==(Ze=Ae[10][0]+"")&&L(Le,Ze),pe&1024&&re!==(re=Ae[10][1]+"")&&L(Ce,re),Ae[5]?ft?ft.p(Ae,pe):(ft=Eo(Ae),ft.c(),ft.m(ge,bt)):ft&&(ft.d(1),ft=null),pe&16&&$e!==($e=ll(((wl=Ae[4].common)==null?void 0:wl.day)??"Day")+"")&&L(rt,$e),pe&2048&&Lt!==(Lt=Ae[11][0]+"")&&L(Pt,Lt),pe&2048&&et!==(et=Ae[11][1]+"")&&L(_t,et),Ae[5]?St?St.p(Ae,pe):(St=Lo(Ae),St.c(),St.m(ge,Be)):St&&(St.d(1),St=null),pe&16&&Je!==(Je=ll(((Ml=Ae[4].common)==null?void 0:Ml.month)??"Month")+"")&&L(he,Je),pe&4096&&It!==(It=Ae[12][0]+"")&&L(vt,It),pe&4096&&ut!==(ut=Ae[12][1]+"")&&L(xe,ut),Ae[5]?Kt?Kt.p(Ae,pe):(Kt=qo(Ae),Kt.c(),Kt.m(ge,zt)):Kt&&(Kt.d(1),Kt=null),pe&16&&we!==(we=(((yl=Ae[4].realtime)==null?void 0:yl.last_mo)??"Last mo.")+"")&&L(Te,we),pe&8192&&ot!==(ot=Ae[13][0]+"")&&L(dt,ot),pe&8192&&jt!==(jt=Ae[13][1]+"")&&L(Ft,jt),Ae[5]?de?de.p(Ae,pe):(de=Io(Ae),de.c(),de.m(ge,null)):de&&(de.d(1),de=null),pe&16384&&Dt!==(Dt="grid grid-cols-"+Ae[14])&&u(ge,"class",Dt)},d(Ae){Ae&&(S(e),S(i),S(s),S(ie),S(_e),S(ke),S(ge)),Ye&&Ye.d(),Ut&&Ut.d(),Jt&&Jt.d(),gt&&gt.d(),ft&&ft.d(),St&&St.d(),Kt&&Kt.d(),de&&de.d()}}}function No(t){var Q,ve,Se,q,y,R;let e,l=(((Q=t[4].realtime)==null?void 0:Q.cost)??"Cost")+"",n,i,s,o,f=ll(((ve=t[4].common)==null?void 0:ve.hour)??"Hour")+"",r,c,m,d=Ht(t[1].h.c,2)+"",p,b,k,g,w,v=ll(((Se=t[4].common)==null?void 0:Se.day)??"Day")+"",C,T,O,P=Ht(t[1].d.c,1)+"",D,I,U,Y,V,E=ll(((q=t[4].common)==null?void 0:q.month)??"Month")+"",A,H,j,K=Ht(t[1].m.c)+"",G,B,z,ee,le,W=(((y=t[4].realtime)==null?void 0:y.last_month)??"Last month")+"",x,fe,se,ue=Ht((R=t[0].last_month)==null?void 0:R.c)+"",ce,te,Z;return{c(){e=_("strong"),n=M(l),i=h(),s=_("div"),o=_("div"),r=M(f),c=h(),m=_("div"),p=M(d),b=h(),k=M(t[2]),g=h(),w=_("div"),C=M(v),T=h(),O=_("div"),D=M(P),I=h(),U=M(t[2]),Y=h(),V=_("div"),A=M(E),H=h(),j=_("div"),G=M(K),B=h(),z=M(t[2]),ee=h(),le=_("div"),x=M(W),fe=h(),se=_("div"),ce=M(ue),te=h(),Z=M(t[2]),u(m,"class","text-right"),u(O,"class","text-right"),u(j,"class","text-right"),u(se,"class","text-right"),u(s,"class","grid grid-cols-2")},m(F,X){N(F,e,X),a(e,n),N(F,i,X),N(F,s,X),a(s,o),a(o,r),a(s,c),a(s,m),a(m,p),a(m,b),a(m,k),a(s,g),a(s,w),a(w,C),a(s,T),a(s,O),a(O,D),a(O,I),a(O,U),a(s,Y),a(s,V),a(V,A),a(s,H),a(s,j),a(j,G),a(j,B),a(j,z),a(s,ee),a(s,le),a(le,x),a(s,fe),a(s,se),a(se,ce),a(se,te),a(se,Z)},p(F,X){var oe,ie,_e,me,ae,ke;X&16&&l!==(l=(((oe=F[4].realtime)==null?void 0:oe.cost)??"Cost")+"")&&L(n,l),X&16&&f!==(f=ll(((ie=F[4].common)==null?void 0:ie.hour)??"Hour")+"")&&L(r,f),X&2&&d!==(d=Ht(F[1].h.c,2)+"")&&L(p,d),X&4&&L(k,F[2]),X&16&&v!==(v=ll(((_e=F[4].common)==null?void 0:_e.day)??"Day")+"")&&L(C,v),X&2&&P!==(P=Ht(F[1].d.c,1)+"")&&L(D,P),X&4&&L(U,F[2]),X&16&&E!==(E=ll(((me=F[4].common)==null?void 0:me.month)??"Month")+"")&&L(A,E),X&2&&K!==(K=Ht(F[1].m.c)+"")&&L(G,K),X&4&&L(z,F[2]),X&16&&W!==(W=(((ae=F[4].realtime)==null?void 0:ae.last_month)??"Last month")+"")&&L(x,W),X&1&&ue!==(ue=Ht((ke=F[0].last_month)==null?void 0:ke.c)+"")&&L(ce,ue),X&4&&L(Z,F[2])},d(F){F&&(S(e),S(i),S(s))}}}function Co(t){let e,l=Ht(t[1].h.c,2)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Ht(o[1].h.c,2)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&S(e)}}}function Po(t){let e,l=Ht(t[1].d.c,1)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Ht(o[1].d.c,1)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&S(e)}}}function To(t){let e,l=Ht(t[1].m.c)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Ht(o[1].m.c)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&S(e)}}}function Ao(t){var o;let e,l=Ht((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(f,r){N(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Ht((c=f[0].last_month)==null?void 0:c.c)+"")&&L(n,l),r&4&&L(s,f[2])},d(f){f&&S(e)}}}function Eo(t){let e,l=Ht(t[1].h.i,2)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Ht(o[1].h.i,2)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&S(e)}}}function Lo(t){let e,l=Ht(t[1].d.i,1)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Ht(o[1].d.i,1)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&S(e)}}}function qo(t){let e,l=Ht(t[1].m.i)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Ht(o[1].m.i)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&S(e)}}}function Io(t){var o;let e,l=Ht((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=_("div"),n=M(l),i=h(),s=M(t[2]),u(e,"class","text-right")},m(f,r){N(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Ht((c=f[0].last_month)==null?void 0:c.i)+"")&&L(n,l),r&4&&L(s,f[2])},d(f){f&&S(e)}}}function J0(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&So(t);return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("br"),f=_("br"),r=h(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(d,p){N(d,e,p),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(d,[p]){var b;p&16&&n!==(n=(((b=d[4].realtime)==null?void 0:b.title)??"Real time calculations")+"")&&L(i,n),d[1]?c?c.p(d,p):(c=So(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:je,o:je,d(d){d&&S(e),c&&c.d()}}}function Q0(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,d,p,b,k,g,w=!1,v=3;return t.$$set=C=>{"sysinfo"in C&&l(0,n=C.sysinfo),"data"in C&&l(1,i=C.data),"currency"in C&&l(2,s=C.currency),"hasExport"in C&&l(3,o=C.hasExport),"translations"in C&&l(4,f=C.translations)},t.$$.update=()=>{var C,T,O,P,D,I,U,Y;t.$$.dirty&35&&(l(5,w=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,v=w?3:2),l(6,r=fl(((C=i==null?void 0:i.h)==null?void 0:C.u)*1e3,"Wh")),l(7,c=fl(((T=i==null?void 0:i.d)==null?void 0:T.u)*1e3,"Wh")),l(8,m=fl(((O=i==null?void 0:i.m)==null?void 0:O.u)*1e3,"Wh")),l(9,d=fl(((P=n==null?void 0:n.last_month)==null?void 0:P.u)*1e3,"Wh")),l(10,p=fl(((D=i==null?void 0:i.h)==null?void 0:D.p)*1e3,"Wh")),l(11,b=fl(((I=i==null?void 0:i.d)==null?void 0:I.p)*1e3,"Wh")),l(12,k=fl(((U=i==null?void 0:i.m)==null?void 0:U.p)*1e3,"Wh")),l(13,g=fl(((Y=n==null?void 0:n.last_month)==null?void 0:Y.p)*1e3,"Wh")))},[n,i,s,o,f,w,r,c,m,d,p,b,k,g,v]}class Z0 extends Et{constructor(e){super(),At(this,e,Q0,J0,Ct,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function $0(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function x0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,d=new Date().getUTCHours(),p=0,b=0,k=0,g=[],w=[],v=[];l(5,r=l(4,f=0));let C=new Date;for(Il(C,s.clock_offset-(24+C.getHours()-C.getUTCHours())%24),p=d;p<24&&(b=i[ct(k++)],b!=null);p++)w.push({label:ct(C.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,f=Math.max(f,b*100)),Il(C,1);for(p=0;p<24&&(b=i[ct(k++)],b!=null);p++)w.push({label:ct(C.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,f=Math.max(f,b*100)),Il(C,1);let T=Yn(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(T&&T[1]&&T[1]!=m)for(m=T[1],l(5,r*=100),l(4,f*=100),p=0;p<v.length;p++)v[p]*=100;let O=[];for(p=0;p<v.length;p++){b=v[p];let U=b*.01,Y=Math.abs(b)<1e3?2:0;O.push({label:U>=0?U.toFixed(Y):"",title:U>=0?U.toFixed(2)+" "+m:"",value:b>=0?Math.abs(b):0,label2:U<0?U.toFixed(Y):"",title2:U<0?U.toFixed(2)+" "+m:"",value2:b<0?Math.abs(b):0,color:c?"#5c2da5":"#7c3aed"})}let P=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(P/4*-1,r));let U=Math.ceil(Math.abs(r)/P*4),Y=r/U;for(p=1;p<U+1;p++){let V=Y*p;g.push({value:V,label:(V/100).toFixed(2)})}}l(4,f=Math.max(P/4,f));let D=Math.ceil(f/P*4),I=f/D;for(p=0;p<D+1;p++){let U=I*p;g.push({value:U,label:(U/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:g},x:{ticks:w},points:O,link:{text:"Provided by: "+zc(i.source),url:Kc(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class e1 extends Et{constructor(e){super(),At(this,e,x0,$0,Ct,{title:1,json:2,sysinfo:3})}}function t1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function l1(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],p=[],b=[];l(5,r=l(4,f=0));let k=new Date,g=new Date;g.setDate(0),g.setHours(12);let w=(g.getHours()-g.getUTCHours())%24-s.clock_offset,v=k.getUTCHours();for(Il(k,-w-24),m=v;m<24;m++){let P=i["i"+ct(m)],D=i["e"+ct(m)];P===void 0&&(P=0),D===void 0&&(D=0),p.push({label:ct(k.getHours())}),b.push({label:P.toFixed(1),title:P.toFixed(2)+" kWh",value:P*10,label2:D.toFixed(1),title2:D.toFixed(2)+" kWh",value2:D*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,D*10)),l(4,f=Math.max(f,P*10)),Il(k,1)}for(m=0;m<v;m++){let P=i["i"+ct(m)],D=i["e"+ct(m)];P===void 0&&(P=0),D===void 0&&(D=0),p.push({label:ct(k.getHours())}),b.push({label:P.toFixed(1),title:P.toFixed(2)+" kWh",value:P*10,label2:D.toFixed(1),title2:D.toFixed(2)+" kWh",value2:D*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,D*10)),l(4,f=Math.max(f,P*10)),Il(k,1)}l(5,r*=-1);let C=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(C/4*-1,r));let P=Math.ceil(Math.abs(r)/C*4),D=r/P;for(m=1;m<P+1;m++){let I=D*m;d.push({value:I,label:(I/10).toFixed(1)})}}l(4,f=Math.max(C/4,f));let T=Math.ceil(f/C*4),O=f/T;for(m=0;m<T+1;m++){let P=O*m;d.push({value:P,label:(P/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:p},points:b,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class n1 extends Et{constructor(e){super(),At(this,e,l1,t1,Ct,{title:1,json:2,sysinfo:3})}}function i1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function s1(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],p=[],b=[];l(5,r=l(4,f=0));let k=new Date,g=new Date;g.setDate(0),g.setHours(12);let w=(g.getHours()-g.getUTCHours())%24-s.clock_offset;for(Il(k,-w),Il(g,-w),m=k.getDate();m<=g.getDate();m++){let O=i["i"+ct(m)],P=i["e"+ct(m)];O===void 0&&(O=0),P===void 0&&(P=0),p.push({label:ct(m)}),b.push({label:O.toFixed(O<10?1:0),title:O.toFixed(2)+" kWh",value:O,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P)),l(4,f=Math.max(f,O))}for(m=1;m<k.getDate();m++){let O=i["i"+ct(m)],P=i["e"+ct(m)];O===void 0&&(O=0),P===void 0&&(P=0),p.push({label:ct(m)}),b.push({label:O.toFixed(O<10?1:0),title:O.toFixed(2)+" kWh",value:O,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P)),l(4,f=Math.max(f,O))}l(5,r*=-1);let v=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(v/4*-1,r));let O=Math.ceil(Math.abs(r)/v*4),P=r/O;for(m=1;m<O+1;m++){let D=P*m;d.push({value:D,label:D.toFixed(0)})}}l(4,f=Math.max(v/4,f));let C=Math.ceil(f/v*4),T=f/C;for(m=0;m<C+1;m++){let O=T*m;d.push({value:O,label:O.toFixed(0)})}l(0,o={title:n.replace("{0}",g.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:p},points:b,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class o1 extends Et{constructor(e){super(),At(this,e,s1,i1,Ct,{title:1,json:2,sysinfo:3})}}function a1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function r1(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,d=[],p=[],b=[];i.s&&i.s.forEach((w,v)=>{var C=w.n?w.n:w.a;m=w.v,m==-127&&(m=0),p.push({label:C.slice(-4)}),b.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let k=f;r<0&&(k+=Math.abs(r));let g=k/4;for(c=0;c<5;c++)m=r+g*c,d.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:p},points:b})}},[o,n,i,f,r]}class f1 extends Et{constructor(e){super(),At(this,e,r1,a1,Ct,{title:1,json:2})}}function u1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}let c1=0;function m1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,d=[],p=[],b=[];if(d.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let k=r.p[m];b.push({label:k.v.toFixed(2),value:k.v,color:s?"#5c2da5":"#7c3aed"}),p.push({label:k.d>0?ct(k.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:ct(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,k.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let k=r.t[m];if(k>=f)break;d.push({value:k,label:k})}d.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(d.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:c1,max:f,ticks:d},x:{ticks:p},points:b})}},[o,n,i,r,f]}class p1 extends Et{constructor(e){super(),At(this,e,m1,u1,Ct,{title:1,translations:2,tariffData:3})}}let nn=0,_1={data:[]};async function rs(){let e=await(await Sl(nn<0?"realtime.json":"realtime.json?offset="+nn)).json();fs.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),nn>=0&&(nn+=e.size,nn<e.total?setTimeout(rs,2e3):nn=-1)}function d1(){return nn==-1}const fs=il(_1);let bn=0,pu=0,Ki=0,Ai=0,Oo=!1;function h1(){Ai==60||Ki>bn||Ki-bn>300?(rs(),Ai=0):fs.update(t=>{if(t.lastUpdate)for(;bn>t.lastUpdate;)t.data.unshift(pu),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ai++;else t.lastUpdate=bn;return t})}function b1(t){if(pu=t.i-t.e,bn=t.u,!Oo){rs(),Oo=!0,Ki=bn;return}d1()&&h1()}function Do(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Fo(t,e,l){const n=t.slice();return n[21]=e[l],n}function v1(t){let e,l,n;return{c(){e=_("strong"),l=M(t[0]),n=M(" not available"),u(e,"class","text-sm")},m(i,s){N(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&L(l,i[0])},d(i){i&&S(e)}}}function g1(t){let e,l,n,i,s,o,f,r=t[8]&&Ro(t);return{c(){e=_("strong"),l=M(t[0]),n=M(" ("),i=M(t[12]),s=M(")"),o=h(),r&&r.c(),f=el(),u(e,"class","text-sm")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),N(c,o,m),r&&r.m(c,m),N(c,f,m)},p(c,m){m&1&&L(l,c[0]),m&4096&&L(i,c[12]),c[8]?r?r.p(c,m):(r=Ro(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(o),S(f)),r&&r.d(c)}}}function Ro(t){let e,l,n,i,s,o=We(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Uo(Fo(t,o,m));let r=We(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Ho(Do(t,r,m));return{c(){e=yt("svg"),l=yt("g");for(let m=0;m<f.length;m+=1)f[m].c();n=yt("g");for(let m=0;m<c.length;m+=1)c[m].c();i=yt("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,d){N(m,e,d),a(e,l);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(l,null);a(e,n);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(n,null);a(e,i)},p(m,d){if(d&16646){o=We(m[8]);let p;for(p=0;p<o.length;p+=1){const b=Fo(m,o,p);f[p]?f[p].p(b,d):(f[p]=Uo(b),f[p].c(),f[p].m(l,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=o.length}if(d&34336){r=We(m[9]);let p;for(p=0;p<r.length;p+=1){const b=Do(m,r,p);c[p]?c[p].p(b,d):(c[p]=Ho(b),c[p].c(),c[p].m(n,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=r.length}d&128&&u(i,"points",m[7]),d&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&S(e),Gt(f,m),Gt(c,m)}}}function jo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=yt("g"),l=yt("line"),n=yt("text"),s=M(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&L(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&S(e)}}}function Uo(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&jo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=jo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function Bo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=yt("g"),l=yt("text"),i=M(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){N(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&L(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&S(e)}}}function Ho(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Bo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Bo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function k1(t){let e,l;function n(o,f){return o[11]?g1:v1}let i=n(t),s=i(t);return{c(){e=_("div"),s.c(),u(e,"class","chart"),Yt(()=>t[17].call(e))},m(o,f){N(o,e,f),s.m(e,null),l=es(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:je,o:je,d(o){o&&S(e),s.d(),l()}}}function w1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;fs.subscribe(P=>{l(16,s=P)});let o=!1,f,r,c,m,d,p,b,k=function(P,D,I){return Math.ceil(d-(P-D)/(I-D)*d)-25},g=function(P){return 30+Math.ceil(P/s.size*(p-35))},w,v,C,T;function O(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=P=>{"title"in P&&l(0,n=P.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,d=parseInt(m)-50),l(6,p=c-35),l(10,C=p/s.size),l(2,r=0),l(1,f=0),s.data&&d>10&&p>100&&C>.1){l(11,o=!0);for(let I in s.data){let U=s.data[I];isNaN(U)&&(U=0),l(1,f=Math.max(Math.ceil(U/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(U/1e3)*1e3,r))}let P=f-r;l(12,T=f>2500?"kW":"W"),l(8,w=[]);for(let I=r;I<f&&(w.push({value:I,label:f>2500?(I/1e3).toFixed(1):I}),!(w.length>6));I+=P/5);l(9,v=[]);for(let I=0;I<s.size&&(v.push({value:I,label:"-"+Math.round((s.size-I)/6)+" min"}),!(v.length>12));I+=Math.round(s.size/Math.round(p/120)));let D=s.size;l(7,b=g(s.size)+","+k(0,r,f)+" "+g(1)+","+k(0,r,f));for(let I in s.data){if(D<0)break;let U=s.data[I];isNaN(U)&&(U=0),l(7,b=g(D--)+","+k(U,r,f)+" "+b)}}else l(11,o=!1)},[n,f,r,c,m,d,p,b,w,v,C,o,T,i,k,g,s,O]}class M1 extends Et{constructor(e){super(),At(this,e,w1,k1,Ct,{title:0})}}function y1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function S1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:d=0}=e,{l1e:p=0}=e,{l2e:b=0}=e,{l3e:k=0}=e,{maxImport:g=0}=e,{maxExport:w=0}=e,{importColorFn:v}=e,{exportColorFn:C}=e,T={};function O(P,D){return{label:Ht(P>900?P/1e3:P)+(P>900?"k":"")+i,title:P.toFixed(2)+" "+i,value:isNaN(P)?0:P,color:v(P?P/g*100:0,document.documentElement.classList.contains("dark")),label2:Ht(D>900?D/1e3:D)+(D>900?"k":"")+i,title2:D.toFixed(2)+" "+i,value2:isNaN(D)?0:D,color2:C(D?D/w*100:0)}}return t.$$set=P=>{"title"in P&&l(1,n=P.title),"unit"in P&&l(2,i=P.unit),"l1"in P&&l(3,s=P.l1),"l2"in P&&l(4,o=P.l2),"l2x"in P&&l(5,f=P.l2x),"l3"in P&&l(6,r=P.l3),"l1i"in P&&l(7,c=P.l1i),"l2i"in P&&l(8,m=P.l2i),"l3i"in P&&l(9,d=P.l3i),"l1e"in P&&l(10,p=P.l1e),"l2e"in P&&l(11,b=P.l2e),"l3e"in P&&l(12,k=P.l3e),"maxImport"in P&&l(13,g=P.maxImport),"maxExport"in P&&l(14,w=P.maxExport),"importColorFn"in P&&l(15,v=P.importColorFn),"exportColorFn"in P&&l(16,C=P.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let P=[],D=[];s&&(P.push({label:"L1"}),D.push(O(c,p))),o&&(f?(P.push({label:"L2"}),D.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(P.push({label:"L2"}),D.push(O(m,b)))),r&&(P.push({label:"L3"}),D.push(O(d,k)));let I=[];if(w){let U=w>g?4:w*4/g;I.push({value:-w,label:"-100%"}),U>=4&&I.push({value:-w/4*3,label:"-75%"}),U>=2&&I.push({value:-w/2,label:"-50%"}),U>=4&&I.push({value:-w/4,label:"-25%"})}if(I.push({value:0,label:"0%"}),g){let U=g>w?4:g*4/w;I.push({value:g/4,label:"25%"}),U>=4&&I.push({value:g/2,label:"50%"}),U>=2&&I.push({value:g/4*3,label:"75%"}),U>=4&&I.push({value:g,label:"100%"})}l(0,T={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-w,max:g,ticks:I},x:{ticks:P},points:D})}},[T,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C]}class us extends Et{constructor(e){super(),At(this,e,S1,y1,Ct,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Wo(t){var v;let e,l,n,i,s,o,f=(t[0].mt?mi(t[0].mt):"-")+"",r,c,m,d=t[11][0]+"",p,b,k=t[11][1]+"",g,w;return i=new mu({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((v=t[6].common)==null?void 0:v.import)??"Import",sub:Yn(t[0].p,t[0].pc),colorFn:ss}}),{c(){e=_("div"),l=_("div"),n=_("div"),Ne(i.$$.fragment),s=h(),o=_("div"),r=M(f),c=h(),m=_("div"),p=M(d),b=h(),g=M(k),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(C,T){N(C,e,T),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,p),a(m,b),a(m,g),w=!0},p(C,T){var P;const O={};T&1&&(O.val=C[0].i?C[0].i:0),T&1&&(O.max=C[0].im?C[0].im:15e3),T&64&&(O.label=((P=C[6].common)==null?void 0:P.import)??"Import"),T&1&&(O.sub=Yn(C[0].p,C[0].pc)),i.$set(O),(!w||T&1)&&f!==(f=(C[0].mt?mi(C[0].mt):"-")+"")&&L(r,f),(!w||T&2048)&&d!==(d=C[11][0]+"")&&L(p,d),(!w||T&2048)&&k!==(k=C[11][1]+"")&&L(g,k)},i(C){w||($(i.$$.fragment,C),w=!0)},o(C){ne(i.$$.fragment,C),w=!1},d(C){C&&S(e),ye(i)}}}function zo(t){var g;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,d,p=t[12][1]+"",b,k;return i=new mu({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((g=t[6].common)==null?void 0:g.export)??"Export",sub:Yn(t[0].px,t[0].pc),colorFn:Vn}}),{c(){e=_("div"),l=_("div"),n=_("div"),Ne(i.$$.fragment),s=h(),o=_("div"),f=h(),r=_("div"),m=M(c),d=h(),b=M(p),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(w,v){N(w,e,v),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,d),a(r,b),k=!0},p(w,v){var T;const C={};v&1&&(C.val=w[0].e?w[0].e:0),v&1&&(C.max=w[0].om?w[0].om*1e3:1e4),v&64&&(C.label=((T=w[6].common)==null?void 0:T.export)??"Export"),v&1&&(C.sub=Yn(w[0].px,w[0].pc)),i.$set(C),(!k||v&4096)&&c!==(c=w[12][0]+"")&&L(m,c),(!k||v&4096)&&p!==(p=w[12][1]+"")&&L(b,p)},i(w){k||($(i.$$.fragment,w),k=!0)},o(w){ne(i.$$.fragment,w),k=!1},d(w){w&&S(e),ye(i)}}}function Ko(t){let e,l,n=t[0].l1&&Vo(t);return{c(){e=_("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&$(n,1)):(n=Vo(i),n.c(),$(n,1),n.m(e,null)):n&&(wt(),ne(n,1,1,()=>{n=null}),Mt())},i(i){l||($(n),l=!0)},o(i){ne(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Vo(t){var n;let e,l;return e=new z0({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||($(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Go(t){let e,l,n=t[0].l1&&Yo(t);return{c(){e=_("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&$(n,1)):(n=Yo(i),n.c(),$(n,1),n.m(e,null)):n&&(wt(),ne(n,1,1,()=>{n=null}),Mt())},i(i){l||($(n),l=!0)},o(i){ne(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Yo(t){var n;let e,l;return e=new us({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:ss,exportColorFn:Vn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||($(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Xo(t){let e,l,n=t[0].l1&&Jo(t);return{c(){e=_("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&$(n,1)):(n=Jo(i),n.c(),$(n,1),n.m(e,null)):n&&(wt(),ne(n,1,1,()=>{n=null}),Mt())},i(i){l||($(n),l=!0)},o(i){ne(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Jo(t){var n;let e,l;return e=new us({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:ss,exportColorFn:Vn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||($(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Qo(t){let e,l,n=t[0].l1&&Zo(t);return{c(){e=_("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&$(n,1)):(n=Zo(i),n.c(),$(n,1),n.m(e,null)):n&&(wt(),ne(n,1,1,()=>{n=null}),Mt())},i(i){l||($(n),l=!0)},o(i){ne(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Zo(t){var n;let e,l;return e=new us({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:Vn,exportColorFn:Vn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||($(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function $o(t){let e,l,n;return l=new G0({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){N(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||($(l.$$.fragment,i),n=!0)},o(i){ne(l.$$.fragment,i),n=!1},d(i){i&&S(e),ye(l)}}}function xo(t){let e,l,n;return l=new Z0({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){N(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||($(l.$$.fragment,i),n=!0)},o(i){ne(l.$$.fragment,i),n=!1},d(i){i&&S(e),ye(l)}}}function ea(t){var i;let e,l,n;return l=new p1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){N(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){ne(l.$$.fragment,s),n=!1},d(s){s&&S(e),ye(l)}}}function ta(t){var i;let e,l,n;return l=new M1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){ne(l.$$.fragment,s),n=!1},d(s){s&&S(e),ye(l)}}}function la(t){var i;let e,l,n;return l=new e1({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){ne(l.$$.fragment,s),n=!1},d(s){s&&S(e),ye(l)}}}function na(t){var i;let e,l,n;return l=new n1({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){ne(l.$$.fragment,s),n=!1},d(s){s&&S(e),ye(l)}}}function ia(t){var i;let e,l,n;return l=new o1({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){ne(l.$$.fragment,s),n=!1},d(s){s&&S(e),ye(l)}}}function sa(t){var i;let e,l,n;return l=new f1({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=_("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){ne(l.$$.fragment,s),n=!1},d(s){s&&S(e),ye(l)}}}function N1(t){let e,l=Vt(t[1].ui.i,t[0].i),n,i=Vt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Vt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Vt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Vt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),d,p=Vt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),b,k=Vt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,w=Vt(t[1].ui.c,t[0].ea),v,C=Vt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),T,O=Vt(t[1].ui.l,t[0].hm==1),P,D=Vt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),I,U=Vt(t[1].ui.d,t[3]),Y,V=Vt(t[1].ui.m,t[4]),E,A=Vt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),H,j=l&&Wo(t),K=i&&zo(t),G=o&&Ko(t),B=r&&Go(t),z=m&&Xo(t),ee=p&&Qo(t),le=k&&$o(t),W=w&&xo(t),x=C&&ea(t),fe=O&&ta(t),se=D&&la(t),ue=U&&na(t),ce=V&&ia(t),te=A&&sa(t);return{c(){e=_("div"),j&&j.c(),n=h(),K&&K.c(),s=h(),G&&G.c(),f=h(),B&&B.c(),c=h(),z&&z.c(),d=h(),ee&&ee.c(),b=h(),le&&le.c(),g=h(),W&&W.c(),v=h(),x&&x.c(),T=h(),fe&&fe.c(),P=h(),se&&se.c(),I=h(),ue&&ue.c(),Y=h(),ce&&ce.c(),E=h(),te&&te.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Z,Q){N(Z,e,Q),j&&j.m(e,null),a(e,n),K&&K.m(e,null),a(e,s),G&&G.m(e,null),a(e,f),B&&B.m(e,null),a(e,c),z&&z.m(e,null),a(e,d),ee&&ee.m(e,null),a(e,b),le&&le.m(e,null),a(e,g),W&&W.m(e,null),a(e,v),x&&x.m(e,null),a(e,T),fe&&fe.m(e,null),a(e,P),se&&se.m(e,null),a(e,I),ue&&ue.m(e,null),a(e,Y),ce&&ce.m(e,null),a(e,E),te&&te.m(e,null),H=!0},p(Z,[Q]){Q&3&&(l=Vt(Z[1].ui.i,Z[0].i)),l?j?(j.p(Z,Q),Q&3&&$(j,1)):(j=Wo(Z),j.c(),$(j,1),j.m(e,n)):j&&(wt(),ne(j,1,1,()=>{j=null}),Mt()),Q&3&&(i=Vt(Z[1].ui.e,Z[0].om||Z[0].e>0)),i?K?(K.p(Z,Q),Q&3&&$(K,1)):(K=zo(Z),K.c(),$(K,1),K.m(e,s)):K&&(wt(),ne(K,1,1,()=>{K=null}),Mt()),Q&3&&(o=Vt(Z[1].ui.v,Z[0].l1&&(Z[0].l1.u>100||Z[0].l2.u>100||Z[0].l3.u>100))),o?G?(G.p(Z,Q),Q&3&&$(G,1)):(G=Ko(Z),G.c(),$(G,1),G.m(e,f)):G&&(wt(),ne(G,1,1,()=>{G=null}),Mt()),Q&3&&(r=Vt(Z[1].ui.a,Z[0].l1&&(Z[0].l1.i>.01||Z[0].l2.i>.01||Z[0].l3.i>.01))),r?B?(B.p(Z,Q),Q&3&&$(B,1)):(B=Go(Z),B.c(),$(B,1),B.m(e,c)):B&&(wt(),ne(B,1,1,()=>{B=null}),Mt()),Q&3&&(m=Vt(Z[1].ui.h,Z[0].l1&&(Z[0].l1.p>.01||Z[0].l2.p>.01||Z[0].l3.p>.01||Z[0].l1.q>.01||Z[0].l2.q>.01||Z[0].l3.q>.01))),m?z?(z.p(Z,Q),Q&3&&$(z,1)):(z=Xo(Z),z.c(),$(z,1),z.m(e,d)):z&&(wt(),ne(z,1,1,()=>{z=null}),Mt()),Q&3&&(p=Vt(Z[1].ui.f,Z[0].l1&&(Z[0].l1.f>.01||Z[0].l2.f>.01||Z[0].l3.f>.01))),p?ee?(ee.p(Z,Q),Q&3&&$(ee,1)):(ee=Qo(Z),ee.c(),$(ee,1),ee.m(e,b)):ee&&(wt(),ne(ee,1,1,()=>{ee=null}),Mt()),Q&3&&(k=Vt(Z[1].ui.r,Z[0].ri>0||Z[0].re>0||Z[0].ric>0||Z[0].rec>0)),k?le?(le.p(Z,Q),Q&3&&$(le,1)):(le=$o(Z),le.c(),$(le,1),le.m(e,g)):le&&(wt(),ne(le,1,1,()=>{le=null}),Mt()),Q&3&&(w=Vt(Z[1].ui.c,Z[0].ea)),w?W?(W.p(Z,Q),Q&3&&$(W,1)):(W=xo(Z),W.c(),$(W,1),W.m(e,v)):W&&(wt(),ne(W,1,1,()=>{W=null}),Mt()),Q&3&&(C=Vt(Z[1].ui.t,Z[0].pr&&(Z[0].pr.startsWith("NO")||Z[0].pr.startsWith("10YNO")||Z[0].pr.startsWith("10Y1001A1001A4")))),C?x?(x.p(Z,Q),Q&3&&$(x,1)):(x=ea(Z),x.c(),$(x,1),x.m(e,T)):x&&(wt(),ne(x,1,1,()=>{x=null}),Mt()),Q&3&&(O=Vt(Z[1].ui.l,Z[0].hm==1)),O?fe?(fe.p(Z,Q),Q&3&&$(fe,1)):(fe=ta(Z),fe.c(),$(fe,1),fe.m(e,P)):fe&&(wt(),ne(fe,1,1,()=>{fe=null}),Mt()),Q&3&&(D=Vt(Z[1].ui.p,Z[0].pe&&!Number.isNaN(Z[0].p))),D?se?(se.p(Z,Q),Q&3&&$(se,1)):(se=la(Z),se.c(),$(se,1),se.m(e,I)):se&&(wt(),ne(se,1,1,()=>{se=null}),Mt()),Q&10&&(U=Vt(Z[1].ui.d,Z[3])),U?ue?(ue.p(Z,Q),Q&10&&$(ue,1)):(ue=na(Z),ue.c(),$(ue,1),ue.m(e,Y)):ue&&(wt(),ne(ue,1,1,()=>{ue=null}),Mt()),Q&18&&(V=Vt(Z[1].ui.m,Z[4])),V?ce?(ce.p(Z,Q),Q&18&&$(ce,1)):(ce=ia(Z),ce.c(),$(ce,1),ce.m(e,E)):ce&&(wt(),ne(ce,1,1,()=>{ce=null}),Mt()),Q&35&&(A=Vt(Z[1].ui.s,Z[0].t&&Z[0].t!=-127&&Z[5].c>1)),A?te?(te.p(Z,Q),Q&35&&$(te,1)):(te=sa(Z),te.c(),$(te,1),te.m(e,null)):te&&(wt(),ne(te,1,1,()=>{te=null}),Mt())},i(Z){H||($(j),$(K),$(G),$(B),$(z),$(ee),$(le),$(W),$(x),$(fe),$(se),$(ue),$(ce),$(te),H=!0)},o(Z){ne(j),ne(K),ne(G),ne(B),ne(z),ne(ee),ne(le),ne(W),ne(x),ne(fe),ne(se),ne(ue),ne(ce),ne(te),H=!1},d(Z){Z&&S(e),j&&j.d(),K&&K.d(),G&&G.d(),B&&B.d(),z&&z.d(),ee&&ee.d(),le&&le.d(),W&&W.d(),x&&x.d(),fe&&fe.d(),se&&se.d(),ue&&ue.d(),ce&&ce.d(),te&&te.d()}}}function C1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,d,p,b,k,g,w;return t.$$set=v=>{"data"in v&&l(0,n=v.data),"sysinfo"in v&&l(1,i=v.sysinfo),"prices"in v&&l(2,s=v.prices),"dayPlot"in v&&l(3,o=v.dayPlot),"monthPlot"in v&&l(4,f=v.monthPlot),"temperatures"in v&&l(5,r=v.temperatures),"translations"in v&&l(6,c=v.translations),"tariffData"in v&&l(7,m=v.tariffData)},t.$$.update=()=>{var v,C,T,O,P,D,I,U,Y,V,E,A,H,j,K;t.$$.dirty&1793&&(l(11,d=fl((n==null?void 0:n.ic)*1e3,"Wh")),l(12,p=fl((n==null?void 0:n.ec)*1e3,"Wh")),((v=n==null?void 0:n.l1)==null?void 0:v.u)==0&&((C=n==null?void 0:n.l2)==null?void 0:C.u)==0&&((T=n==null?void 0:n.l3)==null?void 0:T.u)==0?l(8,k=l(9,g=l(10,w=l(13,b=!0)))):(l(8,k=((O=n==null?void 0:n.l1)==null?void 0:O.u)>0||((P=n==null?void 0:n.l1)==null?void 0:P.i)>0||((D=n==null?void 0:n.l1)==null?void 0:D.p)>0||((I=n==null?void 0:n.l1)==null?void 0:I.q)>0),l(9,g=((U=n==null?void 0:n.l2)==null?void 0:U.u)>0||((Y=n==null?void 0:n.l2)==null?void 0:Y.i)>0||((V=n==null?void 0:n.l2)==null?void 0:V.p)>0||((E=n==null?void 0:n.l2)==null?void 0:E.q)>0),l(10,w=((A=n==null?void 0:n.l3)==null?void 0:A.u)>0||((H=n==null?void 0:n.l3)==null?void 0:H.i)>0||((j=n==null?void 0:n.l3)==null?void 0:j.p)>0||((K=n==null?void 0:n.l3)==null?void 0:K.q)>0),l(13,b=k&&g&&w)))},[n,i,s,o,f,r,c,m,k,g,w,d,p,b]}class P1 extends Et{constructor(e){super(),At(this,e,C1,N1,Ct,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Vi={};const vn=il(Vi);async function _u(){Vi=await(await fetch("configuration.json")).json(),vn.set(Vi)}let Gi={};const du=il(Gi);async function T1(){Gi=await(await fetch("priceconfig.json")).json(),du.set(Gi)}function oa(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function aa(t){let e,l,n;return{c(){e=_("option"),e.textContent="UART0",l=h(),n=_("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){N(i,e,s),N(i,l,s),N(i,n,s)},d(i){i&&(S(e),S(l),S(n))}}}function ra(t){let e;return{c(){e=_("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function fa(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&ra(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=ra(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&S(e),l&&l.d(n)}}}function A1(t){let e,l,n,i,s=t[0]=="esp8266"&&aa(),o=We({length:t[1]+1}),f=[];for(let r=0;r<o.length;r+=1)f[r]=fa(oa(t,o,r));return{c(){e=_("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<f.length;r+=1)f[r].c();i=el(),e.__value=-1,J(e,e.__value)},m(r,c){N(r,e,c),N(r,l,c),s&&s.m(r,c),N(r,n,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);N(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=aa(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){o=We({length:r[1]+1});let m;for(m=0;m<o.length;m+=1){const d=oa(r,o,m);f[m]?f[m].p(d,c):(f[m]=fa(d),f[m].c(),f[m].m(i.parentNode,i))}for(;m<f.length;m+=1)f[m].d(1);f.length=o.length}},i:je,o:je,d(r){r&&(S(e),S(l),S(n),S(i)),s&&s.d(r),Gt(f,r)}}}function E1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class L1 extends Et{constructor(e){super(),At(this,e,E1,A1,Ct,{chip:0})}}function ua(t){let e,l,n=t[1]&&ca(t);return{c(){e=_("div"),l=_("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){N(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=ca(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&S(e),n&&n.d()}}}function ca(t){let e,l;return{c(){e=_("div"),l=M(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){N(n,e,i),a(e,l)},p(n,i){i&2&&L(l,n[1])},d(n){n&&S(e)}}}function q1(t){let e,l=t[0]&&ua(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=ua(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:je,o:je,d(n){n&&S(e),l&&l.d(n)}}}function I1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class ml extends Et{constructor(e){super(),At(this,e,I1,q1,Ct,{active:0,message:1})}}function ma(t,e,l){const n=t.slice();return n[1]=e[l],n}function pa(t){let e,l,n=t[1]+"",i;return{c(){e=_("option"),l=M("Europe/"),i=M(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,o){N(s,e,o),a(e,l),a(e,i)},p:je,d(s){s&&S(e)}}}function O1(t){let e,l,n,i=We(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=pa(ma(t,i,o));return{c(){e=_("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=el(),e.__value="GMT",J(e,e.__value)},m(o,f){N(o,e,f),N(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);N(o,n,f)},p(o,[f]){if(f&1){i=We(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ma(o,i,r);s[r]?s[r].p(c,f):(s[r]=pa(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:je,o:je,d(o){o&&(S(e),S(l),S(n)),Gt(s,o)}}}function D1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class F1 extends Et{constructor(e){super(),At(this,e,D1,O1,Ct,{})}}var R1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(R1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(q,y){var R;return typeof Object.create=="function"?R=Object.create(q):(l.prototype=q,R=new l,l.prototype=null),y&&f(!0,R,y),R}function o(q,y,R,F){var X=this;return typeof q!="string"&&(F=R,R=y,y=q,q=null),typeof y!="function"&&(F=R,R=y,y=function(){return X.apply(this,arguments)}),f(!1,y,X,F),y.prototype=s(X.prototype,R),y.prototype.constructor=y,y.class_=q||X.class_,y.super_=X,y}function f(q,y,R){R=i.call(arguments,2);for(var F,X,oe=0,ie=R.length;oe<ie;oe++){X=R[oe];for(F in X)(!q||n.call(X,F))&&(y[F]=X[F])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,d=m,p=d.extend(function(q,y,R){this.qrious=q,this.element=y,this.element.qrious=q,this.enabled=!!R},{draw:function(q){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(q){var y=this.qrious,R=y.padding||0,F=Math.floor((y.size-R*2)/q.width);return Math.max(1,F)},getOffset:function(q){var y=this.qrious,R=y.padding;if(R!=null)return R;var F=this.getModuleSize(q),X=Math.floor((y.size-F*q.width)/2);return Math.max(0,X)},render:function(q){this.enabled&&(this.resize(),this.reset(),this.draw(q))},reset:function(){},resize:function(){}}),b=p,k=b.extend({draw:function(q){var y,R,F=this.qrious,X=this.getModuleSize(q),oe=this.getOffset(q),ie=this.element.getContext("2d");for(ie.fillStyle=F.foreground,ie.globalAlpha=F.foregroundAlpha,y=0;y<q.width;y++)for(R=0;R<q.width;R++)q.buffer[R*q.width+y]&&ie.fillRect(X*y+oe,X*R+oe,X,X)},reset:function(){var q=this.qrious,y=this.element.getContext("2d"),R=q.size;y.lineWidth=1,y.clearRect(0,0,R,R),y.fillStyle=q.background,y.globalAlpha=q.backgroundAlpha,y.fillRect(0,0,R,R)},resize:function(){var q=this.element;q.width=q.height=this.qrious.size}}),g=k,w=d.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),v=w,C=d.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),T=C,O=d.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),P=O,D=d.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),I=D,U=d.extend(function(q){var y,R,F,X,oe,ie=q.value.length;for(this._badness=[],this._level=T.LEVELS[q.level],this._polynomial=[],this._value=q.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,F=(this._level-1)*4+(this._version-1)*16,X=T.BLOCKS[F++],oe=T.BLOCKS[F++],y=T.BLOCKS[F++],R=T.BLOCKS[F],F=y*(X+oe)+oe-3+(this._version<=9),!(ie<=F)););this._dataBlock=y,this._eccBlock=R,this._neccBlock1=X,this._neccBlock2=oe;var _e=this.width=17+4*this._version;this.buffer=U._createArray(_e*_e),this._ecc=U._createArray(y+(y+R)*(X+oe)+oe),this._mask=U._createArray((_e*(_e+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+_e*(_e-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ie),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(q,y){var R,F=this.buffer,X=this.width;for(F[q+X*y]=1,R=-2;R<2;R++)F[q+R+X*(y-2)]=1,F[q-2+X*(y+R+1)]=1,F[q+2+X*(y+R)]=1,F[q+R+1+X*(y+2)]=1;for(R=0;R<2;R++)this._setMask(q-1,y+R),this._setMask(q+1,y-R),this._setMask(q-R,y-1),this._setMask(q+R,y+1)},_appendData:function(q,y,R,F){var X,oe,ie,_e=this._polynomial,me=this._stringBuffer;for(oe=0;oe<F;oe++)me[R+oe]=0;for(oe=0;oe<y;oe++){if(X=P.LOG[me[q+oe]^me[R]],X!==255)for(ie=1;ie<F;ie++)me[R+ie-1]=me[R+ie]^P.EXPONENT[U._modN(X+_e[F-ie])];else for(ie=R;ie<R+F;ie++)me[ie]=me[ie+1];me[R+F-1]=X===255?0:P.EXPONENT[U._modN(X+_e[0])]}},_appendEccToData:function(){var q,y=0,R=this._dataBlock,F=this._calculateMaxLength(),X=this._eccBlock;for(q=0;q<this._neccBlock1;q++)this._appendData(y,R,F,X),y+=R,F+=X;for(q=0;q<this._neccBlock2;q++)this._appendData(y,R+1,F,X),y+=R+1,F+=X},_applyMask:function(q){var y,R,F,X,oe=this.buffer,ie=this.width;switch(q){case 0:for(X=0;X<ie;X++)for(F=0;F<ie;F++)!(F+X&1)&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 1:for(X=0;X<ie;X++)for(F=0;F<ie;F++)!(X&1)&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 2:for(X=0;X<ie;X++)for(y=0,F=0;F<ie;F++,y++)y===3&&(y=0),!y&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 3:for(R=0,X=0;X<ie;X++,R++)for(R===3&&(R=0),y=R,F=0;F<ie;F++,y++)y===3&&(y=0),!y&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 4:for(X=0;X<ie;X++)for(y=0,R=X>>1&1,F=0;F<ie;F++,y++)y===3&&(y=0,R=!R),!R&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 5:for(R=0,X=0;X<ie;X++,R++)for(R===3&&(R=0),y=0,F=0;F<ie;F++,y++)y===3&&(y=0),!((F&X&1)+!(!y|!R))&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 6:for(R=0,X=0;X<ie;X++,R++)for(R===3&&(R=0),y=0,F=0;F<ie;F++,y++)y===3&&(y=0),!((F&X&1)+(y&&y===R)&1)&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break;case 7:for(R=0,X=0;X<ie;X++,R++)for(R===3&&(R=0),y=0,F=0;F<ie;F++,y++)y===3&&(y=0),!((y&&y===R)+(F+X&1)&1)&&!this._isMasked(F,X)&&(oe[F+X*ie]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var q,y,R=this._eccBlock,F=this._polynomial;for(F[0]=1,q=0;q<R;q++){for(F[q+1]=1,y=q;y>0;y--)F[y]=F[y]?F[y-1]^P.EXPONENT[U._modN(P.LOG[F[y]]+q)]:F[y-1];F[0]=P.EXPONENT[U._modN(P.LOG[F[0]]+q)]}for(q=0;q<=R;q++)F[q]=P.LOG[F[q]]},_checkBadness:function(){var q,y,R,F,X,oe=0,ie=this._badness,_e=this.buffer,me=this.width;for(X=0;X<me-1;X++)for(F=0;F<me-1;F++)(_e[F+me*X]&&_e[F+1+me*X]&&_e[F+me*(X+1)]&&_e[F+1+me*(X+1)]||!(_e[F+me*X]||_e[F+1+me*X]||_e[F+me*(X+1)]||_e[F+1+me*(X+1)]))&&(oe+=U.N2);var ae=0;for(X=0;X<me;X++){for(R=0,ie[0]=0,q=0,F=0;F<me;F++)y=_e[F+me*X],q===y?ie[R]++:ie[++R]=1,q=y,ae+=q?1:-1;oe+=this._getBadness(R)}ae<0&&(ae=-ae);var ke=0,ge=ae;for(ge+=ge<<2,ge<<=1;ge>me*me;)ge-=me*me,ke++;for(oe+=ke*U.N4,F=0;F<me;F++){for(R=0,ie[0]=0,q=0,X=0;X<me;X++)y=_e[F+me*X],q===y?ie[R]++:ie[++R]=1,q=y;oe+=this._getBadness(R)}return oe},_convertBitStream:function(q){var y,R,F=this._ecc,X=this._version;for(R=0;R<q;R++)F[R]=this._value.charCodeAt(R);var oe=this._stringBuffer=F.slice(),ie=this._calculateMaxLength();q>=ie-2&&(q=ie-2,X>9&&q--);var _e=q;if(X>9){for(oe[_e+2]=0,oe[_e+3]=0;_e--;)y=oe[_e],oe[_e+3]|=255&y<<4,oe[_e+2]=y>>4;oe[2]|=255&q<<4,oe[1]=q>>4,oe[0]=64|q>>12}else{for(oe[_e+1]=0,oe[_e+2]=0;_e--;)y=oe[_e],oe[_e+2]|=255&y<<4,oe[_e+1]=y>>4;oe[1]|=255&q<<4,oe[0]=64|q>>4}for(_e=q+3-(X<10);_e<ie;)oe[_e++]=236,oe[_e++]=17},_getBadness:function(q){var y,R=0,F=this._badness;for(y=0;y<=q;y++)F[y]>=5&&(R+=U.N1+F[y]-5);for(y=3;y<q-1;y+=2)F[y-2]===F[y+2]&&F[y+2]===F[y-1]&&F[y-1]===F[y+1]&&F[y-1]*3===F[y]&&(F[y-3]===0||y+3>q||F[y-3]*3>=F[y]*4||F[y+3]*3>=F[y]*4)&&(R+=U.N3);return R},_finish:function(){this._stringBuffer=this.buffer.slice();var q,y,R=0,F=3e4;for(y=0;y<8&&(this._applyMask(y),q=this._checkBadness(),q<F&&(F=q,R=y),R!==7);y++)this.buffer=this._stringBuffer.slice();R!==y&&this._applyMask(R),F=T.FINAL_FORMAT[R+(this._level-1<<3)];var X=this.buffer,oe=this.width;for(y=0;y<8;y++,F>>=1)F&1&&(X[oe-1-y+oe*8]=1,y<6?X[8+oe*y]=1:X[8+oe*(y+1)]=1);for(y=0;y<7;y++,F>>=1)F&1&&(X[8+oe*(oe-7+y)]=1,y?X[6-y+oe*8]=1:X[7+oe*8]=1)},_interleaveBlocks:function(){var q,y,R=this._dataBlock,F=this._ecc,X=this._eccBlock,oe=0,ie=this._calculateMaxLength(),_e=this._neccBlock1,me=this._neccBlock2,ae=this._stringBuffer;for(q=0;q<R;q++){for(y=0;y<_e;y++)F[oe++]=ae[q+y*R];for(y=0;y<me;y++)F[oe++]=ae[_e*R+q+y*(R+1)]}for(y=0;y<me;y++)F[oe++]=ae[_e*R+q+y*(R+1)];for(q=0;q<X;q++)for(y=0;y<_e+me;y++)F[oe++]=ae[ie+q+y*X];this._stringBuffer=F},_insertAlignments:function(){var q,y,R,F=this._version,X=this.width;if(F>1)for(q=v.BLOCK[F],R=X-7;;){for(y=X-7;y>q-3&&(this._addAlignment(y,R),!(y<q));)y-=q;if(R<=q+9)break;R-=q,this._addAlignment(6,R),this._addAlignment(R,6)}},_insertFinders:function(){var q,y,R,F,X=this.buffer,oe=this.width;for(q=0;q<3;q++){for(y=0,F=0,q===1&&(y=oe-7),q===2&&(F=oe-7),X[F+3+oe*(y+3)]=1,R=0;R<6;R++)X[F+R+oe*y]=1,X[F+oe*(y+R+1)]=1,X[F+6+oe*(y+R)]=1,X[F+R+1+oe*(y+6)]=1;for(R=1;R<5;R++)this._setMask(F+R,y+1),this._setMask(F+1,y+R+1),this._setMask(F+5,y+R),this._setMask(F+R+1,y+5);for(R=2;R<4;R++)X[F+R+oe*(y+2)]=1,X[F+2+oe*(y+R+1)]=1,X[F+4+oe*(y+R)]=1,X[F+R+1+oe*(y+4)]=1}},_insertTimingGap:function(){var q,y,R=this.width;for(y=0;y<7;y++)this._setMask(7,y),this._setMask(R-8,y),this._setMask(7,y+R-7);for(q=0;q<8;q++)this._setMask(q,7),this._setMask(q+R-8,7),this._setMask(q,R-8)},_insertTimingRowAndColumn:function(){var q,y=this.buffer,R=this.width;for(q=0;q<R-14;q++)q&1?(this._setMask(8+q,6),this._setMask(6,8+q)):(y[8+q+R*6]=1,y[6+R*(8+q)]=1)},_insertVersion:function(){var q,y,R,F,X=this.buffer,oe=this._version,ie=this.width;if(oe>6)for(q=I.BLOCK[oe-7],y=17,R=0;R<6;R++)for(F=0;F<3;F++,y--)1&(y>11?oe>>y-12:q>>y)?(X[5-R+ie*(2-F+ie-11)]=1,X[2-F+ie-11+ie*(5-R)]=1):(this._setMask(5-R,2-F+ie-11),this._setMask(2-F+ie-11,5-R))},_isMasked:function(q,y){var R=U._getMaskBit(q,y);return this._mask[R]===1},_pack:function(){var q,y,R,F=1,X=1,oe=this.width,ie=oe-1,_e=oe-1,me=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(y=0;y<me;y++)for(q=this._stringBuffer[y],R=0;R<8;R++,q<<=1){128&q&&(this.buffer[ie+oe*_e]=1);do X?ie--:(ie++,F?_e!==0?_e--:(ie-=2,F=!F,ie===6&&(ie--,_e=9)):_e!==oe-1?_e++:(ie-=2,F=!F,ie===6&&(ie--,_e-=8))),X=!X;while(this._isMasked(ie,_e))}},_reverseMask:function(){var q,y,R=this.width;for(q=0;q<9;q++)this._setMask(q,8);for(q=0;q<8;q++)this._setMask(q+R-8,8),this._setMask(8,q);for(y=0;y<7;y++)this._setMask(8,y+R-7)},_setMask:function(q,y){var R=U._getMaskBit(q,y);this._mask[R]=1},_syncMask:function(){var q,y,R=this.width;for(y=0;y<R;y++)for(q=0;q<=y;q++)this.buffer[q+R*y]&&this._setMask(q,y)}},{_createArray:function(q){var y,R=[];for(y=0;y<q;y++)R[y]=0;return R},_getMaskBit:function(q,y){var R;return q>y&&(R=q,q=y,y=R),R=y,R+=y*y,R>>=1,R+=q,R},_modN:function(q){for(;q>=255;)q-=255,q=(q>>8)+(q&255);return q},N1:3,N2:3,N3:40,N4:10}),Y=U,V=b.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var q=this.element;q.width=q.height=this.qrious.size}}),E=V,A=d.extend(function(q,y,R,F){this.name=q,this.modifiable=!!y,this.defaultValue=R,this._valueTransformer=F},{transform:function(q){var y=this._valueTransformer;return typeof y=="function"?y(q,this):q}}),H=A,j=d.extend(null,{abs:function(q){return q!=null?Math.abs(q):null},hasOwn:function(q,y){return Object.prototype.hasOwnProperty.call(q,y)},noop:function(){},toUpperCase:function(q){return q!=null?q.toUpperCase():null}}),K=j,G=d.extend(function(q){this.options={},q.forEach(function(y){this.options[y.name]=y},this)},{exists:function(q){return this.options[q]!=null},get:function(q,y){return G._get(this.options[q],y)},getAll:function(q){var y,R=this.options,F={};for(y in R)K.hasOwn(R,y)&&(F[y]=G._get(R[y],q));return F},init:function(q,y,R){typeof R!="function"&&(R=K.noop);var F,X;for(F in this.options)K.hasOwn(this.options,F)&&(X=this.options[F],G._set(X,X.defaultValue,y),G._createAccessor(X,y,R));this._setAll(q,y,!0)},set:function(q,y,R){return this._set(q,y,R)},setAll:function(q,y){return this._setAll(q,y)},_set:function(q,y,R,F){var X=this.options[q];if(!X)throw new Error("Invalid option: "+q);if(!X.modifiable&&!F)throw new Error("Option cannot be modified: "+q);return G._set(X,y,R)},_setAll:function(q,y,R){if(!q)return!1;var F,X=!1;for(F in q)K.hasOwn(q,F)&&this._set(F,q[F],y,R)&&(X=!0);return X}},{_createAccessor:function(q,y,R){var F={get:function(){return G._get(q,y)}};q.modifiable&&(F.set=function(X){G._set(q,X,y)&&R(X,q)}),Object.defineProperty(y,q.name,F)},_get:function(q,y){return y["_"+q.name]},_set:function(q,y,R){var F="_"+q.name,X=R[F],oe=q.transform(y??q.defaultValue);return R[F]=oe,oe!==X}}),B=G,z=d.extend(function(){this._services={}},{getService:function(q){var y=this._services[q];if(!y)throw new Error("Service is not being managed with name: "+q);return y},setService:function(q,y){if(this._services[q])throw new Error("Service is already managed with name: "+q);y&&(this._services[q]=y)}}),ee=z,le=new B([new H("background",!0,"white"),new H("backgroundAlpha",!0,1,K.abs),new H("element"),new H("foreground",!0,"black"),new H("foregroundAlpha",!0,1,K.abs),new H("level",!0,"L",K.toUpperCase),new H("mime",!0,"image/png"),new H("padding",!0,null,K.abs),new H("size",!0,100,K.abs),new H("value",!0,"")]),W=new ee,x=d.extend(function(q){le.init(q,this,this.update.bind(this));var y=le.get("element",this),R=W.getService("element"),F=y&&R.isCanvas(y)?y:R.createCanvas(),X=y&&R.isImage(y)?y:R.createImage();this._canvasRenderer=new g(this,F,!0),this._imageRenderer=new E(this,X,X===y),this.update()},{get:function(){return le.getAll(this)},set:function(q){le.setAll(q,this)&&this.update()},toDataURL:function(q){return this.canvas.toDataURL(q||this.mime)},update:function(){var q=new Y({level:this.level,value:this.value});this._canvasRenderer.render(q),this._imageRenderer.render(q)}},{use:function(q){W.setService(q.getName(),q)}});Object.defineProperties(x.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var fe=x,se=fe,ue=d.extend({getName:function(){}}),ce=ue,te=ce.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(q){},isImage:function(q){}}),Z=te,Q=Z.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(q){return q instanceof HTMLCanvasElement},isImage:function(q){return q instanceof HTMLImageElement}}),ve=Q;se.use(new ve);var Se=se;return Se})})(j1);const Yi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function U1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const cs=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function hu(t){return cs.find(e=>e.id===t)}function bu(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Yi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=U1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function dn(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Yi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Yi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function B1(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function _a(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function da(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function ha(t,e,l){const n=t.slice();return n[103]=e[l],n[104]=e,n[105]=l,n}function ba(t,e,l){const n=t.slice();return n[106]=e[l],n[108]=l,n}function H1(t,e,l){const n=t.slice();return n[109]=e[l],n}function W1(t,e,l){const n=t.slice();return n[112]=e[l],n}function va(t,e,l){const n=t.slice();return n[115]=e[l],n}function z1(t,e,l){const n=t.slice();return n[118]=e[l],n}function ga(t,e,l){const n=t.slice();return n[121]=e[l],n}function ka(t){var cl,Ae,pe,Bt,Oe,Nt,rl,vl,gl,kl,wl,Ml,yl,Dl,Fl,Rl,Fe,at,jl,Ul,Bl,Hl,Wl,zl,Kl,Vl,Gl,Yl,Xl,Jl;let e,l,n=(((Ae=(cl=t[2].conf)==null?void 0:cl.general)==null?void 0:Ae.title)??"General")+"",i,s,o,f,r,c,m,d,p,b=(((Bt=(pe=t[2].conf)==null?void 0:pe.general)==null?void 0:Bt.hostname)??"Hostname")+"",k,g,w,v,C,T,O=(((Nt=(Oe=t[2].conf)==null?void 0:Oe.general)==null?void 0:Nt.timezone)??"Time zone")+"",P,D,I,U,Y,V,E,A=(((vl=(rl=t[2].conf)==null?void 0:rl.general)==null?void 0:vl.language)??((kl=(gl=t[2].conf)==null?void 0:gl.ui)==null?void 0:kl.lang)??"Language")+"",H,j,K,G,B,z,ee,le,W,x,fe=(((Ml=(wl=t[2].conf)==null?void 0:wl.price)==null?void 0:Ml.region)??"Price region")+"",se,ue,ce,te,Z,Q,ve,Se,q,y,R,F,X,oe,ie,_e,me,ae,ke,ge,Ee,qe,Ue,ze,Xe,Ze,Le,tt,re,Ce,lt,bt,mt,$e,rt=(((Dl=(yl=t[2].conf)==null?void 0:yl.price)==null?void 0:Dl.currency)??"Currency")+"",Wt,pt,Lt,Pt,qt,et,_t,Pe,Be,Qe,Je,he,De=(((Rl=(Fl=t[2].conf)==null?void 0:Fl.price)==null?void 0:Rl.enabled)??"Enabled")+"",Tt,It,vt,He,ut=(((jl=(at=(Fe=t[2].conf)==null?void 0:Fe.general)==null?void 0:at.security)==null?void 0:jl.title)??"Security")+"",xe,Ot,zt,Ve,we,Te=(((Hl=(Bl=(Ul=t[2].conf)==null?void 0:Ul.general)==null?void 0:Bl.security)==null?void 0:Hl.none)??"None")+"",Ge,nt,ot=(((Kl=(zl=(Wl=t[2].conf)==null?void 0:Wl.general)==null?void 0:zl.security)==null?void 0:Kl.conf)??"Conf")+"",dt,Xt,jt=(((Yl=(Gl=(Vl=t[2].conf)==null?void 0:Vl.general)==null?void 0:Gl.security)==null?void 0:Yl.all)??"All")+"",Ft,sl,Dt,Ye,Ut=(((Jl=(Xl=t[2].conf)==null?void 0:Xl.general)==null?void 0:Jl.context)??"Context")+"",Jt,gt,ft,St,Kt,de,it,Ke;Y=new F1({});let ol=We(t[4]),Qt=[];for(let Ie=0;Ie<ol.length;Ie+=1)Qt[Ie]=wa(ga(t,ol,Ie));let tl=!t[3].p.t&&Ma(),pl=We(["NOK","SEK","DKK","EUR","CHF"]),al=[];for(let Ie=0;Ie<5;Ie+=1)al[Ie]=K1(z1(t,pl,Ie));_t=new bl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[V1]},$$scope:{ctx:t}}});let Zt=t[3].p.e&&t[0].chip!="esp8266"&&ya(t),$t=t[3].g.s>0&&Sa(t);return{c(){var Ie,ht;e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("div"),d=_("div"),p=_("div"),k=M(b),g=_("br"),w=h(),v=_("input"),C=h(),T=_("div"),P=M(O),D=_("br"),I=h(),U=_("select"),Ne(Y.$$.fragment),V=h(),E=_("div"),H=M(A),j=_("br"),K=h(),G=_("select");for(let xt=0;xt<Qt.length;xt+=1)Qt[xt].c();B=h(),z=_("input"),ee=h(),le=_("div"),W=_("div"),x=_("div"),se=M(fe),ue=_("br"),ce=h(),te=_("select"),Z=_("optgroup"),tl&&tl.c(),Q=_("option"),Q.textContent="NO1",ve=_("option"),ve.textContent="NO2",Se=_("option"),Se.textContent="NO3",q=_("option"),q.textContent="NO4",y=_("option"),y.textContent="NO5",R=_("optgroup"),F=_("option"),F.textContent="SE1",X=_("option"),X.textContent="SE2",oe=_("option"),oe.textContent="SE3",ie=_("option"),ie.textContent="SE4",_e=_("optgroup"),me=_("option"),me.textContent="DK1",ae=_("option"),ae.textContent="DK2",ke=_("option"),ke.textContent="Austria",ge=_("option"),ge.textContent="Belgium",Ee=_("option"),Ee.textContent="Czech Republic",qe=_("option"),qe.textContent="Estonia",Ue=_("option"),Ue.textContent="Finland",ze=_("option"),ze.textContent="France",Xe=_("option"),Xe.textContent="Germany",Ze=_("option"),Ze.textContent="Great Britain",Le=_("option"),Le.textContent="Latvia",tt=_("option"),tt.textContent="Lithuania",re=_("option"),re.textContent="Netherland",Ce=_("option"),Ce.textContent="Poland",lt=_("option"),lt.textContent="Slovenia",bt=_("option"),bt.textContent="Switzerland",mt=h(),$e=_("div"),Wt=M(rt),pt=_("br"),Lt=h(),Pt=_("select");for(let xt=0;xt<5;xt+=1)al[xt].c();qt=h(),et=_("div"),Ne(_t.$$.fragment),Pe=h(),Be=_("div"),Qe=_("label"),Je=_("input"),he=h(),Tt=M(De),It=h(),Zt&&Zt.c(),vt=h(),He=_("div"),xe=M(ut),Ot=_("br"),zt=h(),Ve=_("select"),we=_("option"),Ge=M(Te),nt=_("option"),dt=M(ot),Xt=_("option"),Ft=M(jt),sl=h(),$t&&$t.c(),Dt=h(),Ye=_("div"),Jt=M(Ut),gt=_("br"),ft=h(),St=_("input"),u(l,"class","text-sm"),u(o,"href",Ol("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(v,"name","gh"),u(v,"type","text"),u(v,"class","in-f w-full"),u(v,"pattern",_i),u(U,"name","gt"),u(U,"class","in-l w-full"),t[3].g.t===void 0&&Yt(()=>t[29].call(U)),u(d,"class","flex"),u(m,"class","my-1"),u(G,"name","ulang"),u(G,"class","in-s"),t[3].u.lang===void 0&&Yt(()=>t[30].call(G)),u(E,"class","my-1"),u(z,"type","hidden"),u(z,"name","p"),z.value="true",Q.__value="10YNO-1--------2",J(Q,Q.__value),ve.__value="10YNO-2--------T",J(ve,ve.__value),Se.__value="10YNO-3--------J",J(Se,Se.__value),q.__value="10YNO-4--------9",J(q,q.__value),y.__value="10Y1001A1001A48H",J(y,y.__value),u(Z,"label","Norway"),F.__value="10Y1001A1001A44P",J(F,F.__value),X.__value="10Y1001A1001A45N",J(X,X.__value),oe.__value="10Y1001A1001A46L",J(oe,oe.__value),ie.__value="10Y1001A1001A47J",J(ie,ie.__value),u(R,"label","Sweden"),me.__value="10YDK-1--------W",J(me,me.__value),ae.__value="10YDK-2--------M",J(ae,ae.__value),u(_e,"label","Denmark"),ke.__value="10YAT-APG------L",J(ke,ke.__value),ge.__value="10YBE----------2",J(ge,ge.__value),Ee.__value="10YCZ-CEPS-----N",J(Ee,Ee.__value),qe.__value="10Y1001A1001A39I",J(qe,qe.__value),Ue.__value="10YFI-1--------U",J(Ue,Ue.__value),ze.__value="10YFR-RTE------C",J(ze,ze.__value),Xe.__value="10Y1001A1001A83F",J(Xe,Xe.__value),Ze.__value="10YGB----------A",J(Ze,Ze.__value),Le.__value="10YLV-1001A00074",J(Le,Le.__value),tt.__value="10YLT-1001A0008Q",J(tt,tt.__value),re.__value="10YNL----------L",J(re,re.__value),Ce.__value="10YPL-AREA-----S",J(Ce,Ce.__value),lt.__value="10YSI-ELES-----O",J(lt,lt.__value),bt.__value="10YCH-SWISSGRIDZ",J(bt,bt.__value),u(te,"name","pr"),u(te,"class","in-f w-full"),t[3].p.r===void 0&&Yt(()=>t[31].call(te)),u(x,"class","w-full"),u(Pt,"name","pc"),u(Pt,"class","in-l"),t[3].p.c===void 0&&Yt(()=>t[32].call(Pt)),u(W,"class","flex"),u(le,"class","my-1"),u(et,"class","my-1"),u(Je,"type","checkbox"),u(Je,"name","pe"),Je.__value="true",J(Je,Je.__value),u(Je,"class","rounded mb-1"),u(Be,"class","my-1"),we.__value=0,J(we,we.__value),nt.__value=1,J(nt,nt.__value),Xt.__value=2,J(Xt,Xt.__value),u(Ve,"name","gs"),u(Ve,"class","in-s"),t[3].g.s===void 0&&Yt(()=>t[35].call(Ve)),u(He,"class","my-1"),u(St,"name","gc"),u(St,"type","text"),u(St,"pattern",_i),u(St,"placeholder",Kt=((ht=(Ie=t[2].conf)==null?void 0:Ie.general)==null?void 0:ht.context_placeholder)??"/"),u(St,"class","in-s"),u(St,"maxlength","36"),u(Ye,"class","my-1"),u(e,"class","cnt")},m(Ie,ht){N(Ie,e,ht),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,p),a(p,k),a(p,g),a(p,w),a(p,v),J(v,t[3].g.h),a(d,C),a(d,T),a(T,P),a(T,D),a(T,I),a(T,U),Me(Y,U,null),st(U,t[3].g.t,!0),a(e,V),a(e,E),a(E,H),a(E,j),a(E,K),a(E,G);for(let xt=0;xt<Qt.length;xt+=1)Qt[xt]&&Qt[xt].m(G,null);st(G,t[3].u.lang,!0),a(e,B),a(e,z),a(e,ee),a(e,le),a(le,W),a(W,x),a(x,se),a(x,ue),a(x,ce),a(x,te),a(te,Z),tl&&tl.m(Z,null),a(Z,Q),a(Z,ve),a(Z,Se),a(Z,q),a(Z,y),a(te,R),a(R,F),a(R,X),a(R,oe),a(R,ie),a(te,_e),a(_e,me),a(_e,ae),a(te,ke),a(te,ge),a(te,Ee),a(te,qe),a(te,Ue),a(te,ze),a(te,Xe),a(te,Ze),a(te,Le),a(te,tt),a(te,re),a(te,Ce),a(te,lt),a(te,bt),st(te,t[3].p.r,!0),a(W,mt),a(W,$e),a($e,Wt),a($e,pt),a($e,Lt),a($e,Pt);for(let xt=0;xt<5;xt+=1)al[xt]&&al[xt].m(Pt,null);st(Pt,t[3].p.c,!0),a(e,qt),a(e,et),Me(_t,et,null),a(e,Pe),a(e,Be),a(Be,Qe),a(Qe,Je),Je.checked=t[3].p.e,a(Qe,he),a(Qe,Tt),a(Be,It),Zt&&Zt.m(Be,null),a(e,vt),a(e,He),a(He,xe),a(He,Ot),a(He,zt),a(He,Ve),a(Ve,we),a(we,Ge),a(Ve,nt),a(nt,dt),a(Ve,Xt),a(Xt,Ft),st(Ve,t[3].g.s,!0),a(e,sl),$t&&$t.m(e,null),a(e,Dt),a(e,Ye),a(Ye,Jt),a(Ye,gt),a(Ye,ft),a(Ye,St),J(St,t[3].g.c),de=!0,it||(Ke=[be(v,"input",t[28]),be(U,"change",t[29]),be(G,"change",t[30]),be(G,"change",t[23]),be(te,"change",t[31]),be(te,"change",t[26]),be(Pt,"change",t[32]),be(Je,"change",t[33]),be(Ve,"change",t[35]),be(St,"input",t[38])],it=!0)},p(Ie,ht){var Ql,Zl,Sn,Nn,Cn,Pn,Tn,An,En,Ln,qn,In,On,Dn,Fn,ps,_s,ds,hs,bs,vs,gs,ks,ws,Ms,ys,Ss,Ns,Cs,Ps,Ts,As;if((!de||ht[0]&4)&&n!==(n=(((Zl=(Ql=Ie[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.title)??"General")+"")&&L(i,n),(!de||ht[0]&4)&&b!==(b=(((Nn=(Sn=Ie[2].conf)==null?void 0:Sn.general)==null?void 0:Nn.hostname)??"Hostname")+"")&&L(k,b),ht[0]&8&&v.value!==Ie[3].g.h&&J(v,Ie[3].g.h),(!de||ht[0]&4)&&O!==(O=(((Pn=(Cn=Ie[2].conf)==null?void 0:Cn.general)==null?void 0:Pn.timezone)??"Time zone")+"")&&L(P,O),ht[0]&8&&st(U,Ie[3].g.t),(!de||ht[0]&4)&&A!==(A=(((An=(Tn=Ie[2].conf)==null?void 0:Tn.general)==null?void 0:An.language)??((Ln=(En=Ie[2].conf)==null?void 0:En.ui)==null?void 0:Ln.lang)??"Language")+"")&&L(H,A),ht[0]&16){ol=We(Ie[4]);let _l;for(_l=0;_l<ol.length;_l+=1){const Es=ga(Ie,ol,_l);Qt[_l]?Qt[_l].p(Es,ht):(Qt[_l]=wa(Es),Qt[_l].c(),Qt[_l].m(G,null))}for(;_l<Qt.length;_l+=1)Qt[_l].d(1);Qt.length=ol.length}ht[0]&8&&st(G,Ie[3].u.lang),(!de||ht[0]&4)&&fe!==(fe=(((In=(qn=Ie[2].conf)==null?void 0:qn.price)==null?void 0:In.region)??"Price region")+"")&&L(se,fe),Ie[3].p.t?tl&&(tl.d(1),tl=null):tl||(tl=Ma(),tl.c(),tl.m(Z,Q)),ht[0]&8&&st(te,Ie[3].p.r),(!de||ht[0]&4)&&rt!==(rt=(((Dn=(On=Ie[2].conf)==null?void 0:On.price)==null?void 0:Dn.currency)??"Currency")+"")&&L(Wt,rt),ht[0]&8&&st(Pt,Ie[3].p.c);const xt={};ht[0]&4|ht[4]&1&&(xt.$$scope={dirty:ht,ctx:Ie}),_t.$set(xt),ht[0]&8&&(Je.checked=Ie[3].p.e),(!de||ht[0]&4)&&De!==(De=(((ps=(Fn=Ie[2].conf)==null?void 0:Fn.price)==null?void 0:ps.enabled)??"Enabled")+"")&&L(Tt,De),Ie[3].p.e&&Ie[0].chip!="esp8266"?Zt?Zt.p(Ie,ht):(Zt=ya(Ie),Zt.c(),Zt.m(Be,null)):Zt&&(Zt.d(1),Zt=null),(!de||ht[0]&4)&&ut!==(ut=(((hs=(ds=(_s=Ie[2].conf)==null?void 0:_s.general)==null?void 0:ds.security)==null?void 0:hs.title)??"Security")+"")&&L(xe,ut),(!de||ht[0]&4)&&Te!==(Te=(((gs=(vs=(bs=Ie[2].conf)==null?void 0:bs.general)==null?void 0:vs.security)==null?void 0:gs.none)??"None")+"")&&L(Ge,Te),(!de||ht[0]&4)&&ot!==(ot=(((Ms=(ws=(ks=Ie[2].conf)==null?void 0:ks.general)==null?void 0:ws.security)==null?void 0:Ms.conf)??"Conf")+"")&&L(dt,ot),(!de||ht[0]&4)&&jt!==(jt=(((Ns=(Ss=(ys=Ie[2].conf)==null?void 0:ys.general)==null?void 0:Ss.security)==null?void 0:Ns.all)??"All")+"")&&L(Ft,jt),ht[0]&8&&st(Ve,Ie[3].g.s),Ie[3].g.s>0?$t?$t.p(Ie,ht):($t=Sa(Ie),$t.c(),$t.m(e,Dt)):$t&&($t.d(1),$t=null),(!de||ht[0]&4)&&Ut!==(Ut=(((Ps=(Cs=Ie[2].conf)==null?void 0:Cs.general)==null?void 0:Ps.context)??"Context")+"")&&L(Jt,Ut),(!de||ht[0]&4&&Kt!==(Kt=((As=(Ts=Ie[2].conf)==null?void 0:Ts.general)==null?void 0:As.context_placeholder)??"/"))&&u(St,"placeholder",Kt),ht[0]&8&&St.value!==Ie[3].g.c&&J(St,Ie[3].g.c)},i(Ie){de||($(Y.$$.fragment,Ie),$(_t.$$.fragment,Ie),de=!0)},o(Ie){ne(Y.$$.fragment,Ie),ne(_t.$$.fragment,Ie),de=!1},d(Ie){Ie&&S(e),ye(Y),Gt(Qt,Ie),tl&&tl.d(),Gt(al,Ie),ye(_t),Zt&&Zt.d(),$t&&$t.d(),it=!1,Rt(Ke)}}}function wa(t){let e,l=t[121].name+"",n,i;return{c(){e=_("option"),n=M(l),e.__value=i=t[121].code,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){o[0]&16&&l!==(l=s[121].name+"")&&L(n,l),o[0]&16&&i!==(i=s[121].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&S(e)}}}function Ma(t){let e,l,n,i,s;return{c(){e=_("option"),e.textContent="NO1 with support",l=_("option"),l.textContent="NO2 with support",n=_("option"),n.textContent="NO3 with support",i=_("option"),i.textContent="NO4 with support",s=_("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(o,f){N(o,e,f),N(o,l,f),N(o,n,f),N(o,i,f),N(o,s,f)},d(o){o&&(S(e),S(l),S(n),S(i),S(s))}}}function K1(t){let e;return{c(){e=_("option"),e.textContent=`${t[118]}`,e.__value=t[118],J(e,e.__value)},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function V1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=M(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&L(l,e)},d(s){s&&S(l)}}}function ya(t){let e,l,n,i,s;return{c(){var o,f;e=_("br"),l=_("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",_i)},m(o,f){N(o,e,f),N(o,l,f),J(l,t[3].p.t),i||(s=be(l,"input",t[34]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&8&&l.value!==o[3].p.t&&J(l,o[3].p.t)},d(o){o&&(S(e),S(l)),i=!1,s()}}}function Sa(t){var w,v,C,T,O,P;let e,l=(((C=(v=(w=t[2].conf)==null?void 0:w.general)==null?void 0:v.security)==null?void 0:C.username)??"Username")+"",n,i,s,o,f,r,c=(((P=(O=(T=t[2].conf)==null?void 0:T.general)==null?void 0:O.security)==null?void 0:P.password)??"Password")+"",m,d,p,b,k,g;return{c(){e=_("div"),n=M(l),i=_("br"),s=h(),o=_("input"),f=h(),r=_("div"),m=M(c),d=_("br"),p=h(),b=_("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",tn),u(e,"class","my-1"),u(b,"name","gp"),u(b,"type","password"),u(b,"class","in-s"),u(b,"maxlength","36"),u(b,"pattern",tn),u(r,"class","my-1")},m(D,I){N(D,e,I),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[3].g.u),N(D,f,I),N(D,r,I),a(r,m),a(r,d),a(r,p),a(r,b),J(b,t[3].g.p),k||(g=[be(o,"input",t[36]),be(b,"input",t[37])],k=!0)},p(D,I){var U,Y,V,E,A,H;I[0]&4&&l!==(l=(((V=(Y=(U=D[2].conf)==null?void 0:U.general)==null?void 0:Y.security)==null?void 0:V.username)??"Username")+"")&&L(n,l),I[0]&8&&o.value!==D[3].g.u&&J(o,D[3].g.u),I[0]&4&&c!==(c=(((H=(A=(E=D[2].conf)==null?void 0:E.general)==null?void 0:A.security)==null?void 0:H.password)??"Password")+"")&&L(m,c),I[0]&8&&b.value!==D[3].g.p&&J(b,D[3].g.p)},d(D){D&&(S(e),S(f),S(r)),k=!1,Rt(g)}}}function Na(t){let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D,I,U=$a(t[3].fw.s)+"",Y,V,E,A,H,j;function K(z,ee){var le,W,x,fe;return((W=(le=z[0])==null?void 0:le.upgrade)==null?void 0:W.m)===!0?X1:(fe=(x=z[0])==null?void 0:x.upgrade)!=null&&fe.n?Y1:G1}let G=K(t),B=G(t);return{c(){e=_("div"),l=_("strong"),l.textContent="Firmware updates",n=h(),i=_("input"),s=h(),o=_("div"),f=_("label"),r=_("input"),c=M(`
                    Enable nightly auto-updates`),m=h(),d=_("div"),p=_("div"),b=M("Update hour"),k=_("br"),g=h(),w=_("input"),C=h(),T=_("input"),P=h(),D=_("div"),I=M("When enabled, the device checks for updates daily at "),Y=M(U),V=M(" (local time) and applies them automatically if available."),E=h(),A=_("div"),B.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(w,"name","fws"),u(w,"type","number"),u(w,"min","0"),u(w,"max","23"),u(w,"class","in-s w-full"),w.disabled=v=!t[3].fw.a,u(T,"type","hidden"),u(T,"name","fwe"),T.value=O=t[3].fw.s,u(p,"class","col-span-2"),u(d,"class","my-1 grid grid-cols-2 gap-2"),u(D,"class","my-1 text-xs text-gray-500"),u(A,"class","my-1 text-xs"),u(e,"class","cnt")},m(z,ee){N(z,e,ee),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].fw.a,a(f,c),a(e,m),a(e,d),a(d,p),a(p,b),a(p,k),a(p,g),a(p,w),J(w,t[3].fw.s),a(p,C),a(p,T),a(e,P),a(e,D),a(D,I),a(D,Y),a(D,V),a(e,E),a(e,A),B.m(A,null),H||(j=[be(r,"change",t[39]),be(w,"input",t[40])],H=!0)},p(z,ee){ee[0]&8&&(r.checked=z[3].fw.a),ee[0]&8&&v!==(v=!z[3].fw.a)&&(w.disabled=v),ee[0]&8&&kt(w.value)!==z[3].fw.s&&J(w,z[3].fw.s),ee[0]&8&&O!==(O=z[3].fw.s)&&(T.value=O),ee[0]&8&&U!==(U=$a(z[3].fw.s)+"")&&L(Y,U),G===(G=K(z))&&B?B.p(z,ee):(B.d(1),B=G(z),B&&(B.c(),B.m(A,null)))},d(z){z&&S(e),B.d(),H=!1,Rt(j)}}}function G1(t){let e;return{c(){e=M("Checking for updates…")},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function Y1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=M("Latest available: "),n=M(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&L(n,l)},d(i){i&&(S(e),S(n))}}}function X1(t){let e;return{c(){e=_("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function Ca(t){let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D,I,U,Y=We(t[14]),V=[];for(let E=0;E<Y.length;E+=1)V[E]=Pa(va(t,Y,E));return{c(){e=_("div"),l=_("strong"),l.textContent="Debug logging",n=h(),i=_("input"),s=h(),o=_("div"),f=_("label"),r=_("input"),c=M(`
                    Enable telnet (RemoteDebug)`),m=h(),d=_("div"),p=_("label"),b=_("input"),k=M(`
                    Enable serial log output`),g=h(),w=_("div"),v=M("Log level"),C=_("br"),T=h(),O=_("select");for(let E=0;E<V.length;E+=1)V[E].c();P=h(),D=_("div"),D.textContent="Telnet logging requires the device to be connected to the network. Leave telnet off for normal operation.",u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","d"),i.value="true",u(r,"type","checkbox"),u(r,"name","dt"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(b,"type","checkbox"),u(b,"name","ds"),b.__value="true",J(b,b.__value),u(b,"class","rounded mb-1"),u(d,"class","my-1"),u(O,"name","dl"),u(O,"class","in-s"),t[3].d.l===void 0&&Yt(()=>t[43].call(O)),u(w,"class","my-1"),u(D,"class","my-1 text-xs text-gray-500"),u(e,"class","cnt")},m(E,A){N(E,e,A),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].d.t,a(f,c),a(e,m),a(e,d),a(d,p),a(p,b),b.checked=t[3].d.s,a(p,k),a(e,g),a(e,w),a(w,v),a(w,C),a(w,T),a(w,O);for(let H=0;H<V.length;H+=1)V[H]&&V[H].m(O,null);st(O,t[3].d.l,!0),a(e,P),a(e,D),I||(U=[be(r,"change",t[41]),be(b,"change",t[42]),be(O,"change",t[43])],I=!0)},p(E,A){if(A[0]&8&&(r.checked=E[3].d.t),A[0]&8&&(b.checked=E[3].d.s),A[0]&16384){Y=We(E[14]);let H;for(H=0;H<Y.length;H+=1){const j=va(E,Y,H);V[H]?V[H].p(j,A):(V[H]=Pa(j),V[H].c(),V[H].m(O,null))}for(;H<V.length;H+=1)V[H].d(1);V.length=Y.length}A[0]&8&&st(O,E[3].d.l)},d(E){E&&S(e),Gt(V,E),I=!1,Rt(U)}}}function Pa(t){let e,l=t[115].label+"",n;return{c(){e=_("option"),n=M(l),e.__value=t[115].value,J(e,e.__value)},m(i,s){N(i,e,s),a(e,n)},p:je,d(i){i&&S(e)}}}function Ta(t){var nt,ot,dt,Xt,jt,Ft,sl,Dt,Ye,Ut,Jt,gt,ft,St,Kt,de,it,Ke,ol,Qt,tl,pl,al,Zt,$t,cl,Ae,pe,Bt;let e,l,n=(((ot=(nt=t[2].conf)==null?void 0:nt.meter)==null?void 0:ot.title)??"Meter")+"",i,s,o,f,r,c,m,d,p,b,k=(((jt=(Xt=(dt=t[2].conf)==null?void 0:dt.meter)==null?void 0:Xt.preset)==null?void 0:jt.title)??"Meter preset")+"",g,w,v,C,T,O=(((Dt=(sl=(Ft=t[2].conf)==null?void 0:Ft.meter)==null?void 0:sl.preset)==null?void 0:Dt.manual)??"Manual configuration")+"",P,D,I,U,Y,V=(((Jt=(Ut=(Ye=t[2].conf)==null?void 0:Ye.meter)==null?void 0:Ut.comm)==null?void 0:Jt.title)??"Communication")+"",E,A,H,j,K,G=(((St=(ft=(gt=t[2].conf)==null?void 0:gt.meter)==null?void 0:ft.comm)==null?void 0:St.passive)??"Passive")+"",B,z,ee=(((it=(de=(Kt=t[2].conf)==null?void 0:Kt.meter)==null?void 0:de.comm)==null?void 0:it.pulse)??"Pulse")+"",le,W=(ol=(Ke=t[0])==null?void 0:Ke.features)==null?void 0:ol.includes("kmp"),x,fe,se,ue=(((Qt=t[2].common)==null?void 0:Qt.voltage)??"Voltage")+"",ce,te,Z,Q,ve,Se,q,y,R,F=(((pl=(tl=t[2].conf)==null?void 0:tl.meter)==null?void 0:pl.fuse)??"Main fuse")+"",X,oe,ie,_e,me,ae,ke,ge,Ee,qe=(((Zt=(al=t[2].conf)==null?void 0:al.meter)==null?void 0:Zt.prod)??"Production")+"",Ue,ze,Xe,Ze,Le,tt,re,Ce,lt,bt,mt,$e,rt,Wt,pt=(((cl=($t=t[2].conf)==null?void 0:$t.meter)==null?void 0:cl.encrypted)??"Encrypted")+"",Lt,Pt,qt,et,_t,Pe,Be,Qe=(((Bt=(pe=(Ae=t[2].conf)==null?void 0:Ae.meter)==null?void 0:pe.multipliers)==null?void 0:Bt.title)??"Multipliers")+"",Je,he,De,Tt,It=We(cs),vt=[];for(let Oe=0;Oe<It.length;Oe+=1)vt[Oe]=J1(W1(t,It,Oe));let He=t[8]&&Aa(t),ut=t[9]&&Ea(t),xe=W&&qa();function Ot(Oe,Nt){return Oe[3].m.a===2?Z1:Q1}let zt=Ot(t),Ve=zt(t),we=t[3].m.e.e&&Ia(t),Te=t[3].m.e.e&&Oa(t),Ge=t[3].m.m.e&&Da(t);return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("input"),d=h(),p=_("div"),b=_("label"),g=M(k),w=h(),v=_("div"),C=_("select"),T=_("option"),P=M(O);for(let Oe=0;Oe<vt.length;Oe+=1)vt[Oe].c();D=h(),He&&He.c(),I=h(),ut&&ut.c(),U=h(),Y=_("div"),E=M(V),A=_("br"),H=h(),j=_("select"),K=_("option"),B=M(G),z=_("option"),le=M(ee),xe&&xe.c(),x=h(),Ve.c(),fe=h(),se=_("div"),ce=M(ue),te=_("br"),Z=h(),Q=_("select"),ve=_("option"),ve.textContent="400V (TN)",Se=_("option"),Se.textContent="230V (IT/TT)",q=h(),y=_("div"),R=_("div"),X=M(F),oe=_("br"),ie=h(),_e=_("label"),me=_("input"),ae=h(),ke=_("span"),ke.textContent="A",ge=h(),Ee=_("div"),Ue=M(qe),ze=_("br"),Xe=h(),Ze=_("label"),Le=_("input"),tt=h(),re=_("span"),re.textContent="kWp",Ce=h(),lt=_("div"),lt.innerHTML="",bt=h(),mt=_("div"),$e=_("label"),rt=_("input"),Wt=h(),Lt=M(pt),Pt=h(),we&&we.c(),qt=h(),Te&&Te.c(),et=h(),_t=_("label"),Pe=_("input"),Be=h(),Je=M(Qe),he=h(),Ge&&Ge.c(),u(l,"class","text-sm"),u(o,"href",Ol("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(b,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(b,"for","meter-preset-select"),T.__value="",J(T,T.__value),u(C,"id","meter-preset-select"),u(C,"class","in-s w-full"),t[8]===void 0&&Yt(()=>t[44].call(C)),u(v,"class","mt-1 flex gap-2"),u(p,"class","my-1"),K.__value=0,J(K,K.__value),z.__value=2,J(z,z.__value),u(j,"name","ma"),u(j,"class","in-s"),t[3].m.a===void 0&&Yt(()=>t[46].call(j)),u(Y,"class","my-1"),ve.__value=2,J(ve,ve.__value),Se.__value=1,J(Se,Se.__value),u(Q,"name","md"),u(Q,"class","in-s"),t[3].m.d===void 0&&Yt(()=>t[52].call(Q)),u(se,"class","my-1"),u(me,"name","mf"),u(me,"type","number"),u(me,"min","5"),u(me,"max","65535"),u(me,"class","in-f tr w-full"),u(ke,"class","in-post"),u(_e,"class","flex"),u(R,"class","mx-1"),u(Le,"name","mr"),u(Le,"type","number"),u(Le,"min","0"),u(Le,"max","65535"),u(Le,"class","in-f tr w-full"),u(re,"class","in-post"),u(Ze,"class","flex"),u(Ee,"class","mx-1"),u(y,"class","my-1 flex"),u(lt,"class","my-1"),u(rt,"type","checkbox"),u(rt,"name","me"),rt.__value="true",J(rt,rt.__value),u(rt,"class","rounded mb-1"),u(mt,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",J(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(Oe,Nt){N(Oe,e,Nt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,d),a(e,p),a(p,b),a(b,g),a(p,w),a(p,v),a(v,C),a(C,T),a(T,P);for(let rl=0;rl<vt.length;rl+=1)vt[rl]&&vt[rl].m(C,null);st(C,t[8],!0),a(v,D),He&&He.m(v,null),a(p,I),ut&&ut.m(p,null),a(e,U),a(e,Y),a(Y,E),a(Y,A),a(Y,H),a(Y,j),a(j,K),a(K,B),a(j,z),a(z,le),xe&&xe.m(j,null),st(j,t[3].m.a,!0),a(e,x),Ve.m(e,null),a(e,fe),a(e,se),a(se,ce),a(se,te),a(se,Z),a(se,Q),a(Q,ve),a(Q,Se),st(Q,t[3].m.d,!0),a(e,q),a(e,y),a(y,R),a(R,X),a(R,oe),a(R,ie),a(R,_e),a(_e,me),J(me,t[3].m.f),a(_e,ae),a(_e,ke),a(y,ge),a(y,Ee),a(Ee,Ue),a(Ee,ze),a(Ee,Xe),a(Ee,Ze),a(Ze,Le),J(Le,t[3].m.r),a(Ze,tt),a(Ze,re),a(e,Ce),a(e,lt),a(e,bt),a(e,mt),a(mt,$e),a($e,rt),rt.checked=t[3].m.e.e,a($e,Wt),a($e,Lt),a(mt,Pt),we&&we.m(mt,null),a(e,qt),Te&&Te.m(e,null),a(e,et),a(e,_t),a(_t,Pe),Pe.checked=t[3].m.m.e,a(_t,Be),a(_t,Je),a(e,he),Ge&&Ge.m(e,null),De||(Tt=[be(C,"change",t[44]),be(C,"change",t[45]),be(j,"change",t[46]),be(Q,"change",t[52]),be(me,"input",t[53]),be(Le,"input",t[54]),be(rt,"change",t[55]),be(Pe,"change",t[58])],De=!0)},p(Oe,Nt){var rl,vl,gl,kl,wl,Ml,yl,Dl,Fl,Rl,Fe,at,jl,Ul,Bl,Hl,Wl,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ie,ht,xt,Ql,Zl;Nt[0]&4&&n!==(n=(((vl=(rl=Oe[2].conf)==null?void 0:rl.meter)==null?void 0:vl.title)??"Meter")+"")&&L(i,n),Nt[0]&4&&k!==(k=(((wl=(kl=(gl=Oe[2].conf)==null?void 0:gl.meter)==null?void 0:kl.preset)==null?void 0:wl.title)??"Meter preset")+"")&&L(g,k),Nt[0]&4&&O!==(O=(((Dl=(yl=(Ml=Oe[2].conf)==null?void 0:Ml.meter)==null?void 0:yl.preset)==null?void 0:Dl.manual)??"Manual configuration")+"")&&L(P,O),Nt[0]&256&&st(C,Oe[8]),Oe[8]?He?He.p(Oe,Nt):(He=Aa(Oe),He.c(),He.m(v,null)):He&&(He.d(1),He=null),Oe[9]?ut?ut.p(Oe,Nt):(ut=Ea(Oe),ut.c(),ut.m(p,null)):ut&&(ut.d(1),ut=null),Nt[0]&4&&V!==(V=(((Fe=(Rl=(Fl=Oe[2].conf)==null?void 0:Fl.meter)==null?void 0:Rl.comm)==null?void 0:Fe.title)??"Communication")+"")&&L(E,V),Nt[0]&4&&G!==(G=(((Ul=(jl=(at=Oe[2].conf)==null?void 0:at.meter)==null?void 0:jl.comm)==null?void 0:Ul.passive)??"Passive")+"")&&L(B,G),Nt[0]&4&&ee!==(ee=(((Wl=(Hl=(Bl=Oe[2].conf)==null?void 0:Bl.meter)==null?void 0:Hl.comm)==null?void 0:Wl.pulse)??"Pulse")+"")&&L(le,ee),Nt[0]&1&&(W=(Kl=(zl=Oe[0])==null?void 0:zl.features)==null?void 0:Kl.includes("kmp")),W?xe||(xe=qa(),xe.c(),xe.m(j,null)):xe&&(xe.d(1),xe=null),Nt[0]&8&&st(j,Oe[3].m.a),zt===(zt=Ot(Oe))&&Ve?Ve.p(Oe,Nt):(Ve.d(1),Ve=zt(Oe),Ve&&(Ve.c(),Ve.m(e,fe))),Nt[0]&4&&ue!==(ue=(((Vl=Oe[2].common)==null?void 0:Vl.voltage)??"Voltage")+"")&&L(ce,ue),Nt[0]&8&&st(Q,Oe[3].m.d),Nt[0]&4&&F!==(F=(((Yl=(Gl=Oe[2].conf)==null?void 0:Gl.meter)==null?void 0:Yl.fuse)??"Main fuse")+"")&&L(X,F),Nt[0]&8&&kt(me.value)!==Oe[3].m.f&&J(me,Oe[3].m.f),Nt[0]&4&&qe!==(qe=(((Jl=(Xl=Oe[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.prod)??"Production")+"")&&L(Ue,qe),Nt[0]&8&&kt(Le.value)!==Oe[3].m.r&&J(Le,Oe[3].m.r),Nt[0]&8&&(rt.checked=Oe[3].m.e.e),Nt[0]&4&&pt!==(pt=(((ht=(Ie=Oe[2].conf)==null?void 0:Ie.meter)==null?void 0:ht.encrypted)??"Encrypted")+"")&&L(Lt,pt),Oe[3].m.e.e?we?we.p(Oe,Nt):(we=Ia(Oe),we.c(),we.m(mt,null)):we&&(we.d(1),we=null),Oe[3].m.e.e?Te?Te.p(Oe,Nt):(Te=Oa(Oe),Te.c(),Te.m(e,et)):Te&&(Te.d(1),Te=null),Nt[0]&8&&(Pe.checked=Oe[3].m.m.e),Nt[0]&4&&Qe!==(Qe=(((Zl=(Ql=(xt=Oe[2].conf)==null?void 0:xt.meter)==null?void 0:Ql.multipliers)==null?void 0:Zl.title)??"Multipliers")+"")&&L(Je,Qe),Oe[3].m.m.e?Ge?Ge.p(Oe,Nt):(Ge=Da(Oe),Ge.c(),Ge.m(e,null)):Ge&&(Ge.d(1),Ge=null)},d(Oe){Oe&&S(e),Gt(vt,Oe),He&&He.d(),ut&&ut.d(),xe&&xe.d(),Ve.d(),we&&we.d(),Te&&Te.d(),Ge&&Ge.d(),De=!1,Rt(Tt)}}}function J1(t){let e;return{c(){e=_("option"),e.textContent=`${t[112].label}`,e.__value=t[112].id,J(e,e.__value)},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function Aa(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=_("button"),n=M(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){N(c,e,m),a(e,n),i||(s=be(e,"click",t[25]),i=!0)},p(c,m){var d,p,b;m[0]&4&&l!==(l=(((b=(p=(d=c[2].conf)==null?void 0:d.meter)==null?void 0:p.preset)==null?void 0:b.clear)??"Clear")+"")&&L(n,l)},d(c){c&&S(e),i=!1,s()}}}function Ea(t){let e,l=_a(t[9])+"",n,i,s=t[9].notes&&La(t);return{c(){e=_("div"),n=M(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){N(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=_a(o[9])+"")&&L(n,l),o[9].notes?s?s.p(o,f):(s=La(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&S(e),s&&s.d()}}}function La(t){let e,l=t[9].notes+"",n;return{c(){e=_("span"),n=M(l),u(e,"class","block")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&L(n,l)},d(i){i&&S(e)}}}function qa(t){let e;return{c(){e=_("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Q1(t){var fe,se,ue,ce,te,Z;let e,l,n=(((se=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:se.buffer)??"Buffer size")+"",i,s,o,f=(((ce=(ue=t[2].conf)==null?void 0:ue.meter)==null?void 0:ce.serial)??"Serial conf.")+"",r,c,m,d,p,b=(((Z=(te=t[2].conf)==null?void 0:te.meter)==null?void 0:Z.inverted)??"inverted")+"",k,g,w,v,C,T,O,P,D,I,U,Y,V,E,A,H,j,K,G,B,z,ee,le,W=We([3,12,24,48,96,192,384,576,1152]),x=[];for(let Q=0;Q<9;Q+=1)x[Q]=$1(H1(t,W,Q));return{c(){e=_("div"),l=_("span"),i=M(n),s=h(),o=_("span"),r=M(f),c=h(),m=_("label"),d=_("input"),p=h(),k=M(b),g=h(),w=_("div"),v=_("select"),C=_("option"),T=M("Autodetect");for(let Q=0;Q<9;Q+=1)x[Q].c();P=h(),D=_("select"),I=_("option"),U=M("-"),V=_("option"),V.textContent="7N1",E=_("option"),E.textContent="8N1",A=_("option"),A.textContent="8N2",H=_("option"),H.textContent="7E1",j=_("option"),j.textContent="8E1",G=h(),B=_("input"),u(l,"class","float-right"),u(d,"name","mi"),d.__value="true",J(d,d.__value),u(d,"type","checkbox"),u(d,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),C.__value=0,J(C,C.__value),C.disabled=O=t[3].m.b!=0,u(v,"name","mb"),u(v,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Yt(()=>t[49].call(v)),I.__value=0,J(I,I.__value),I.disabled=Y=t[3].m.b!=0,V.__value=2,J(V,V.__value),E.__value=3,J(E,E.__value),A.__value=7,J(A,A.__value),H.__value=10,J(H,H.__value),j.__value=11,J(j,j.__value),u(D,"name","mp"),u(D,"class","in-m"),D.disabled=K=t[3].m.b==0,t[3].m.p===void 0&&Yt(()=>t[50].call(D)),u(B,"name","ms"),u(B,"type","number"),u(B,"min",64),u(B,"max",z=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:256:4096),u(B,"step",64),u(B,"class","in-l tr w-1/2"),u(w,"class","flex w-full"),u(e,"class","my-1")},m(Q,ve){N(Q,e,ve),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,d),d.checked=t[3].m.i,a(m,p),a(m,k),a(e,g),a(e,w),a(w,v),a(v,C),a(C,T);for(let Se=0;Se<9;Se+=1)x[Se]&&x[Se].m(v,null);st(v,t[3].m.b,!0),a(w,P),a(w,D),a(D,I),a(I,U),a(D,V),a(D,E),a(D,A),a(D,H),a(D,j),st(D,t[3].m.p,!0),a(w,G),a(w,B),J(B,t[3].m.s),ee||(le=[be(d,"change",t[48]),be(v,"change",t[49]),be(D,"change",t[50]),be(B,"input",t[51])],ee=!0)},p(Q,ve){var Se,q,y,R,F,X;ve[0]&4&&n!==(n=(((q=(Se=Q[2].conf)==null?void 0:Se.meter)==null?void 0:q.buffer)??"Buffer size")+"")&&L(i,n),ve[0]&4&&f!==(f=(((R=(y=Q[2].conf)==null?void 0:y.meter)==null?void 0:R.serial)??"Serial conf.")+"")&&L(r,f),ve[0]&8&&(d.checked=Q[3].m.i),ve[0]&4&&b!==(b=(((X=(F=Q[2].conf)==null?void 0:F.meter)==null?void 0:X.inverted)??"inverted")+"")&&L(k,b),ve[0]&8&&O!==(O=Q[3].m.b!=0)&&(C.disabled=O),ve[0]&8&&st(v,Q[3].m.b),ve[0]&8&&Y!==(Y=Q[3].m.b!=0)&&(I.disabled=Y),ve[0]&8&&K!==(K=Q[3].m.b==0)&&(D.disabled=K),ve[0]&8&&st(D,Q[3].m.p),ve[0]&9&&z!==(z=Q[0].chip=="esp8266"?Q[3].i.h.p==3||Q[3].i.h.p==113?512:256:4096)&&u(B,"max",z),ve[0]&8&&kt(B.value)!==Q[3].m.s&&J(B,Q[3].m.s)},d(Q){Q&&S(e),Gt(x,Q),ee=!1,Rt(le)}}}function Z1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=_("div"),l=_("span"),i=M(n),s=h(),o=_("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(d,p){N(d,e,p),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[3].m.b),f||(r=be(o,"input",t[47]),f=!0)},p(d,p){var b,k;p[0]&4&&n!==(n=(((k=(b=d[2].conf)==null?void 0:b.meter)==null?void 0:k.pulses)??"Pulses per kWh")+"")&&L(i,n),p[0]&8&&kt(o.value)!==d[3].m.b&&J(o,d[3].m.b)},d(d){d&&S(e),f=!1,r()}}}function $1(t){let e;return{c(){e=_("option"),e.textContent=`${t[109]*100}`,e.__value=t[109]*100,J(e,e.__value)},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function Ia(t){let e,l,n,i;return{c(){e=_("br"),l=_("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Jf)},m(s,o){N(s,e,o),N(s,l,o),J(l,t[3].m.e.k),n||(i=be(l,"input",t[56]),n=!0)},p(s,o){o[0]&8&&l.value!==s[3].m.e.k&&J(l,s[3].m.e.k)},d(s){s&&(S(e),S(l)),n=!1,i()}}}function Oa(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=_("div"),n=M(l),i=_("br"),s=h(),o=_("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Jf),u(e,"class","my-1")},m(d,p){N(d,e,p),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[3].m.e.a),f||(r=be(o,"input",t[57]),f=!0)},p(d,p){var b,k;p[0]&4&&l!==(l=(((k=(b=d[2].conf)==null?void 0:b.meter)==null?void 0:k.authkey)??"Authentication key")+"")&&L(n,l),p[0]&8&&o.value!==d[3].m.e.a&&J(o,d[3].m.e.a)},d(d){d&&S(e),f=!1,r()}}}function Da(t){var K,G,B,z,ee,le,W,x,fe,se,ue,ce;let e,l,n=(((B=(G=(K=t[2].conf)==null?void 0:K.meter)==null?void 0:G.multipliers)==null?void 0:B.watt)??"Watt")+"",i,s,o,f,r,c,m=(((le=(ee=(z=t[2].conf)==null?void 0:z.meter)==null?void 0:ee.multipliers)==null?void 0:le.volt)??"Volt")+"",d,p,b,k,g,w,v=(((fe=(x=(W=t[2].conf)==null?void 0:W.meter)==null?void 0:x.multipliers)==null?void 0:fe.amp)??"Amp")+"",C,T,O,P,D,I,U=(((ce=(ue=(se=t[2].conf)==null?void 0:se.meter)==null?void 0:ue.multipliers)==null?void 0:ce.kwh)??"kWh")+"",Y,V,E,A,H,j;return{c(){e=_("div"),l=_("div"),i=M(n),s=_("br"),o=h(),f=_("input"),r=h(),c=_("div"),d=M(m),p=_("br"),b=h(),k=_("input"),g=h(),w=_("div"),C=M(v),T=_("br"),O=h(),P=_("input"),D=h(),I=_("div"),Y=M(U),V=_("br"),E=h(),A=_("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(k,"name","mmv"),u(k,"type","number"),u(k,"min","0.00"),u(k,"max","1000"),u(k,"step","0.001"),u(k,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(P,"name","mma"),u(P,"type","number"),u(P,"min","0.00"),u(P,"max","1000"),u(P,"step","0.001"),u(P,"class","in-m tr w-full"),u(w,"class","w-1/4"),u(A,"name","mmc"),u(A,"type","number"),u(A,"min","0.00"),u(A,"max","1000"),u(A,"step","0.001"),u(A,"class","in-l tr w-full"),u(I,"class","w-1/4"),u(e,"class","flex my-1")},m(te,Z){N(te,e,Z),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),J(f,t[3].m.m.w),a(e,r),a(e,c),a(c,d),a(c,p),a(c,b),a(c,k),J(k,t[3].m.m.v),a(e,g),a(e,w),a(w,C),a(w,T),a(w,O),a(w,P),J(P,t[3].m.m.a),a(e,D),a(e,I),a(I,Y),a(I,V),a(I,E),a(I,A),J(A,t[3].m.m.c),H||(j=[be(f,"input",t[59]),be(k,"input",t[60]),be(P,"input",t[61]),be(A,"input",t[62])],H=!0)},p(te,Z){var Q,ve,Se,q,y,R,F,X,oe,ie,_e,me;Z[0]&4&&n!==(n=(((Se=(ve=(Q=te[2].conf)==null?void 0:Q.meter)==null?void 0:ve.multipliers)==null?void 0:Se.watt)??"Watt")+"")&&L(i,n),Z[0]&8&&kt(f.value)!==te[3].m.m.w&&J(f,te[3].m.m.w),Z[0]&4&&m!==(m=(((R=(y=(q=te[2].conf)==null?void 0:q.meter)==null?void 0:y.multipliers)==null?void 0:R.volt)??"Volt")+"")&&L(d,m),Z[0]&8&&kt(k.value)!==te[3].m.m.v&&J(k,te[3].m.m.v),Z[0]&4&&v!==(v=(((oe=(X=(F=te[2].conf)==null?void 0:F.meter)==null?void 0:X.multipliers)==null?void 0:oe.amp)??"Amp")+"")&&L(C,v),Z[0]&8&&kt(P.value)!==te[3].m.m.a&&J(P,te[3].m.m.a),Z[0]&4&&U!==(U=(((me=(_e=(ie=te[2].conf)==null?void 0:ie.meter)==null?void 0:_e.multipliers)==null?void 0:me.kwh)??"kWh")+"")&&L(Y,U),Z[0]&8&&kt(A.value)!==te[3].m.m.c&&J(A,te[3].m.m.c)},d(te){te&&S(e),H=!1,Rt(j)}}}function Fa(t){var d,p;let e,l,n=(((p=(d=t[2].conf)==null?void 0:d.connection)==null?void 0:p.title)??"Connection")+"",i,s,o,f,r,c,m=(t[3].n.c==1||t[3].n.c==2)&&Ra(t);return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Ol("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(b,k){N(b,e,k),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(b,k){var g,w;k[0]&4&&n!==(n=(((w=(g=b[2].conf)==null?void 0:g.connection)==null?void 0:w.title)??"Connection")+"")&&L(i,n),b[3].n.c==1||b[3].n.c==2?m?m.p(b,k):(m=Ra(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&S(e),m&&m.d()}}}function Ra(t){var ke,ge,Ee,qe,Ue,ze,Xe,Ze,Le,tt,re,Ce,lt,bt,mt,$e,rt,Wt,pt,Lt,Pt,qt,et,_t;let e,l=(((ge=(ke=t[2].conf)==null?void 0:ke.connection)==null?void 0:ge.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((qe=(Ee=t[2].conf)==null?void 0:Ee.connection)==null?void 0:qe.psk)??"Password")+"",d,p,b,k,g,w,v,C=(((Xe=(ze=(Ue=t[2].conf)==null?void 0:Ue.connection)==null?void 0:ze.ps)==null?void 0:Xe.title)??"Power saving")+"",T,O,P,D,I,U=(((tt=(Le=(Ze=t[2].conf)==null?void 0:Ze.connection)==null?void 0:Le.ps)==null?void 0:tt.default)??"Default")+"",Y,V,E=(((lt=(Ce=(re=t[2].conf)==null?void 0:re.connection)==null?void 0:Ce.ps)==null?void 0:lt.off)??"Off")+"",A,H,j=((($e=(mt=(bt=t[2].conf)==null?void 0:bt.connection)==null?void 0:mt.ps)==null?void 0:$e.min)??"Min")+"",K,G,B=(((pt=(Wt=(rt=t[2].conf)==null?void 0:rt.connection)==null?void 0:Wt.ps)==null?void 0:pt.max)??"Max")+"",z,ee,le,W=(((Pt=(Lt=t[2].conf)==null?void 0:Lt.connection)==null?void 0:Pt.pwr)??"Power")+"",x,fe,se,ue,ce,te,Z,Q,ve,Se,q,y,R=(((et=(qt=t[2].conf)==null?void 0:qt.connection)==null?void 0:et.tick_11b)??"802.11b")+"",F,X,oe,ie=((_t=t[5])==null?void 0:_t.c)==-1&&ja(t);function _e(Pe,Be){var Qe,Je,he;if((Je=(Qe=Pe[5])==null?void 0:Qe.n)!=null&&Je.length)return em;if(((he=Pe[5])==null?void 0:he.c)!=-1)return x1}let me=_e(t),ae=me&&me(t);return{c(){e=_("div"),n=M(l),i=h(),s=_("br"),o=h(),ie&&ie.c(),f=h(),ae&&ae.c(),r=h(),c=_("div"),d=M(m),p=_("br"),b=h(),k=_("input"),g=h(),w=_("div"),v=_("div"),T=M(C),O=_("br"),P=h(),D=_("select"),I=_("option"),Y=M(U),V=_("option"),A=M(E),H=_("option"),K=M(j),G=_("option"),z=M(B),ee=h(),le=_("div"),x=M(W),fe=_("br"),se=h(),ue=_("div"),ce=_("input"),te=h(),Z=_("span"),Z.textContent="dBm",Q=h(),ve=_("div"),Se=_("label"),q=_("input"),y=h(),F=M(R),u(e,"class","my-1"),u(k,"name","wp"),u(k,"type","password"),u(k,"class","in-s"),u(k,"pattern",pi),u(c,"class","my-1"),I.__value=255,J(I,I.__value),V.__value=0,J(V,V.__value),H.__value=1,J(H,H.__value),G.__value=2,J(G,G.__value),u(D,"name","wz"),u(D,"class","in-s"),t[3].w.z===void 0&&Yt(()=>t[66].call(D)),u(v,"class","w-1/2"),u(ce,"name","ww"),u(ce,"type","number"),u(ce,"min","0"),u(ce,"max","20.5"),u(ce,"step","0.5"),u(ce,"class","in-f tr w-full"),u(Z,"class","in-post"),u(ue,"class","flex"),u(le,"class","ml-2 w-1/2"),u(w,"class","my-1 flex"),u(q,"type","checkbox"),u(q,"name","wb"),q.__value="true",J(q,q.__value),u(q,"class","rounded mb-1"),u(ve,"class","my-3")},m(Pe,Be){N(Pe,e,Be),a(e,n),a(e,i),a(e,s),a(e,o),ie&&ie.m(e,null),a(e,f),ae&&ae.m(e,null),N(Pe,r,Be),N(Pe,c,Be),a(c,d),a(c,p),a(c,b),a(c,k),J(k,t[3].w.p),N(Pe,g,Be),N(Pe,w,Be),a(w,v),a(v,T),a(v,O),a(v,P),a(v,D),a(D,I),a(I,Y),a(D,V),a(V,A),a(D,H),a(H,K),a(D,G),a(G,z),st(D,t[3].w.z,!0),a(w,ee),a(w,le),a(le,x),a(le,fe),a(le,se),a(le,ue),a(ue,ce),J(ce,t[3].w.w),a(ue,te),a(ue,Z),N(Pe,Q,Be),N(Pe,ve,Be),a(ve,Se),a(Se,q),q.checked=t[3].w.b,a(Se,y),a(Se,F),X||(oe=[be(k,"input",t[65]),be(D,"change",t[66]),be(ce,"input",t[67]),be(q,"change",t[68])],X=!0)},p(Pe,Be){var Qe,Je,he,De,Tt,It,vt,He,ut,xe,Ot,zt,Ve,we,Te,Ge,nt,ot,dt,Xt,jt,Ft,sl,Dt;Be[0]&4&&l!==(l=(((Je=(Qe=Pe[2].conf)==null?void 0:Qe.connection)==null?void 0:Je.ssid)??"Network name (SSID)")+"")&&L(n,l),((he=Pe[5])==null?void 0:he.c)==-1?ie?ie.p(Pe,Be):(ie=ja(Pe),ie.c(),ie.m(e,f)):ie&&(ie.d(1),ie=null),me===(me=_e(Pe))&&ae?ae.p(Pe,Be):(ae&&ae.d(1),ae=me&&me(Pe),ae&&(ae.c(),ae.m(e,null))),Be[0]&4&&m!==(m=(((Tt=(De=Pe[2].conf)==null?void 0:De.connection)==null?void 0:Tt.psk)??"Password")+"")&&L(d,m),Be[0]&8&&k.value!==Pe[3].w.p&&J(k,Pe[3].w.p),Be[0]&4&&C!==(C=(((He=(vt=(It=Pe[2].conf)==null?void 0:It.connection)==null?void 0:vt.ps)==null?void 0:He.title)??"Power saving")+"")&&L(T,C),Be[0]&4&&U!==(U=(((Ot=(xe=(ut=Pe[2].conf)==null?void 0:ut.connection)==null?void 0:xe.ps)==null?void 0:Ot.default)??"Default")+"")&&L(Y,U),Be[0]&4&&E!==(E=(((we=(Ve=(zt=Pe[2].conf)==null?void 0:zt.connection)==null?void 0:Ve.ps)==null?void 0:we.off)??"Off")+"")&&L(A,E),Be[0]&4&&j!==(j=(((nt=(Ge=(Te=Pe[2].conf)==null?void 0:Te.connection)==null?void 0:Ge.ps)==null?void 0:nt.min)??"Min")+"")&&L(K,j),Be[0]&4&&B!==(B=(((Xt=(dt=(ot=Pe[2].conf)==null?void 0:ot.connection)==null?void 0:dt.ps)==null?void 0:Xt.max)??"Max")+"")&&L(z,B),Be[0]&8&&st(D,Pe[3].w.z),Be[0]&4&&W!==(W=(((Ft=(jt=Pe[2].conf)==null?void 0:jt.connection)==null?void 0:Ft.pwr)??"Power")+"")&&L(x,W),Be[0]&8&&kt(ce.value)!==Pe[3].w.w&&J(ce,Pe[3].w.w),Be[0]&8&&(q.checked=Pe[3].w.b),Be[0]&4&&R!==(R=(((Dt=(sl=Pe[2].conf)==null?void 0:sl.connection)==null?void 0:Dt.tick_11b)??"802.11b")+"")&&L(F,R)},d(Pe){Pe&&(S(e),S(r),S(c),S(g),S(w),S(Q),S(ve)),ie&&ie.d(),ae&&ae.d(),X=!1,Rt(oe)}}}function ja(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=_("div"),n=M(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&L(n,l)},d(o){o&&S(e)}}}function x1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=_("div"),n=M(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&L(n,l)},d(o){o&&S(e)}}}function em(t){let e,l=[],n=new Map,i=We(t[5].n);const s=o=>o[106].s??o[108];for(let o=0;o<i.length;o+=1){let f=ba(t,i,o),r=s(f);n.set(r,l[o]=Ba(r,f))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){N(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9260&&(i=We(o[5].n),l=yf(l,f,s,1,o,i,n,e,Mf,Ba,null,ba))},d(o){o&&S(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ua(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=_("span"),n=M(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&L(n,l)},d(o){o&&S(e)}}}function Ba(t,e){var A,H,j,K,G;let l,n,i,s,o=!1,f,r,c,m=(e[106].s||(((H=(A=e[2].conf)==null?void 0:A.connection)==null?void 0:H.hidden_ssid)??"Hidden network"))+"",d,p,b,k=(((j=e[10][e[108]])==null?void 0:j.title)??((G=(K=e[2].conf)==null?void 0:K.connection)==null?void 0:G.wifi_offline)??"Signal unavailable")+"",g,w,v,C,T,O,P,D,I,U,Y,V,E=e[3].w.s===e[106].s&&Ua(e);return U=vf(e[64][0]),{key:t,first:null,c(){var B,z,ee;l=_("label"),n=_("span"),i=_("input"),f=h(),r=_("span"),c=_("span"),d=M(m),p=h(),b=_("span"),g=M(k),w=h(),v=_("div"),C=_("img"),D=h(),E&&E.c(),I=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[106].s,J(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(b,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(C,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),fn(C.src,T=((B=e[10][e[108]])==null?void 0:B.icon)??e[13].off)||u(C,"src",T),u(C,"alt",O=((z=e[10][e[108]])==null?void 0:z.title)??"Wi-Fi offline"),u(C,"title",P=((ee=e[10][e[108]])==null?void 0:ee.title)??"Wi-Fi offline"),u(v,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),U.p(i),this.first=l},m(B,z){N(B,l,z),a(l,n),a(n,i),i.checked=i.__value===e[3].w.s,a(n,f),a(n,r),a(r,c),a(c,d),a(r,p),a(r,b),a(b,g),a(l,w),a(l,v),a(v,C),a(v,D),E&&E.m(v,null),a(l,I),Y||(V=be(i,"change",e[63]),Y=!0)},p(B,z){var ee,le,W,x,fe,se,ue,ce;e=B,z[0]&32&&s!==(s=e[106].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||z[0]&40)&&(i.checked=i.__value===e[3].w.s),z[0]&36&&m!==(m=(e[106].s||(((le=(ee=e[2].conf)==null?void 0:ee.connection)==null?void 0:le.hidden_ssid)??"Hidden network"))+"")&&L(d,m),z[0]&1060&&k!==(k=(((W=e[10][e[108]])==null?void 0:W.title)??((fe=(x=e[2].conf)==null?void 0:x.connection)==null?void 0:fe.wifi_offline)??"Signal unavailable")+"")&&L(g,k),z[0]&1056&&!fn(C.src,T=((se=e[10][e[108]])==null?void 0:se.icon)??e[13].off)&&u(C,"src",T),z[0]&1056&&O!==(O=((ue=e[10][e[108]])==null?void 0:ue.title)??"Wi-Fi offline")&&u(C,"alt",O),z[0]&1056&&P!==(P=((ce=e[10][e[108]])==null?void 0:ce.title)??"Wi-Fi offline")&&u(C,"title",P),e[3].w.s===e[106].s?E?E.p(e,z):(E=Ua(e),E.c(),E.m(v,null)):E&&(E.d(1),E=null)},d(B){B&&S(l),E&&E.d(),U.r(),Y=!1,V()}}}function Ha(t){var St,Kt,de,it,Ke,ol,Qt,tl,pl,al,Zt,$t,cl,Ae,pe,Bt,Oe,Nt,rl,vl,gl,kl,wl,Ml,yl,Dl,Fl,Rl;let e,l,n=(((Kt=(St=t[2].conf)==null?void 0:St.mqtt)==null?void 0:Kt.title)??"MQTT")+"",i,s,o,f,r,c,m,d=(((it=(de=t[2].conf)==null?void 0:de.mqtt)==null?void 0:it.server)??"Server")+"",p,b,k,g,w,v,C,T,O,P,D,I,U=(((ol=(Ke=t[2].conf)==null?void 0:Ke.mqtt)==null?void 0:ol.user)??"Username")+"",Y,V,E,A,H,j,K=(((tl=(Qt=t[2].conf)==null?void 0:Qt.mqtt)==null?void 0:tl.pass)??"Password")+"",G,B,z,ee,le,W,x,fe=(((al=(pl=t[2].conf)==null?void 0:pl.mqtt)==null?void 0:al.id)??"Client ID")+"",se,ue,ce,te,Z,Q,ve,Se=((($t=(Zt=t[2].conf)==null?void 0:Zt.mqtt)==null?void 0:$t.payload)??"Payload")+"",q,y,R,F,X,oe,ie,_e,me,ae,ke,ge,Ee,qe,Ue=(((Ae=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:Ae.publish)??"Publish topic")+"",ze,Xe,Ze,Le,tt,re,Ce=(((Bt=(pe=t[2].conf)==null?void 0:pe.mqtt)==null?void 0:Bt.subscribe)??"Subscribe topic")+"",lt,bt,mt,$e,rt,Wt,pt,Lt=(((Nt=(Oe=t[2].conf)==null?void 0:Oe.mqtt)==null?void 0:Nt.update)??"Update method")+"",Pt,qt,et,_t=(((vl=(rl=t[2].conf)==null?void 0:rl.mqtt)==null?void 0:vl.interval)??"Interval")+"",Pe,Be,Qe,Je,he,De=(((kl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:kl.realtime)??"Real time")+"",Tt,It,vt=(((Ml=(wl=t[2].conf)==null?void 0:wl.mqtt)==null?void 0:Ml.interval)??"Interval")+"",He,ut,xe,Ot,zt,Ve,we=(((Dl=(yl=t[2].conf)==null?void 0:yl.mqtt)==null?void 0:Dl.timeout)??"Timeout")+"",Te,Ge,nt,ot=(((Rl=(Fl=t[2].conf)==null?void 0:Fl.mqtt)==null?void 0:Rl.keepalive)??"Keep-alive")+"",dt,Xt,jt,Ft,sl,Dt,Ye,Ut,Jt,gt=t[0].chip!="esp8266"&&Wa(t),ft=t[3].q.s.e&&za(t);return{c(){var Fe,at;e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("div"),p=M(d),b=h(),gt&&gt.c(),k=h(),g=_("br"),w=h(),v=_("div"),C=_("input"),T=h(),O=_("input"),P=h(),ft&&ft.c(),D=h(),I=_("div"),Y=M(U),V=_("br"),E=h(),A=_("input"),H=h(),j=_("div"),G=M(K),B=_("br"),z=h(),ee=_("input"),le=h(),W=_("div"),x=_("div"),se=M(fe),ue=_("br"),ce=h(),te=_("input"),Q=h(),ve=_("div"),q=M(Se),y=_("br"),R=h(),F=_("select"),X=_("option"),X.textContent="Raw (minimal)",oe=_("option"),oe.textContent="Raw (full)",ie=_("option"),ie.textContent="Domoticz",_e=_("option"),_e.textContent="Home-Assistant",me=_("option"),me.textContent="JSON (classic)",ae=_("option"),ae.textContent="JSON (multi topic)",ke=_("option"),ke.textContent="JSON (flat)",ge=_("option"),ge.textContent="HEX dump",Ee=h(),qe=_("div"),ze=M(Ue),Xe=_("br"),Ze=h(),Le=_("input"),tt=h(),re=_("div"),lt=M(Ce),bt=_("br"),mt=h(),$e=_("input"),Wt=h(),pt=_("div"),Pt=M(Lt),qt=h(),et=_("span"),Pe=M(_t),Be=h(),Qe=_("div"),Je=_("select"),he=_("option"),Tt=M(De),It=_("option"),He=M(vt),ut=h(),xe=_("input"),zt=h(),Ve=_("div"),Te=M(we),Ge=h(),nt=_("span"),dt=M(ot),Xt=h(),jt=_("div"),Ft=_("input"),sl=h(),Dt=_("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(C,"name","qh"),u(C,"type","text"),u(C,"class","in-f w-2/3"),u(C,"pattern",tn),u(O,"name","qp"),u(O,"type","number"),u(O,"min","1024"),u(O,"max","65535"),u(O,"class","in-l tr w-1/3"),u(v,"class","flex"),u(m,"class","my-1"),u(A,"name","qu"),u(A,"type","text"),u(A,"class","in-s"),u(A,"pattern",pi),u(I,"class","my-1"),u(ee,"name","qa"),u(ee,"type","password"),u(ee,"class","in-s"),u(ee,"pattern",pi),u(j,"class","my-1"),u(te,"name","qc"),u(te,"type","text"),u(te,"class","in-f w-full"),te.required=Z=t[3].q.h,u(te,"pattern",_i),X.__value=1,J(X,X.__value),oe.__value=2,J(oe,oe.__value),ie.__value=3,J(ie,ie.__value),_e.__value=4,J(_e,_e.__value),me.__value=0,J(me,me.__value),ae.__value=5,J(ae,ae.__value),ke.__value=6,J(ke,ke.__value),ge.__value=255,J(ge,ge.__value),u(F,"name","qm"),u(F,"class","in-l"),t[3].q.m===void 0&&Yt(()=>t[75].call(F)),u(W,"class","my-1 flex"),u(Le,"name","qb"),u(Le,"type","text"),u(Le,"class","in-s"),u(Le,"pattern",tn),u(qe,"class","my-1"),u($e,"name","qr"),u($e,"type","text"),u($e,"class","in-s"),u($e,"pattern",tn),u($e,"placeholder",rt=t[3].q.b+"/command"),u(re,"class","my-1"),u(et,"class","float-right"),he.__value=0,J(he,he.__value),It.__value=1,J(It,It.__value),u(Je,"name","qt"),u(Je,"class","in-f w-1/2"),t[3].q.t===void 0&&Yt(()=>t[78].call(Je)),u(xe,"name","qd"),u(xe,"type","number"),u(xe,"min","1"),u(xe,"max","3600"),u(xe,"class","in-l tr w-1/2"),xe.disabled=Ot=((at=(Fe=t[3])==null?void 0:Fe.q)==null?void 0:at.t)!=1,u(Qe,"class","flex"),u(pt,"class","my-1"),u(nt,"class","float-right"),u(Ft,"name","qi"),u(Ft,"type","number"),u(Ft,"min","500"),u(Ft,"max","10000"),u(Ft,"class","in-f tr w-1/2"),u(Dt,"name","qk"),u(Dt,"type","number"),u(Dt,"min","5"),u(Dt,"max","180"),u(Dt,"class","in-l tr w-1/2"),u(jt,"class","flex"),u(Ve,"class","my-1"),u(e,"class","cnt")},m(Fe,at){N(Fe,e,at),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,p),a(m,b),gt&&gt.m(m,null),a(m,k),a(m,g),a(m,w),a(m,v),a(v,C),J(C,t[3].q.h),a(v,T),a(v,O),J(O,t[3].q.p),a(e,P),ft&&ft.m(e,null),a(e,D),a(e,I),a(I,Y),a(I,V),a(I,E),a(I,A),J(A,t[3].q.u),a(e,H),a(e,j),a(j,G),a(j,B),a(j,z),a(j,ee),J(ee,t[3].q.a),a(e,le),a(e,W),a(W,x),a(x,se),a(x,ue),a(x,ce),a(x,te),J(te,t[3].q.c),a(W,Q),a(W,ve),a(ve,q),a(ve,y),a(ve,R),a(ve,F),a(F,X),a(F,oe),a(F,ie),a(F,_e),a(F,me),a(F,ae),a(F,ke),a(F,ge),st(F,t[3].q.m,!0),a(e,Ee),a(e,qe),a(qe,ze),a(qe,Xe),a(qe,Ze),a(qe,Le),J(Le,t[3].q.b),a(e,tt),a(e,re),a(re,lt),a(re,bt),a(re,mt),a(re,$e),J($e,t[3].q.r),a(e,Wt),a(e,pt),a(pt,Pt),a(pt,qt),a(pt,et),a(et,Pe),a(pt,Be),a(pt,Qe),a(Qe,Je),a(Je,he),a(he,Tt),a(Je,It),a(It,He),st(Je,t[3].q.t,!0),a(Qe,ut),a(Qe,xe),J(xe,t[3].q.d),a(e,zt),a(e,Ve),a(Ve,Te),a(Ve,Ge),a(Ve,nt),a(nt,dt),a(Ve,Xt),a(Ve,jt),a(jt,Ft),J(Ft,t[3].q.i),a(jt,sl),a(jt,Dt),J(Dt,t[3].q.k),Ye=!0,Ut||(Jt=[be(C,"input",t[70]),be(O,"input",t[71]),be(A,"input",t[72]),be(ee,"input",t[73]),be(te,"input",t[74]),be(F,"change",t[75]),be(Le,"input",t[76]),be($e,"input",t[77]),be(Je,"change",t[78]),be(xe,"input",t[79]),be(Ft,"input",t[80]),be(Dt,"input",t[81])],Ut=!0)},p(Fe,at){var jl,Ul,Bl,Hl,Wl,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ie,ht,xt,Ql,Zl,Sn,Nn,Cn,Pn,Tn,An,En,Ln,qn,In,On,Dn,Fn;(!Ye||at[0]&4)&&n!==(n=(((Ul=(jl=Fe[2].conf)==null?void 0:jl.mqtt)==null?void 0:Ul.title)??"MQTT")+"")&&L(i,n),(!Ye||at[0]&4)&&d!==(d=(((Hl=(Bl=Fe[2].conf)==null?void 0:Bl.mqtt)==null?void 0:Hl.server)??"Server")+"")&&L(p,d),Fe[0].chip!="esp8266"?gt?gt.p(Fe,at):(gt=Wa(Fe),gt.c(),gt.m(m,k)):gt&&(gt.d(1),gt=null),at[0]&8&&C.value!==Fe[3].q.h&&J(C,Fe[3].q.h),at[0]&8&&kt(O.value)!==Fe[3].q.p&&J(O,Fe[3].q.p),Fe[3].q.s.e?ft?(ft.p(Fe,at),at[0]&8&&$(ft,1)):(ft=za(Fe),ft.c(),$(ft,1),ft.m(e,D)):ft&&(wt(),ne(ft,1,1,()=>{ft=null}),Mt()),(!Ye||at[0]&4)&&U!==(U=(((zl=(Wl=Fe[2].conf)==null?void 0:Wl.mqtt)==null?void 0:zl.user)??"Username")+"")&&L(Y,U),at[0]&8&&A.value!==Fe[3].q.u&&J(A,Fe[3].q.u),(!Ye||at[0]&4)&&K!==(K=(((Vl=(Kl=Fe[2].conf)==null?void 0:Kl.mqtt)==null?void 0:Vl.pass)??"Password")+"")&&L(G,K),at[0]&8&&ee.value!==Fe[3].q.a&&J(ee,Fe[3].q.a),(!Ye||at[0]&4)&&fe!==(fe=(((Yl=(Gl=Fe[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.id)??"Client ID")+"")&&L(se,fe),(!Ye||at[0]&8&&Z!==(Z=Fe[3].q.h))&&(te.required=Z),at[0]&8&&te.value!==Fe[3].q.c&&J(te,Fe[3].q.c),(!Ye||at[0]&4)&&Se!==(Se=(((Jl=(Xl=Fe[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.payload)??"Payload")+"")&&L(q,Se),at[0]&8&&st(F,Fe[3].q.m),(!Ye||at[0]&4)&&Ue!==(Ue=(((ht=(Ie=Fe[2].conf)==null?void 0:Ie.mqtt)==null?void 0:ht.publish)??"Publish topic")+"")&&L(ze,Ue),at[0]&8&&Le.value!==Fe[3].q.b&&J(Le,Fe[3].q.b),(!Ye||at[0]&4)&&Ce!==(Ce=(((Ql=(xt=Fe[2].conf)==null?void 0:xt.mqtt)==null?void 0:Ql.subscribe)??"Subscribe topic")+"")&&L(lt,Ce),(!Ye||at[0]&8&&rt!==(rt=Fe[3].q.b+"/command"))&&u($e,"placeholder",rt),at[0]&8&&$e.value!==Fe[3].q.r&&J($e,Fe[3].q.r),(!Ye||at[0]&4)&&Lt!==(Lt=(((Sn=(Zl=Fe[2].conf)==null?void 0:Zl.mqtt)==null?void 0:Sn.update)??"Update method")+"")&&L(Pt,Lt),(!Ye||at[0]&4)&&_t!==(_t=(((Cn=(Nn=Fe[2].conf)==null?void 0:Nn.mqtt)==null?void 0:Cn.interval)??"Interval")+"")&&L(Pe,_t),(!Ye||at[0]&4)&&De!==(De=(((Tn=(Pn=Fe[2].conf)==null?void 0:Pn.mqtt)==null?void 0:Tn.realtime)??"Real time")+"")&&L(Tt,De),(!Ye||at[0]&4)&&vt!==(vt=(((En=(An=Fe[2].conf)==null?void 0:An.mqtt)==null?void 0:En.interval)??"Interval")+"")&&L(He,vt),at[0]&8&&st(Je,Fe[3].q.t),(!Ye||at[0]&8&&Ot!==(Ot=((qn=(Ln=Fe[3])==null?void 0:Ln.q)==null?void 0:qn.t)!=1))&&(xe.disabled=Ot),at[0]&8&&kt(xe.value)!==Fe[3].q.d&&J(xe,Fe[3].q.d),(!Ye||at[0]&4)&&we!==(we=(((On=(In=Fe[2].conf)==null?void 0:In.mqtt)==null?void 0:On.timeout)??"Timeout")+"")&&L(Te,we),(!Ye||at[0]&4)&&ot!==(ot=(((Fn=(Dn=Fe[2].conf)==null?void 0:Dn.mqtt)==null?void 0:Fn.keepalive)??"Keep-alive")+"")&&L(dt,ot),at[0]&8&&kt(Ft.value)!==Fe[3].q.i&&J(Ft,Fe[3].q.i),at[0]&8&&kt(Dt.value)!==Fe[3].q.k&&J(Dt,Fe[3].q.k)},i(Fe){Ye||($(ft),Ye=!0)},o(Fe){ne(ft),Ye=!1},d(Fe){Fe&&S(e),gt&&gt.d(),ft&&ft.d(),Ut=!1,Rt(Jt)}}}function Wa(t){let e,l,n,i,s;return{c(){e=_("label"),l=_("input"),n=M(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",J(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){N(o,e,f),a(e,l),l.checked=t[3].q.s.e,a(e,n),i||(s=[be(l,"change",t[69]),be(l,"change",t[22])],i=!0)},p(o,f){f[0]&8&&(l.checked=o[3].q.s.e)},d(o){o&&S(e),i=!1,Rt(s)}}}function za(t){let e,l,n,i,s,o,f,r,c,m,d,p,b;const k=[lm,tm],g=[];function w(I,U){return I[3].q.s.c?0:1}n=w(t),i=g[n]=k[n](t);const v=[om,sm],C=[];function T(I,U){return I[3].q.s.r?0:1}f=T(t),r=C[f]=v[f](t);const O=[um,fm],P=[];function D(I,U){return I[3].q.s.k?0:1}return d=D(t),p=P[d]=O[d](t),{c(){e=_("div"),l=_("span"),i.c(),s=h(),o=_("span"),r.c(),c=h(),m=_("span"),p.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(I,U){N(I,e,U),a(e,l),g[n].m(l,null),a(e,s),a(e,o),C[f].m(o,null),a(e,c),a(e,m),P[d].m(m,null),b=!0},p(I,U){let Y=n;n=w(I),n===Y?g[n].p(I,U):(wt(),ne(g[Y],1,1,()=>{g[Y]=null}),Mt(),i=g[n],i?i.p(I,U):(i=g[n]=k[n](I),i.c()),$(i,1),i.m(l,null));let V=f;f=T(I),f===V?C[f].p(I,U):(wt(),ne(C[V],1,1,()=>{C[V]=null}),Mt(),r=C[f],r?r.p(I,U):(r=C[f]=v[f](I),r.c()),$(r,1),r.m(o,null));let E=d;d=D(I),d===E?P[d].p(I,U):(wt(),ne(P[E],1,1,()=>{P[E]=null}),Mt(),p=P[d],p?p.p(I,U):(p=P[d]=O[d](I),p.c()),$(p,1),p.m(m,null))},i(I){b||($(i),$(r),$(p),b=!0)},o(I){ne(i),ne(r),ne(p),b=!1},d(I){I&&S(e),g[n].d(),C[f].d(),P[d].d()}}}function tm(t){let e,l;return e=new bl({props:{to:"/mqtt-ca",$$slots:{default:[nm]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function lm(t){let e,l,n,i,s,o,f;return l=new bl({props:{to:"/mqtt-ca",$$slots:{default:[im]},$$scope:{ctx:t}}}),{c(){e=_("span"),Ne(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){N(r,e,c),Me(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(f=[be(i,"click",t[19]),be(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||($(l.$$.fragment,r),s=!0)},o(r){ne(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),ye(l),o=!1,Rt(f)}}}function nm(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,p,b;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((b=(p=f[2].conf)==null?void 0:p.mqtt)==null?void 0:b.title_ca)??""),e.$set(c)},i(f){l||($(e.$$.fragment,f),l=!0)},o(f){ne(e.$$.fragment,f),l=!1},d(f){ye(e,f)}}}function im(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=M(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&L(l,e)},d(s){s&&S(l)}}}function sm(t){let e,l;return e=new bl({props:{to:"/mqtt-cert",$$slots:{default:[am]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function om(t){let e,l,n,i,s,o,f;return l=new bl({props:{to:"/mqtt-cert",$$slots:{default:[rm]},$$scope:{ctx:t}}}),{c(){e=_("span"),Ne(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){N(r,e,c),Me(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(f=[be(i,"click",t[20]),be(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||($(l.$$.fragment,r),s=!0)},o(r){ne(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),ye(l),o=!1,Rt(f)}}}function am(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,p,b;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((b=(p=f[2].conf)==null?void 0:p.mqtt)==null?void 0:b.title_crt)??""),e.$set(c)},i(f){l||($(e.$$.fragment,f),l=!0)},o(f){ne(e.$$.fragment,f),l=!1},d(f){ye(e,f)}}}function rm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=M(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&L(l,e)},d(s){s&&S(l)}}}function fm(t){let e,l;return e=new bl({props:{to:"/mqtt-key",$$slots:{default:[cm]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function um(t){let e,l,n,i,s,o,f;return l=new bl({props:{to:"/mqtt-key",$$slots:{default:[mm]},$$scope:{ctx:t}}}),{c(){e=_("span"),Ne(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){N(r,e,c),Me(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(f=[be(i,"click",t[21]),be(i,"keypress",t[21])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||($(l.$$.fragment,r),s=!0)},o(r){ne(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),ye(l),o=!1,Rt(f)}}}function cm(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,p,b;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((b=(p=f[2].conf)==null?void 0:p.mqtt)==null?void 0:b.title_key)??""),e.$set(c)},i(f){l||($(e.$$.fragment,f),l=!0)},o(f){ne(e.$$.fragment,f),l=!1},d(f){ye(e,f)}}}function mm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=M(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&L(l,e)},d(s){s&&S(l)}}}function Ka(t){var W,x,fe,se,ue,ce,te,Z,Q,ve,Se,q;let e,l,n=(((fe=(x=(W=t[2].conf)==null?void 0:W.mqtt)==null?void 0:x.domoticz)==null?void 0:fe.title)??"Domoticz")+"",i,s,o,f,r,c,m,d,p=(((ce=(ue=(se=t[2].conf)==null?void 0:se.mqtt)==null?void 0:ue.domoticz)==null?void 0:ce.eidx)??"Electricity IDX")+"",b,k,g,w,v,C,T=(((Q=(Z=(te=t[2].conf)==null?void 0:te.mqtt)==null?void 0:Z.domoticz)==null?void 0:Q.cidx)??"Current IDX")+"",O,P,D,I,U,Y,V=(((q=(Se=(ve=t[2].conf)==null?void 0:ve.mqtt)==null?void 0:Se.domoticz)==null?void 0:q.vidx)??"Voltage IDX")+"",E,A,H,j,K,G,B,z,ee,le;return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("div"),d=_("div"),b=M(p),k=_("br"),g=h(),w=_("input"),v=h(),C=_("div"),O=M(T),P=_("br"),D=h(),I=_("input"),U=h(),Y=_("div"),E=M(V),A=M(`: L1, L2 & L3
                    `),H=_("div"),j=_("input"),K=h(),G=_("input"),B=h(),z=_("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(w,"name","oe"),u(w,"type","text"),u(w,"class","in-f tr w-full"),u(w,"pattern",Rn),u(d,"class","w-1/2"),u(I,"name","oc"),u(I,"type","text"),u(I,"class","in-l tr w-full"),u(I,"pattern",Rn),u(C,"class","w-1/2"),u(m,"class","my-1 flex"),u(j,"name","ou1"),u(j,"type","text"),u(j,"class","in-f tr w-1/3"),u(j,"pattern",Rn),u(G,"name","ou2"),u(G,"type","text"),u(G,"class","in-m tr w-1/3"),u(G,"pattern",Rn),u(z,"name","ou3"),u(z,"type","text"),u(z,"class","in-l tr w-1/3"),u(z,"pattern",Rn),u(H,"class","flex"),u(Y,"class","my-1"),u(e,"class","cnt")},m(y,R){N(y,e,R),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,b),a(d,k),a(d,g),a(d,w),J(w,t[3].o.e),a(m,v),a(m,C),a(C,O),a(C,P),a(C,D),a(C,I),J(I,t[3].o.c),a(e,U),a(e,Y),a(Y,E),a(Y,A),a(Y,H),a(H,j),J(j,t[3].o.u1),a(H,K),a(H,G),J(G,t[3].o.u2),a(H,B),a(H,z),J(z,t[3].o.u3),ee||(le=[be(w,"input",t[82]),be(I,"input",t[83]),be(j,"input",t[84]),be(G,"input",t[85]),be(z,"input",t[86])],ee=!0)},p(y,R){var F,X,oe,ie,_e,me,ae,ke,ge,Ee,qe,Ue;R[0]&4&&n!==(n=(((oe=(X=(F=y[2].conf)==null?void 0:F.mqtt)==null?void 0:X.domoticz)==null?void 0:oe.title)??"Domoticz")+"")&&L(i,n),R[0]&4&&p!==(p=(((me=(_e=(ie=y[2].conf)==null?void 0:ie.mqtt)==null?void 0:_e.domoticz)==null?void 0:me.eidx)??"Electricity IDX")+"")&&L(b,p),R[0]&8&&w.value!==y[3].o.e&&J(w,y[3].o.e),R[0]&4&&T!==(T=(((ge=(ke=(ae=y[2].conf)==null?void 0:ae.mqtt)==null?void 0:ke.domoticz)==null?void 0:ge.cidx)??"Current IDX")+"")&&L(O,T),R[0]&8&&I.value!==y[3].o.c&&J(I,y[3].o.c),R[0]&4&&V!==(V=(((Ue=(qe=(Ee=y[2].conf)==null?void 0:Ee.mqtt)==null?void 0:qe.domoticz)==null?void 0:Ue.vidx)??"Voltage IDX")+"")&&L(E,V),R[0]&8&&j.value!==y[3].o.u1&&J(j,y[3].o.u1),R[0]&8&&G.value!==y[3].o.u2&&J(G,y[3].o.u2),R[0]&8&&z.value!==y[3].o.u3&&J(z,y[3].o.u3)},d(y){y&&S(e),ee=!1,Rt(le)}}}function Va(t){var B,z,ee,le,W,x,fe,se,ue,ce,te,Z;let e,l,n=(((ee=(z=(B=t[2].conf)==null?void 0:B.mqtt)==null?void 0:z.ha)==null?void 0:ee.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,d=(((x=(W=(le=t[2].conf)==null?void 0:le.mqtt)==null?void 0:W.ha)==null?void 0:x.discovery)??"Discovery topic prefix")+"",p,b,k,g,w,v,C=(((ue=(se=(fe=t[2].conf)==null?void 0:fe.mqtt)==null?void 0:se.ha)==null?void 0:ue.hostname)??"Hostname for URL")+"",T,O,P,D,I,U,Y,V=(((Z=(te=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:te.ha)==null?void 0:Z.tag)??"Name tag")+"",E,A,H,j,K,G;return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("div"),p=M(d),b=_("br"),k=h(),g=_("input"),w=h(),v=_("div"),T=M(C),O=_("br"),P=h(),D=_("input"),U=h(),Y=_("div"),E=M(V),A=_("br"),H=h(),j=_("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(g,"name","ht"),u(g,"type","text"),u(g,"class","in-s"),u(g,"placeholder","homeassistant"),u(g,"pattern",tn),u(m,"class","my-1"),u(D,"name","hh"),u(D,"type","text"),u(D,"class","in-s"),u(D,"placeholder",I=t[3].g.h+".local"),u(D,"pattern",tn),u(v,"class","my-1"),u(j,"name","hn"),u(j,"type","text"),u(j,"class","in-s"),u(j,"pattern",tn),u(Y,"class","my-1"),u(e,"class","cnt")},m(Q,ve){N(Q,e,ve),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,p),a(m,b),a(m,k),a(m,g),J(g,t[3].h.t),a(e,w),a(e,v),a(v,T),a(v,O),a(v,P),a(v,D),J(D,t[3].h.h),a(e,U),a(e,Y),a(Y,E),a(Y,A),a(Y,H),a(Y,j),J(j,t[3].h.n),K||(G=[be(g,"input",t[87]),be(D,"input",t[88]),be(j,"input",t[89])],K=!0)},p(Q,ve){var Se,q,y,R,F,X,oe,ie,_e,me,ae,ke;ve[0]&4&&n!==(n=(((y=(q=(Se=Q[2].conf)==null?void 0:Se.mqtt)==null?void 0:q.ha)==null?void 0:y.title)??"Home-Assistant")+"")&&L(i,n),ve[0]&4&&d!==(d=(((X=(F=(R=Q[2].conf)==null?void 0:R.mqtt)==null?void 0:F.ha)==null?void 0:X.discovery)??"Discovery topic prefix")+"")&&L(p,d),ve[0]&8&&g.value!==Q[3].h.t&&J(g,Q[3].h.t),ve[0]&4&&C!==(C=(((_e=(ie=(oe=Q[2].conf)==null?void 0:oe.mqtt)==null?void 0:ie.ha)==null?void 0:_e.hostname)??"Hostname for URL")+"")&&L(T,C),ve[0]&8&&I!==(I=Q[3].g.h+".local")&&u(D,"placeholder",I),ve[0]&8&&D.value!==Q[3].h.h&&J(D,Q[3].h.h),ve[0]&4&&V!==(V=(((ke=(ae=(me=Q[2].conf)==null?void 0:me.mqtt)==null?void 0:ae.ha)==null?void 0:ke.tag)??"Name tag")+"")&&L(E,V),ve[0]&8&&j.value!==Q[3].h.n&&J(j,Q[3].h.n)},d(Q){Q&&S(e),K=!1,Rt(G)}}}function Ga(t){var V,E,A,H,j;let e,l,n=(((E=(V=t[2].conf)==null?void 0:V.thresholds)==null?void 0:E.title)??"Thresholds")+"",i,s,o,f,r,c,m,d,p,b,k=(((H=(A=t[2].conf)==null?void 0:A.thresholds)==null?void 0:H.avg)??"Average of")+"",g,w,v,C,T,O=(((j=t[2].common)==null?void 0:j.hours)??"hours")+"",P,D,I,U=We({length:9}),Y=[];for(let K=0;K<U.length;K+=1)Y[K]=Ya(ha(t,U,K));return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("div");for(let K=0;K<Y.length;K+=1)Y[K].c();d=h(),p=_("label"),b=_("span"),g=M(k),w=h(),v=_("input"),C=h(),T=_("span"),P=M(O),u(l,"class","text-sm"),u(o,"href",Ol("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(b,"class","in-pre"),u(v,"name","th"),u(v,"type","number"),u(v,"min","0"),u(v,"max","255"),u(v,"class","in-txt tr w-full"),u(T,"class","in-post"),u(p,"class","flex m-1"),u(e,"class","cnt")},m(K,G){N(K,e,G),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let B=0;B<Y.length;B+=1)Y[B]&&Y[B].m(m,null);a(e,d),a(e,p),a(p,b),a(b,g),a(p,w),a(p,v),J(v,t[3].t.h),a(p,C),a(p,T),a(T,P),D||(I=be(v,"input",t[91]),D=!0)},p(K,G){var B,z,ee,le,W;if(G[0]&4&&n!==(n=(((z=(B=K[2].conf)==null?void 0:B.thresholds)==null?void 0:z.title)??"Thresholds")+"")&&L(i,n),G[0]&8){U=We({length:9});let x;for(x=0;x<U.length;x+=1){const fe=ha(K,U,x);Y[x]?Y[x].p(fe,G):(Y[x]=Ya(fe),Y[x].c(),Y[x].m(m,null))}for(;x<Y.length;x+=1)Y[x].d(1);Y.length=U.length}G[0]&4&&k!==(k=(((le=(ee=K[2].conf)==null?void 0:ee.thresholds)==null?void 0:le.avg)??"Average of")+"")&&L(g,k),G[0]&8&&kt(v.value)!==K[3].t.h&&J(v,K[3].t.h),G[0]&4&&O!==(O=(((W=K[2].common)==null?void 0:W.hours)??"hours")+"")&&L(P,O)},d(K){K&&S(e),Gt(Y,K),D=!1,I()}}}function Ya(t){let e,l,n,i,s,o,f,r,c;function m(){t[90].call(i,t[105])}return{c(){e=_("label"),l=_("span"),l.textContent=`${t[105]+1}`,n=h(),i=_("input"),s=h(),o=_("span"),o.textContent="kWh",f=h(),u(l,"class","in-pre"),u(i,"name","t"+t[105]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(d,p){N(d,e,p),a(e,l),a(e,n),a(e,i),J(i,t[3].t.t[t[105]]),a(e,s),a(e,o),a(e,f),r||(c=be(i,"input",m),r=!0)},p(d,p){t=d,p[0]&8&&kt(i.value)!==t[3].t.t[t[105]]&&J(i,t[3].t.t[t[105]])},d(d){d&&S(e),r=!1,c()}}}function Xa(t){var b,k;let e,l,n=(((k=(b=t[2].conf)==null?void 0:b.ui)==null?void 0:k.title)??"User interface")+"",i,s,o,f,r,c,m,d=We(t[15]),p=[];for(let g=0;g<d.length;g+=1)p[g]=Ja(da(t,d,g));return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("input"),c=h(),m=_("div");for(let g=0;g<p.length;g+=1)p[g].c();u(l,"class","text-sm"),u(o,"href",Ol("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(g,w){N(g,e,w),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(m,null)},p(g,w){var v,C;if(w[0]&4&&n!==(n=(((C=(v=g[2].conf)==null?void 0:v.ui)==null?void 0:C.title)??"User interface")+"")&&L(i,n),w[0]&32780){d=We(g[15]);let T;for(T=0;T<d.length;T+=1){const O=da(g,d,T);p[T]?p[T].p(O,w):(p[T]=Ja(O),p[T].c(),p[T].m(m,null))}for(;T<p.length;T+=1)p[T].d(1);p.length=d.length}},d(g){g&&S(e),Gt(p,g)}}}function Ja(t){var O,P,D,I,U,Y,V,E;let e,l=(((P=(O=t[2].conf)==null?void 0:O.ui)==null?void 0:P[t[100].key])??t[100].name)+"",n,i,s,o,f,r=(((I=(D=t[2].conf)==null?void 0:D.ui)==null?void 0:I.disabled)??"Disabled")+"",c,m,d=(((Y=(U=t[2].conf)==null?void 0:U.ui)==null?void 0:Y.enabled)??"Enabled")+"",p,b,k=(((E=(V=t[2].conf)==null?void 0:V.ui)==null?void 0:E.auto)??"Auto")+"",g,w,v,C;function T(){t[92].call(o,t[100])}return{c(){e=_("div"),n=M(l),i=_("br"),s=h(),o=_("select"),f=_("option"),c=M(r),m=_("option"),p=M(d),b=_("option"),g=M(k),w=h(),f.__value=0,J(f,f.__value),m.__value=1,J(m,m.__value),b.__value=2,J(b,b.__value),u(o,"name","u"+t[100].key),u(o,"class","in-s"),t[3].u[t[100].key]===void 0&&Yt(T),u(e,"class","w-1/2")},m(A,H){N(A,e,H),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,p),a(o,b),a(b,g),st(o,t[3].u[t[100].key],!0),a(e,w),v||(C=be(o,"change",T),v=!0)},p(A,H){var j,K,G,B,z,ee,le,W;t=A,H[0]&4&&l!==(l=(((K=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:K[t[100].key])??t[100].name)+"")&&L(n,l),H[0]&4&&r!==(r=(((B=(G=t[2].conf)==null?void 0:G.ui)==null?void 0:B.disabled)??"Disabled")+"")&&L(c,r),H[0]&4&&d!==(d=(((ee=(z=t[2].conf)==null?void 0:z.ui)==null?void 0:ee.enabled)??"Enabled")+"")&&L(p,d),H[0]&4&&k!==(k=(((W=(le=t[2].conf)==null?void 0:le.ui)==null?void 0:W.auto)??"Auto")+"")&&L(g,k),H[0]&32776&&st(o,t[3].u[t[100].key])},d(A){A&&S(e),v=!1,C()}}}function Qa(t){var p,b;let e,l,n=(((p=t[2].conf)==null?void 0:p.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((b=t[2].btn)==null?void 0:b.reboot)??"Reboot")+"",c,m,d;return{c(){e=_("div"),l=_("button"),i=M(n),s=h(),o=_("div"),f=_("button"),c=M(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(k,g){N(k,e,g),a(e,l),a(l,i),N(k,s,g),N(k,o,g),a(o,f),a(f,c),m||(d=[be(l,"click",t[16]),be(f,"click",t[18])],m=!0)},p(k,g){var w,v;g[0]&4&&n!==(n=(((w=k[2].conf)==null?void 0:w.btn_reset)??"Factory reset")+"")&&L(i,n),g[0]&4&&r!==(r=(((v=k[2].btn)==null?void 0:v.reboot)??"Reboot")+"")&&L(c,r)},d(k){k&&(S(e),S(s),S(o)),m=!1,Rt(d)}}}function Za(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=_("div"),l=_("button"),i=M(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&L(i,n)},d(o){o&&S(e)}}}function pm(t){var fe,se,ue,ce,te,Z,Q,ve,Se,q,y,R,F,X,oe,ie,_e,me,ae,ke,ge,Ee,qe,Ue,ze,Xe,Ze,Le,tt;let e,l,n,i,s,o,f,r,c,m,d=((ue=(se=(fe=t[3])==null?void 0:fe.p)==null?void 0:se.r)==null?void 0:ue.startsWith("NO"))||((Z=(te=(ce=t[3])==null?void 0:ce.p)==null?void 0:te.r)==null?void 0:Z.startsWith("10YNO"))||((Se=(ve=(Q=t[3])==null?void 0:Q.p)==null?void 0:ve.r)==null?void 0:Se.startsWith("10Y1001A1001A4")),p,b,k,g,w,v,C,T,O,P,D,I,U,Y,V,E=((q=t[3])==null?void 0:q.g)&&ka(t),A=((y=t[3])==null?void 0:y.fw)&&Na(t),H=((R=t[3])==null?void 0:R.d)&&Ca(t),j=((F=t[3])==null?void 0:F.m)&&Ta(t),K=((X=t[3])==null?void 0:X.w)&&Fa(t),G=((oe=t[3])==null?void 0:oe.q)&&Ha(t),B=((_e=(ie=t[3])==null?void 0:ie.q)==null?void 0:_e.m)==3&&Ka(t),z=((ae=(me=t[3])==null?void 0:me.q)==null?void 0:ae.m)==4&&Va(t),ee=d&&Ga(t),le=((ke=t[3])==null?void 0:ke.u)&&Xa(t),W=((ge=t[1])==null?void 0:ge.a)&&Qa(t),x=t[3]&&Za(t);return v=new ml({props:{active:t[6],message:((qe=(Ee=t[2].conf)==null?void 0:Ee.mask)==null?void 0:qe.loading)??"Loading"}}),T=new ml({props:{active:t[7],message:((ze=(Ue=t[2].conf)==null?void 0:Ue.mask)==null?void 0:ze.saving)??"Saving"}}),P=new ml({props:{active:t[11],message:((Ze=(Xe=t[2].conf)==null?void 0:Xe.mask)==null?void 0:Ze.reset)??"Factory reset"}}),I=new ml({props:{active:t[12],message:((tt=(Le=t[2].conf)==null?void 0:Le.mask)==null?void 0:tt.reset_done)??"Done"}}),{c(){e=_("form"),l=_("div"),E&&E.c(),n=h(),A&&A.c(),i=h(),H&&H.c(),s=h(),j&&j.c(),o=h(),K&&K.c(),f=h(),G&&G.c(),r=h(),B&&B.c(),c=h(),z&&z.c(),m=h(),ee&&ee.c(),p=h(),le&&le.c(),b=h(),k=_("div"),W&&W.c(),g=h(),x&&x.c(),w=h(),Ne(v.$$.fragment),C=h(),Ne(T.$$.fragment),O=h(),Ne(P.$$.fragment),D=h(),Ne(I.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(k,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(re,Ce){N(re,e,Ce),a(e,l),E&&E.m(l,null),a(l,n),A&&A.m(l,null),a(l,i),H&&H.m(l,null),a(l,s),j&&j.m(l,null),a(l,o),K&&K.m(l,null),a(l,f),G&&G.m(l,null),a(l,r),B&&B.m(l,null),a(l,c),z&&z.m(l,null),a(l,m),ee&&ee.m(l,null),a(l,p),le&&le.m(l,null),a(e,b),a(e,k),W&&W.m(k,null),a(k,g),x&&x.m(k,null),N(re,w,Ce),Me(v,re,Ce),N(re,C,Ce),Me(T,re,Ce),N(re,O,Ce),Me(P,re,Ce),N(re,D,Ce),Me(I,re,Ce),U=!0,Y||(V=be(e,"submit",yn(t[17])),Y=!0)},p(re,Ce){var rt,Wt,pt,Lt,Pt,qt,et,_t,Pe,Be,Qe,Je,he,De,Tt,It,vt,He,ut,xe,Ot,zt,Ve,we,Te,Ge,nt,ot,dt;(rt=re[3])!=null&&rt.g?E?(E.p(re,Ce),Ce[0]&8&&$(E,1)):(E=ka(re),E.c(),$(E,1),E.m(l,n)):E&&(wt(),ne(E,1,1,()=>{E=null}),Mt()),(Wt=re[3])!=null&&Wt.fw?A?A.p(re,Ce):(A=Na(re),A.c(),A.m(l,i)):A&&(A.d(1),A=null),(pt=re[3])!=null&&pt.d?H?H.p(re,Ce):(H=Ca(re),H.c(),H.m(l,s)):H&&(H.d(1),H=null),(Lt=re[3])!=null&&Lt.m?j?j.p(re,Ce):(j=Ta(re),j.c(),j.m(l,o)):j&&(j.d(1),j=null),(Pt=re[3])!=null&&Pt.w?K?K.p(re,Ce):(K=Fa(re),K.c(),K.m(l,f)):K&&(K.d(1),K=null),(qt=re[3])!=null&&qt.q?G?(G.p(re,Ce),Ce[0]&8&&$(G,1)):(G=Ha(re),G.c(),$(G,1),G.m(l,r)):G&&(wt(),ne(G,1,1,()=>{G=null}),Mt()),((_t=(et=re[3])==null?void 0:et.q)==null?void 0:_t.m)==3?B?B.p(re,Ce):(B=Ka(re),B.c(),B.m(l,c)):B&&(B.d(1),B=null),((Be=(Pe=re[3])==null?void 0:Pe.q)==null?void 0:Be.m)==4?z?z.p(re,Ce):(z=Va(re),z.c(),z.m(l,m)):z&&(z.d(1),z=null),Ce[0]&8&&(d=((he=(Je=(Qe=re[3])==null?void 0:Qe.p)==null?void 0:Je.r)==null?void 0:he.startsWith("NO"))||((It=(Tt=(De=re[3])==null?void 0:De.p)==null?void 0:Tt.r)==null?void 0:It.startsWith("10YNO"))||((ut=(He=(vt=re[3])==null?void 0:vt.p)==null?void 0:He.r)==null?void 0:ut.startsWith("10Y1001A1001A4"))),d?ee?ee.p(re,Ce):(ee=Ga(re),ee.c(),ee.m(l,p)):ee&&(ee.d(1),ee=null),(xe=re[3])!=null&&xe.u?le?le.p(re,Ce):(le=Xa(re),le.c(),le.m(l,null)):le&&(le.d(1),le=null),(Ot=re[1])!=null&&Ot.a?W?W.p(re,Ce):(W=Qa(re),W.c(),W.m(k,g)):W&&(W.d(1),W=null),re[3]?x?x.p(re,Ce):(x=Za(re),x.c(),x.m(k,null)):x&&(x.d(1),x=null);const lt={};Ce[0]&64&&(lt.active=re[6]),Ce[0]&4&&(lt.message=((Ve=(zt=re[2].conf)==null?void 0:zt.mask)==null?void 0:Ve.loading)??"Loading"),v.$set(lt);const bt={};Ce[0]&128&&(bt.active=re[7]),Ce[0]&4&&(bt.message=((Te=(we=re[2].conf)==null?void 0:we.mask)==null?void 0:Te.saving)??"Saving"),T.$set(bt);const mt={};Ce[0]&2048&&(mt.active=re[11]),Ce[0]&4&&(mt.message=((nt=(Ge=re[2].conf)==null?void 0:Ge.mask)==null?void 0:nt.reset)??"Factory reset"),P.$set(mt);const $e={};Ce[0]&4096&&($e.active=re[12]),Ce[0]&4&&($e.message=((dt=(ot=re[2].conf)==null?void 0:ot.mask)==null?void 0:dt.reset_done)??"Done"),I.$set($e)},i(re){U||($(E),$(G),$(v.$$.fragment,re),$(T.$$.fragment,re),$(P.$$.fragment,re),$(I.$$.fragment,re),U=!0)},o(re){ne(E),ne(G),ne(v.$$.fragment,re),ne(T.$$.fragment,re),ne(P.$$.fragment,re),ne(I.$$.fragment,re),U=!1},d(re){re&&(S(e),S(w),S(C),S(O),S(D)),E&&E.d(),A&&A.d(),H&&H.d(),j&&j.d(),K&&K.d(),G&&G.d(),B&&B.d(),z&&z.d(),ee&&ee.d(),le&&le.d(),W&&W.d(),x&&x.d(),ye(v,re),ye(T,re),ye(P,re),ye(I,re),Y=!1,V()}}}async function _m(){await(await fetch("reboot",{method:"POST"})).json()}function $a(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function dm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:ru,medium:au,low:ou,off:fu};o.off;let f={};Nl.subscribe(we=>{l(2,f=we)});const r=[{value:0,label:"Verbose"},{value:1,label:"Debug"},{value:2,label:"Info"},{value:3,label:"Warning"},{value:4,label:"Error"},{value:5,label:"Silent"}];let c=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],m=!0,d=!1,p,b=[],k="",g=null;vn.subscribe(we=>{var Te,Ge,nt,ot;if(we.version){(Te=we==null?void 0:we.c)==null||Te.e,l(3,p=we),l(6,m=!1);const dt=((Ge=f.consent)==null?void 0:Ge.load_from_server)??"Load from server";l(4,b=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),p!=null&&p.fw?l(3,p.fw={a:!!p.fw.a,s:Number(p.fw.s??2),e:Number(p.fw.e??3)},p):l(3,p={...p,fw:{a:!1,s:2,e:3}}),p!=null&&p.fw&&l(3,p.fw.e=Number(p.fw.s??p.fw.e??2),p),p!=null&&p.d?l(3,p.d={s:p.d.s===!0||p.d.s==="true",t:p.d.t===!0||p.d.t==="true",l:Number(p.d.l??4)},p):l(3,p={...p,d:{s:!1,t:!1,l:4}}),(nt=p==null?void 0:p.u)!=null&&nt.lang&&!b.find(Xt=>Xt.code===p.u.lang)&&b.push({code:p.u.lang,name:((ot=f.language)==null?void 0:ot.name)??"Unknown"}),b.push({code:"hub",name:dt})}}),_u();let w={},v=[];su.subscribe(we=>{var Te;for(let Ge=0;Ge<we.n.length&&we.n[Ge].s!=((Te=p==null?void 0:p.w)==null?void 0:Te.s);Ge++);l(5,w=we)});let C=!1,T=!1;async function O(){if(confirm("Factory reset?")){l(11,C=!0);const we=new URLSearchParams;we.append("perform","true");let Ge=await(await fetch("reset",{method:"POST",body:we})).json();l(11,C=!1),l(12,T=Ge.success)}}async function P(we){l(7,d=!0);const Te=new FormData(we.target),Ge=new URLSearchParams;for(let dt of Te){const[Xt,jt]=dt;Ge.append(Xt,jt)}let ot=await(await fetch("save",{method:"POST",body:Ge})).json();ul.update(dt=>(dt.hostname=Te.get("gh"),dt.usrcfg=ot.success,dt.booting=ot.reboot,Te.get("nm")=="static"&&(dt.net.ip=Te.get("ni"),dt.net.mask=Te.get("nu"),dt.net.gw=Te.get("ng"),dt.net.dns1=Te.get("nd")),dt.ui=p.u,dt)),l(7,d=!1),Mn(n)}const D=function(){confirm("Reboot?")&&(ul.update(we=>(we.booting=!0,we)),_m())};async function I(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.c=!1,Te)))}async function U(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.r=!1,Te)))}async function Y(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.k=!1,Te)))}const V=function(){p.q.s.e?p.q.p==1883&&l(3,p.q.p=8883,p):p.q.p==8883&&l(3,p.q.p=1883,p)};async function E(){if(p.u.lang=="hub"){const we=await Sl("http://hub.amsleser.no/hub/language/list.json");l(4,b=await we.json()),l(3,p.u.lang=f.language.code,p);return}p.u.lang&&await hi(p.u.lang)}function A(we){l(8,k=we);const Te=hu(we);if(l(9,g=Te??null),!Te||!(p!=null&&p.m))return;const Ge=dn(p.m),nt=bu(Ge,Te),ot=B1(p.m,nt);l(3,p={...p,m:ot})}function H(){l(8,k=""),l(9,g=null)}async function j(){l(3,p.p.e=!0,p)}const K=window||global;K.bindToCloud=function(){console.log("BIND CALLED")};const G=[[]];function B(){p.g.h=this.value,l(3,p)}function z(){p.g.t=nl(this),l(3,p)}function ee(){p.u.lang=nl(this),l(3,p)}function le(){p.p.r=nl(this),l(3,p)}function W(){p.p.c=nl(this),l(3,p)}function x(){p.p.e=this.checked,l(3,p)}function fe(){p.p.t=this.value,l(3,p)}function se(){p.g.s=nl(this),l(3,p)}function ue(){p.g.u=this.value,l(3,p)}function ce(){p.g.p=this.value,l(3,p)}function te(){p.g.c=this.value,l(3,p)}function Z(){p.fw.a=this.checked,l(3,p)}function Q(){p.fw.s=kt(this.value),l(3,p)}function ve(){p.d.t=this.checked,l(3,p)}function Se(){p.d.s=this.checked,l(3,p)}function q(){p.d.l=nl(this),l(3,p)}function y(){k=nl(this),l(8,k)}const R=we=>A(we.target.value);function F(){p.m.a=nl(this),l(3,p)}function X(){p.m.b=kt(this.value),l(3,p)}function oe(){p.m.i=this.checked,l(3,p)}function ie(){p.m.b=nl(this),l(3,p)}function _e(){p.m.p=nl(this),l(3,p)}function me(){p.m.s=kt(this.value),l(3,p)}function ae(){p.m.d=nl(this),l(3,p)}function ke(){p.m.f=kt(this.value),l(3,p)}function ge(){p.m.r=kt(this.value),l(3,p)}function Ee(){p.m.e.e=this.checked,l(3,p)}function qe(){p.m.e.k=this.value,l(3,p)}function Ue(){p.m.e.a=this.value,l(3,p)}function ze(){p.m.m.e=this.checked,l(3,p)}function Xe(){p.m.m.w=kt(this.value),l(3,p)}function Ze(){p.m.m.v=kt(this.value),l(3,p)}function Le(){p.m.m.a=kt(this.value),l(3,p)}function tt(){p.m.m.c=kt(this.value),l(3,p)}function re(){p.w.s=this.__value,l(3,p)}function Ce(){p.w.p=this.value,l(3,p)}function lt(){p.w.z=nl(this),l(3,p)}function bt(){p.w.w=kt(this.value),l(3,p)}function mt(){p.w.b=this.checked,l(3,p)}function $e(){p.q.s.e=this.checked,l(3,p)}function rt(){p.q.h=this.value,l(3,p)}function Wt(){p.q.p=kt(this.value),l(3,p)}function pt(){p.q.u=this.value,l(3,p)}function Lt(){p.q.a=this.value,l(3,p)}function Pt(){p.q.c=this.value,l(3,p)}function qt(){p.q.m=nl(this),l(3,p)}function et(){p.q.b=this.value,l(3,p)}function _t(){p.q.r=this.value,l(3,p)}function Pe(){p.q.t=nl(this),l(3,p)}function Be(){p.q.d=kt(this.value),l(3,p)}function Qe(){p.q.i=kt(this.value),l(3,p)}function Je(){p.q.k=kt(this.value),l(3,p)}function he(){p.o.e=this.value,l(3,p)}function De(){p.o.c=this.value,l(3,p)}function Tt(){p.o.u1=this.value,l(3,p)}function It(){p.o.u2=this.value,l(3,p)}function vt(){p.o.u3=this.value,l(3,p)}function He(){p.h.t=this.value,l(3,p)}function ut(){p.h.h=this.value,l(3,p)}function xe(){p.h.n=this.value,l(3,p)}function Ot(we){p.t.t[we]=kt(this.value),l(3,p)}function zt(){p.t.h=kt(this.value),l(3,p)}function Ve(we){p.u[we.key]=nl(this),l(3,p)}return t.$$set=we=>{"basepath"in we&&l(27,n=we.basepath),"sysinfo"in we&&l(0,i=we.sysinfo),"data"in we&&l(1,s=we.data)},t.$$.update=()=>{var we;if(t.$$.dirty[0]&8&&p!=null&&p.fw&&l(3,p.fw.e=Number(p.fw.s??0),p),t.$$.dirty[0]&20&&b.length){const Te=((we=f.consent)==null?void 0:we.load_from_server)??"Load from server";b.some(nt=>nt.code==="hub")?b.find(ot=>ot.code==="hub"&&ot.name!==Te)&&l(4,b=b.map(ot=>ot.code==="hub"?{...ot,name:Te}:ot)):l(4,b=[...b,{code:"hub",name:Te}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Te,label:Ge}=Gn(s==null?void 0:s.r);o[Te]??o.off}t.$$.dirty[0]&32&&l(10,v=Array.isArray(w==null?void 0:w.n)?w.n.map(Te=>{const{level:Ge,label:nt}=Gn(Te==null?void 0:Te.r);return{icon:o[Ge]??o.off,title:nt}}):[])},[i,s,f,p,b,w,m,d,k,g,v,C,T,o,r,c,O,P,D,I,U,Y,V,E,A,H,j,n,B,z,ee,le,W,x,fe,se,ue,ce,te,Z,Q,ve,Se,q,y,R,F,X,oe,ie,_e,me,ae,ke,ge,Ee,qe,Ue,ze,Xe,Ze,Le,tt,re,G,Ce,lt,bt,mt,$e,rt,Wt,pt,Lt,Pt,qt,et,_t,Pe,Be,Qe,Je,he,De,Tt,It,vt,He,ut,xe,Ot,zt,Ve]}class hm extends Et{constructor(e){super(),At(this,e,dm,pm,Ct,{basepath:27,sysinfo:0,data:1},null,[-1,-1,-1,-1,-1])}}function xa(t,e,l){const n=t.slice();return n[21]=e[l],n}function er(t){let e,l=t[1].cpu+"",n,i;return{c(){e=M("("),n=M(l),i=M("MHz)")},m(s,o){N(s,e,o),N(s,n,o),N(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&L(n,l)},d(s){s&&(S(e),S(n),S(i))}}}function bm(t){let e=Re(t[1].chip,t[1].board)+"",l;return{c(){l=M(e)},m(n,i){N(n,l,i)},p(n,i){i&2&&e!==(e=Re(n[1].chip,n[1].board)+"")&&L(l,e)},d(n){n&&S(l)}}}function tr(t){var G,B,z,ee,le,W,x,fe;let e,l=(((B=(G=t[3].status)==null?void 0:G.device)==null?void 0:B.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=(((ee=(z=t[3].status)==null?void 0:z.device)==null?void 0:ee.last_boot)??"Last boot")+"",m,d,p,b,k,g,w=(((W=(le=t[3].status)==null?void 0:le.device)==null?void 0:W.reason)??"Reason")+"",v,C,T=(((fe=(x=t[3][Ks(t[1].chip)])==null?void 0:x.reason)==null?void 0:fe[t[1].boot_reason])??t[1].boot_reason)+"",O,P,D=t[1].boot_reason+"",I,U,Y=t[1].ex_cause+"",V,E,A;const H=[gm,vm],j=[];function K(se,ue){return se[0].u>0?0:1}return p=K(t),b=j[p]=H[p](t),{c(){e=_("div"),n=M(l),i=M(": "),o=M(s),f=h(),r=_("div"),m=M(c),d=M(`:
            `),b.c(),k=h(),g=_("div"),v=M(w),C=M(": "),O=M(T),P=M(" ("),I=M(D),U=M("/"),V=M(Y),E=M(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(g,"class","my-2")},m(se,ue){N(se,e,ue),a(e,n),a(e,i),a(e,o),N(se,f,ue),N(se,r,ue),a(r,m),a(r,d),j[p].m(r,null),N(se,k,ue),N(se,g,ue),a(g,v),a(g,C),a(g,O),a(g,P),a(g,I),a(g,U),a(g,V),a(g,E),A=!0},p(se,ue){var te,Z,Q,ve,Se,q,y,R;(!A||ue&8)&&l!==(l=(((Z=(te=se[3].status)==null?void 0:te.device)==null?void 0:Z.apmac)??"AP MAC")+"")&&L(n,l),(!A||ue&2)&&s!==(s=se[1].apmac+"")&&L(o,s),(!A||ue&8)&&c!==(c=(((ve=(Q=se[3].status)==null?void 0:Q.device)==null?void 0:ve.last_boot)??"Last boot")+"")&&L(m,c);let ce=p;p=K(se),p===ce?j[p].p(se,ue):(wt(),ne(j[ce],1,1,()=>{j[ce]=null}),Mt(),b=j[p],b?b.p(se,ue):(b=j[p]=H[p](se),b.c()),$(b,1),b.m(r,null)),(!A||ue&8)&&w!==(w=(((q=(Se=se[3].status)==null?void 0:Se.device)==null?void 0:q.reason)??"Reason")+"")&&L(v,w),(!A||ue&10)&&T!==(T=(((R=(y=se[3][Ks(se[1].chip)])==null?void 0:y.reason)==null?void 0:R[se[1].boot_reason])??se[1].boot_reason)+"")&&L(O,T),(!A||ue&2)&&D!==(D=se[1].boot_reason+"")&&L(I,D),(!A||ue&2)&&Y!==(Y=se[1].ex_cause+"")&&L(V,Y)},i(se){A||($(b),A=!0)},o(se){ne(b),A=!1},d(se){se&&(S(e),S(f),S(r),S(k),S(g)),j[p].d()}}}function vm(t){let e;return{c(){e=M("-")},m(l,n){N(l,e,n)},p:je,i:je,o:je,d(l){l&&S(e)}}}function gm(t){let e,l;return e=new cu({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function lr(t){var f;let e,l,n=(((f=t[3].btn)==null?void 0:f.reboot)??"Reboot")+"",i,s,o;return{c(){e=_("div"),l=_("button"),i=M(n),u(l,"class","btn-yellow-sm"),u(e,"class","my-2")},m(r,c){N(r,e,c),a(e,l),a(l,i),s||(o=be(l,"click",t[11]),s=!0)},p(r,c){var m;c&8&&n!==(n=(((m=r[3].btn)==null?void 0:m.reboot)??"Reboot")+"")&&L(i,n)},d(r){r&&S(e),s=!1,o()}}}function nr(t){var V,E,A,H,j,K,G,B;let e,l,n=(((E=(V=t[3].status)==null?void 0:V.meter)==null?void 0:E.title)??"Meter")+"",i,s,o,f=(((H=(A=t[3].status)==null?void 0:A.meter)==null?void 0:H.manufacturer)??"Manufacturer")+"",r,c,m=mi(t[1].meter.mfg)+"",d,p,b,k=(((K=(j=t[3].status)==null?void 0:j.meter)==null?void 0:K.model)??"Model")+"",g,w,v=(t[1].meter.model?t[1].meter.model:"unknown")+"",C,T,O,P=(((B=(G=t[3].status)==null?void 0:G.meter)==null?void 0:B.id)??"ID")+"",D,I,U=(t[1].meter.id?t[1].meter.id:"unknown")+"",Y;return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("div"),r=M(f),c=M(": "),d=M(m),p=h(),b=_("div"),g=M(k),w=M(": "),C=M(v),T=h(),O=_("div"),D=M(P),I=M(": "),Y=M(U),u(l,"class","text-sm"),u(o,"class","my-2"),u(b,"class","my-2"),u(O,"class","my-2"),u(e,"class","cnt")},m(z,ee){N(z,e,ee),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,p),a(e,b),a(b,g),a(b,w),a(b,C),a(e,T),a(e,O),a(O,D),a(O,I),a(O,Y)},p(z,ee){var le,W,x,fe,se,ue,ce,te;ee&8&&n!==(n=(((W=(le=z[3].status)==null?void 0:le.meter)==null?void 0:W.title)??"Meter")+"")&&L(i,n),ee&8&&f!==(f=(((fe=(x=z[3].status)==null?void 0:x.meter)==null?void 0:fe.manufacturer)??"Manufacturer")+"")&&L(r,f),ee&2&&m!==(m=mi(z[1].meter.mfg)+"")&&L(d,m),ee&8&&k!==(k=(((ue=(se=z[3].status)==null?void 0:se.meter)==null?void 0:ue.model)??"Model")+"")&&L(g,k),ee&2&&v!==(v=(z[1].meter.model?z[1].meter.model:"unknown")+"")&&L(C,v),ee&8&&P!==(P=(((te=(ce=z[3].status)==null?void 0:ce.meter)==null?void 0:te.id)??"ID")+"")&&L(D,P),ee&2&&U!==(U=(z[1].meter.id?z[1].meter.id:"unknown")+"")&&L(Y,U)},d(z){z&&S(e)}}}function ir(t){var B,z,ee,le,W,x,fe,se;let e,l,n=(((z=(B=t[3].status)==null?void 0:B.network)==null?void 0:z.title)??"Network")+"",i,s,o,f=(((le=(ee=t[3].conf)==null?void 0:ee.network)==null?void 0:le.ip)??"IP")+"",r,c,m=t[1].net.ip+"",d,p,b,k=(((x=(W=t[3].conf)==null?void 0:W.network)==null?void 0:x.mask)??"Mask")+"",g,w,v=t[1].net.mask+"",C,T,O,P=(((se=(fe=t[3].conf)==null?void 0:fe.network)==null?void 0:se.gw)??"Gateway")+"",D,I,U=t[1].net.gw+"",Y,V,E,A,H,j=t[1].net.dns1&&sr(t),K=t[1].net.dns2&&or(t),G=t[1].net.ipv6&&ar(t);return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("div"),r=M(f),c=M(": "),d=M(m),p=h(),b=_("div"),g=M(k),w=M(": "),C=M(v),T=h(),O=_("div"),D=M(P),I=M(": "),Y=M(U),V=h(),E=_("div"),j&&j.c(),A=h(),K&&K.c(),H=h(),G&&G.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(b,"class","my-2"),u(O,"class","my-2"),u(E,"class","my-2"),u(e,"class","cnt")},m(ue,ce){N(ue,e,ce),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,p),a(e,b),a(b,g),a(b,w),a(b,C),a(e,T),a(e,O),a(O,D),a(O,I),a(O,Y),a(e,V),a(e,E),j&&j.m(E,null),a(E,A),K&&K.m(E,null),a(e,H),G&&G.m(e,null)},p(ue,ce){var te,Z,Q,ve,Se,q,y,R;ce&8&&n!==(n=(((Z=(te=ue[3].status)==null?void 0:te.network)==null?void 0:Z.title)??"Network")+"")&&L(i,n),ce&8&&f!==(f=(((ve=(Q=ue[3].conf)==null?void 0:Q.network)==null?void 0:ve.ip)??"IP")+"")&&L(r,f),ce&2&&m!==(m=ue[1].net.ip+"")&&L(d,m),ce&8&&k!==(k=(((q=(Se=ue[3].conf)==null?void 0:Se.network)==null?void 0:q.mask)??"Mask")+"")&&L(g,k),ce&2&&v!==(v=ue[1].net.mask+"")&&L(C,v),ce&8&&P!==(P=(((R=(y=ue[3].conf)==null?void 0:y.network)==null?void 0:R.gw)??"Gateway")+"")&&L(D,P),ce&2&&U!==(U=ue[1].net.gw+"")&&L(Y,U),ue[1].net.dns1?j?j.p(ue,ce):(j=sr(ue),j.c(),j.m(E,A)):j&&(j.d(1),j=null),ue[1].net.dns2?K?K.p(ue,ce):(K=or(ue),K.c(),K.m(E,null)):K&&(K.d(1),K=null),ue[1].net.ipv6?G?G.p(ue,ce):(G=ar(ue),G.c(),G.m(e,null)):G&&(G.d(1),G=null)},d(ue){ue&&S(e),j&&j.d(),K&&K.d(),G&&G.d()}}}function sr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=M(e),n=M(": "),s=M(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&L(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&L(s,i)},d(r){r&&(S(l),S(n),S(s))}}}function or(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=M(e),n=M(": "),s=M(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&L(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&L(s,i)},d(r){r&&(S(l),S(n),S(s))}}}function ar(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&rr(t),m=t[1].net.dns2v6&&fr(t);return{c(){e=_("div"),l=M("IPv6: "),n=_("span"),s=M(i),o=h(),f=_("div"),c&&c.c(),r=h(),m&&m.c(),en(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(d,p){N(d,e,p),a(e,l),a(e,n),a(n,s),N(d,o,p),N(d,f,p),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(d,p){p&2&&i!==(i=d[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&L(s,i),d[1].net.dns1v6?c?c.p(d,p):(c=rr(d),c.c(),c.m(f,r)):c&&(c.d(1),c=null),d[1].net.dns2v6?m?m.p(d,p):(m=fr(d),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(d){d&&(S(e),S(o),S(f)),c&&c.d(),m&&m.d()}}}function rr(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=M("DNSv6: "),l=_("span"),i=M(n),en(l,"font-size","14px")},m(s,o){N(s,e,o),N(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&L(i,n)},d(s){s&&(S(e),S(l))}}}function fr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=M("DNSv6: "),l=_("span"),i=M(n),en(l,"font-size","14px")},m(s,o){N(s,e,o),N(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&L(i,n)},d(s){s&&(S(e),S(l))}}}function ur(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=_("div"),n=M(l),u(e,"class","my-2 text-green-600")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&L(n,l)},d(o){o&&S(e)}}}function cr(t){var r,c,m,d;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((d=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:d[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=_("div"),l=_("div"),i=M(n),s=h(),f=M(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(p,b){N(p,e,b),a(e,l),a(l,i),a(l,s),a(l,f)},p(p,b){var k,g,w,v;b&10&&n!==(n=(((g=(k=p[3].status)==null?void 0:k.firmware)==null?void 0:g.failed)??"Upgrade from {0} to {1} failed").replace("{0}",p[1].upgrade.f).replace("{1}",p[1].upgrade.t)+"")&&L(i,n),b&10&&o!==(o=(((v=(w=p[3].errors)==null?void 0:w.upgrade)==null?void 0:v[p[1].upgrade.e])??p[1].upgrade.e)+"")&&L(f,o)},d(p){p&&S(e)}}}function mr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=_("div"),l=_("div"),n=M("Last HTTP status: "),s=M(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){N(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&L(s,i)},d(o){o&&S(e)}}}function pr(t){var k,g;let e,l=(((g=(k=t[3].status)==null?void 0:k.firmware)==null?void 0:g.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,d,p=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&_r(t),b=t[1].fwconsent===2&&dr(t);return{c(){e=_("div"),n=M(l),i=M(`: 
                `),s=_("a"),f=M(o),c=h(),p&&p.c(),m=h(),b&&b.c(),d=el(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(w,v){N(w,e,v),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),p&&p.m(e,null),N(w,m,v),b&&b.m(w,v),N(w,d,v)},p(w,v){var C,T;v&8&&l!==(l=(((T=(C=w[3].status)==null?void 0:C.firmware)==null?void 0:T.latest)??"Latest")+"")&&L(n,l),v&2&&o!==(o=w[1].upgrade.n+"")&&L(f,o),v&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+w[1].upgrade.n)&&u(s,"href",r),(w[1].security==0||w[0].a)&&w[1].fwconsent===1&&w[1].upgrade.n&&w[1].upgrade.n!=w[1].version?p?p.p(w,v):(p=_r(w),p.c(),p.m(e,null)):p&&(p.d(1),p=null),w[1].fwconsent===2?b?b.p(w,v):(b=dr(w),b.c(),b.m(d.parentNode,d)):b&&(b.d(1),b=null)},d(w){w&&(S(e),S(m),S(d)),p&&p.d(),b&&b.d(w)}}}function _r(t){let e,l,n,i,s;return{c(){var o,f;e=_("div"),l=_("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){N(o,e,f),a(e,l),i||(s=be(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&S(e),i=!1,s()}}}function dr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=_("div"),l=_("div"),i=M(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){N(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&L(i,n)},d(f){f&&S(e)}}}function hr(t){let e,l=Xs(Re(t[1].chip,t[1].board))+"",n;return{c(){e=_("div"),n=M(l),u(e,"class","bd-red")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=Xs(Re(i[1].chip,i[1].board))+"")&&L(n,l)},d(i){i&&S(e)}}}function br(t){let e,l,n,i,s,o;function f(m,d){return m[5].length==0?wm:km}let r=f(t),c=r(t);return{c(){e=_("div"),l=_("form"),n=_("input"),i=h(),c.c(),en(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,d){N(m,e,d),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[be(n,"change",t[14]),be(l,"submit",t[16])],s=!0)},p(m,d){r===(r=f(m))&&c?c.p(m,d):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&S(e),t[13](null),c.d(),s=!1,Rt(o)}}}function km(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=M(e),n=h(),i=_("button"),o=M(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&L(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&L(o,s)},d(r){r&&(S(l),S(n),S(i))}}}function wm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=_("button"),n=M(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){N(r,e,c),a(e,n),i||(s=be(e,"click",t[15]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:d.btn_select_file)??"Select file")+"")&&L(n,l)},d(r){r&&S(e),i=!1,s()}}}function vr(t){var K,G,B,z,ee,le;let e,l,n=(((G=(K=t[3].status)==null?void 0:K.backup)==null?void 0:G.title)??"Backup")+"",i,s,o,f,r,c,m,d,p=(((z=(B=t[3].status)==null?void 0:B.backup)==null?void 0:z.secrets)??"Include secrets")+"",b,k,g,w=(((le=(ee=t[3].status)==null?void 0:ee.backup)==null?void 0:le.secrets_desc)??"")+"",v,C,T,O,P,D,I,U,Y=We(t[9]),V=[];for(let W=0;W<Y.length;W+=1)V[W]=gr(xa(t,Y,W));let E=t[2].length==0&&kr(t);function A(W,x){return W[2].length==0?ym:Mm}let H=A(t),j=H(t);return{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("form"),f=_("div");for(let W=0;W<V.length;W+=1)V[W].c();r=h(),c=_("label"),m=_("input"),d=h(),b=M(p),k=_("br"),g=_("small"),v=M(w),C=h(),E&&E.c(),T=h(),O=_("form"),P=_("input"),D=h(),j.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),en(P,"display","none"),u(P,"name","file"),u(P,"type","file"),u(P,"accept",".cfg"),u(O,"autocomplete","off"),u(e,"class","cnt")},m(W,x){N(W,e,x),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let fe=0;fe<V.length;fe+=1)V[fe]&&V[fe].m(f,null);a(f,r),a(f,c),a(c,m),a(c,d),a(c,b),a(c,k),a(c,g),a(g,v),a(o,C),E&&E.m(o,null),a(e,T),a(e,O),a(O,P),t[17](P),a(O,D),j.m(O,null),I||(U=[be(P,"change",t[18]),be(O,"submit",yn(t[12]))],I=!0)},p(W,x){var fe,se,ue,ce,te,Z;if(x&8&&n!==(n=(((se=(fe=W[3].status)==null?void 0:fe.backup)==null?void 0:se.title)??"Backup")+"")&&L(i,n),x&520){Y=We(W[9]);let Q;for(Q=0;Q<Y.length;Q+=1){const ve=xa(W,Y,Q);V[Q]?V[Q].p(ve,x):(V[Q]=gr(ve),V[Q].c(),V[Q].m(f,r))}for(;Q<V.length;Q+=1)V[Q].d(1);V.length=Y.length}x&8&&p!==(p=(((ce=(ue=W[3].status)==null?void 0:ue.backup)==null?void 0:ce.secrets)??"Include secrets")+"")&&L(b,p),x&8&&w!==(w=(((Z=(te=W[3].status)==null?void 0:te.backup)==null?void 0:Z.secrets_desc)??"")+"")&&L(v,w),W[2].length==0?E?E.p(W,x):(E=kr(W),E.c(),E.m(o,null)):E&&(E.d(1),E=null),H===(H=A(W))&&j?j.p(W,x):(j.d(1),j=H(W),j&&(j.c(),j.m(O,null)))},d(W){W&&S(e),Gt(V,W),E&&E.d(),t[17](null),j.d(),I=!1,Rt(U)}}}function gr(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=_("label"),l=_("input"),n=h(),s=M(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,d;c&8&&i!==(i=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d[r[21].key])??r[21].name)+"")&&L(s,i)},d(r){r&&S(e)}}}function kr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=_("button"),n=M(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&L(n,l)},d(o){o&&S(e)}}}function Mm(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=M(e),n=h(),i=_("button"),o=M(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&L(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&L(o,s)},d(r){r&&(S(l),S(n),S(i))}}}function ym(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=_("button"),n=M(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){N(r,e,c),a(e,n),i||(s=be(e,"click",t[19]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d.btn_select_file)??"Select file")+"")&&L(n,l)},d(r){r&&S(e),i=!1,s()}}}function Sm(t){var re,Ce,lt,bt,mt,$e,rt,Wt,pt,Lt,Pt,qt,et,_t,Pe,Be,Qe,Je;let e,l,n,i=(((re=t[3].status)==null?void 0:re.device.title)??"Device")+"",s,o,f,r=(((lt=(Ce=t[3].status)==null?void 0:Ce.device)==null?void 0:lt.chip)??"Chip")+"",c,m,d=t[1].chip+"",p,b,k,g,w=(((mt=(bt=t[3].status)==null?void 0:bt.device)==null?void 0:mt.device)??"Device")+"",v,C,T,O,P,D=(((rt=($e=t[3].status)==null?void 0:$e.device)==null?void 0:rt.mac)??"MAC")+"",I,U,Y=t[1].mac+"",V,E,A,H,j,K,G,B,z=(((pt=(Wt=t[3].status)==null?void 0:Wt.firmware)==null?void 0:pt.title)??"Firmware")+"",ee,le,W,x=(((Pt=(Lt=t[3].status)==null?void 0:Lt.firmware)==null?void 0:Pt.installed)??"Installed")+"",fe,se,ue=t[1].version+"",ce,te,Z,Q,ve,Se,q=(t[1].security==0||t[0].a)&&Wn(t[1].board),y,R,F,X,oe,ie,_e,me=t[1].cpu&&er(t);T=new bl({props:{to:"/vendor",$$slots:{default:[bm]},$$scope:{ctx:t}}});let ae=t[1].apmac&&t[1].apmac!=t[1].mac&&tr(t),ke=((qt=t[0])==null?void 0:qt.a)&&lr(t),ge=t[1].meter&&nr(t),Ee=t[1].net&&ir(t),qe=((et=t[1].upgrade)==null?void 0:et.m)===!0&&ur(t),Ue=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&cr(t),ze=((_t=t[1].upgrade)==null?void 0:_t.x)!==void 0&&t[1].upgrade.x!==-1&&mr(t),Xe=t[1].upgrade.n&&pr(t),Ze=q&&hr(t),Le=(t[1].security==0||t[0].a)&&br(t),tt=(t[1].security==0||t[0].a)&&vr(t);return X=new ml({props:{active:t[6],message:((Be=(Pe=t[3].status)==null?void 0:Pe.mask)==null?void 0:Be.firmware)??"Uploading"}}),ie=new ml({props:{active:t[8],message:((Je=(Qe=t[3].status)==null?void 0:Qe.mask)==null?void 0:Je.config)??"Uploading"}}),{c(){e=_("div"),l=_("div"),n=_("strong"),s=M(i),o=h(),f=_("div"),c=M(r),m=M(": "),p=M(d),b=h(),me&&me.c(),k=h(),g=_("div"),v=M(w),C=M(": "),Ne(T.$$.fragment),O=h(),P=_("div"),I=M(D),U=M(": "),V=M(Y),E=h(),ae&&ae.c(),A=h(),ke&&ke.c(),H=h(),ge&&ge.c(),j=h(),Ee&&Ee.c(),K=h(),G=_("div"),B=_("strong"),ee=M(z),le=h(),W=_("div"),fe=M(x),se=M(": "),ce=M(ue),te=h(),qe&&qe.c(),Z=h(),Ue&&Ue.c(),Q=h(),ze&&ze.c(),ve=h(),Xe&&Xe.c(),Se=h(),Ze&&Ze.c(),y=h(),Le&&Le.c(),R=h(),tt&&tt.c(),F=h(),Ne(X.$$.fragment),oe=h(),Ne(ie.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(g,"class","my-2"),u(P,"class","my-2"),u(l,"class","cnt"),u(B,"class","text-sm"),u(W,"class","my-2"),u(G,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(he,De){N(he,e,De),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,p),a(f,b),me&&me.m(f,null),a(l,k),a(l,g),a(g,v),a(g,C),Me(T,g,null),a(l,O),a(l,P),a(P,I),a(P,U),a(P,V),a(l,E),ae&&ae.m(l,null),a(l,A),ke&&ke.m(l,null),a(e,H),ge&&ge.m(e,null),a(e,j),Ee&&Ee.m(e,null),a(e,K),a(e,G),a(G,B),a(B,ee),a(G,le),a(G,W),a(W,fe),a(W,se),a(W,ce),a(G,te),qe&&qe.m(G,null),a(G,Z),Ue&&Ue.m(G,null),a(G,Q),ze&&ze.m(G,null),a(G,ve),Xe&&Xe.m(G,null),a(G,Se),Ze&&Ze.m(G,null),a(G,y),Le&&Le.m(G,null),a(e,R),tt&&tt.m(e,null),N(he,F,De),Me(X,he,De),N(he,oe,De),Me(ie,he,De),_e=!0},p(he,[De]){var He,ut,xe,Ot,zt,Ve,we,Te,Ge,nt,ot,dt,Xt,jt,Ft,sl,Dt,Ye;(!_e||De&8)&&i!==(i=(((He=he[3].status)==null?void 0:He.device.title)??"Device")+"")&&L(s,i),(!_e||De&8)&&r!==(r=(((xe=(ut=he[3].status)==null?void 0:ut.device)==null?void 0:xe.chip)??"Chip")+"")&&L(c,r),(!_e||De&2)&&d!==(d=he[1].chip+"")&&L(p,d),he[1].cpu?me?me.p(he,De):(me=er(he),me.c(),me.m(f,null)):me&&(me.d(1),me=null),(!_e||De&8)&&w!==(w=(((zt=(Ot=he[3].status)==null?void 0:Ot.device)==null?void 0:zt.device)??"Device")+"")&&L(v,w);const Tt={};De&16777218&&(Tt.$$scope={dirty:De,ctx:he}),T.$set(Tt),(!_e||De&8)&&D!==(D=(((we=(Ve=he[3].status)==null?void 0:Ve.device)==null?void 0:we.mac)??"MAC")+"")&&L(I,D),(!_e||De&2)&&Y!==(Y=he[1].mac+"")&&L(V,Y),he[1].apmac&&he[1].apmac!=he[1].mac?ae?(ae.p(he,De),De&2&&$(ae,1)):(ae=tr(he),ae.c(),$(ae,1),ae.m(l,A)):ae&&(wt(),ne(ae,1,1,()=>{ae=null}),Mt()),(Te=he[0])!=null&&Te.a?ke?ke.p(he,De):(ke=lr(he),ke.c(),ke.m(l,null)):ke&&(ke.d(1),ke=null),he[1].meter?ge?ge.p(he,De):(ge=nr(he),ge.c(),ge.m(e,j)):ge&&(ge.d(1),ge=null),he[1].net?Ee?Ee.p(he,De):(Ee=ir(he),Ee.c(),Ee.m(e,K)):Ee&&(Ee.d(1),Ee=null),(!_e||De&8)&&z!==(z=(((nt=(Ge=he[3].status)==null?void 0:Ge.firmware)==null?void 0:nt.title)??"Firmware")+"")&&L(ee,z),(!_e||De&8)&&x!==(x=(((dt=(ot=he[3].status)==null?void 0:ot.firmware)==null?void 0:dt.installed)??"Installed")+"")&&L(fe,x),(!_e||De&2)&&ue!==(ue=he[1].version+"")&&L(ce,ue),((Xt=he[1].upgrade)==null?void 0:Xt.m)===!0?qe?qe.p(he,De):(qe=ur(he),qe.c(),qe.m(G,Z)):qe&&(qe.d(1),qe=null),he[1].upgrade.t&&he[1].upgrade.t!=he[1].version&&he[1].upgrade.e!=0&&he[1].upgrade.e!=123?Ue?Ue.p(he,De):(Ue=cr(he),Ue.c(),Ue.m(G,Q)):Ue&&(Ue.d(1),Ue=null),((jt=he[1].upgrade)==null?void 0:jt.x)!==void 0&&he[1].upgrade.x!==-1?ze?ze.p(he,De):(ze=mr(he),ze.c(),ze.m(G,ve)):ze&&(ze.d(1),ze=null),he[1].upgrade.n?Xe?Xe.p(he,De):(Xe=pr(he),Xe.c(),Xe.m(G,Se)):Xe&&(Xe.d(1),Xe=null),De&3&&(q=(he[1].security==0||he[0].a)&&Wn(he[1].board)),q?Ze?Ze.p(he,De):(Ze=hr(he),Ze.c(),Ze.m(G,y)):Ze&&(Ze.d(1),Ze=null),he[1].security==0||he[0].a?Le?Le.p(he,De):(Le=br(he),Le.c(),Le.m(G,null)):Le&&(Le.d(1),Le=null),he[1].security==0||he[0].a?tt?tt.p(he,De):(tt=vr(he),tt.c(),tt.m(e,null)):tt&&(tt.d(1),tt=null);const It={};De&64&&(It.active=he[6]),De&8&&(It.message=((sl=(Ft=he[3].status)==null?void 0:Ft.mask)==null?void 0:sl.firmware)??"Uploading"),X.$set(It);const vt={};De&256&&(vt.active=he[8]),De&8&&(vt.message=((Ye=(Dt=he[3].status)==null?void 0:Dt.mask)==null?void 0:Ye.config)??"Uploading"),ie.$set(vt)},i(he){_e||($(T.$$.fragment,he),$(ae),$(X.$$.fragment,he),$(ie.$$.fragment,he),_e=!0)},o(he){ne(T.$$.fragment,he),ne(ae),ne(X.$$.fragment,he),ne(ie.$$.fragment,he),_e=!1},d(he){he&&(S(e),S(F),S(oe)),me&&me.d(),ye(T),ae&&ae.d(),ke&&ke.d(),ge&&ge.d(),Ee&&Ee.d(),qe&&qe.d(),Ue&&Ue.d(),ze&&ze.d(),Xe&&Xe.d(),Ze&&Ze.d(),Le&&Le.d(),tt&&tt.d(),ye(X,he),ye(ie,he)}}}async function Nm(){await(await fetch("reboot",{method:"POST"})).json()}function Cm(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Nl.subscribe(U=>{l(3,o=U)});function f(){var U;confirm((((U=o.header)==null?void 0:U.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(uu(i.upgrade.n),ul.update(Y=>(Y.upgrade.t=i.upgrade.n,Y.upgrade.p=0,Y.upgrading=!0,Y)))}const r=function(){var U;confirm(((U=o.device)==null?void 0:U.reboot_confirm)??"Reboot?")&&(ul.update(Y=>(Y.booting=!0,Y)),Nm())};let c,m=[],d=!1,p,b=[],k=!1;ki();let g={hostname:"",ip:""};function w(U){l(8,k=!0);const Y=new FormData;Y.append("file",b[0]),fetch("configfile",{method:"POST",body:Y}).then(V=>V.json()).then(V=>{ul.update(E=>(g&&g.hostname&&(E.hostname=g.hostname),E.booting=V.reboot,g&&g.ip&&(E.net.ip=g.ip),setTimeout(rn,5e3,i),E))}).catch(V=>{console.error("Error:",V),setTimeout(rn,5e3,i)})}function v(U){ui[U?"unshift":"push"](()=>{c=U,l(4,c)})}function C(){m=this.files,l(5,m)}const T=()=>{c.click()},O=()=>l(6,d=!0);function P(U){ui[U?"unshift":"push"](()=>{p=U,l(7,p)})}function D(){b=this.files,l(2,b)}const I=()=>{p.click()};return t.$$set=U=>{"data"in U&&l(0,n=U.data),"sysinfo"in U&&l(1,i=U.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&b.length==1){let U=b[0],Y=new FileReader,V=E=>{let A=E.target.result.split(`
`);for(let H in A){let j=A[H];j.startsWith("hostname ")?g.hostname=j.split(" ")[1]:j.startsWith("ip ")&&(g.ip=j.split(" ")[1])}};Y.onload=V,Y.readAsText(U)}},[n,i,b,o,c,m,d,p,k,s,f,r,w,v,C,T,O,P,D,I]}class Pm extends Et{constructor(e){super(),At(this,e,Cm,Sm,Ct,{data:0,sysinfo:1})}}function wr(t){let e,l,n=Re(t[0],7)+"",i,s,o=Re(t[0],5)+"",f,r,c=Re(t[0],4)+"",m,d,p=Re(t[0],3)+"",b,k,g,w,v=Re(t[0],2)+"",C,T,O=Re(t[0],1)+"",P,D,I=Re(t[0],0)+"",U,Y,V,E,A=Re(t[0],101)+"",H,j,K=Re(t[0],100)+"",G;return{c(){e=_("optgroup"),l=_("option"),i=M(n),s=_("option"),f=M(o),r=_("option"),m=M(c),d=_("option"),b=M(p),k=h(),g=_("optgroup"),w=_("option"),C=M(v),T=_("option"),P=M(O),D=_("option"),U=M(I),Y=h(),V=_("optgroup"),E=_("option"),H=M(A),j=_("option"),G=M(K),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),d.__value=3,J(d,d.__value),u(e,"label","amsleser.no"),w.__value=2,J(w,w.__value),T.__value=1,J(T,T.__value),D.__value=0,J(D,D.__value),u(g,"label","Custom hardware"),E.__value=101,J(E,E.__value),j.__value=100,J(j,j.__value),u(V,"label","Generic hardware")},m(B,z){N(B,e,z),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,d),a(d,b),N(B,k,z),N(B,g,z),a(g,w),a(w,C),a(g,T),a(T,P),a(g,D),a(D,U),N(B,Y,z),N(B,V,z),a(V,E),a(E,H),a(V,j),a(j,G)},p(B,z){z&1&&n!==(n=Re(B[0],7)+"")&&L(i,n),z&1&&o!==(o=Re(B[0],5)+"")&&L(f,o),z&1&&c!==(c=Re(B[0],4)+"")&&L(m,c),z&1&&p!==(p=Re(B[0],3)+"")&&L(b,p),z&1&&v!==(v=Re(B[0],2)+"")&&L(C,v),z&1&&O!==(O=Re(B[0],1)+"")&&L(P,O),z&1&&I!==(I=Re(B[0],0)+"")&&L(U,I),z&1&&A!==(A=Re(B[0],101)+"")&&L(H,A),z&1&&K!==(K=Re(B[0],100)+"")&&L(G,K)},d(B){B&&(S(e),S(k),S(g),S(Y),S(V))}}}function Mr(t){let e,l,n=Re(t[0],201)+"",i,s,o=Re(t[0],202)+"",f,r,c=Re(t[0],203)+"",m,d,p=Re(t[0],241)+"",b,k,g=Re(t[0],242)+"",w,v,C=Re(t[0],243)+"",T,O,P=Re(t[0],245)+"",D,I,U=Re(t[0],200)+"",Y;return{c(){e=_("optgroup"),l=_("option"),i=M(n),s=_("option"),f=M(o),r=_("option"),m=M(c),d=_("option"),b=M(p),k=_("option"),w=M(g),v=_("option"),T=M(C),O=_("option"),D=M(P),I=_("option"),Y=M(U),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),d.__value=241,J(d,d.__value),k.__value=242,J(k,k.__value),v.__value=243,J(v,v.__value),O.__value=245,J(O,O.__value),I.__value=200,J(I,I.__value),u(e,"label","Generic hardware")},m(V,E){N(V,e,E),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,d),a(d,b),a(e,k),a(k,w),a(e,v),a(v,T),a(e,O),a(O,D),a(e,I),a(I,Y)},p(V,E){E&1&&n!==(n=Re(V[0],201)+"")&&L(i,n),E&1&&o!==(o=Re(V[0],202)+"")&&L(f,o),E&1&&c!==(c=Re(V[0],203)+"")&&L(m,c),E&1&&p!==(p=Re(V[0],241)+"")&&L(b,p),E&1&&g!==(g=Re(V[0],242)+"")&&L(w,g),E&1&&C!==(C=Re(V[0],243)+"")&&L(T,C),E&1&&P!==(P=Re(V[0],245)+"")&&L(D,P),E&1&&U!==(U=Re(V[0],200)+"")&&L(Y,U)},d(V){V&&S(e)}}}function yr(t){let e,l,n=Re(t[0],7)+"",i,s,o=Re(t[0],6)+"",f,r,c=Re(t[0],5)+"",m,d,p,b,k=Re(t[0],51)+"",g,w,v=Re(t[0],50)+"",C;return{c(){e=_("optgroup"),l=_("option"),i=M(n),s=_("option"),f=M(o),r=_("option"),m=M(c),d=h(),p=_("optgroup"),b=_("option"),g=M(k),w=_("option"),C=M(v),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),u(e,"label","amsleser.no"),b.__value=51,J(b,b.__value),w.__value=50,J(w,w.__value),u(p,"label","Generic hardware")},m(T,O){N(T,e,O),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),N(T,d,O),N(T,p,O),a(p,b),a(b,g),a(p,w),a(w,C)},p(T,O){O&1&&n!==(n=Re(T[0],7)+"")&&L(i,n),O&1&&o!==(o=Re(T[0],6)+"")&&L(f,o),O&1&&c!==(c=Re(T[0],5)+"")&&L(m,c),O&1&&k!==(k=Re(T[0],51)+"")&&L(g,k),O&1&&v!==(v=Re(T[0],50)+"")&&L(C,v)},d(T){T&&(S(e),S(d),S(p))}}}function Sr(t){let e,l,n=Re(t[0],8)+"",i,s,o,f,r=Re(t[0],71)+"",c,m,d=Re(t[0],70)+"",p;return{c(){e=_("optgroup"),l=_("option"),i=M(n),s=h(),o=_("optgroup"),f=_("option"),c=M(r),m=_("option"),p=M(d),l.__value=8,J(l,l.__value),u(e,"label","Custom hardware"),f.__value=71,J(f,f.__value),m.__value=70,J(m,m.__value),u(o,"label","Generic hardware")},m(b,k){N(b,e,k),a(e,l),a(l,i),N(b,s,k),N(b,o,k),a(o,f),a(f,c),a(o,m),a(m,p)},p(b,k){k&1&&n!==(n=Re(b[0],8)+"")&&L(i,n),k&1&&r!==(r=Re(b[0],71)+"")&&L(c,r),k&1&&d!==(d=Re(b[0],70)+"")&&L(p,d)},d(b){b&&(S(e),S(s),S(o))}}}function Nr(t){let e,l,n=Re(t[0],200)+"",i;return{c(){e=_("optgroup"),l=_("option"),i=M(n),l.__value=200,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){N(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Re(s[0],200)+"")&&L(i,n)},d(s){s&&S(e)}}}function Cr(t){let e,l,n=Re(t[0],80)+"",i;return{c(){e=_("optgroup"),l=_("option"),i=M(n),l.__value=80,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){N(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Re(s[0],80)+"")&&L(i,n)},d(s){s&&S(e)}}}function Tm(t){let e,l,n,i,s,o,f,r,c=t[0]=="esp8266"&&wr(t),m=t[0]=="esp32"&&Mr(t),d=t[0]=="esp32s2"&&yr(t),p=t[0]=="esp32c3"&&Sr(t),b=t[0]=="esp32solo"&&Nr(t),k=t[0]=="esp32s3"&&Cr(t);return{c(){e=_("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),d&&d.c(),s=h(),p&&p.c(),o=h(),b&&b.c(),f=h(),k&&k.c(),r=el(),e.__value=-1,J(e,e.__value)},m(g,w){N(g,e,w),N(g,l,w),c&&c.m(g,w),N(g,n,w),m&&m.m(g,w),N(g,i,w),d&&d.m(g,w),N(g,s,w),p&&p.m(g,w),N(g,o,w),b&&b.m(g,w),N(g,f,w),k&&k.m(g,w),N(g,r,w)},p(g,[w]){g[0]=="esp8266"?c?c.p(g,w):(c=wr(g),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),g[0]=="esp32"?m?m.p(g,w):(m=Mr(g),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),g[0]=="esp32s2"?d?d.p(g,w):(d=yr(g),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g[0]=="esp32c3"?p?p.p(g,w):(p=Sr(g),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),g[0]=="esp32solo"?b?b.p(g,w):(b=Nr(g),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null),g[0]=="esp32s3"?k?k.p(g,w):(k=Cr(g),k.c(),k.m(r.parentNode,r)):k&&(k.d(1),k=null)},i:je,o:je,d(g){g&&(S(e),S(l),S(n),S(i),S(s),S(o),S(f),S(r)),c&&c.d(g),m&&m.d(g),d&&d.d(g),p&&p.d(g),b&&b.d(g),k&&k.d(g)}}}function Am(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class Em extends Et{constructor(e){super(),At(this,e,Am,Tm,Ct,{chip:0})}}function Pr(t){let e;return{c(){e=_("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Tr(t){let e,l,n,i,s,o,f;return o=new L1({props:{chip:t[0].chip}}),{c(){e=_("div"),l=M("HAN GPIO"),n=_("br"),i=h(),s=_("select"),Ne(o.$$.fragment),u(s,"name","vh"),u(s,"class","in-s"),u(e,"class","my-3")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(e,i),a(e,s),Me(o,s,null),f=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),o.$set(m)},i(r){f||($(o.$$.fragment,r),f=!0)},o(r){ne(o.$$.fragment,r),f=!1},d(r){r&&S(e),ye(o)}}}function Lm(t){let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D,I,U,Y,V,E,A,H,j=t[0].usrcfg&&Pr();k=new Em({props:{chip:t[0].chip}});let K=t[0].board&&t[0].board>20&&Tr(t);return V=new ml({props:{active:t[1],message:"Saving"}}),{c(){e=_("div"),l=_("div"),n=_("form"),i=_("input"),s=h(),o=_("strong"),o.textContent="Initial configuration",f=h(),j&&j.c(),r=h(),c=_("div"),m=M("Board type"),d=_("br"),p=h(),b=_("select"),Ne(k.$$.fragment),g=h(),K&&K.c(),w=h(),v=_("div"),C=_("label"),T=_("input"),O=M(" Clear all other configuration"),P=h(),D=_("div"),D.innerHTML='<button type="submit" class="btn-pri">Save</button>',I=h(),U=_("span"),U.textContent=" ",Y=h(),Ne(V.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(o,"class","text-sm"),u(b,"name","vb"),u(b,"class","in-s"),t[0].board===void 0&&Yt(()=>t[5].call(b)),u(c,"class","my-3"),u(T,"type","checkbox"),u(T,"name","vr"),T.__value="true",J(T,T.__value),u(T,"class","rounded mb-1"),u(v,"class","my-3"),u(D,"class","my-3"),u(U,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(G,B){N(G,e,B),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),j&&j.m(n,null),a(n,r),a(n,c),a(c,m),a(c,d),a(c,p),a(c,b),Me(k,b,null),st(b,t[0].board,!0),a(n,g),K&&K.m(n,null),a(n,w),a(n,v),a(v,C),a(C,T),T.checked=t[2],a(C,O),a(n,P),a(n,D),a(n,I),a(n,U),N(G,Y,B),Me(V,G,B),E=!0,A||(H=[be(b,"change",t[5]),be(T,"change",t[6]),be(n,"submit",yn(t[3]))],A=!0)},p(G,[B]){G[0].usrcfg?j||(j=Pr(),j.c(),j.m(n,r)):j&&(j.d(1),j=null);const z={};B&1&&(z.chip=G[0].chip),k.$set(z),B&1&&st(b,G[0].board),G[0].board&&G[0].board>20?K?(K.p(G,B),B&1&&$(K,1)):(K=Tr(G),K.c(),$(K,1),K.m(n,w)):K&&(wt(),ne(K,1,1,()=>{K=null}),Mt()),B&4&&(T.checked=G[2]);const ee={};B&2&&(ee.active=G[1]),V.$set(ee)},i(G){E||($(k.$$.fragment,G),$(K),$(V.$$.fragment,G),E=!0)},o(G){ne(k.$$.fragment,G),ne(K),ne(V.$$.fragment,G),E=!1},d(G){G&&(S(e),S(Y)),j&&j.d(),ye(k),K&&K.d(),ye(V,G),A=!1,Rt(H)}}}function qm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function o(m){l(1,s=!0);const d=new FormData(m.target),p=new URLSearchParams;for(let g of d){const[w,v]=g;p.append(w,v)}let k=await(await fetch("save",{method:"POST",body:p})).json();l(1,s=!1),ul.update(g=>(g.vndcfg=k.success,g.booting=k.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),Mn(n+(i.usrcfg?"":"setup"))}let f=!0;ul.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,f=!i.usrcfg)});function r(){i.board=nl(this),l(0,i)}function c(){f=this.checked,l(2,f)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,f,o,n,r,c]}class Im extends Et{constructor(e){super(),At(this,e,qm,Lm,Ct,{basepath:4,sysinfo:0})}}const Om="/wifi-low.svg",Dm="/wifi-medium.svg",Fm="/wifi-high.svg",Rm="/wifi-off.svg",jm={aidon:[/^7359\d+$/,/^6442\d+$/,/^6490\d+$/,/^6492\d+$/],kaifa:[/^MA105\w*$/,/^MA304\w*$/,/^MA309\w*$/],kamstrup:[/^OMNIA\w*$/,/^6841\d+$/,/^MULTICAL\w*$/]},Um={high_baud_inverted:{baud:115200,parity:"8N1",invert:!0,likelyPresets:["aidon-rj12"]},standard_han_2400:{baud:2400,parity:"8E1",invert:!1,likelyPresets:["aidon-rj45-han","kaifa-rj45"]},kamstrup_signature:{baud:9600,parity:"8N2",invert:!1,likelyPresets:["kamstrup-han"]}};function Bm(t){var l;const e={meterType:null,distributionSystem:null,hasL2:!1,hasL3:!1,confidence:0,indicators:[]};return!t||typeof t!="object"||(typeof t.mt=="number"&&t.mt>0&&(e.meterType=t.mt,e.confidence+=40,e.indicators.push(`Meter type explicitly set to ${t.mt}`)),typeof t.ds=="number"&&(e.distributionSystem=t.ds,e.confidence+=20,e.indicators.push(`Distribution system: ${t.ds}`)),t.l2&&typeof t.l2=="object"&&((t.l2.u>0||t.l2.i>0||t.l2.p!==0)&&(e.hasL2=!0,e.confidence+=15,e.indicators.push("L2 phase data detected")),t.l2.e!==void 0&&e.indicators.push(`L2 presence indicator: ${t.l2.e}`)),t.l3&&typeof t.l3=="object"&&(t.l3.u>0||t.l3.i>0||t.l3.p!==0)&&(e.hasL3=!0,e.confidence+=15,e.indicators.push("L3 phase data detected")),typeof t.hm=="number"&&(t.hm>0?(e.confidence+=10,e.indicators.push(`HAN communication active (status: ${t.hm})`)):e.indicators.push(`HAN communication issues (status: ${t.hm})`)),t.ic===0&&t.ec===0&&((l=t.l1)==null?void 0:l.u)===0&&e.indicators.push("Possible encrypted or unconfigured meter")),e}function Hm(t){return{1:{manufacturer:"Aidon",model:"6442",presets:["aidon-rj45-han"]},2:{manufacturer:"Aidon",model:"6492",presets:["aidon-rj45-han"]},7:{manufacturer:"Aidon",model:"6490",presets:["aidon-rj12"]},3:{manufacturer:"Kaifa",model:"MA105",presets:["kaifa-rj45"]},4:{manufacturer:"Kaifa",model:"MA304",presets:["kaifa-rj45"]},9:{manufacturer:"Kaifa",model:"MA309",presets:["kaifa-rj45"]},5:{manufacturer:"Kamstrup",model:"OMNIA",presets:["kamstrup-han"]},8:{manufacturer:"Kamstrup",model:"Multical",presets:["kamstrup-han"]},6:{manufacturer:"Landis+Gyr",model:"E350",presets:["lng-rj45"]},10:{manufacturer:"Generic",model:"HAN-port",presets:["aidon-rj45-han","kaifa-rj45"]},11:{manufacturer:"Generic",model:"M-Bus",presets:["mbus-serial"]}}[t]||{manufacturer:"Unknown",model:`Type ${t}`,presets:[]}}function Wm(t,e,l=null){const n={confidence:0,suggestedPresets:[],detectedManufacturer:null,detectedModel:null,reasoning:[]},i=(t==null?void 0:t.meterId)||"",s=(t==null?void 0:t.meterModel)||"";if(l){const o=Bm(l);if(o.meterType){const f=Hm(o.meterType);n.detectedManufacturer=f.manufacturer,n.detectedModel=f.model,n.suggestedPresets.push(...f.presets),n.confidence+=50,n.reasoning.push(`Live data indicates ${f.manufacturer} ${f.model} (type ${o.meterType})`)}n.reasoning.push(...o.indicators),n.confidence+=Math.min(o.confidence,30)}for(const[o,f]of Object.entries(jm))for(const r of f)if(r.test(i)){if(!n.detectedManufacturer)n.detectedManufacturer=o,n.confidence+=30;else if(n.detectedManufacturer.toLowerCase()===o){n.confidence+=15,n.reasoning.push(`Meter ID "${i}" confirms ${o} detection`);continue}n.reasoning.push(`Meter ID "${i}" matches ${o} pattern`);const c=cs.filter(m=>m.manufacturer.toLowerCase().includes(o));n.suggestedPresets.push(...c.map(m=>m.id));break}if(e){for(const[o,f]of Object.entries(Um))if(e.baud===f.baud&&e.parity===f.parity&&e.invert===f.invert){n.confidence+=25,n.reasoning.push(`Communication pattern matches ${o}`),n.suggestedPresets.push(...f.likelyPresets);break}}if(s){n.detectedModel||(n.detectedModel=s),n.confidence+=15,n.reasoning.push(`Detected meter model: ${s}`);const o=s.toLowerCase();o.includes("aidon")?n.suggestedPresets.push("aidon-rj45-han"):o.includes("kaifa")||o.includes("ma105")||o.includes("ma304")?n.suggestedPresets.push("kaifa-rj45"):(o.includes("kamstrup")||o.includes("omnia"))&&n.suggestedPresets.push("kamstrup-han")}return n.suggestedPresets=[...new Set(n.suggestedPresets)],n.confidence<50&&e&&e.baud===2400&&e.parity==="8E1"&&(n.suggestedPresets.push("kaifa-rj45","aidon-rj45-han"),n.reasoning.push("Added common HAN-port presets as fallback")),n}const vu="/neas_logo_green.svg";function Ar(t,e,l){const n=t.slice();return n[30]=e[l],n}function Er(t,e,l){const n=t.slice();return n[33]=e[l],n}function Lr(t,e,l){const n=t.slice();return n[36]=e[l],n[38]=l,n}function qr(t){var f,r;let e,l,n,i,s=(((r=(f=t[3].conf)==null?void 0:f.connection)==null?void 0:r.searching)??"Søker etter nettverk...")+"",o;return{c(){e=_("div"),l=_("div"),n=h(),i=_("span"),o=M(s),u(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-neas-green mr-3"),u(i,"class","text-sm font-medium"),u(e,"class","flex items-center justify-center py-8 text-black dark:text-black")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(e,i),a(i,o)},p(c,m){var d,p;m[0]&8&&s!==(s=(((p=(d=c[3].conf)==null?void 0:d.connection)==null?void 0:p.searching)??"Søker etter nettverk...")+"")&&L(o,s)},d(c){c&&S(e)}}}function zm(t){var r,c;let e,l,n,i,s,o=(((c=(r=t[3].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"Ingen nettverk funnet")+"",f;return{c(){e=_("div"),l=yt("svg"),n=yt("path"),i=h(),s=_("p"),f=M(o),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"stroke-width","2"),u(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),u(l,"class","mb-3 opacity-100"),u(l,"fill","none"),u(l,"stroke","currentColor"),u(l,"viewBox","0 0 24 24"),u(s,"class","text-sm font-medium"),u(e,"class","text-center py-8 text-neas-green dark:text-neas-green")},m(m,d){N(m,e,d),a(e,l),a(l,n),a(e,i),a(e,s),a(s,f)},p(m,d){var p,b;d[0]&8&&o!==(o=(((b=(p=m[3].conf)==null?void 0:p.connection)==null?void 0:b.no_networks)??"Ingen nettverk funnet")+"")&&L(f,o)},d(m){m&&S(e)}}}function Km(t){let e,l=[],n=new Map,i=We(t[2].n);const s=o=>o[36].s??o[38];for(let o=0;o<i.length;o+=1){let f=Lr(t,i,o),r=s(f);n.set(r,l[o]=Ir(r,f))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","space-y-3 max-h overflow-y-auto")},m(o,f){N(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&908&&(i=We(o[2].n),l=yf(l,f,s,1,o,i,n,e,Mf,Ir,null,Lr))},d(o){o&&S(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ir(t,e){var P,D;let l,n,i,s,o=!1,f,r,c=(e[36].s||(((D=(P=e[3].conf)==null?void 0:P.connection)==null?void 0:D.hidden_ssid)??"Skjult nettverk"))+"",m,d,p,b,k,g,w,v,C,T,O;return C=vf(e[15][0]),{key:t,first:null,c(){var I,U,Y,V,E;l=_("label"),n=_("span"),i=_("input"),f=h(),r=_("span"),m=M(c),d=h(),p=_("div"),b=_("img"),v=h(),u(i,"type","radio"),u(i,"class","sr-only"),u(i,"name","ss"),i.__value=s=e[36].s,J(i,i.__value),i.required=gu==1,u(r,"class","min-w-0 flex-1 text-neas-green dark:text-neas-green font-medium truncate"),u(n,"class","flex items-center gap-3 flex-1 min-w-0"),u(b,"class","h-10 w-10"),fn(b.src,k=((I=e[7][e[38]])==null?void 0:I.icon)??e[9].off)||u(b,"src",k),u(b,"alt",g=((U=e[7][e[38]])==null?void 0:U.title)??"Wi-Fi frakoblet"),u(b,"title",w=((Y=e[7][e[38]])==null?void 0:Y.rssi)!=null?`${((V=e[7][e[38]])==null?void 0:V.title)??"Wi-Fi frakoblet"} (${e[7][e[38]].rssi} dBm)`:((E=e[7][e[38]])==null?void 0:E.title)??"Wi-Fi frakoblet"),u(p,"class","flex items-center gap-3 flex-shrink-0"),u(l,"class","group flex items-center justify-between gap-4 rounded-2xl border-2 border-transparent bg-neas-gray px-5 py-4 shadow-sm transition hover:border-neas-lightgreen-70 hover:bg-white dark:bg-neas-gray dark:hover:bg-neas-lightgreen-70 cursor-pointer"),$l(l,"border-neas-green",e[8]===e[36].s),$l(l,"border-transparent",e[8]!==e[36].s),$l(l,"bg-white",e[8]===e[36].s),$l(l,"shadow-lg",e[8]===e[36].s),C.p(i),this.first=l},m(I,U){N(I,l,U),a(l,n),a(n,i),i.checked=i.__value===e[8],a(n,f),a(n,r),a(r,m),a(l,d),a(l,p),a(p,b),a(l,v),T||(O=be(i,"change",e[14]),T=!0)},p(I,U){var Y,V,E,A,H,j,K;e=I,U[0]&4&&s!==(s=e[36].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||U[0]&260)&&(i.checked=i.__value===e[8]),U[0]&12&&c!==(c=(e[36].s||(((V=(Y=e[3].conf)==null?void 0:Y.connection)==null?void 0:V.hidden_ssid)??"Skjult nettverk"))+"")&&L(m,c),U[0]&132&&!fn(b.src,k=((E=e[7][e[38]])==null?void 0:E.icon)??e[9].off)&&u(b,"src",k),U[0]&132&&g!==(g=((A=e[7][e[38]])==null?void 0:A.title)??"Wi-Fi frakoblet")&&u(b,"alt",g),U[0]&132&&w!==(w=((H=e[7][e[38]])==null?void 0:H.rssi)!=null?`${((j=e[7][e[38]])==null?void 0:j.title)??"Wi-Fi frakoblet"} (${e[7][e[38]].rssi} dBm)`:((K=e[7][e[38]])==null?void 0:K.title)??"Wi-Fi frakoblet")&&u(b,"title",w),U[0]&260&&$l(l,"border-neas-green",e[8]===e[36].s),U[0]&260&&$l(l,"border-transparent",e[8]!==e[36].s),U[0]&260&&$l(l,"bg-white",e[8]===e[36].s),U[0]&260&&$l(l,"shadow-lg",e[8]===e[36].s)},d(I){I&&S(l),C.r(),T=!1,O()}}}function Or(t){var H;let e,l,n,i,s,o,f,r,c,m=(t[4].detectedManufacturer||"ukjent")+"",d,p,b,k=t[4].confidence+"",g,w,v,C,T,O,P,D,I,U,Y,V=t[4].detectedModel&&Dr(t),E=((H=t[0])==null?void 0:H.mt)&&Fr(t),A=t[4].reasoning.length>0&&Ur(t);return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=h(),s=_("div"),o=_("h3"),o.textContent="Måler oppdaget automatisk!",f=h(),r=_("p"),c=M("Vi har oppdaget en "),d=M(m),p=M(` måler
                                `),V&&V.c(),b=M(`
                                med `),g=M(k),w=M(`%
                                sikkerhet.`),v=h(),E&&E.c(),C=h(),A&&A.c(),T=h(),O=_("div"),P=_("button"),P.textContent="Bruk anbefalte innstillinger",D=h(),I=_("button"),I.textContent="Avvis",u(n,"class","flex-shrink-0"),u(o,"class","text-sm font-medium text-green-800 mb-2"),u(r,"class","text-sm text-green-700 mb-3"),u(P,"type","button"),u(P,"class","bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(I,"type","button"),u(I,"class","bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(O,"class","flex gap-2"),u(s,"class","flex-1"),u(l,"class","flex items-start gap-3"),u(e,"class","mb-6 rounded-2xl bg-green-50 border border-green-200 p-5 shadow-sm")},m(j,K){N(j,e,K),a(e,l),a(l,n),a(l,i),a(l,s),a(s,o),a(s,f),a(s,r),a(r,c),a(r,d),a(r,p),V&&V.m(r,null),a(r,b),a(r,g),a(r,w),a(s,v),E&&E.m(s,null),a(s,C),A&&A.m(s,null),a(s,T),a(s,O),a(O,P),a(O,D),a(O,I),U||(Y=[be(P,"click",t[10]),be(I,"click",t[11])],U=!0)},p(j,K){var G;K[0]&16&&m!==(m=(j[4].detectedManufacturer||"ukjent")+"")&&L(d,m),j[4].detectedModel?V?V.p(j,K):(V=Dr(j),V.c(),V.m(r,b)):V&&(V.d(1),V=null),K[0]&16&&k!==(k=j[4].confidence+"")&&L(g,k),(G=j[0])!=null&&G.mt?E?E.p(j,K):(E=Fr(j),E.c(),E.m(s,C)):E&&(E.d(1),E=null),j[4].reasoning.length>0?A?A.p(j,K):(A=Ur(j),A.c(),A.m(s,T)):A&&(A.d(1),A=null)},d(j){j&&S(e),V&&V.d(),E&&E.d(),A&&A.d(),U=!1,Rt(Y)}}}function Dr(t){let e,l=t[4].detectedModel+"",n,i;return{c(){e=M("(modell: "),n=M(l),i=M(")")},m(s,o){N(s,e,o),N(s,n,o),N(s,i,o)},p(s,o){o[0]&16&&l!==(l=s[4].detectedModel+"")&&L(n,l)},d(s){s&&(S(e),S(n),S(i))}}}function Fr(t){var c,m;let e,l,n=t[0].mt+"",i,s,o,f=((c=t[0])==null?void 0:c.ds)&&Rr(t),r=((m=t[0])==null?void 0:m.hm)!==void 0&&jr(t);return{c(){e=_("p"),l=M("Målertype fra payload: "),i=M(n),s=h(),f&&f.c(),o=h(),r&&r.c(),u(e,"class","text-xs text-green-600 mb-2")},m(d,p){N(d,e,p),a(e,l),a(e,i),a(e,s),f&&f.m(e,null),a(e,o),r&&r.m(e,null)},p(d,p){var b,k;p[0]&1&&n!==(n=d[0].mt+"")&&L(i,n),(b=d[0])!=null&&b.ds?f?f.p(d,p):(f=Rr(d),f.c(),f.m(e,o)):f&&(f.d(1),f=null),((k=d[0])==null?void 0:k.hm)!==void 0?r?r.p(d,p):(r=jr(d),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(d){d&&S(e),f&&f.d(),r&&r.d()}}}function Rr(t){let e,l=t[0].ds+"",n;return{c(){e=M("| Distribusjonssystem: "),n=M(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].ds+"")&&L(n,l)},d(i){i&&(S(e),S(n))}}}function jr(t){let e,l=t[0].hm+"",n;return{c(){e=M("| HAN-status: "),n=M(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].hm+"")&&L(n,l)},d(i){i&&(S(e),S(n))}}}function Ur(t){let e,l,n,i,s=We(t[4].reasoning),o=[];for(let f=0;f<s.length;f+=1)o[f]=Br(Er(t,s,f));return{c(){e=_("details"),l=_("summary"),l.textContent="Vis detaljer",n=h(),i=_("ul");for(let f=0;f<o.length;f+=1)o[f].c();u(l,"class","cursor-pointer hover:text-green-800"),u(i,"class","mt-2 space-y-1 pl-4"),u(e,"class","text-xs text-green-600 mb-3")},m(f,r){N(f,e,r),a(e,l),a(e,n),a(e,i);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null)},p(f,r){if(r[0]&16){s=We(f[4].reasoning);let c;for(c=0;c<s.length;c+=1){const m=Er(f,s,c);o[c]?o[c].p(m,r):(o[c]=Br(m),o[c].c(),o[c].m(i,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(f){f&&S(e),Gt(o,f)}}}function Br(t){let e,l,n=t[33]+"",i;return{c(){e=_("li"),l=M("• "),i=M(n)},m(s,o){N(s,e,o),a(e,l),a(e,i)},p(s,o){o[0]&16&&n!==(n=s[33]+"")&&L(i,n)},d(s){s&&S(e)}}}function Hr(t){var C,T,O,P;let e,l,n,i,s,o,f,r=(((T=(C=t[3].setup)==null?void 0:C.reconnect)==null?void 0:T.title)??"Oppsett fullført!")+"",c,m,d,p=(((P=(O=t[3].setup)==null?void 0:O.reconnect)==null?void 0:P.info)??"Enheten starter på nytt og prøver å koble til på følgende adresser:")+"",b,k,g,w=We(t[6]),v=[];for(let D=0;D<w.length;D+=1)v[D]=Wr(Ar(t,w,D));return{c(){e=_("div"),l=_("div"),n=yt("svg"),i=yt("path"),s=h(),o=_("div"),f=_("h4"),c=M(r),m=h(),d=_("p"),b=M(p),k=h(),g=_("div");for(let D=0;D<v.length;D+=1)v[D].c();u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(i,"stroke-width","2"),u(i,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),u(n,"class","w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-3 flex-shrink-0"),u(n,"fill","none"),u(n,"stroke","currentColor"),u(n,"viewBox","0 0 24 24"),u(f,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),u(d,"class","text-sm text-green-700 dark:text-green-300 mb-3"),u(g,"class","space-y-1"),u(l,"class","flex items-start"),u(e,"class","mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg")},m(D,I){N(D,e,I),a(e,l),a(l,n),a(n,i),a(l,s),a(l,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,b),a(o,k),a(o,g);for(let U=0;U<v.length;U+=1)v[U]&&v[U].m(g,null)},p(D,I){var U,Y,V,E;if(I[0]&8&&r!==(r=(((Y=(U=D[3].setup)==null?void 0:U.reconnect)==null?void 0:Y.title)??"Oppsett fullført!")+"")&&L(c,r),I[0]&8&&p!==(p=(((E=(V=D[3].setup)==null?void 0:V.reconnect)==null?void 0:E.info)??"Enheten starter på nytt og prøver å koble til på følgende adresser:")+"")&&L(b,p),I[0]&64){w=We(D[6]);let A;for(A=0;A<w.length;A+=1){const H=Ar(D,w,A);v[A]?v[A].p(H,I):(v[A]=Wr(H),v[A].c(),v[A].m(g,null))}for(;A<v.length;A+=1)v[A].d(1);v.length=w.length}},d(D){D&&S(e),Gt(v,D)}}}function Wr(t){let e,l,n=(t[30].startsWith("http://")||t[30].startsWith("https://")?t[30]:`http://${t[30]}`)+"",i,s;return{c(){e=_("div"),l=_("code"),i=M(n),s=h(),u(l,"class","text-xs bg-green-100 dark:bg-green-800/50 text-green-800 dark:text-green-200 px-2 py-1 rounded font-mono"),u(e,"class","flex items-center")},m(o,f){N(o,e,f),a(e,l),a(l,i),a(e,s)},p(o,f){f[0]&64&&n!==(n=(o[30].startsWith("http://")||o[30].startsWith("https://")?o[30]:`http://${o[30]}`)+"")&&L(i,n)},d(o){o&&S(e)}}}function Vm(t){var Ee,qe,Ue,ze,Xe,Ze,Le,tt;let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D=(((Ee=t[3].setup)==null?void 0:Ee.title)??"WiFi-oppsett")+"",I,U,Y,V=(((qe=t[3].setup)==null?void 0:qe.subtitle)??"Koble enheten til internett")+"",E,A,H,j,K,G=(((ze=(Ue=t[3].conf)==null?void 0:Ue.connection)==null?void 0:ze.ssid)??"Velg nettverk")+"",B,z,ee,le,W,x,fe=(((Ze=(Xe=t[3].conf)==null?void 0:Xe.connection)==null?void 0:Ze.psk)??"WiFi-passord")+"",se,ue,ce,te,Z,Q,ve,Se,q,y,R,F,X,oe,ie=((Le=t[2])==null?void 0:Le.c)==-1&&qr(t);function _e(re,Ce){var lt,bt,mt;if((bt=(lt=re[2])==null?void 0:lt.n)!=null&&bt.length)return Km;if(((mt=re[2])==null?void 0:mt.c)!=-1)return zm}let me=_e(t),ae=me&&me(t),ke=t[1]&&t[4]&&Or(t),ge=t[6].length&&Hr(t);return R=new ml({props:{active:t[5],message:((tt=t[3].setup)==null?void 0:tt.mask)??"Kobler til..."}}),{c(){var re,Ce;e=_("div"),l=_("div"),l.innerHTML=`<img alt="Neas logo" src="${vu}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${as}" class="w-36 h-auto hidden sm:block"/>`,n=h(),i=_("div"),s=_("form"),o=_("input"),f=h(),r=_("input"),c=h(),m=_("input"),d=h(),p=_("input"),b=h(),k=_("input"),g=h(),w=_("input"),v=h(),C=_("input"),T=h(),O=_("div"),P=_("h1"),I=M(D),U=h(),Y=_("p"),E=M(V),A=h(),H=_("div"),j=_("div"),K=_("span"),B=M(G),z=h(),ie&&ie.c(),ee=h(),ae&&ae.c(),le=h(),W=_("div"),x=_("label"),se=M(fe),ue=h(),ce=_("input"),Z=h(),ke&&ke.c(),Q=h(),ve=_("div"),Se=_("button"),Se.textContent="Koble til og fortsett",q=h(),ge&&ge.c(),y=h(),Ne(R.$$.fragment),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(o,"type","hidden"),u(o,"name","s"),o.value="true",u(r,"type","hidden"),u(r,"name","fw"),r.value="true",u(m,"type","hidden"),u(m,"name","sf"),m.value="1",u(p,"type","hidden"),u(p,"name","ulang"),p.value="no",u(k,"type","hidden"),u(k,"name","fwa"),k.value="true",u(w,"type","hidden"),u(w,"name","fws"),w.value="2",u(C,"type","hidden"),u(C,"name","fwe"),C.value="2",u(P,"class","text-2xl font-semibold text-neas-green mb-2"),u(Y,"class","text-sm text-black"),u(O,"class","text-center mb-8"),u(K,"class","block text-sm font-medium text-neas-green dark:text-neas-green"),u(j,"class","flex items-center justify-between mb-3"),u(H,"class","mb-6"),u(x,"for","wifi-password"),u(x,"class","block text-sm font-medium text-neas-green dark:text-neas-green mb-2"),u(ce,"id","wifi-password"),u(ce,"name","sp"),u(ce,"type","password"),u(ce,"pattern",pi),u(ce,"class","w-full px-4 py-3 rounded-xl bg-neas-gray dark:bg-neas-gray text-neas-green dark:text-neas-green border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-neas-green focus:border-neas-green transition-colors shadow-sm"),u(ce,"placeholder",te=((Ce=(re=t[3].conf)==null?void 0:re.connection)==null?void 0:Ce.password_placeholder)??"Skriv inn WiFi-passord"),u(ce,"autocomplete","off"),ce.required=gu==2,u(W,"class","mb-6"),u(Se,"type","submit"),u(Se,"class","w-full bg-neas-green hover:bg-neas-green-90 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(ve,"class","text-center"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(re,Ce){N(re,e,Ce),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,f),a(s,r),a(s,c),a(s,m),a(s,d),a(s,p),a(s,b),a(s,k),a(s,g),a(s,w),a(s,v),a(s,C),a(s,T),a(s,O),a(O,P),a(P,I),a(O,U),a(O,Y),a(Y,E),a(s,A),a(s,H),a(H,j),a(j,K),a(K,B),a(H,z),ie&&ie.m(H,null),a(H,ee),ae&&ae.m(H,null),a(s,le),a(s,W),a(W,x),a(x,se),a(W,ue),a(W,ce),a(s,Z),ke&&ke.m(s,null),a(s,Q),a(s,ve),a(ve,Se),a(s,q),ge&&ge.m(s,null),N(re,y,Ce),Me(R,re,Ce),F=!0,X||(oe=be(s,"submit",yn(t[12])),X=!0)},p(re,Ce){var bt,mt,$e,rt,Wt,pt,Lt,Pt,qt,et;(!F||Ce[0]&8)&&D!==(D=(((bt=re[3].setup)==null?void 0:bt.title)??"WiFi-oppsett")+"")&&L(I,D),(!F||Ce[0]&8)&&V!==(V=(((mt=re[3].setup)==null?void 0:mt.subtitle)??"Koble enheten til internett")+"")&&L(E,V),(!F||Ce[0]&8)&&G!==(G=(((rt=($e=re[3].conf)==null?void 0:$e.connection)==null?void 0:rt.ssid)??"Velg nettverk")+"")&&L(B,G),((Wt=re[2])==null?void 0:Wt.c)==-1?ie?ie.p(re,Ce):(ie=qr(re),ie.c(),ie.m(H,ee)):ie&&(ie.d(1),ie=null),me===(me=_e(re))&&ae?ae.p(re,Ce):(ae&&ae.d(1),ae=me&&me(re),ae&&(ae.c(),ae.m(H,null))),(!F||Ce[0]&8)&&fe!==(fe=(((Lt=(pt=re[3].conf)==null?void 0:pt.connection)==null?void 0:Lt.psk)??"WiFi-passord")+"")&&L(se,fe),(!F||Ce[0]&8&&te!==(te=((qt=(Pt=re[3].conf)==null?void 0:Pt.connection)==null?void 0:qt.password_placeholder)??"Skriv inn WiFi-passord"))&&u(ce,"placeholder",te),re[1]&&re[4]?ke?ke.p(re,Ce):(ke=Or(re),ke.c(),ke.m(s,Q)):ke&&(ke.d(1),ke=null),re[6].length?ge?ge.p(re,Ce):(ge=Hr(re),ge.c(),ge.m(s,null)):ge&&(ge.d(1),ge=null);const lt={};Ce[0]&32&&(lt.active=re[5]),Ce[0]&8&&(lt.message=((et=re[3].setup)==null?void 0:et.mask)??"Kobler til..."),R.$set(lt)},i(re){F||($(R.$$.fragment,re),F=!0)},o(re){ne(R.$$.fragment,re),F=!1},d(re){re&&(S(e),S(y)),ie&&ie.d(),ae&&ae.d(),ke&&ke.d(),ge&&ge.d(),ye(R,re),X=!1,oe()}}}let gu=1;function Gm(t){return{2:"7N1",3:"8N1",7:"8N2",10:"7E1",11:"8E1"}[t]||"8E1"}function Ym(t,e,l){const n={high:Fm,medium:Dm,low:Om,off:Rm};n.off;let i={};Nl.subscribe(A=>{l(3,i=A)});let s,o,f=!1,r=null,c=!1;const m=vn.subscribe(A=>{s=A,A!=null&&A.m&&!f&&(o=dn(A.m),f=!0)});bi(()=>{_u(),setTimeout(()=>{b()},3e3)}),vi(()=>{typeof m=="function"&&m()});function d(){!f&&(s!=null&&s.m)&&(o=dn(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=dn(s.m))}function p(A){d();const H=hu(A);H?o=bu(o,H):s!=null&&s.m&&(o=dn(s.m))}function b(){if(!T)return;const A={meterId:T.id||"",meterModel:T.model||""},H=s!=null&&s.m?{baud:s.m.b||0,parity:Gm(s.m.p||0),invert:s.m.i||!1}:null;l(4,r=Wm(A,H,T)),r.confidence>50&&r.suggestedPresets.length>0&&l(1,c=!0)}function k(){if(r&&r.suggestedPresets.length>0){const A=r.suggestedPresets[0];p(A),l(1,c=!1)}}function g(){l(1,c=!1)}function w(){var j,K,G,B,z,ee,le,W,x,fe,se;d();const A=o??dn(s==null?void 0:s.m);if(!A)return null;const H=(s==null?void 0:s.m)??{};return{source:A.source??H.o??1,parser:A.parser??H.a??0,baud:A.baud??H.b??0,parity:A.parity??H.p??3,invert:A.invert??H.i??!1,distributionSystem:A.distributionSystem??H.d??2,mainFuse:A.mainFuse??H.f??0,production:A.production??H.r??0,buffer:A.buffer??H.s??256,encrypted:A.encrypted??((j=H==null?void 0:H.e)==null?void 0:j.e)??!1,encryptionKey:A.encryptionKey??((K=H==null?void 0:H.e)==null?void 0:K.k)??"",authenticationKey:A.authenticationKey??((G=H==null?void 0:H.e)==null?void 0:G.a)??"",multipliers:{watt:((B=A.multipliers)==null?void 0:B.watt)??((z=H==null?void 0:H.m)==null?void 0:z.w)??1,volt:((ee=A.multipliers)==null?void 0:ee.volt)??((le=H==null?void 0:H.m)==null?void 0:le.v)??1,amp:((W=A.multipliers)==null?void 0:W.amp)??((x=H==null?void 0:H.m)==null?void 0:x.a)??1,kwh:((fe=A.multipliers)==null?void 0:fe.kwh)??((se=H==null?void 0:H.m)==null?void 0:se.c)??1}}}let v={};su.subscribe(A=>{l(2,v=A)});let{sysinfo:C={}}=e,{data:T={}}=e,O=!1,P=[],D=[],I="";function U(A){ul.update(H=>(H.trying=A,H))}async function Y(A){var Q,ve,Se,q;l(5,O=!0);const H=new FormData(A.target),j=new URLSearchParams;for(let y of H){const[R,F]=y;j.append(R,typeof F=="string"?F:String(F))}const K=w();K&&(j.set("m","true"),j.set("mo",String(K.source??1)),j.set("ma",String(K.parser??0)),j.set("mb",String(K.baud??0)),j.set("mp",String(K.parity??3)),j.set("mi",K.invert?"true":"false"),j.set("md",String(K.distributionSystem??2)),j.set("mf",String(K.mainFuse??0)),j.set("mr",String(K.production??0)),j.set("ms",String(K.buffer??256)),K.encrypted&&(j.set("me","true"),j.set("mek",K.encryptionKey??""),j.set("mea",K.authenticationKey??"")),j.set("mmw",String(((Q=K.multipliers)==null?void 0:Q.watt)??1)),j.set("mmv",String(((ve=K.multipliers)==null?void 0:ve.volt)??1)),j.set("mma",String(((Se=K.multipliers)==null?void 0:Se.amp)??1)),j.set("mmc",String(((q=K.multipliers)==null?void 0:q.kwh)??1))),j.set("fwa","true"),j.set("fws",j.get("fws")??"2"),j.set("fwe",j.get("fwe")??j.get("fws")??"2"),j.set("sf","1"),j.set("ulang","no");let B=await(await fetch("save",{method:"POST",body:j})).json();l(5,O=!1);const z=String(H.get("sh")??"").trim(),le=(typeof B.message=="string"?B.message:"").split("|").map(y=>y.trim()),W=le[0]??"",x=le[1]??"",fe=le[2]??"",se=W||z||C.hostname||(C!=null&&C.chipId?`ams-${C.chipId}`:"ams-reader"),ue=x||(se&&se.indexOf(".")===-1&&se.indexOf(":")===-1?`${se}.local`:se),ce=fe,te=Array.from(new Set([ce,se,ue].filter(y=>y&&y.length>0)));l(6,P=B.reboot?[...te]:[]),ul.update(y=>{y.net||(y.net={});const R=se||y.hostname||z;return y.hostname=R,(!y.upgrade||typeof y.upgrade!="object")&&(y.upgrade={x:-1,e:0,f:null,t:null,m:!1}),y.upgrade.auto=!0,y.fwconsent=1,(!y.ui||typeof y.ui!="object")&&(y.ui={}),y.ui.lang="no",fe&&(y.net.ip=fe),y.targets=[...te],y.usrcfg=B.success,y.booting=B.reboot,y});const Z=xl(ul);l(13,C=Z),B.reboot&&setTimeout(()=>rn(Z,U),5e3)}const V=[[]];function E(){I=this.__value,l(8,I)}return t.$$set=A=>{"sysinfo"in A&&l(13,C=A.sysinfo),"data"in A&&l(0,T=A.data)},t.$$.update=()=>{if(t.$$.dirty[0]&3&&T&&T.mt!==void 0&&!c&&setTimeout(()=>b(),500),t.$$.dirty[0]&1){const{level:A,label:H}=Gn(T==null?void 0:T.r);n[A]??n.off}t.$$.dirty[0]&4&&l(7,D=Array.isArray(v==null?void 0:v.n)?v.n.map(A=>{const{level:H,label:j}=Gn(A==null?void 0:A.r);return{icon:n[H]??n.off,title:j,rssi:typeof(A==null?void 0:A.r)>"u"?null:A.r}}):[])},[T,c,v,i,r,O,P,D,I,n,k,g,Y,C,E,V]}class Xm extends Et{constructor(e){super(),At(this,e,Ym,Vm,Ct,{sysinfo:13,data:0},null,[-1,-1])}}function Jm(t){let e;return{c(){e=M("Kopier til utklippstavlen")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Qm(t){let e;return{c(){e=M("Kopier mislyktes")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Zm(t){let e;return{c(){e=M("Kopiert!")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function $m(t){let e;return{c(){e=M("Kopierer…")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function xm(t){let e;return{c(){e=M("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function ep(t){let e;return{c(){e=M("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function tp(t){let e;return{c(){e=M("Lim adressen inn i nettleserens adresselinje.")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function zr(t){let e;return{c(){e=_("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",u(e,"class","text-xs text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Kr(t){let e;return{c(){e=_("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",u(e,"class","text-xs text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function lp(t){let e;return{c(){e=_("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker.",u(e,"class","text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function np(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",u(e,"class","list-decimal space-y-1 pl-5 text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function ip(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",u(e,"class","list-decimal space-y-1 pl-5 text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function sp(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",u(e,"class","list-decimal space-y-1 pl-5 text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Vr(t){let e;return{c(){e=_("div"),e.innerHTML='<p class="font-medium text-neas-green mb-3">Tips når du lukker vinduet</p> <p class="text-sm text-black">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',u(e,"class","rounded-2xl bg-neas-gray p-5 shadow-sm")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function op(t){let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D,I,U,Y,V,E,A,H,j,K,G;function B(Q,ve){return Q[5]==="pending"?$m:Q[5]==="success"?Zm:Q[5]==="error"?Qm:Jm}let z=B(t),ee=z(t);function le(Q,ve){return Q[5]==="success"?tp:Q[5]==="error"?ep:xm}let W=le(t),x=W(t),fe=t[7]&&!t[8]&&zr(),se=t[8]&&Kr();function ue(Q,ve){return Q[2]?sp:Q[3]?ip:Q[4]?np:lp}let ce=ue(t),te=ce(t),Z=t[1]&&t[6]&&Vr();return{c(){e=_("div"),l=_("div"),l.innerHTML=`<img alt="Neas logo" src="${vu}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${as}" class="w-36 h-auto hidden sm:block"/>`,n=h(),i=_("div"),s=_("div"),s.innerHTML='<h1 class="text-2xl font-semibold text-neas-green mb-2">Gå til oppsettet i nettleseren din</h1> <p class="text-sm text-black">Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.</p>',o=h(),f=_("div"),r=_("div"),c=_("p"),c.textContent="1. Kopier adressen",m=h(),d=_("p"),p=M("Adressen er "),b=_("code"),k=M(t[0]),g=M(" og virker mens du er tilkoblet "),w=_("strong"),w.textContent="NEAS-WATTUP",v=M("."),C=h(),T=_("div"),O=_("button"),ee.c(),P=h(),D=_("span"),x.c(),I=h(),fe&&fe.c(),U=h(),se&&se.c(),Y=h(),V=_("div"),E=_("p"),E.textContent="2. Åpne den i nettleseren",A=h(),H=_("div"),te.c(),j=h(),Z&&Z.c(),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(s,"class","text-center mb-8"),u(c,"class","font-medium text-neas-green mb-3"),u(b,"class","rounded bg-white px-2 py-1 font-mono text-sm text-neas-green shadow-sm"),u(d,"class","text-sm text-black mb-3"),u(O,"class","bg-neas-green hover:bg-neas-green-90 text-white font-medium py-2 px-4 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-neas-green focus:ring-offset-2"),u(D,"class","text-xs text-black"),u(T,"class","flex flex-wrap items-center gap-3"),u(r,"class","rounded-2xl bg-neas-gray p-5 shadow-sm"),u(E,"class","font-medium text-neas-green mb-3"),u(H,"class","space-y-2"),u(V,"class","rounded-2xl bg-neas-gray p-5 shadow-sm"),u(f,"class","space-y-6"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(Q,ve){N(Q,e,ve),a(e,l),a(e,n),a(e,i),a(i,s),a(i,o),a(i,f),a(f,r),a(r,c),a(r,m),a(r,d),a(d,p),a(d,b),a(b,k),a(d,g),a(d,w),a(d,v),a(r,C),a(r,T),a(T,O),ee.m(O,null),a(T,P),a(T,D),x.m(D,null),a(T,I),fe&&fe.m(T,null),a(T,U),se&&se.m(T,null),a(f,Y),a(f,V),a(V,E),a(V,A),a(V,H),te.m(H,null),a(f,j),Z&&Z.m(f,null),K||(G=be(O,"click",t[9]),K=!0)},p(Q,[ve]){ve&1&&L(k,Q[0]),z!==(z=B(Q))&&(ee.d(1),ee=z(Q),ee&&(ee.c(),ee.m(O,null))),W!==(W=le(Q))&&(x.d(1),x=W(Q),x&&(x.c(),x.m(D,null))),Q[7]&&!Q[8]?fe||(fe=zr(),fe.c(),fe.m(T,U)):fe&&(fe.d(1),fe=null),Q[8]?se||(se=Kr(),se.c(),se.m(T,null)):se&&(se.d(1),se=null),ce!==(ce=ue(Q))&&(te.d(1),te=ce(Q),te&&(te.c(),te.m(H,null))),Q[1]&&Q[6]?Z||(Z=Vr(),Z.c(),Z.m(f,null)):Z&&(Z.d(1),Z=null)},i:je,o:je,d(Q){Q&&S(e),ee.d(),x.d(),fe&&fe.d(),se&&se.d(),te.d(),Z&&Z.d(),K=!1,G()}}}function ap(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,f=!1,r=!1,c="idle",m=!1,d=!1,p=!1;bi(()=>{l(0,i=b()),k()}),vi(()=>{});function b(){const v="http://192.168.4.1/setup";try{const C=new URL(n||"/",window.location.href);return new URL("./setup",C).href}catch{return v}}function k(){if(typeof navigator>"u")return!1;const v=navigator.userAgent||"",C=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(v)&&!window.MSStream),l(3,f=/Macintosh|Mac OS X/.test(v)),l(4,r=/Android/.test(v)),l(1,s=C.some(T=>T.test(v))),l(2,o=s&&o),l(3,f=s&&f&&!o),l(4,r=s&&r),s}async function g(v){var T,O;(T=v==null?void 0:v.preventDefault)==null||T.call(v),l(5,c="pending");const C=()=>{try{const P=document.createElement("textarea");P.value=i,P.setAttribute("readonly",""),P.style.position="absolute",P.style.left="-9999px",document.body.appendChild(P),P.select();const D=document.execCommand("copy");return document.body.removeChild(P),D}catch{return!1}};try{(O=navigator.clipboard)!=null&&O.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):C()?l(5,c="success"):l(5,c="error")}catch{C()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(w(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function w(){if(!s||d)return;l(7,d=!0);let v=!1;try{window.close(),v=window.closed}catch{v=!1}if(!v)try{window.open("","_self"),window.close(),v=window.closed}catch{v=!1}if(v){l(8,p=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,p=!0)},400)}return t.$$set=v=>{"basepath"in v&&l(10,n=v.basepath)},[i,s,o,f,r,c,m,d,p,g,n]}class rp extends Et{constructor(e){super(),At(this,e,ap,op,Ct,{basepath:10})}}function fp(t){var V,E,A,H;let e,l,n,i=(((V=t[2].upload)==null?void 0:V.title)??"Upload")+"",s,o,f,r,c,m=(((E=t[2].upload)==null?void 0:E.desc)??"")+"",d,p,b,k,g,w,v,C,T=(((A=t[2].btn)==null?void 0:A.upload)??"Upload")+"",O,P,D,I,U,Y;return D=new ml({props:{active:t[3],message:((H=t[2].upload)==null?void 0:H.mask)??"Uploading"}}),{c(){e=_("div"),l=_("div"),n=_("strong"),s=M(i),o=h(),f=M(t[1]),r=h(),c=_("p"),d=M(m),p=h(),b=_("form"),k=_("input"),g=h(),w=_("div"),v=_("button"),C=_("p"),O=M(T),P=h(),Ne(D.$$.fragment),u(c,"class","mb-4"),u(k,"name","file"),u(k,"type","file"),u(C,"class","mb-4"),u(v,"type","submit"),u(v,"class","btn-pri"),u(w,"class","w-full text-right mt-4"),u(b,"action",t[0]),u(b,"enctype","multipart/form-data"),u(b,"method","post"),u(b,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(j,K){N(j,e,K),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,d),a(l,p),a(l,b),a(b,k),a(b,g),a(b,w),a(w,v),a(v,C),a(C,O),N(j,P,K),Me(D,j,K),I=!0,U||(Y=be(b,"submit",t[4]),U=!0)},p(j,[K]){var B,z,ee,le;(!I||K&4)&&i!==(i=(((B=j[2].upload)==null?void 0:B.title)??"Upload")+"")&&L(s,i),(!I||K&2)&&L(f,j[1]),(!I||K&4)&&m!==(m=(((z=j[2].upload)==null?void 0:z.desc)??"")+"")&&L(d,m),(!I||K&4)&&T!==(T=(((ee=j[2].btn)==null?void 0:ee.upload)??"Upload")+"")&&L(O,T),(!I||K&1)&&u(b,"action",j[0]);const G={};K&8&&(G.active=j[3]),K&4&&(G.message=((le=j[2].upload)==null?void 0:le.mask)??"Uploading"),D.$set(G)},i(j){I||($(D.$$.fragment,j),I=!0)},o(j){ne(D.$$.fragment,j),I=!1},d(j){j&&(S(e),S(P)),ye(D,j),U=!1,Y()}}}function up(t,e,l){let{action:n}=e,{title:i}=e,s={};Nl.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class ms extends Et{constructor(e){super(),At(this,e,up,fp,Ct,{action:0,title:1})}}function Gr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Yr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function cp(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Xr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function mp(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Jr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Zr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function $r(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function xr(t){let e,l=We(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=af(Gr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=el()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);N(i,e,s)},p(i,s){if(s[0]&1875){l=We(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Gr(i,l,o);n[o]?n[o].p(f,s):(n[o]=af(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&S(e),Gt(n,i)}}}function ef(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=M(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function tf(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=M(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function lf(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=M(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function nf(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=M(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=be(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function pp(t){let e;return{c(){e=_("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function sf(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=_("option"),n=M(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&L(n,l)},d(s){s&&S(e)}}}function _p(t){let e;return{c(){e=_("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){N(l,e,n)},p:je,d(l){l&&S(e)}}}function of(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=_("option"),n=M(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&L(n,l)},d(s){s&&S(e)}}}function af(t){var Ft,sl,Dt,Ye,Ut,Jt,gt,ft,St,Kt;let e,l,n,i,s,o,f,r=(((sl=(Ft=t[0].conf)==null?void 0:Ft.common)==null?void 0:sl.import)??"Import")+"",c,m,d=(((Ye=(Dt=t[0].conf)==null?void 0:Dt.common)==null?void 0:Ye.export)??"Export")+"",p,b,k=(((Jt=(Ut=t[0].conf)==null?void 0:Ut.price)==null?void 0:Jt.both)??"Both")+"",g,w,v,C,T=(((ft=(gt=t[0].conf)==null?void 0:gt.price)==null?void 0:ft.fixed)??"Fixed")+"",O,P,D,I,U,Y,V,E,A,H=(((St=t[0].common)==null?void 0:St.days)??"Days")+"",j,K,G,B,z,ee,le,W=(((Kt=t[0].common)==null?void 0:Kt.hours)??"Hours")+"",x,fe,se,ue,ce,te,Z,Q,ve,Se,q,y,R,F,X,oe,ie,_e,me,ae,ke,ge,Ee,qe,Ue,ze,Xe,Ze,Le,tt,re,Ce,lt,bt,mt,$e,rt;function Wt(){t[12].call(n,t[31],t[32])}function pt(){t[13].call(o,t[31],t[32])}function Lt(){t[14].call(v,t[31],t[32])}function Pt(){t[15].call(Y,t[31],t[32])}let qt=We({length:7}),et=[];for(let de=0;de<qt.length;de+=1)et[de]=ef($r(t,qt,de));let _t=We({length:8}),Pe=[];for(let de=0;de<_t.length;de+=1)Pe[de]=tf(Zr(t,_t,de));let Be=We({length:8}),Qe=[];for(let de=0;de<Be.length;de+=1)Qe[de]=lf(Qr(t,Be,de));let Je=We({length:8}),he=[];for(let de=0;de<Je.length;de+=1)he[de]=nf(Jr(t,Je,de));let De=We({length:31}),Tt=[];for(let de=0;de<De.length;de+=1)Tt[de]=pp(mp(t,De,de));function It(){t[20].call(y,t[31],t[32])}let vt=We({length:12}),He=[];for(let de=0;de<vt.length;de+=1)He[de]=sf(Xr(t,vt,de));function ut(){t[21].call(X,t[31],t[32])}let xe=We({length:31}),Ot=[];for(let de=0;de<xe.length;de+=1)Ot[de]=_p(cp(t,xe,de));function zt(){t[22].call(ae,t[31],t[32])}let Ve=We({length:12}),we=[];for(let de=0;de<Ve.length;de+=1)we[de]=of(Yr(t,Ve,de));function Te(){t[23].call(Ee,t[31],t[32])}function Ge(){return t[24](t[32])}function nt(){return t[25](t[32])}function ot(){return t[26](t[32])}function dt(){return t[27](t[32])}function Xt(){return t[28](t[32])}function jt(){return t[29](t[32])}return{c(){e=_("div"),l=_("div"),n=_("input"),i=h(),s=_("div"),o=_("select"),f=_("option"),c=M(r),m=_("option"),p=M(d),b=_("option"),g=M(k),w=h(),v=_("select"),C=_("option"),O=M(T),P=_("option"),P.textContent="+",D=_("option"),D.textContent="-",I=_("option"),I.textContent="%",U=h(),Y=_("input"),V=h(),E=_("div"),A=_("span"),j=M(H),K=M(":"),G=h(),B=_("div");for(let de=0;de<et.length;de+=1)et[de].c();z=h(),ee=_("div"),le=_("span"),x=M(W),fe=M(":"),se=h(),ue=_("div"),ce=_("div");for(let de=0;de<Pe.length;de+=1)Pe[de].c();te=h(),Z=_("div");for(let de=0;de<Qe.length;de+=1)Qe[de].c();Q=h(),ve=_("div");for(let de=0;de<he.length;de+=1)he[de].c();Se=h(),q=_("div"),y=_("select"),R=_("option"),R.textContent="-";for(let de=0;de<Tt.length;de+=1)Tt[de].c();F=h(),X=_("select"),oe=_("option"),oe.textContent="-";for(let de=0;de<He.length;de+=1)He[de].c();ie=h(),_e=_("input"),me=h(),ae=_("select"),ke=_("option"),ke.textContent="-";for(let de=0;de<Ot.length;de+=1)Ot[de].c();ge=h(),Ee=_("select"),qe=_("option"),qe.textContent="-";for(let de=0;de<we.length;de+=1)we[de].c();Ue=h(),ze=_("div"),Xe=_("span"),Xe.textContent="⇧",Ze=h(),Le=_("span"),tt=M("⇩"),Ce=h(),lt=_("span"),lt.textContent="🗑",bt=h(),mt=_("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,J(f,f.__value),m.__value=2,J(m,m.__value),b.__value=3,J(b,b.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Yt(pt),C.__value=0,J(C,C.__value),P.__value=1,J(P,P.__value),D.__value=3,J(D,D.__value),I.__value=2,J(I,I.__value),u(v,"name","rt"),u(v,"class","in-m"),t[30].t===void 0&&Yt(Lt),u(Y,"name","rv"),u(Y,"type","number"),u(Y,"class","in-l tr"),en(Y,"width","100px"),u(Y,"min","0.0001"),u(Y,"max","99.9999"),u(Y,"step","0.0001"),u(s,"class","flex mr-3"),u(A,"class","mr-2"),u(E,"class","flex flex-wrap mr-3"),u(le,"class","mr-2"),u(ee,"class","flex flex-wrap mr-3"),R.__value=0,J(R,R.__value),u(y,"name","rsd"),u(y,"class","in-f"),t[30].s.d===void 0&&Yt(It),oe.__value=0,J(oe,oe.__value),u(X,"name","rsm"),u(X,"class","in-m"),t[30].s.m===void 0&&Yt(ut),u(_e,"class","in-m"),_e.disabled=!0,_e.value="to",en(_e,"width","20px"),en(_e,"color","#888"),ke.__value=0,J(ke,ke.__value),u(ae,"name","red"),u(ae,"class","in-m"),t[30].e.d===void 0&&Yt(zt),qe.__value=0,J(qe,qe.__value),u(Ee,"name","rem"),u(Ee,"class","in-l"),t[30].e.m===void 0&&Yt(Te),u(q,"class","flex flex-wrap mr-3"),u(Xe,"class",t[32]>0?"text-green-600":"text-gray-300"),u(Le,"class",re=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(lt,"class","text-red-500 text-xs"),u(ze,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(mt,"class","m-3")},m(de,it){N(de,e,it),a(e,l),a(l,n),J(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,p),a(o,b),a(b,g),st(o,t[30].d,!0),a(s,w),a(s,v),a(v,C),a(C,O),a(v,P),a(v,D),a(v,I),st(v,t[30].t,!0),a(s,U),a(s,Y),J(Y,t[30].v),a(e,V),a(e,E),a(E,A),a(A,j),a(A,K),a(E,G),a(E,B);for(let Ke=0;Ke<et.length;Ke+=1)et[Ke]&&et[Ke].m(B,null);a(e,z),a(e,ee),a(ee,le),a(le,x),a(le,fe),a(ee,se),a(ee,ue),a(ue,ce);for(let Ke=0;Ke<Pe.length;Ke+=1)Pe[Ke]&&Pe[Ke].m(ce,null);a(ue,te),a(ue,Z);for(let Ke=0;Ke<Qe.length;Ke+=1)Qe[Ke]&&Qe[Ke].m(Z,null);a(ue,Q),a(ue,ve);for(let Ke=0;Ke<he.length;Ke+=1)he[Ke]&&he[Ke].m(ve,null);a(e,Se),a(e,q),a(q,y),a(y,R);for(let Ke=0;Ke<Tt.length;Ke+=1)Tt[Ke]&&Tt[Ke].m(y,null);st(y,t[30].s.d,!0),a(q,F),a(q,X),a(X,oe);for(let Ke=0;Ke<He.length;Ke+=1)He[Ke]&&He[Ke].m(X,null);st(X,t[30].s.m,!0),a(q,ie),a(q,_e),a(q,me),a(q,ae),a(ae,ke);for(let Ke=0;Ke<Ot.length;Ke+=1)Ot[Ke]&&Ot[Ke].m(ae,null);st(ae,t[30].e.d,!0),a(q,ge),a(q,Ee),a(Ee,qe);for(let Ke=0;Ke<we.length;Ke+=1)we[Ke]&&we[Ke].m(Ee,null);st(Ee,t[30].e.m,!0),a(e,Ue),a(e,ze),a(ze,Xe),a(ze,Ze),a(ze,Le),a(Le,tt),a(ze,Ce),a(ze,lt),N(de,bt,it),N(de,mt,it),$e||(rt=[be(n,"input",Wt),be(o,"change",pt),be(v,"change",Lt),be(Y,"input",Pt),be(y,"change",It),be(X,"change",ut),be(ae,"change",zt),be(Ee,"change",Te),be(Xe,"click",Ge),be(Xe,"keypress",nt),be(Le,"click",ot),be(Le,"keypress",dt),be(lt,"click",Xt),be(lt,"keypress",jt)],$e=!0)},p(de,it){var Ke,ol,Qt,tl,pl,al,Zt,$t,cl,Ae;if(t=de,it[0]&2&&n.value!==t[30].n&&J(n,t[30].n),it[0]&1&&r!==(r=(((ol=(Ke=t[0].conf)==null?void 0:Ke.common)==null?void 0:ol.import)??"Import")+"")&&L(c,r),it[0]&1&&d!==(d=(((tl=(Qt=t[0].conf)==null?void 0:Qt.common)==null?void 0:tl.export)??"Export")+"")&&L(p,d),it[0]&1&&k!==(k=(((al=(pl=t[0].conf)==null?void 0:pl.price)==null?void 0:al.both)??"Both")+"")&&L(g,k),it[0]&2&&st(o,t[30].d),it[0]&1&&T!==(T=((($t=(Zt=t[0].conf)==null?void 0:Zt.price)==null?void 0:$t.fixed)??"Fixed")+"")&&L(O,T),it[0]&2&&st(v,t[30].t),it[0]&2&&kt(Y.value)!==t[30].v&&J(Y,t[30].v),it[0]&1&&H!==(H=(((cl=t[0].common)==null?void 0:cl.days)??"Days")+"")&&L(j,H),it[0]&82){qt=We({length:7});let pe;for(pe=0;pe<qt.length;pe+=1){const Bt=$r(t,qt,pe);et[pe]?et[pe].p(Bt,it):(et[pe]=ef(Bt),et[pe].c(),et[pe].m(B,null))}for(;pe<et.length;pe+=1)et[pe].d(1);et.length=qt.length}if(it[0]&1&&W!==(W=(((Ae=t[0].common)==null?void 0:Ae.hours)??"Hours")+"")&&L(x,W),it[0]&66){_t=We({length:8});let pe;for(pe=0;pe<_t.length;pe+=1){const Bt=Zr(t,_t,pe);Pe[pe]?Pe[pe].p(Bt,it):(Pe[pe]=tf(Bt),Pe[pe].c(),Pe[pe].m(ce,null))}for(;pe<Pe.length;pe+=1)Pe[pe].d(1);Pe.length=_t.length}if(it[0]&66){Be=We({length:8});let pe;for(pe=0;pe<Be.length;pe+=1){const Bt=Qr(t,Be,pe);Qe[pe]?Qe[pe].p(Bt,it):(Qe[pe]=lf(Bt),Qe[pe].c(),Qe[pe].m(Z,null))}for(;pe<Qe.length;pe+=1)Qe[pe].d(1);Qe.length=Be.length}if(it[0]&66){Je=We({length:8});let pe;for(pe=0;pe<Je.length;pe+=1){const Bt=Jr(t,Je,pe);he[pe]?he[pe].p(Bt,it):(he[pe]=nf(Bt),he[pe].c(),he[pe].m(ve,null))}for(;pe<he.length;pe+=1)he[pe].d(1);he.length=Je.length}if(it[0]&2&&st(y,t[30].s.d),it[0]&1){vt=We({length:12});let pe;for(pe=0;pe<vt.length;pe+=1){const Bt=Xr(t,vt,pe);He[pe]?He[pe].p(Bt,it):(He[pe]=sf(Bt),He[pe].c(),He[pe].m(X,null))}for(;pe<He.length;pe+=1)He[pe].d(1);He.length=vt.length}if(it[0]&2&&st(X,t[30].s.m),it[0]&2&&st(ae,t[30].e.d),it[0]&1){Ve=We({length:12});let pe;for(pe=0;pe<Ve.length;pe+=1){const Bt=Yr(t,Ve,pe);we[pe]?we[pe].p(Bt,it):(we[pe]=of(Bt),we[pe].c(),we[pe].m(Ee,null))}for(;pe<we.length;pe+=1)we[pe].d(1);we.length=Ve.length}it[0]&2&&st(Ee,t[30].e.m),it[0]&2&&re!==(re=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(Le,"class",re)},d(de){de&&(S(e),S(bt),S(mt)),Gt(et,de),Gt(Pe,de),Gt(Qe,de),Gt(he,de),Gt(Tt,de),Gt(He,de),Gt(Ot,de),Gt(we,de),$e=!1,Rt(rt)}}}function dp(t){var z,ee,le,W,x,fe,se,ue,ce;let e,l,n=(((ee=(z=t[0].conf)==null?void 0:z.price)==null?void 0:ee.title)??"Price")+"",i,s,o,f,r,c,m,d,p,b,k,g,w,v=(((W=(le=t[0].conf)==null?void 0:le.price)==null?void 0:W.btn_add)??"Add")+"",C,T,O,P,D,I,U=(((x=t[0].btn)==null?void 0:x.save)??"Save")+"",Y,V,E,A,H,j,K,G,B=t[1].o&&xr(t);return E=new ml({props:{active:t[2],message:((se=(fe=t[0].conf)==null?void 0:fe.price)==null?void 0:se.mask_loading)??"Loading"}}),H=new ml({props:{active:t[3],message:((ce=(ue=t[0].conf)==null?void 0:ue.price)==null?void 0:ce.mask_saving)??"Saving"}}),{c(){e=_("div"),l=_("strong"),i=M(n),s=h(),o=_("a"),o.textContent="ⓘ",f=h(),r=_("hr"),c=h(),m=_("form"),d=_("input"),p=h(),B&&B.c(),b=h(),k=_("div"),g=_("div"),w=_("button"),C=M(v),T=h(),O=_("div"),O.innerHTML="",P=h(),D=_("div"),I=_("button"),Y=M(U),V=h(),Ne(E.$$.fragment),A=h(),Ne(H.$$.fragment),u(l,"class","text-sm"),u(o,"href",Ol("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(d,"type","hidden"),u(d,"name","r"),d.value="true",u(w,"type","button"),u(w,"class","btn-pri"),u(O,"class","text-center"),u(I,"type","submit"),u(I,"class","btn-pri"),u(D,"class","text-right"),u(k,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(te,Z){N(te,e,Z),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,p),B&&B.m(m,null),a(m,b),a(m,k),a(k,g),a(g,w),a(w,C),a(k,T),a(k,O),a(k,P),a(k,D),a(D,I),a(I,Y),N(te,V,Z),Me(E,te,Z),N(te,A,Z),Me(H,te,Z),j=!0,K||(G=[be(w,"click",t[7]),be(m,"submit",yn(t[5]))],K=!0)},p(te,Z){var Se,q,y,R,F,X,oe,ie,_e;(!j||Z[0]&1)&&n!==(n=(((q=(Se=te[0].conf)==null?void 0:Se.price)==null?void 0:q.title)??"Price")+"")&&L(i,n),te[1].o?B?B.p(te,Z):(B=xr(te),B.c(),B.m(m,b)):B&&(B.d(1),B=null),(!j||Z[0]&1)&&v!==(v=(((R=(y=te[0].conf)==null?void 0:y.price)==null?void 0:R.btn_add)??"Add")+"")&&L(C,v),(!j||Z[0]&1)&&U!==(U=(((F=te[0].btn)==null?void 0:F.save)??"Save")+"")&&L(Y,U);const Q={};Z[0]&4&&(Q.active=te[2]),Z[0]&1&&(Q.message=((oe=(X=te[0].conf)==null?void 0:X.price)==null?void 0:oe.mask_loading)??"Loading"),E.$set(Q);const ve={};Z[0]&8&&(ve.active=te[3]),Z[0]&1&&(ve.message=((_e=(ie=te[0].conf)==null?void 0:ie.price)==null?void 0:_e.mask_saving)??"Saving"),H.$set(ve)},i(te){j||($(E.$$.fragment,te),$(H.$$.fragment,te),j=!0)},o(te){ne(E.$$.fragment,te),ne(H.$$.fragment,te),j=!1},d(te){te&&(S(e),S(V),S(A)),B&&B.d(),ye(E,te),ye(H,te),K=!1,Rt(G)}}}function hp(t,e,l){let{basepath:n="/"}=e,i={};Nl.subscribe(B=>{l(0,i=B)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;du.subscribe(B=>{B.o&&(l(1,o=B),l(2,f=!1))}),T1();async function c(B){l(3,r=!0);const z=new URLSearchParams;z.append("r","true"),z.append("rc",o.o.length),o.o.forEach(function(le,W){z.append("rt"+W,le.t),z.append("rn"+W,le.n),z.append("rd"+W,le.d),z.append("ra"+W,le.a),z.append("rh"+W,le.h),z.append("rv"+W,le.v),z.append("rsm"+W,le.s.m),z.append("rsd"+W,le.s.d),z.append("rem"+W,le.e.m),z.append("red"+W,le.e.d)}),await(await fetch("save",{method:"POST",body:z})).json(),l(3,r=!1),Mn(n+"configuration")}let m=function(B,z){return B.includes(z)?B=B.filter(function(ee){return ee!==z}):B.push(z),B},d=function(){let B=o.o;B.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=B,o)},p=function(B){let z=o.o;z.splice(B,1),l(1,o.o=z,o)},b=function(B){if(B<=0)return;let z=o.o;var ee=z[B];z[B]=z[B-1],z[B-1]=ee,l(1,o.o=z,o)},k=function(B){let z=o.o;if(!(B>=z.length-1)){var ee=z[B];z[B]=z[B+1],z[B+1]=ee,l(1,o.o=z,o)}};function g(B,z){B[z].n=this.value,l(1,o)}function w(B,z){B[z].d=nl(this),l(1,o)}function v(B,z){B[z].t=nl(this),l(1,o)}function C(B,z){B[z].v=kt(this.value),l(1,o)}const T=(B,z,ee,le)=>l(1,ee[le].a=m(B.a,z),o),O=(B,z,ee,le)=>l(1,ee[le].h=m(B.h,z),o),P=(B,z,ee,le)=>l(1,ee[le].h=m(B.h,z+8),o),D=(B,z,ee,le)=>l(1,ee[le].h=m(B.h,z+16),o);function I(B,z){B[z].s.d=nl(this),l(1,o)}function U(B,z){B[z].s.m=nl(this),l(1,o)}function Y(B,z){B[z].e.d=nl(this),l(1,o)}function V(B,z){B[z].e.m=nl(this),l(1,o)}const E=B=>b(B),A=B=>b(B),H=B=>k(B),j=B=>k(B),K=B=>p(B),G=B=>p(B);return t.$$set=B=>{"basepath"in B&&l(11,n=B.basepath)},[i,o,f,r,s,c,m,d,p,b,k,n,g,w,v,C,T,O,P,D,I,U,Y,V,E,A,H,j,K,G]}class bp extends Et{constructor(e){super(),At(this,e,hp,dp,Ct,{basepath:11},null,[-1,-1])}}function rf(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function ff(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function uf(t){let e,l,n,i=We(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=cf(ff(t,i,o));return{c(){e=_("div"),e.textContent="Import",l=h(),n=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){N(o,e,f),N(o,l,f),N(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=We(o[1]);let r;for(r=0;r<i.length;r+=1){const c=ff(o,i,r);s[r]?s[r].p(c,f):(s[r]=cf(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(S(e),S(l),S(n)),Gt(s,o)}}}function cf(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,p;function b(){t[11].call(o,t[13])}return{c(){e=_("label"),l=_("span"),i=M(n),s=h(),o=_("input"),r=h(),c=_("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(k,g){N(k,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(p=be(o,"input",b),d=!0)},p(k,g){t=k,g&2&&n!==(n=t[13].name+"")&&L(i,n),g&2&&f!==(f=t[13].key)&&u(o,"name",f),g&3&&kt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(k){k&&S(e),d=!1,p()}}}function mf(t){let e,l,n,i=We(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=pf(rf(t,i,o));return{c(){e=_("div"),e.textContent="Export",l=h(),n=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){N(o,e,f),N(o,l,f),N(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=We(o[2]);let r;for(r=0;r<i.length;r+=1){const c=rf(o,i,r);s[r]?s[r].p(c,f):(s[r]=pf(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(S(e),S(l),S(n)),Gt(s,o)}}}function pf(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,p;function b(){t[12].call(o,t[13])}return{c(){e=_("label"),l=_("span"),i=M(n),s=h(),o=_("input"),r=h(),c=_("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(k,g){N(k,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(p=be(o,"input",b),d=!0)},p(k,g){t=k,g&4&&n!==(n=t[13].name+"")&&L(i,n),g&4&&f!==(f=t[13].key)&&u(o,"name",f),g&5&&kt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(k){k&&S(e),d=!1,p()}}}function vp(t){var O,P,D;let e,l,n,i,s,o,f,r,c,m,d=(((O=t[3].btn)==null?void 0:O.save)??"Save")+"",p,b,k,g,w,v,C=t[1]&&uf(t),T=t[2]&&t[4]&&mf(t);return k=new ml({props:{active:t[5],message:((D=(P=t[3].conf)==null?void 0:P.mask)==null?void 0:D.saving)??"Saving"}}),{c(){e=_("form"),l=_("div"),C&&C.c(),n=h(),T&&T.c(),i=h(),s=_("div"),o=_("div"),f=_("button"),f.textContent="Clear all",r=h(),c=_("div"),m=_("button"),p=M(d),b=h(),Ne(k.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(I,U){N(I,e,U),a(e,l),C&&C.m(l,null),a(l,n),T&&T.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,p),N(I,b,U),Me(k,I,U),g=!0,w||(v=[be(f,"click",t[6]),be(e,"submit",yn(t[7]))],w=!0)},p(I,[U]){var V,E,A;I[1]?C?C.p(I,U):(C=uf(I),C.c(),C.m(l,n)):C&&(C.d(1),C=null),I[2]&&I[4]?T?T.p(I,U):(T=mf(I),T.c(),T.m(l,i)):T&&(T.d(1),T=null),(!g||U&8)&&d!==(d=(((V=I[3].btn)==null?void 0:V.save)??"Save")+"")&&L(p,d);const Y={};U&32&&(Y.active=I[5]),U&8&&(Y.message=((A=(E=I[3].conf)==null?void 0:E.mask)==null?void 0:A.saving)??"Saving"),k.$set(Y)},i(I){g||($(k.$$.fragment,I),g=!0)},o(I){ne(k.$$.fragment,I),g=!1},d(I){I&&(S(e),S(b)),C&&C.d(),T&&T.d(),ye(k,I),w=!1,Rt(v)}}}function gp(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};Nl.subscribe(w=>{l(3,f=w)});let r=!1,c,m;async function d(){if(confirm("Clear all data?"))for(let w in i)(w.startsWith("i")||w.startsWith("e"))&&l(0,i[w]=0,i)}let p=!1;async function b(w){l(5,p=!0);const v=new FormData(w.target),C=new URLSearchParams;for(let O of v){const[P,D]=O;C.append(P,D)}await(await fetch(s,{method:"POST",body:C})).json(),l(5,p=!1),Mn(o)}function k(w){i[w.key]=kt(this.value),l(0,i)}function g(w){i[w.key]=kt(this.value),l(0,i)}return t.$$set=w=>{"prefix"in w&&l(8,n=w.prefix),"data"in w&&l(0,i=w.data),"url"in w&&l(9,s=w.url),"basepath"in w&&l(10,o=w.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let w in i){let v=[];w.startsWith("i")?v=c:w.startsWith("e")&&(v=m,i[w]&&l(4,r=!0)),v.push({key:w,name:n+" "+w.substring(1),value:i[w]})}}},[i,c,m,f,r,p,d,b,n,s,o,k,g]}class ku extends Et{constructor(e){super(),At(this,e,gp,vp,Ct,{prefix:8,data:0,url:9,basepath:10})}}function _f(t){let e,l;return e=new E0({props:{data:t[6],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function kp(t){let e,l;return e=new rp({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function wp(t){let e,l;return e=new P1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Mp(t){let e,l;return e=new hm({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function yp(t){let e,l;return e=new bp({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Sp(t){let e,l;return e=new Pm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Np(t){let e,l;return e=new ms({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:je,i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Cp(t){let e,l;return e=new ms({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:je,i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Pp(t){let e,l;return e=new ms({props:{title:"private key",action:"/mqtt-key"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:je,i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Tp(t){let e,l;return e=new Xm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Ap(t){let e,l;return e=new Im({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Ep(t){let e,l;return e=new ku({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Lp(t){let e,l;return e=new ku({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function qp(t){let e,l,n,i,s,o,f,r,c,m,d,p,b,k,g,w,v,C,T,O,P,D,I,U,Y,V=!t[9]&&_f(t);return l=new dl({props:{path:"/welcome",$$slots:{default:[kp]},$$scope:{ctx:t}}}),i=new dl({props:{path:"/",$$slots:{default:[wp]},$$scope:{ctx:t}}}),o=new dl({props:{path:"/configuration",$$slots:{default:[Mp]},$$scope:{ctx:t}}}),r=new dl({props:{path:"/priceconfig",$$slots:{default:[yp]},$$scope:{ctx:t}}}),m=new dl({props:{path:"/status",$$slots:{default:[Sp]},$$scope:{ctx:t}}}),p=new dl({props:{path:"/mqtt-ca",$$slots:{default:[Np]},$$scope:{ctx:t}}}),k=new dl({props:{path:"/mqtt-cert",$$slots:{default:[Cp]},$$scope:{ctx:t}}}),w=new dl({props:{path:"/mqtt-key",$$slots:{default:[Pp]},$$scope:{ctx:t}}}),C=new dl({props:{path:"/setup",$$slots:{default:[Tp]},$$scope:{ctx:t}}}),O=new dl({props:{path:"/vendor",$$slots:{default:[Ap]},$$scope:{ctx:t}}}),D=new dl({props:{path:"/edit-day",$$slots:{default:[Ep]},$$scope:{ctx:t}}}),U=new dl({props:{path:"/edit-month",$$slots:{default:[Lp]},$$scope:{ctx:t}}}),{c(){V&&V.c(),e=h(),Ne(l.$$.fragment),n=h(),Ne(i.$$.fragment),s=h(),Ne(o.$$.fragment),f=h(),Ne(r.$$.fragment),c=h(),Ne(m.$$.fragment),d=h(),Ne(p.$$.fragment),b=h(),Ne(k.$$.fragment),g=h(),Ne(w.$$.fragment),v=h(),Ne(C.$$.fragment),T=h(),Ne(O.$$.fragment),P=h(),Ne(D.$$.fragment),I=h(),Ne(U.$$.fragment)},m(E,A){V&&V.m(E,A),N(E,e,A),Me(l,E,A),N(E,n,A),Me(i,E,A),N(E,s,A),Me(o,E,A),N(E,f,A),Me(r,E,A),N(E,c,A),Me(m,E,A),N(E,d,A),Me(p,E,A),N(E,b,A),Me(k,E,A),N(E,g,A),Me(w,E,A),N(E,v,A),Me(C,E,A),N(E,T,A),Me(O,E,A),N(E,P,A),Me(D,E,A),N(E,I,A),Me(U,E,A),Y=!0},p(E,A){E[9]?V&&(wt(),ne(V,1,1,()=>{V=null}),Mt()):V?(V.p(E,A),A&512&&$(V,1)):(V=_f(E),V.c(),$(V,1),V.m(e.parentNode,e));const H={};A&65537&&(H.$$scope={dirty:A,ctx:E}),l.$set(H);const j={};A&66046&&(j.$$scope={dirty:A,ctx:E}),i.$set(j);const K={};A&65729&&(K.$$scope={dirty:A,ctx:E}),o.$set(K);const G={};A&65537&&(G.$$scope={dirty:A,ctx:E}),r.$set(G);const B={};A&65728&&(B.$$scope={dirty:A,ctx:E}),m.$set(B);const z={};A&65536&&(z.$$scope={dirty:A,ctx:E}),p.$set(z);const ee={};A&65536&&(ee.$$scope={dirty:A,ctx:E}),k.$set(ee);const le={};A&65536&&(le.$$scope={dirty:A,ctx:E}),w.$set(le);const W={};A&65728&&(W.$$scope={dirty:A,ctx:E}),C.$set(W);const x={};A&65665&&(x.$$scope={dirty:A,ctx:E}),O.$set(x);const fe={};A&65541&&(fe.$$scope={dirty:A,ctx:E}),D.$set(fe);const se={};A&65545&&(se.$$scope={dirty:A,ctx:E}),U.$set(se)},i(E){Y||($(V),$(l.$$.fragment,E),$(i.$$.fragment,E),$(o.$$.fragment,E),$(r.$$.fragment,E),$(m.$$.fragment,E),$(p.$$.fragment,E),$(k.$$.fragment,E),$(w.$$.fragment,E),$(C.$$.fragment,E),$(O.$$.fragment,E),$(D.$$.fragment,E),$(U.$$.fragment,E),Y=!0)},o(E){ne(V),ne(l.$$.fragment,E),ne(i.$$.fragment,E),ne(o.$$.fragment,E),ne(r.$$.fragment,E),ne(m.$$.fragment,E),ne(p.$$.fragment,E),ne(k.$$.fragment,E),ne(w.$$.fragment,E),ne(C.$$.fragment,E),ne(O.$$.fragment,E),ne(D.$$.fragment,E),ne(U.$$.fragment,E),Y=!1},d(E){E&&(S(e),S(n),S(s),S(f),S(c),S(d),S(b),S(g),S(v),S(T),S(P),S(I)),V&&V.d(E),ye(l,E),ye(i,E),ye(o,E),ye(r,E),ye(m,E),ye(p,E),ye(k,E),ye(w,E),ye(C,E),ye(O,E),ye(D,E),ye(U,E)}}}function df(t){let e,l,n,i;const s=[Op,Ip],o=[];function f(r,c){return r[7].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=el()},m(r,c){o[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(wt(),ne(o[m],1,1,()=>{o[m]=null}),Mt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),$(l,1),l.m(n.parentNode,n))},i(r){i||($(l),i=!0)},o(r){ne(l),i=!1},d(r){r&&S(n),o[e].d(r)}}}function Ip(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:je,i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Op(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){ne(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Dp(t){let e,l,n,i;l=new Kf({props:{basepath:t[0],$$slots:{default:[qp]},$$scope:{ctx:t}}});let s=t[7].booting&&df(t);return{c(){e=_("div"),Ne(l.$$.fragment),n=h(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){N(o,e,f),Me(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&66559&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,f),f&128&&$(s,1)):(s=df(o),s.c(),$(s,1),s.m(e,null)):s&&(wt(),ne(s,1,1,()=>{s=null}),Mt())},i(o){i||($(l.$$.fragment,o),$(s),i=!0)},o(o){ne(l.$$.fragment,o),ne(s),i=!1},d(o){o&&S(e),ye(l),s&&s.d()}}}function Fp(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/"),hi("no");let s;os.subscribe(T=>{l(1,s=T)});let o;eu.subscribe(T=>{l(2,o=T)});let f;tu.subscribe(T=>{l(3,f=T)});let r;lu.subscribe(T=>{l(4,r=T)});let c={};Nl.subscribe(T=>{l(5,c=T)});let m,d={},p={},b;const k=(T="")=>{if(typeof T!="string")return"/";let O=T||"/";return i&&i!=="/"&&O.startsWith(i)&&(O=O.slice(i.length),O.startsWith("/")||(O=`/${O}`)),O.startsWith("/")||(O=`/${O}`),O.length>1&&(O=O.replace(/\/+$/,"")),O||"/"};ul.subscribe(T=>{var P;l(7,p=T);const O=(()=>typeof window>"u"?"":k(window.location.pathname??"/").replace(/^\/+/,""))();if(p.vndcfg===!1){O!=="vendor"&&Mn(i+"vendor");return}if(p.usrcfg===!1){O!=="setup"&&O!=="welcome"&&Mn(i+"welcome");return}p.ui.k===1?document.documentElement.classList.add("dark"):p.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),p.ui.lang&&p.ui.lang!=((P=c==null?void 0:c.language)==null?void 0:P.code)&&hi(p.ui.lang),p.version&&b&&p.version!=b&&window.location.reload(),b=p.version,m&&clearTimeout(m),m=setTimeout(ki,!d||!d.u||d.u<30||p!=null&&p.upgrading?1e4:3e5)}),xc.subscribe(T=>{l(6,d=T),b1(T)});let g={};iu.subscribe(T=>{l(8,g=T)}),nu();let w=typeof window<"u"?k(window.location.pathname??"/"):"/";const v=(T="/")=>T==="/setup"||T==="/welcome",C=()=>{typeof window<"u"&&l(10,w=k(window.location.pathname??"/"))};return bi(()=>{C();const T=()=>C();window.addEventListener("popstate",T);const O=history.pushState,P=history.replaceState;return history.pushState=function(...D){O.apply(this,D),C()},history.replaceState=function(...D){P.apply(this,D),C()},()=>{window.removeEventListener("popstate",T),history.pushState=O,history.replaceState=P}}),vi(()=>{C()}),t.$$.update=()=>{t.$$.dirty&1024&&l(9,n=v(w))},[i,s,o,f,r,c,d,p,g,n,w]}class Rp extends Et{constructor(e){super(),At(this,e,Fp,Dp,Ct,{})}}new Rp({target:document.getElementById("app")});
