var ru=Object.defineProperty;var fu=(t,e,l)=>e in t?ru(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ki=(t,e,l)=>(fu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ue(){}function dl(t,e){for(const l in e)t[l]=e[l];return t}function Zr(t){return t()}function Ls(){return Object.create(null)}function Ot(t){t.forEach(Zr)}function Gi(t){return typeof t=="function"}function Nt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Zn;function on(t,e){return t===e?!0:(Zn||(Zn=document.createElement("a")),Zn.href=e,t===Zn.href)}function uu(t){return Object.keys(t).length===0}function Yi(t,...e){if(t==null){for(const n of e)n(void 0);return Ue}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Zl(t){let e;return Yi(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Yi(e,l))}function Ji(t,e,l,n){if(t){const i=xr(t,e,l,n);return t[0](i)}}function xr(t,e,l,n){return t[1]&&n?dl(l.ctx.slice(),t[1](n(e))):l.ctx}function Xi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let f=0;f<a;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function Qi(t,e,l,n,i,s){if(i){const a=xr(e,l,n,s);t.p(a,i)}}function Zi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function oi(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ri(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const cu=["",!0,1,"true","contenteditable"];function o(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function Qt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function g(){return w(" ")}function tl(){return w("")}function ge(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Gn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const mu=["width","height"];function vn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&mu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function ef(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function gt(t){return t===""?null:+t}function _u(t){return Array.from(t.childNodes)}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function pu(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function du(t,e,l){~cu.indexOf(l)?pu(t,e):I(t,e)}function ee(t,e){t.value=e??""}function xl(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function at(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function ll(t){const e=t.querySelector(":checked");return e&&e.__value}let xn;function hu(){if(xn===void 0){xn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{xn=!0}}return xn}function xi(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=hu();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=ge(window,"message",a=>{a.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=ge(n.contentWindow,"resize",e),e()}),o(t,n),()=>{(i||s&&n.contentWindow)&&s(),P(n)}}function Ql(t,e,l){t.classList.toggle(e,!!l)}function gu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Is(t,e){return new t(e)}let Hn;function Fn(t){Hn=t}function Yn(){if(!Hn)throw new Error("Function called outside component initialization");return Hn}function es(t){Yn().$$.on_mount.push(t)}function ts(t){Yn().$$.on_destroy.push(t)}function bu(){const t=Yn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=gu(e,l,{cancelable:n});return i.slice().forEach(a=>{a.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Yn().$$.context.set(t,e),e}function tn(t){return Yn().$$.context.get(t)}const mn=[],fi=[];let gn=[];const Ds=[],tf=Promise.resolve();let Ai=!1;function lf(){Ai||(Ai=!0,tf.then(nf))}function vu(){return lf(),tf}function Gt(t){gn.push(t)}const wi=new Set;let un=0;function nf(){if(un!==0)return;const t=Hn;do{try{for(;un<mn.length;){const e=mn[un];un++,Fn(e),ku(e.$$)}}catch(e){throw mn.length=0,un=0,e}for(Fn(null),mn.length=0,un=0;fi.length;)fi.pop()();for(let e=0;e<gn.length;e+=1){const l=gn[e];wi.has(l)||(wi.add(l),l())}gn.length=0}while(mn.length);for(;Ds.length;)Ds.pop()();Ai=!1,wi.clear(),Fn(t)}function ku(t){if(t.fragment!==null){t.update(),Ot(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Gt)}}function wu(t){const e=[],l=[];gn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),gn=e}const ii=new Set;let nn;function bt(){nn={r:0,c:[],p:nn}}function vt(){nn.r||Ot(nn.c),nn=nn.p}function J(t,e){t&&t.i&&(ii.delete(t),t.i(e))}function le(t,e,l,n){if(t&&t.o){if(ii.has(t))return;ii.add(t),nn.c.push(()=>{ii.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function sf(t,e){t.d(1),e.delete(t.key)}function af(t,e,l,n,i,s,a,f,r,c,m,d){let _=t.length,h=s.length,v=_;const y={};for(;v--;)y[t[v].key]=v;const M=[],k=new Map,T=new Map,j=[];for(v=h;v--;){const A=d(i,s,v),U=l(A);let L=a.get(U);L?n&&j.push(()=>L.p(A,e)):(L=c(U,A),L.c()),k.set(U,M[v]=L),U in y&&T.set(U,Math.abs(v-y[U]))}const F=new Set,N=new Set;function D(A){J(A,1),A.m(f,m),a.set(A.key,A),m=A.first,h--}for(;_&&h;){const A=M[h-1],U=t[_-1],L=A.key,K=U.key;A===U?(m=A.first,_--,h--):k.has(K)?!a.has(L)||F.has(L)?D(A):N.has(K)?_--:T.get(L)>T.get(K)?(N.add(L),D(A)):(F.add(K),_--):(r(U,a),_--)}for(;_--;){const A=t[_];k.has(A.key)||r(A,a)}for(;h;)D(M[h-1]);return Ot(j),M}function Ei(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],f=e[s];if(f){for(const r in a)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in a)i[r]=1}for(const a in n)a in l||(l[a]=void 0);return l}function ei(t){return typeof t=="object"&&t!==null?t:{}}function Se(t){t&&t.c()}function Me(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Gt(()=>{const s=t.$$.on_mount.map(Zr).filter(Gi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ot(s),t.$$.on_mount=[]}),i.forEach(Gt)}function ye(t,e){const l=t.$$;l.fragment!==null&&(wu(l.after_update),Ot(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Mu(t,e){t.$$.dirty[0]===-1&&(mn.push(t),lf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ct(t,e,l,n,i,s,a=null,f=[-1]){const r=Hn;Fn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ue,not_equal:i,bound:Ls(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Ls(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};a&&a(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(d,_,...h)=>{const v=h.length?h[0]:_;return c.ctx&&i(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),m&&Mu(t,d)),_}):[],c.update(),m=!0,Ot(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=_u(e.target);c.fragment&&c.fragment.l(d),d.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&J(t.$$.fragment),Me(t,e.target,e.anchor),nf()}Fn(r)}class Tt{constructor(){ki(this,"$$");ki(this,"$$set")}$destroy(){ye(this,1),this.$destroy=Ue}$on(e,l){if(!Gi(l))return Ue;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!uu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yu);const Os=t=>typeof t>"u",of=t=>typeof t=="function",rf=t=>typeof t=="number";function Su(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ff(){let t=0;return()=>t++}function Nu(){return Math.random().toString(36).substring(2)}const ql=typeof window>"u";function uf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const cf=(t,e)=>t?{}:{style:e},qi=t=>({"aria-hidden":"true",...cf(t,"display:none;")}),cn=[];function mf(t,e){return{subscribe:nl(t,e).subscribe}}function nl(t,e=Ue){let l;const n=new Set;function i(f){if(Nt(t,f)&&(t=f,l)){const r=!cn.length;for(const c of n)c[1](),cn.push(c,t);if(r){for(let c=0;c<cn.length;c+=2)cn[c][0](cn[c+1]);cn.length=0}}}function s(f){i(f(t))}function a(f,r=Ue){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||Ue),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:a}}function Pu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return mf(l,(a,f)=>{let r=!1;const c=[];let m=0,d=Ue;const _=()=>{if(m)return;d();const v=e(n?c[0]:c,a,f);s?a(v):d=Gi(v)?v:Ue},h=i.map((v,y)=>Yi(v,M=>{c[y]=M,m&=~(1<<y),r&&_()},()=>{m|=1<<y}));return r=!0,_(),function(){Ot(h),d(),r=!1}})}const Jn=t=>`@@svnav-ctx__${t}`,Li=Jn("LOCATION"),kn=Jn("ROUTER"),_f=Jn("ROUTE"),Cu=Jn("ROUTE_PARAMS"),Tu=Jn("FOCUS_ELEM"),pf=/^:(.+)/,On=(t,e,l)=>t.substr(e,l),Ii=(t,e)=>On(t,0,e.length)===e,Au=t=>t==="",Eu=t=>pf.test(t),df=t=>t[0]==="*",qu=t=>t.replace(/\*.*$/,""),hf=t=>t.replace(/(^\/+|\/+$)/g,"");function Cl(t,e=!1){const l=hf(t).split("/");return e?l.filter(Boolean):l}const Mi=(t,e)=>t+(e?`?${e}`:""),ls=t=>`/${hf(t)}`;function Xn(...t){const e=n=>Cl(n,!0).join("/"),l=t.map(e).join("/");return ls(l)}const ns=1,gi=2,rn=3,Lu=4,gf=5,Iu=6,bf=7,Du=8,Ou=9,vf=10,kf=11,Ru={[ns]:"Link",[gi]:"Route",[rn]:"Router",[Lu]:"useFocus",[gf]:"useLocation",[Iu]:"useMatch",[bf]:"useNavigate",[Du]:"useParams",[Ou]:"useResolvable",[vf]:"useResolve",[kf]:"navigate"},is=t=>Ru[t];function Fu(t,e){let l;return t===gi?l=e.path?`path="${e.path}"`:"default":t===ns?l=`to="${e.to}"`:t===rn&&(l=`basepath="${e.basepath||""}"`),`<${is(t)} ${l||""} />`}function ju(t,e,l,n){const i=l&&Fu(n||t,l),s=i?`

Occurred in: ${i}`:"",a=is(t),f=of(e)?e(a):e;return`<${a}> ${f}${s}`}const wf=t=>(...e)=>t(ju(...e)),Mf=wf(t=>{throw new Error(t)}),ui=wf(console.warn),Rs=4,Bu=3,Uu=2,Hu=1,Wu=1;function zu(t,e){const l=t.default?0:Cl(t.fullPath).reduce((n,i)=>{let s=n;return s+=Rs,Au(i)?s+=Wu:Eu(i)?s+=Uu:df(i)?s-=Rs+Hu:s+=Bu,s},0);return{route:t,score:l,index:e}}function Ku(t){return t.map(zu).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function yf(t,e){let l,n;const[i]=e.split("?"),s=Cl(i),a=s[0]==="",f=Ku(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let d=!1;const _={},h=k=>({...m,params:_,uri:k});if(m.default){n=h(e);continue}const v=Cl(m.fullPath),y=Math.max(s.length,v.length);let M=0;for(;M<y;M++){const k=v[M],T=s[M];if(!Os(k)&&df(k)){const F=k==="*"?"*":k.slice(1);_[F]=s.slice(M).map(decodeURIComponent).join("/");break}if(Os(T)){d=!0;break}const j=pf.exec(k);if(j&&!a){const F=decodeURIComponent(T);_[j[1]]=F}else if(k!==T){d=!0;break}}if(!d){l=h(Xn(...s.slice(0,M)));break}}return l||n||null}function Sf(t,e){return yf([t],e)}function $u(t,e){if(Ii(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Cl(l),a=Cl(i);if(s[0]==="")return Mi(i,n);if(!Ii(s[0],".")){const c=a.concat(s).join("/");return Mi((i==="/"?"":"/")+c,n)}const f=a.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),Mi(`/${r.join("/")}`,n)}function Fs(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,a=Cl(e,!0),f=Cl(l,!0);for(;a.length;)a[0]!==f[0]&&Mf(rn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),a.shift(),f.shift();return{pathname:Xn(...f),hash:n,search:i,state:s}}const js=t=>t.length===1?"":t,ss=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?js(On(t,l)):"",a=i?On(t,0,l):t,f=n?js(On(a,e)):"";return{pathname:(n?On(a,0,e):a)||"/",search:f,hash:s}},Vu=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function Gu(t,e,l){return Xn(l,$u(t,e))}function Yu(t,e){const l=ls(qu(t)),n=Cl(l,!0),i=Cl(e,!0).slice(0,n.length),s=Sf({fullPath:l},Xn(...i));return s&&s.uri}const yi="POP",Ju="PUSH",Xu="REPLACE";function Si(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function Qu(t){let e=[],l=Si(t),n=yi;const i=(s=e)=>s.forEach(a=>a({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const a=()=>{l=Si(t),n=yi,i([s])};i([s]);const f=uf(t,"popstate",a);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,a){const{state:f={},replace:r=!1}=a||{};if(n=r?Xu:Ju,rf(s))a&&ui(kf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=yi,t.history.go(s);else{const c={...f,_key:Nu()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Si(t),i()}}}function Ni(t,e){return{...ss(e),state:t}}function Zu(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const xu=!!(!ql&&window.document&&window.document.createElement),ec=!ql&&window.location.origin==="null",Nf=Qu(xu&&!ec?window:Zu()),{navigate:Wn}=Nf;let Tl=null,Pf=!0;function tc(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function lc(t){(!Tl||t.level>Tl.level||t.level===Tl.level&&tc(t.routerId,Tl.routerId))&&(Tl=t)}function nc(){Tl=null}function ic(){Pf=!1}function Bs(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=uf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function sc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function ac(t){return/^H[1-6]$/i.test(t.tagName)}function Us(t,e=document){return e.querySelector(t)}function oc(t){let l=Us(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!sc(l,t);){if(ac(l))return l;const n=Us("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function rc(t){Promise.resolve(Zl(t.focusElement)).then(e=>{const l=e||oc(t.id);l||ui(rn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gi),!Bs(l)&&Bs(document.documentElement)})}const fc=(t,e,l)=>(n,i)=>vu().then(()=>{if(!Tl||Pf){ic();return}if(n&&rc(Tl.route),t.announcements&&i){const{path:s,fullPath:a,meta:f,params:r,uri:c}=Tl.route,m=t.createAnnouncement({path:s,fullPath:a,meta:f,params:r,uri:c},Zl(l));Promise.resolve(m).then(d=>{e.set(d)})}nc()}),uc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function cc(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},cf(t[6],uc)],i={};for(let s=0;s<n.length;s+=1)i=dl(i,n[s]);return{c(){e=p("div"),l=w(t[0]),vn(e,i)},m(s,a){C(s,e,a),o(e,l)},p(s,a){a[0]&1&&du(l,s[0],i.contenteditable)},d(s){s&&P(e)}}}function mc(t){let e,l,n,i,s,a=[qi(t[6]),{"data-svnav-router":t[3]}],f={};for(let d=0;d<a.length;d+=1)f=dl(f,a[d]);const r=t[22].default,c=Ji(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&cc(t);return{c(){e=p("div"),l=g(),c&&c.c(),n=g(),m&&m.c(),i=tl(),vn(e,f)},m(d,_){C(d,e,_),C(d,l,_),c&&c.m(d,_),C(d,n,_),m&&m.m(d,_),C(d,i,_),s=!0},p(d,_){c&&c.p&&(!s||_[0]&2097152)&&Qi(c,r,d,d[21],s?Xi(r,d[21],_,null):Zi(d[21]),null),d[2]&&d[4]&&d[1].announcements&&m.p(d,_)},i(d){s||(J(c,d),s=!0)},o(d){le(c,d),s=!1},d(d){d&&(P(e),P(l),P(n),P(i)),c&&c.d(d),m&&m.d(d)}}}const _c=ff(),Hs="/";function pc(t,e,l){let n,i,s,a,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Hs}=e,{url:d=null}=e,{history:_=Nf}=e,{primary:h=!0}=e,{a11y:v={}}=e,{disableInlineStyles:y=!1}=e;const M={createAnnouncement:W=>`Navigated to ${W.uri}`,announcements:!0,...v},k=m,T=ls(m),j=tn(Li),F=tn(kn),N=!j,D=_c(),A=h&&!(F&&!F.manageFocus),U=nl("");Pl(t,U,W=>l(0,f=W));const L=F?F.disableInlineStyles:y,K=nl([]);Pl(t,K,W=>l(20,a=W));const O=nl(null);Pl(t,O,W=>l(18,i=W));let H=!1;const V=N?0:F.level+1,G=N?nl((()=>Fs(ql?ss(d):_.location,T))()):j;Pl(t,G,W=>l(17,n=W));const Y=nl(n);Pl(t,Y,W=>l(19,s=W));const R=fc(M,U,G),$=W=>X=>X.filter(re=>re.id!==W);function Q(W){if(ql){if(H)return;const X=Sf(W,n.pathname);if(X)return H=!0,X}else K.update(X=>{const re=$(W.id)(X);return re.push(W),re})}function te(W){K.update($(W))}return!N&&m!==Hs&&ui(rn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),N&&(es(()=>_.listen(X=>{const re=Fs(X.location,T);Y.set(n),G.set(re)})),jn(Li,G)),jn(kn,{activeRoute:O,registerRoute:Q,unregisterRoute:te,manageFocus:A,level:V,id:D,history:N?_:F.history,basepath:N?T:F.basepath,disableInlineStyles:L}),t.$$set=W=>{"basepath"in W&&l(11,m=W.basepath),"url"in W&&l(12,d=W.url),"history"in W&&l(13,_=W.history),"primary"in W&&l(14,h=W.primary),"a11y"in W&&l(15,v=W.a11y),"disableInlineStyles"in W&&l(16,y=W.disableInlineStyles),"$$scope"in W&&l(21,c=W.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==k&&ui(rn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const W=yf(a,n.pathname);O.set(W)}if(t.$$.dirty[0]&655360&&N){const W=!!n.hash,X=!W&&A,re=!W||n.pathname!==s.pathname;R(X,re)}t.$$.dirty[0]&262144&&A&&i&&i.primary&&lc({level:V,routerId:D,route:i})},[f,M,N,D,A,U,L,K,O,G,Y,m,d,_,h,v,y,n,i,s,a,c,r]}class dc extends Tt{constructor(e){super(),Ct(this,e,pc,mc,Nt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Cf=dc;function Qn(t,e,l=kn,n=rn){tn(l)||Mf(t,s=>`You cannot use ${s} outside of a ${is(n)}.`,e)}const hc=t=>{const{subscribe:e}=tn(t);return{subscribe:e}};function Tf(){return Qn(gf),hc(Li)}function Af(){const{history:t}=tn(kn);return t}function Ef(){const t=tn(_f);return t?Pu(t,e=>e.base):nl("/")}function qf(){Qn(vf);const t=Ef(),{basepath:e}=tn(kn);return n=>Gu(n,Zl(t),e)}function gc(){Qn(bf);const t=qf(),{navigate:e}=Af();return(n,i)=>{const s=rf(n)?n:t(n);return e(s,i)}}const bc=t=>({params:t&16,location:t&8}),Ws=t=>({params:ql?Zl(t[10]):t[4],location:t[3],navigate:t[11]});function zs(t){let e,l;return e=new Cf({props:{primary:t[1],$$slots:{default:[wc]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function vc(t){let e;const l=t[18].default,n=Ji(l,t,t[19],Ws);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&Qi(n,l,i,i[19],e?Xi(l,i[19],s,bc):Zi(i[19]),Ws)},i(i){e||(J(n,i),e=!0)},o(i){le(n,i),e=!1},d(i){n&&n.d(i)}}}function kc(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},ql?Zl(t[10]):t[4],t[12]];var s=t[0];function a(f,r){let c={};for(let m=0;m<i.length;m+=1)c=dl(c,i[m]);return r!==void 0&&r&7192&&(c=dl(c,Ei(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ei(ql?Zl(f[10]):f[4]),r&4096&&ei(f[12])]))),{props:c}}return s&&(e=Is(s,a(t))),{c(){e&&Se(e.$$.fragment),l=tl()},m(f,r){e&&Me(e,f,r),C(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){bt();const c=e;le(c.$$.fragment,1,0,()=>{ye(c,1)}),vt()}s?(e=Is(s,a(f,r)),Se(e.$$.fragment),J(e.$$.fragment,1),Me(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?Ei(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ei(ql?Zl(f[10]):f[4]),r&4096&&ei(f[12])]):{};e.$set(c)}},i(f){n||(e&&J(e.$$.fragment,f),n=!0)},o(f){e&&le(e.$$.fragment,f),n=!1},d(f){f&&P(l),e&&ye(e,f)}}}function wc(t){let e,l,n,i;const s=[kc,vc],a=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=a[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){a[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?a[e].p(r,c):(bt(),le(a[m],1,1,()=>{a[m]=null}),vt(),l=a[e],l?l.p(r,c):(l=a[e]=s[e](r),l.c()),J(l,1),l.m(n.parentNode,n))},i(r){i||(J(l),i=!0)},o(r){le(l),i=!1},d(r){r&&P(n),a[e].d(r)}}}function Mc(t){let e,l,n,i,s,a=[qi(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let d=0;d<a.length;d+=1)f=dl(f,a[d]);let r=t[2]&&zs(t),c=[qi(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let d=0;d<c.length;d+=1)m=dl(m,c[d]);return{c(){e=p("div"),l=g(),r&&r.c(),n=g(),i=p("div"),vn(e,f),vn(i,m)},m(d,_){C(d,e,_),C(d,l,_),r&&r.m(d,_),C(d,n,_),C(d,i,_),s=!0},p(d,[_]){d[2]?r?(r.p(d,_),_&4&&J(r,1)):(r=zs(d),r.c(),J(r,1),r.m(n.parentNode,n)):r&&(bt(),le(r,1,1,()=>{r=null}),vt())},i(d){s||(J(r),s=!0)},o(d){le(r),s=!1},d(d){d&&(P(e),P(l),P(n),P(i)),r&&r.d(d)}}}const yc=ff();function Sc(t,e,l){let n;const i=["path","component","meta","primary"];let s=ri(e,i),a,f,r,c,{$$slots:m={},$$scope:d}=e,{path:_=""}=e,{component:h=null}=e,{meta:v={}}=e,{primary:y=!0}=e;Qn(gi,e);const M=yc(),{registerRoute:k,unregisterRoute:T,activeRoute:j,disableInlineStyles:F}=tn(kn);Pl(t,j,H=>l(16,a=H));const N=Ef();Pl(t,N,H=>l(17,r=H));const D=Tf();Pl(t,D,H=>l(3,f=H));const A=nl(null);let U;const L=nl(),K=nl({});Pl(t,K,H=>l(4,c=H)),jn(_f,L),jn(Cu,K),jn(Tu,A);const O=gc();return ql||ts(()=>T(M)),t.$$set=H=>{l(24,e=dl(dl({},e),oi(H))),l(12,s=ri(e,i)),"path"in H&&l(13,_=H.path),"component"in H&&l(0,h=H.component),"meta"in H&&l(14,v=H.meta),"primary"in H&&l(1,y=H.primary),"$$scope"in H&&l(19,d=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const H=_==="",V=Xn(r,_),B={id:M,path:_,meta:v,default:H,fullPath:H?"":V,base:H?r:Yu(V,f.pathname),primary:y,focusElement:A};L.set(B),l(15,U=k(B))}if(t.$$.dirty&98304&&l(2,n=!!(U||a&&a.id===M)),t.$$.dirty&98308&&n){const{params:H}=U||a;K.set(H)}},e=oi(e),[h,y,n,f,c,M,j,F,N,D,K,O,s,_,v,U,a,r,m,d]}class Nc extends Tt{constructor(e){super(),Ct(this,e,Sc,Mc,Nt,{path:13,component:0,meta:14,primary:1})}}const al=Nc;function Pc(t){let e,l,n,i;const s=t[13].default,a=Ji(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=dl(r,f[c]);return{c(){e=p("a"),a&&a.c(),vn(e,r)},m(c,m){C(c,e,m),a&&a.m(e,null),l=!0,n||(i=ge(e,"click",t[4]),n=!0)},p(c,[m]){a&&a.p&&(!l||m&4096)&&Qi(a,s,c,c[12],l?Xi(s,c[12],m,null):Zi(c[12]),null),vn(e,r=Ei(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(J(a,c),l=!0)},o(c){le(a,c),l=!1},d(c){c&&P(e),a&&a.d(c),n=!1,i()}}}function Cc(t,e,l){let n,i,s,a,f,r;const c=["to","replace","state","getProps"];let m=ri(e,c),d,{$$slots:_={},$$scope:h}=e,{to:v}=e,{replace:y=!1}=e,{state:M={}}=e,{getProps:k=null}=e;Qn(ns,e);const T=Tf();Pl(t,T,A=>l(11,d=A));const j=bu(),F=qf(),{navigate:N}=Af();function D(A){j("click",A),Su(A)&&(A.preventDefault(),N(n,{state:M,replace:a||y}))}return t.$$set=A=>{l(19,e=dl(dl({},e),oi(A))),l(18,m=ri(e,c)),"to"in A&&l(5,v=A.to),"replace"in A&&l(6,y=A.replace),"state"in A&&l(7,M=A.state),"getProps"in A&&l(8,k=A.getProps),"$$scope"in A&&l(12,h=A.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=F(v,d)),t.$$.dirty&2049&&l(10,i=Ii(d.pathname,n)),t.$$.dirty&2049&&l(9,s=n===d.pathname),t.$$.dirty&2049&&(a=ss(n)===Vu(d)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(of(k)){const A=k({location:d,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...A}}return m})())},e=oi(e),[n,r,f,T,D,v,y,M,k,s,i,d,h,_]}class Tc extends Tt{constructor(e){super(),Ct(this,e,Cc,Pc,Nt,{to:5,replace:6,state:7,getProps:8})}}const Ml=Tc;function ti(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Ac(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function as(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function zn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function ci(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function ft(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Kn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function mi(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Bn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function zt(t,e){return t==1||t==2&&e}function Il(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Ut(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Ll(t,e){return t.setTime(t.getTime()+e*36e5),t}function Ec(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function qc(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Ks=0;function bn(t,e){Ks++;const l=Lc(t);if(!l.length){e&&e(""),setTimeout(bn,1500,t,e);return}const n=l[(Ks-1)%l.length];if(!n){setTimeout(bn,1e3,t,e);return}const i=Ic(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(bn,1e3,t,e)},a=new XMLHttpRequest;a.timeout=5e3,a.addEventListener("abort",s),a.addEventListener("error",s),a.addEventListener("timeout",s),a.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";a.open("GET",f,!0),a.send()}function Lc(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const a=s.toString().trim();a&&(i.includes(a)||i.push(a))}return i}function Ic(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function el(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $s(t){return t.startsWith("esp32")?"esp32":t}function fl(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function $n(t,e){let l=[Ut(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Ut(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let en="[\\x20-\\x7E]+",_i="[\\x20-\\xFF]+",pi="[A-Za-z0-9_\\-]+",Lf="[0-9A-Fa-f]+",Dn="[0-9]+",si={},Di=[];async function Dc(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function If(){if(Di.length){let t=Di.shift();delete si[t.resource];try{let e=await Dc(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(If,100)}If();async function yl(t,e={}){let l;return si[t]?l=si[t]:(l={resource:t,options:e,callbacks:[]},si[t]=l,Di.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function bi(){Nl=await(await yl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),pl.set(Nl)}const pl=nl(Nl,t=>(bi(),function(){}));function Oc(t){pl.update(e=>(e.trying=t,e))}let Un={c:-1,n:[]};const Vs=new Map;let Rc=0,sn=null,di=!1,pn=null,ai=null;async function Fc(){try{const e=await(await yl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let a=Vs.get(s.s);a===void 0&&(a=Rc++,Vs.set(s.s,a)),l.set(s.s,{...s,_order:a})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);Un={c:n.length,n},pn&&pn(Un)}catch{Un.c<0&&pn&&pn({c:-1,n:[]})}finally{ai=null}}function jc(){return ai||(ai=Fc()),ai}function Df(t=0){di&&(sn&&clearTimeout(sn),sn=setTimeout(()=>{sn=null,jc()},Math.max(0,t)))}let li=0,Gs=-127,Ys=null,Bc={};const Uc=mf(Bc,t=>{let e,l,n=!1;async function i(){yl("data.json").then(s=>s.json()).then(s=>{t(s),Gs!=s.t&&(Gs=s.t,setTimeout(Hc,2e3)),Ys==null&&s.pe&&s.p!=null&&(Ys=s.p,Rf()),(!Nl||!Nl.chip||Nl.booting||li>1&&!Bn(Nl.board))&&(bi(),Al&&clearTimeout(Al),Al=setTimeout(Fi,2e3),El&&clearTimeout(El),El=setTimeout(Bi,3e3)),s.u,Al||(Al=Fi()),El||(El=Bi());let a=5e3;if(Bn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(a=Math.max(f,.1)*10*5e3)}a>5e3&&console.log("Next in "+a+"ms"),e&&clearTimeout(e),e=setTimeout(i,a),li=0,di&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Df(0)}))}).catch(s=>{li++,li>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(bn,5e3,Nl,Oc))):e=setTimeout(i,Bn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Oi={},Rn;const os=nl(Oi);async function Of(){let t=!1;os.update(e=>{for(var l=0;l<36;l++){if(e[ft(l)]==null){t=l<12;break}e[ft(l)]=e[ft(l+1)]}return e}),t?Rf():Rn=setTimeout(Of,(60-new Date().getMinutes())*6e4)}async function Rf(){Rn&&(clearTimeout(Rn),Rn=0),Oi=await(await yl("energyprice.json")).json(),os.set(Oi),Rn=setTimeout(Of,(60-new Date().getMinutes())*6e4)}let Ri={},Al;async function Fi(){Al&&(clearTimeout(Al),Al=0),Ri=await(await yl("dayplot.json")).json(),Ff.set(Ri),Al=setTimeout(Fi,(60-new Date().getMinutes())*6e4+20)}const Ff=nl(Ri,t=>function(){});let ji={},El;async function Bi(){El&&(clearTimeout(El),El=0),ji=await(await yl("monthplot.json")).json(),jf.set(ji),El=setTimeout(Bi,(24-new Date().getHours())*36e5+40)}const jf=nl(ji,t=>function(){});let Ui={};async function Hc(){Ui=await(await yl("temperature.json")).json(),Bf.set(Ui)}const Bf=nl(Ui,t=>function(){});let Hi={},ni;async function Uf(){ni&&(clearTimeout(ni),ni=0),Hi=await(await yl("tariff.json")).json(),Hf.set(Hi),ni=setTimeout(Uf,(60-new Date().getMinutes())*6e4+30)}const Hf=nl(Hi,t=>function(){}),Wf=nl(Un,t=>(pn=t,di=!0,t(Un),Df(0),function(){di=!1,pn=null,sn&&(clearTimeout(sn),sn=null)}));let Wi=!1;const Sl=nl(Wi);async function hi(t){Wi=await(await yl("translations.json"+(t?"?lang="+t:""))).json(),Sl.set(Wi)}hi();const rs="/neas_logotype_white.svg",zf="/wifi-low-light.svg",Kf="/wifi-medium-light.svg",$f="/wifi-high-light.svg",Vf="/wifi-off-light.svg";function Js(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function Gf(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Xs(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?Yc:c[2]>0?Gc:c[3]>1?Vc:c[3]>0?$c:c[4]>1?Kc:c[4]>0?zc:Wc}let a=s(t),f=a(t);return{c(){l=w(e),n=g(),f.c(),i=tl()},m(c,m){C(c,l,m),C(c,n,m),f.m(c,m),C(c,i,m)},p(c,m){var d;m&2&&e!==(e=(((d=c[1].header)==null?void 0:d.uptime)??"Up")+"")&&I(l,e),a===(a=s(c))&&f?f.p(c,m):(f.d(1),f=a(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(P(l),P(n),P(i)),f.d(c)}}}function Wc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=w(t[0]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&1&&I(e,a[0]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.seconds)??"s")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function zc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=w(t[4]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&16&&I(e,a[4]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.minute)??"m")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function Kc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=w(t[4]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&16&&I(e,a[4]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.minutes)??"m")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function $c(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=w(t[3]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&8&&I(e,a[3]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.hour)??"h")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function Vc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=w(t[3]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&8&&I(e,a[3]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.hours)??"h")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function Gc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=w(t[2]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&4&&I(e,a[2]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.day)??"d")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function Yc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=w(t[2]),l=g(),i=w(n)},m(a,f){C(a,e,f),C(a,l,f),C(a,i,f)},p(a,f){var r;f&4&&I(e,a[2]),f&2&&n!==(n=(((r=a[1].common)==null?void 0:r.days)??"d")+"")&&I(i,n)},d(a){a&&(P(e),P(l),P(i))}}}function Jc(t){let e,l=t[0]&&Xs(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Xs(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(n){n&&P(e),l&&l.d(n)}}}function Xc(t,e,l){let{epoch:n}=e,i={};Sl.subscribe(r=>{l(1,i=r)});let s=0,a=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,a=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,a,f]}class Qc extends Tt{constructor(e){super(),Ct(this,e,Xc,Jc,Nt,{epoch:0})}}function Zc(t){let e,l,n;return{c(){e=p("span"),l=w(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),o(e,l)},p(i,[s]){s&4&&I(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:Ue,o:Ue,d(i){i&&P(e)}}}function xc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=a=>{"color"in a&&l(0,n=a.color),"title"in a&&l(1,i=a.title),"text"in a&&l(2,s=a.text)},[n,i,s]}class Vn extends Tt{constructor(e){super(),Ct(this,e,xc,Zc,Nt,{color:0,title:1,text:2})}}function e0(t){let e,l=`${ft(t[0].getDate())}.${ft(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ft(t[0].getHours())}:${ft(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=w(l),u(e,"class",t[1])},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=`${ft(i[0].getDate())}.${ft(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ft(i[0].getHours())}:${ft(i[0].getMinutes())}`)&&I(n,l),s&2&&u(e,"class",i[1])},d(i){i&&P(e)}}}function t0(t){var n;let e=`${ft(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:ft(t[0].getMonth()+1)} ${ft(t[0].getHours())}:${ft(t[0].getMinutes())}`,l;return{c(){l=w(e)},m(i,s){C(i,l,s)},p(i,s){var a;s&5&&e!==(e=`${ft(i[0].getDate())}. ${i[2].months?(a=i[2].months)==null?void 0:a[i[0].getMonth()]:ft(i[0].getMonth()+1)} ${ft(i[0].getHours())}:${ft(i[0].getMinutes())}`)&&I(l,e)},d(i){i&&P(l)}}}function l0(t){let e;function l(s,a){return s[3]?t0:e0}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,a){i.m(s,a),C(s,e,a)},p(s,[a]){n===(n=l(s))&&i?i.p(s,a):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ue,o:Ue,d(s){s&&P(e),i.d(s)}}}function n0(t,e,l){let n={};Sl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:a}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,a=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(a)||Ll(i,a-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,a]}class Yf extends Tt{constructor(e){super(),Ct(this,e,n0,l0,Nt,{timestamp:0,fullTimeColor:1,offset:4})}}function i0(t){let e,l,n;return{c(){e=ut("svg"),l=ut("path"),n=ut("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){C(i,e,s),o(e,l),o(e,n)},p:Ue,i:Ue,o:Ue,d(i){i&&P(e)}}}class s0 extends Tt{constructor(e){super(),Ct(this,e,null,i0,Nt,{})}}function a0(t){let e,l;return{c(){e=ut("svg"),l=ut("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){C(n,e,i),o(e,l)},p:Ue,i:Ue,o:Ue,d(n){n&&P(e)}}}class o0 extends Tt{constructor(e){super(),Ct(this,e,null,a0,Nt,{})}}function r0(t){let e,l;return{c(){e=p("img"),u(e,"class","w-36 h-auto"),u(e,"alt","Neas logo"),on(e.src,l=rs)||u(e,"src",l)},m(n,i){C(n,e,i)},p:Ue,d(n){n&&P(e)}}}function Qs(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=w(l),i=w("°C"),u(e,"class","flex-none my-auto")},m(s,a){C(s,e,a),o(e,n),o(e,i)},p(s,a){a&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&I(n,l)},d(s){s&&P(e)}}}function Zs(t){var i,s,a;let e,l=(((i=t[6].header)==null?void 0:i.han)??"Han-port")+": "+(((a=(s=t[6].errors)==null?void 0:s.han)==null?void 0:a[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),o(e,n)},p(f,r){var c,m,d;r&65&&l!==(l=(((c=f[6].header)==null?void 0:c.han)??"Han-port")+": "+(((d=(m=f[6].errors)==null?void 0:m.han)==null?void 0:d[f[0].he])??f[0].he))&&I(n,l)},d(f){f&&P(e)}}}function xs(t){var i,s,a;let e,l=(((i=t[6].header)==null?void 0:i.mqtt)??"Minside")+": "+(((a=(s=t[6].errors)==null?void 0:s.mqtt)==null?void 0:a[t[0].me])??t[0].me),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),o(e,n)},p(f,r){var c,m,d;r&65&&l!==(l=(((c=f[6].header)==null?void 0:c.mqtt)??"Minside")+": "+(((d=(m=f[6].errors)==null?void 0:m.mqtt)==null?void 0:d[f[0].me])??f[0].me))&&I(n,l)},d(f){f&&P(e)}}}function ea(t){var i,s,a;let e,l=(((i=t[6].header)==null?void 0:i.price)??"PS")+": "+(((a=(s=t[6].errors)==null?void 0:s.price)==null?void 0:a[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),o(e,n)},p(f,r){var c,m,d;r&65&&l!==(l=(((c=f[6].header)==null?void 0:c.price)??"PS")+": "+(((d=(m=f[6].errors)==null?void 0:m.price)==null?void 0:d[f[0].ee])??f[0].ee))&&I(n,l)},d(f){f&&P(e)}}}function ta(t){let e,l,n,i,s,a,f,r;return l=new Ml({props:{to:"/configuration",$$slots:{default:[f0]},$$scope:{ctx:t}}}),a=new Ml({props:{to:"/status",$$slots:{default:[u0]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),Se(l.$$.fragment),i=g(),s=p("div"),Se(a.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[6].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[6].header)==null?void 0:m.status)??"")},m(c,m){C(c,e,m),Me(l,e,null),C(c,i,m),C(c,s,m),Me(a,s,null),r=!0},p(c,m){var h,v;const d={};m&1024&&(d.$$scope={dirty:m,ctx:c}),l.$set(d),(!r||m&64&&n!==(n=((h=c[6].header)==null?void 0:h.config)??""))&&u(e,"title",n);const _={};m&1024&&(_.$$scope={dirty:m,ctx:c}),a.$set(_),(!r||m&64&&f!==(f=((v=c[6].header)==null?void 0:v.status)??""))&&u(s,"title",f)},i(c){r||(J(l.$$.fragment,c),J(a.$$.fragment,c),r=!0)},o(c){le(l.$$.fragment,c),le(a.$$.fragment,c),r=!1},d(c){c&&(P(e),P(i),P(s)),ye(l),ye(a)}}}function f0(t){let e,l;return e=new s0({}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function u0(t){let e,l;return e=new o0({}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function c0(t){let e,l;function n(a,f){return a[2].security==0||a[0].a?p0:_0}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","flex-none mr-3 my-auto"),u(e,"title",l="Ny oppdatering: "+t[2].upgrade.n)},m(a,f){C(a,e,f),s.m(e,null)},p(a,f){i===(i=n(a))&&s?s.p(a,f):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null))),f&4&&l!==(l="Ny oppdatering: "+a[2].upgrade.n)&&u(e,"title",l)},d(a){a&&P(e),s.d()}}}function m0(t){let e,l,n,i,s,a,f,r=t[2].upgrade.t+"",c,m,d=t[5].toFixed(1)+"",_,h;return{c(){e=p("div"),l=p("div"),n=p("div"),i=p("div"),i.innerHTML='<svg class="animate-spin text-neas-lightgreen-70" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',s=g(),a=p("span"),f=w("Oppdaterer til "),c=w(r),m=w(", "),_=w(d),h=w("%"),u(i,"class","w-4 h-4"),u(a,"class","text-sm font-medium text-neas-lightgreen-70"),u(n,"class","flex items-center gap-2"),u(l,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm"),u(e,"class","flex-none mr-3 my-auto")},m(v,y){C(v,e,y),o(e,l),o(l,n),o(n,i),o(n,s),o(n,a),o(a,f),o(a,c),o(a,m),o(a,_),o(a,h)},p(v,y){y&4&&r!==(r=v[2].upgrade.t+"")&&I(c,r),y&32&&d!==(d=v[5].toFixed(1)+"")&&I(_,d)},d(v){v&&P(e)}}}function _0(t){let e,l,n,i,s,a="Ny oppdatering",f,r,c=t[2].upgrade.n+"",m;return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=g(),s=p("span"),f=w(a),r=w(": "),m=w(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm")},m(d,_){C(d,e,_),o(e,l),o(l,n),o(l,i),o(l,s),o(s,f),o(s,r),o(s,m)},p(d,_){_&4&&c!==(c=d[2].upgrade.n+"")&&I(m,c)},d(d){d&&P(e)}}}function p0(t){let e,l,n,i,s,a="Ny oppdatering",f,r,c=t[2].upgrade.n+"",m,d,_;return{c(){e=p("button"),l=p("div"),n=p("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>',i=g(),s=p("span"),f=w(a),r=w(": "),m=w(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 hover:bg-neas-lightgreen-50/30 border border-neas-lightgreen-70/30 hover:border-neas-lightgreen-70/50 rounded-full px-4 py-2 backdrop-blur-sm transition-all duration-200 hover:shadow-sm")},m(h,v){C(h,e,v),o(e,l),o(l,n),o(l,i),o(l,s),o(s,f),o(s,r),o(s,m),d||(_=ge(e,"click",t[7]),d=!0)},p(h,v){v&4&&c!==(c=h[2].upgrade.n+"")&&I(m,c)},d(h){h&&P(e),d=!1,_()}}}function d0(t){let e,l,n,i,s,a,f,r,c,m,d,_,h,v,y,M,k,T,j,F,N,D,A,U,L,K,O,H;i=new Ml({props:{to:t[1]?"/":"/dashboard",class:"flex items-center",$$slots:{default:[r0]},$$scope:{ctx:t}}}),r=new Qc({props:{epoch:t[0].u}});let V=t[0].t>-50&&Qs(t);_=new Vn({props:{title:"Han-port",text:"Han-port",color:ti(t[2].booting?9:t[0].hm)}}),v=new Vn({props:{title:"Minside",text:"Minside",color:ti(t[2].booting?9:t[0].mm)}});let B=(t[0].he<0||t[0].he>0)&&Zs(t),G=t[0].me<0&&xs(t),Y=(t[0].ee>0||t[0].ee<0)&&ea(t);L=new Yf({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[2].clock_offset,fullTimeColor:"text-red-500"}});let R=t[2].usrcfg&&ta(t);function $(W,X){if(W[2].upgrading)return m0;if(W[2].fwconsent===1&&W[2].upgrade.n)return c0}let Q=$(t),te=Q&&Q(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),Se(i.$$.fragment),s=g(),a=p("div"),f=p("div"),Se(r.$$.fragment),c=g(),V&&V.c(),m=g(),d=p("div"),Se(_.$$.fragment),h=g(),Se(v.$$.fragment),y=g(),B&&B.c(),M=g(),G&&G.c(),k=g(),Y&&Y.c(),T=g(),j=p("div"),F=p("div"),N=p("img"),A=g(),U=p("div"),Se(L.$$.fragment),K=g(),R&&R.c(),O=g(),te&&te.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(a,"class","flex-none my-auto p-2 flex space-x-4"),u(d,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(N,"class","h-10 w-10"),on(N.src,D=t[3])||u(N,"src",D),u(N,"alt",t[4]),u(F,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(U,"class","flex-none my-auto px-2"),u(j,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(W,X){C(W,e,X),o(e,l),o(l,n),Me(i,n,null),o(l,s),o(l,a),o(a,f),Me(r,f,null),o(a,c),V&&V.m(a,null),o(l,m),o(l,d),Me(_,d,null),o(d,h),Me(v,d,null),o(l,y),B&&B.m(l,null),o(l,M),G&&G.m(l,null),o(l,k),Y&&Y.m(l,null),o(l,T),o(l,j),o(j,F),o(F,N),o(j,A),o(j,U),Me(L,U,null),o(j,K),R&&R.m(j,null),o(j,O),te&&te.m(j,null),H=!0},p(W,[X]){const re={};X&2&&(re.to=W[1]?"/":"/dashboard"),X&1024&&(re.$$scope={dirty:X,ctx:W}),i.$set(re);const fe={};X&1&&(fe.epoch=W[0].u),r.$set(fe),W[0].t>-50?V?V.p(W,X):(V=Qs(W),V.c(),V.m(a,null)):V&&(V.d(1),V=null);const oe={};X&5&&(oe.color=ti(W[2].booting?9:W[0].hm)),_.$set(oe);const _e={};X&5&&(_e.color=ti(W[2].booting?9:W[0].mm)),v.$set(_e),W[0].he<0||W[0].he>0?B?B.p(W,X):(B=Zs(W),B.c(),B.m(l,M)):B&&(B.d(1),B=null),W[0].me<0?G?G.p(W,X):(G=xs(W),G.c(),G.m(l,k)):G&&(G.d(1),G=null),W[0].ee>0||W[0].ee<0?Y?Y.p(W,X):(Y=ea(W),Y.c(),Y.m(l,T)):Y&&(Y.d(1),Y=null),(!H||X&8&&!on(N.src,D=W[3]))&&u(N,"src",D),(!H||X&16)&&u(N,"alt",W[4]);const ne={};X&1&&(ne.timestamp=W[0].c?new Date(W[0].c*1e3):new Date(0)),X&4&&(ne.offset=W[2].clock_offset),L.$set(ne),W[2].usrcfg?R?(R.p(W,X),X&4&&J(R,1)):(R=ta(W),R.c(),J(R,1),R.m(j,O)):R&&(bt(),le(R,1,1,()=>{R=null}),vt()),Q===(Q=$(W))&&te?te.p(W,X):(te&&te.d(1),te=Q&&Q(W),te&&(te.c(),te.m(j,null)))},i(W){H||(J(i.$$.fragment,W),J(r.$$.fragment,W),J(_.$$.fragment,W),J(v.$$.fragment,W),J(L.$$.fragment,W),J(R),H=!0)},o(W){le(i.$$.fragment,W),le(r.$$.fragment,W),le(_.$$.fragment,W),le(v.$$.fragment,W),le(L.$$.fragment,W),le(R),H=!1},d(W){W&&P(e),ye(i),ye(r),V&&V.d(),ye(_),ye(v),B&&B.d(),G&&G.d(),Y&&Y.d(),ye(L),R&&R.d(),te&&te.d()}}}function h0(t,e,l){const n={high:$f,medium:Kf,low:zf,off:Vf};let i=n.off,s="Wi-Fi offline";const a="/";let{data:f={}}=e,{developerMode:r=!1}=e,c={};function m(){confirm("Oppdater til {0}?".replace("{0}",c.upgrade.n))&&(Gf(c.upgrade.n),pl.update(h=>(h.upgrade.t=c.upgrade.n,h.upgrade.p=0,h.upgrading=!0,h)))}let d;pl.subscribe(h=>{l(2,c=h)});let _={};return Sl.subscribe(h=>{l(6,_=h)}),t.$$set=h=>{"data"in h&&l(0,f=h.data),"developerMode"in h&&l(1,r=h.developerMode)},t.$$.update=()=>{if(t.$$.dirty&4&&l(5,d=Math.max(0,c.upgrade.p)),t.$$.dirty&1){const{level:h,label:v}=Kn(f==null?void 0:f.r);l(3,i=n[h]??n.off),l(4,s=v)}},[f,r,c,i,s,d,_,m,a]}class g0 extends Tt{constructor(e){super(),Ct(this,e,h0,d0,Nt,{basepath:8,data:0,developerMode:1})}get basepath(){return this.$$.ctx[8]}}function b0(t){let e,l,n,i;return{c(){e=ut("svg"),l=ut("path"),n=ut("path"),u(l,"d",Ci(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ci(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,a){C(s,e,a),o(e,l),o(e,n)},p(s,[a]){a&1&&i!==(i=Ci(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),a&2&&u(n,"stroke",s[1])},i:Ue,o:Ue,d(s){s&&P(e)}}}function la(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ci(t,e,l,n,i){var s=la(t,e,l,i),a=la(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,a.x,a.y].join(" ");return r}function v0(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class k0 extends Tt{constructor(e){super(),Ct(this,e,v0,b0,Nt,{pct:0,color:1})}}function na(t){let e,l,n,i=t[1][0]+"",s,a,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=g(),n=p("span"),s=w(i),a=g(),f=p("span"),c=w(r),m=w("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(d,_){C(d,e,_),C(d,l,_),C(d,n,_),o(n,s),C(d,a,_),C(d,f,_),o(f,c),o(f,m)},p(d,_){_&2&&i!==(i=d[1][0]+"")&&I(s,i),_&2&&r!==(r=d[1][1]+"")&&I(c,r)},d(d){d&&(P(e),P(l),P(n),P(a),P(f))}}}function w0(t){let e,l,n,i,s,a,f,r,c,m,d=t[3][0]+"",_,h,v,y=t[3][1]+"",M,k,T;l=new k0({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let j=t[1]&&na(t);return{c(){e=p("div"),Se(l.$$.fragment),n=g(),i=p("span"),s=p("span"),a=w(t[0]),f=g(),r=p("br"),c=g(),m=p("span"),_=w(d),h=g(),v=p("span"),M=w(y),k=g(),j&&j.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(v,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(F,N){C(F,e,N),Me(l,e,null),o(e,n),o(e,i),o(i,s),o(s,a),o(i,f),o(i,r),o(i,c),o(i,m),o(m,_),o(i,h),o(i,v),o(v,M),o(i,k),j&&j.m(i,null),T=!0},p(F,[N]){const D={};N&16&&(D.pct=F[4]),N&20&&(D.color=F[2](F[4],document.documentElement.classList.contains("dark"))),l.$set(D),(!T||N&1)&&I(a,F[0]),(!T||N&8)&&d!==(d=F[3][0]+"")&&I(_,d),(!T||N&8)&&y!==(y=F[3][1]+"")&&I(M,y),F[1]?j?j.p(F,N):(j=na(F),j.c(),j.m(i,null)):j&&(j.d(1),j=null)},i(F){T||(J(l.$$.fragment,F),T=!0)},o(F){le(l.$$.fragment,F),T=!1},d(F){F&&P(e),ye(l),j&&j.d()}}}function M0(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:a}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=d=>{"val"in d&&l(5,n=d.val),"max"in d&&l(6,i=d.max),"unit"in d&&l(7,s=d.unit),"label"in d&&l(0,a=d.label),"sub"in d&&l(1,f=d.sub),"colorFn"in d&&l(2,r=d.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=fl(n,s)),l(4,m=Math.min(n,i)/i*100))},[a,f,r,c,m,n,i,s]}class Jf extends Tt{constructor(e){super(),Ct(this,e,M0,w0,Nt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function ia(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function sa(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function aa(t,e,l){const n=t.slice();return n[15]=e[l],n}function oa(t){let e,l,n,i,s,a,f,r=(t[0].title||t[0].link)&&ra(t),c=Ye(t[0].y.ticks),m=[];for(let y=0;y<c.length;y+=1)m[y]=ma(aa(t,c,y));let d=Ye(t[0].x.ticks),_=[];for(let y=0;y<d.length;y+=1)_[y]=da(sa(t,d,y));let h=Ye(t[0].points),v=[];for(let y=0;y<h.length;y+=1)v[y]=ya(ia(t,h,y));return{c(){r&&r.c(),e=g(),l=ut("svg"),n=ut("g");for(let y=0;y<m.length;y+=1)m[y].c();i=ut("g");for(let y=0;y<_.length;y+=1)_[y].c();s=ut("g");for(let y=0;y<v.length;y+=1)v[y].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",a="0 0 "+t[1]+" "+t[4])},m(y,M){r&&r.m(y,M),C(y,e,M),C(y,l,M),o(l,n);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(n,null);o(l,i);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(i,null);o(l,s);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(s,null);f=!0},p(y,M){if(y[0].title||y[0].link?r?(r.p(y,M),M&1&&J(r,1)):(r=ra(y),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(bt(),le(r,1,1,()=>{r=null}),vt()),M&129){c=Ye(y[0].y.ticks);let k;for(k=0;k<c.length;k+=1){const T=aa(y,c,k);m[k]?m[k].p(T,M):(m[k]=ma(T),m[k].c(),m[k].m(n,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=c.length}if(M&89){d=Ye(y[0].x.ticks);let k;for(k=0;k<d.length;k+=1){const T=sa(y,d,k);_[k]?_[k].p(T,M):(_[k]=da(T),_[k].c(),_[k].m(i,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=d.length}if(M&457){h=Ye(y[0].points);let k;for(k=0;k<h.length;k+=1){const T=ia(y,h,k);v[k]?v[k].p(T,M):(v[k]=ya(T),v[k].c(),v[k].m(s,null))}for(;k<v.length;k+=1)v[k].d(1);v.length=h.length}(!f||M&18&&a!==(a="0 0 "+y[1]+" "+y[4]))&&u(l,"viewBox",a)},i(y){f||(J(r),f=!0)},o(y){le(r),f=!1},d(y){y&&(P(e),P(l)),r&&r.d(y),Qt(m,y),Qt(_,y),Qt(v,y)}}}function ra(t){let e,l,n,i=t[0].title&&fa(t),s=t[0].link&&ua(t);return{c(){e=p("div"),i&&i.c(),l=g(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(a,f){C(a,e,f),i&&i.m(e,null),o(e,l),s&&s.m(e,null),n=!0},p(a,f){a[0].title?i?i.p(a,f):(i=fa(a),i.c(),i.m(e,l)):i&&(i.d(1),i=null),a[0].link?s?(s.p(a,f),f&1&&J(s,1)):(s=ua(a),s.c(),J(s,1),s.m(e,null)):s&&(bt(),le(s,1,1,()=>{s=null}),vt())},i(a){n||(J(s),n=!0)},o(a){le(s),n=!1},d(a){a&&P(e),i&&i.d(),s&&s.d()}}}function fa(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm font-bold"),Gt(()=>t[9].call(e))},m(s,a){C(s,e,a),o(e,n),i=xi(e,t[9].bind(e))},p(s,a){a&1&&l!==(l=s[0].title+"")&&I(n,l)},d(s){s&&P(e),i()}}}function ua(t){let e,l,n,i;const s=[S0,y0],a=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=a[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){C(r,e,c),a[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?a[l].p(r,c):(bt(),le(a[m],1,1,()=>{a[m]=null}),vt(),n=a[l],n?n.p(r,c):(n=a[l]=s[l](r),n.c()),J(n,1),n.m(e,null))},i(r){i||(J(n),i=!0)},o(r){le(n),i=!1},d(r){r&&P(e),a[l].d()}}}function y0(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=w(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(a,f){C(a,e,f),o(e,n)},p(a,f){f&1&&l!==(l=a[0].link.text+"")&&I(n,l),f&1&&i!==(i=a[0].link.url)&&u(e,"href",i),f&1&&s!==(s=a[0].link.target)&&u(e,"target",s)},i:Ue,o:Ue,d(a){a&&P(e)}}}function S0(t){let e,l;return e=new Ml({props:{to:t[0].link.url,$$slots:{default:[N0]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function N0(t){let e=t[0].link.text+"",l;return{c(){l=w(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&I(l,e)},d(n){n&&P(l)}}}function ca(t){let e,l,n,i=t[15].label+"",s,a,f,r;return{c(){e=ut("g"),l=ut("line"),n=ut("text"),s=w(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",a=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){C(c,e,m),o(e,l),o(e,n),o(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&I(s,i),m&1&&a!==(a=c[15].align=="right"?"85%":"")&&u(n,"x",a),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&P(e)}}}function ma(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&ca(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=ca(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function _a(t){let e,l,n=(t[3]>20||t[13]%2==0)&&pa(t);return{c(){e=ut("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=pa(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&P(e),n&&n.d()}}}function pa(t){let e,l=t[11].label+"",n,i;return{c(){e=ut("text"),n=w(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,a){C(s,e,a),o(e,n)},p(s,a){a&1&&l!==(l=s[11].label+"")&&I(n,l),a&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&P(e)}}}function da(t){let e=!isNaN(t[6](t[13])),l,n=e&&_a(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=_a(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function ha(t){let e,l,n=t[11].value!==void 0&&ga(t),i=t[11].value2>1e-4&&ka(t);return{c(){e=ut("g"),n&&n.c(),l=ut("g"),i&&i.c()},m(s,a){C(s,e,a),n&&n.m(e,null),C(s,l,a),i&&i.m(l,null)},p(s,a){s[11].value!==void 0?n?n.p(s,a):(n=ga(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,a):(i=ka(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(P(e),P(l)),n&&n.d(),i&&i.d()}}}function ga(t){let e,l,n,i,s,a,f,r=t[3]>15&&ba(t);return{c(){e=ut("rect"),r&&r.c(),f=tl(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",a=t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&a!==(a=c[11].color)&&u(e,"fill",a),c[3]>15?r?r.p(c,m):(r=ba(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(f)),r&&r.d(c)}}}function ba(t){let e,l=t[11].label+"",n,i,s,a,f,r,c=t[11].title&&va(t);return{c(){e=ut("text"),n=w(l),c&&c.c(),r=tl(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<an||t[11].labelAngle?"left":"middle"),u(e,"fill",a=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<an?90:0)+")")},m(m,d){C(m,e,d),o(e,n),c&&c.m(m,d),C(m,r,d)},p(m,d){d&1&&l!==(l=m[11].label+"")&&I(n,l),d&8&&i!==(i=m[3]-4)&&u(e,"width",i),d&9&&s!==(s=m[3]<an||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),d&385&&a!==(a=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",a),d&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<an?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,d):(c=va(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(P(e),P(r)),c&&c.d(m)}}}function va(t){let e,l=t[11].title+"",n;return{c(){e=ut("title"),n=w(l)},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&I(n,l)},d(i){i&&P(e)}}}function ka(t){let e,l,n,i,s,a,f,r=t[3]>15&&wa(t);return{c(){e=ut("rect"),r&&r.c(),f=tl(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",a=t[11].color2?t[11].color2:t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&a!==(a=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",a),c[3]>15?r?r.p(c,m):(r=wa(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(f)),r&&r.d(c)}}}function wa(t){let e,l=t[11].label2+"",n,i,s,a,f,r=t[11].title2&&Ma(t);return{c(){e=ut("text"),n=w(l),r&&r.c(),f=tl(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",a="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<an?90:0)+")")},m(c,m){C(c,e,m),o(e,n),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&I(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&a!==(a="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<an?90:0)+")")&&u(e,"transform",a),c[11].title2?r?r.p(c,m):(r=Ma(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(f)),r&&r.d(c)}}}function Ma(t){let e,l=t[11].title2+"",n;return{c(){e=ut("title"),n=w(l)},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&I(n,l)},d(i){i&&P(e)}}}function ya(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&ha(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=ha(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function P0(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&oa(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Gt(()=>t[10].call(e))},m(s,a){C(s,e,a),i&&i.m(e,null),l=xi(e,t[10].bind(e)),n=!0},p(s,[a]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,a),a&17&&J(i,1)):(i=oa(s),i.c(),J(i,1),i.m(e,null)):i&&(bt(),le(i,1,1,()=>{i=null}),vt())},i(s){n||(J(i),n=!0)},o(s){le(i),n=!1},d(s){s&&P(e),i&&i.d(),l()}}}let an=30;function C0(t,e,l){let{config:n}=e,i,s,a,f,r,c,m,d=0;function _(){d=this.clientHeight,l(5,d)}function h(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=v=>{"config"in v&&l(0,n=v.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-d);let v=i-(n.padding.left+n.padding.right);l(3,a=v/n.points.length),l(8,m=a<an?30:15);let y=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(M){return M*a+n.padding.left}),l(7,r=function(M){let k=0;return M>n.y.max?k=n.padding.bottom:M<n.y.min?k=c-n.padding.bottom:k=c-n.padding.bottom-(M-n.y.min)*y,k>c||k<0?0:k})}},[n,i,s,a,c,d,f,r,m,_,h]}class fn extends Tt{constructor(e){super(),Ct(this,e,C0,P0,Nt,{config:0})}}function T0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function A0(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:a}=e,{ds:f}=e,r={};function c(m){return{label:Ut(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:Ac(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,a=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],d=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),d.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),d.push(c(s))),a>0&&(m.push({label:f===1?"L2-L3":"L3"}),d.push(c(a))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:d})}},[r,n,i,s,a,f]}class E0 extends Tt{constructor(e){super(),Ct(this,e,A0,T0,Nt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function q0(t){var q,z,ie,se,me;let e,l,n=(((q=t[0].reactive)==null?void 0:q.title)??"Reactive")+"",i,s,a,f,r=(((z=t[0].reactive)==null?void 0:z.instant_in)??"Instant in")+"",c,m,d,_=t[1][0]+"",h,v,y=t[1][1]+"",M,k,T,j=(((ie=t[0].reactive)==null?void 0:ie.instant_out)??"Instant out")+"",F,N,D,A=t[2][0]+"",U,L,K=t[2][1]+"",O,H,V,B,G=(((se=t[0].reactive)==null?void 0:se.total_in)??"Total in")+"",Y,R,$,Q=t[3][0]+"",te,W,X=t[3][1]+"",re,fe,oe,_e=(((me=t[0].reactive)==null?void 0:me.total_out)??"Total out")+"",ne,Z,x,be=t[4][0]+"",Ne,S,b=t[4][1]+"",E;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("div"),f=p("div"),c=w(r),m=g(),d=p("div"),h=w(_),v=g(),M=w(y),k=g(),T=p("div"),F=w(j),N=g(),D=p("div"),U=w(A),L=g(),O=w(K),H=g(),V=p("div"),B=p("div"),Y=w(G),R=g(),$=p("div"),te=w(Q),W=g(),re=w(X),fe=g(),oe=p("div"),ne=w(_e),Z=g(),x=p("div"),Ne=w(be),S=g(),E=w(b),u(d,"class","text-right"),u(D,"class","text-right"),u(a,"class","grid grid-cols-2 mt-4"),u($,"class","text-right"),u(x,"class","text-right"),u(V,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(ae,ue){C(ae,e,ue),o(e,l),o(l,i),o(e,s),o(e,a),o(a,f),o(f,c),o(a,m),o(a,d),o(d,h),o(d,v),o(d,M),o(a,k),o(a,T),o(T,F),o(a,N),o(a,D),o(D,U),o(D,L),o(D,O),o(e,H),o(e,V),o(V,B),o(B,Y),o(V,R),o(V,$),o($,te),o($,W),o($,re),o(V,fe),o(V,oe),o(oe,ne),o(V,Z),o(V,x),o(x,Ne),o(x,S),o(x,E)},p(ae,[ue]){var de,ke,Ae,Ee,Fe;ue&1&&n!==(n=(((de=ae[0].reactive)==null?void 0:de.title)??"Reactive")+"")&&I(i,n),ue&1&&r!==(r=(((ke=ae[0].reactive)==null?void 0:ke.instant_in)??"Instant in")+"")&&I(c,r),ue&2&&_!==(_=ae[1][0]+"")&&I(h,_),ue&2&&y!==(y=ae[1][1]+"")&&I(M,y),ue&1&&j!==(j=(((Ae=ae[0].reactive)==null?void 0:Ae.instant_out)??"Instant out")+"")&&I(F,j),ue&4&&A!==(A=ae[2][0]+"")&&I(U,A),ue&4&&K!==(K=ae[2][1]+"")&&I(O,K),ue&1&&G!==(G=(((Ee=ae[0].reactive)==null?void 0:Ee.total_in)??"Total in")+"")&&I(Y,G),ue&8&&Q!==(Q=ae[3][0]+"")&&I(te,Q),ue&8&&X!==(X=ae[3][1]+"")&&I(re,X),ue&1&&_e!==(_e=(((Fe=ae[0].reactive)==null?void 0:Fe.total_out)??"Total out")+"")&&I(ne,_e),ue&16&&be!==(be=ae[4][0]+"")&&I(Ne,be),ue&16&&b!==(b=ae[4][1]+"")&&I(E,b)},i:Ue,o:Ue,d(ae){ae&&P(e)}}}function L0(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:a}=e,{translations:f={}}=e,r,c,m,d;return t.$$set=_=>{"importInstant"in _&&l(5,n=_.importInstant),"exportInstant"in _&&l(6,i=_.exportInstant),"importTotal"in _&&l(7,s=_.importTotal),"exportTotal"in _&&l(8,a=_.exportTotal),"translations"in _&&l(0,f=_.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=fl(n,"VAr")),l(2,c=fl(i,"VAr")),l(3,m=fl(s*1e3,"VArh")),l(4,d=fl(a*1e3,"VArh")))},[f,r,c,m,d,n,i,s,a]}class I0 extends Tt{constructor(e){super(),Ct(this,e,L0,q0,Nt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function Sa(t){let e;function l(s,a){return s[3]?O0:D0}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,a){i.m(s,a),C(s,e,a)},p(s,a){n===(n=l(s))&&i?i.p(s,a):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&P(e),i.d(s)}}}function D0(t){var z,ie,se,me,ae;let e,l=(((z=t[4].realtime)==null?void 0:z.consumption)??"Consumption")+"",n,i,s,a,f=el(((ie=t[4].common)==null?void 0:ie.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,h,v=t[6][1]+"",y,M,k,T=el(((se=t[4].common)==null?void 0:se.day)??"Day")+"",j,F,N,D=t[7][0]+"",A,U,L=t[7][1]+"",K,O,H,V=el(((me=t[4].common)==null?void 0:me.month)??"Month")+"",B,G,Y,R=t[8][0]+"",$,Q,te=t[8][1]+"",W,X,re,fe=(((ae=t[4].realtime)==null?void 0:ae.last_month)??"Last month")+"",oe,_e,ne,Z=t[9][0]+"",x,be,Ne=t[9][1]+"",S,b,E,q=t[5]&&Na(t);return{c(){e=p("strong"),n=w(l),i=g(),s=p("div"),a=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),y=w(v),M=g(),k=p("div"),j=w(T),F=g(),N=p("div"),A=w(D),U=g(),K=w(L),O=g(),H=p("div"),B=w(V),G=g(),Y=p("div"),$=w(R),Q=g(),W=w(te),X=g(),re=p("div"),oe=w(fe),_e=g(),ne=p("div"),x=w(Z),be=g(),S=w(Ne),b=g(),q&&q.c(),E=tl(),u(m,"class","text-right"),u(N,"class","text-right"),u(Y,"class","text-right"),u(ne,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(ue,de){C(ue,e,de),o(e,n),C(ue,i,de),C(ue,s,de),o(s,a),o(a,r),o(s,c),o(s,m),o(m,_),o(m,h),o(m,y),o(s,M),o(s,k),o(k,j),o(s,F),o(s,N),o(N,A),o(N,U),o(N,K),o(s,O),o(s,H),o(H,B),o(s,G),o(s,Y),o(Y,$),o(Y,Q),o(Y,W),o(s,X),o(s,re),o(re,oe),o(s,_e),o(s,ne),o(ne,x),o(ne,be),o(ne,S),C(ue,b,de),q&&q.m(ue,de),C(ue,E,de)},p(ue,de){var ke,Ae,Ee,Fe,Ve;de&16&&l!==(l=(((ke=ue[4].realtime)==null?void 0:ke.consumption)??"Consumption")+"")&&I(n,l),de&16&&f!==(f=el(((Ae=ue[4].common)==null?void 0:Ae.hour)??"Hour")+"")&&I(r,f),de&64&&d!==(d=ue[6][0]+"")&&I(_,d),de&64&&v!==(v=ue[6][1]+"")&&I(y,v),de&16&&T!==(T=el(((Ee=ue[4].common)==null?void 0:Ee.day)??"Day")+"")&&I(j,T),de&128&&D!==(D=ue[7][0]+"")&&I(A,D),de&128&&L!==(L=ue[7][1]+"")&&I(K,L),de&16&&V!==(V=el(((Fe=ue[4].common)==null?void 0:Fe.month)??"Month")+"")&&I(B,V),de&256&&R!==(R=ue[8][0]+"")&&I($,R),de&256&&te!==(te=ue[8][1]+"")&&I(W,te),de&16&&fe!==(fe=(((Ve=ue[4].realtime)==null?void 0:Ve.last_month)??"Last month")+"")&&I(oe,fe),de&512&&Z!==(Z=ue[9][0]+"")&&I(x,Z),de&512&&Ne!==(Ne=ue[9][1]+"")&&I(S,Ne),ue[5]?q?q.p(ue,de):(q=Na(ue),q.c(),q.m(E.parentNode,E)):q&&(q.d(1),q=null)},d(ue){ue&&(P(e),P(i),P(s),P(b),P(E)),q&&q.d(ue)}}}function O0(t){var lt,He,sl,Vt,xt,cl,ol,Yt,Jt,ul;let e,l=(((lt=t[4].common)==null?void 0:lt.import)??"Import")+"",n,i,s,a,f=el(((He=t[4].common)==null?void 0:He.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,h,v=t[6][1]+"",y,M,k,T,j=el(((sl=t[4].common)==null?void 0:sl.day)??"Day")+"",F,N,D,A=t[7][0]+"",U,L,K=t[7][1]+"",O,H,V,B,G=el(((Vt=t[4].common)==null?void 0:Vt.month)??"Month")+"",Y,R,$,Q=t[8][0]+"",te,W,X=t[8][1]+"",re,fe,oe,_e,ne=(((xt=t[4].realtime)==null?void 0:xt.last_mo)??"Last mo.")+"",Z,x,be,Ne=t[9][0]+"",S,b,E=t[9][1]+"",q,z,ie,se,me,ae=(((cl=t[4].common)==null?void 0:cl.export)??"Export")+"",ue,de,ke,Ae,Ee=el(((ol=t[4].common)==null?void 0:ol.hour)??"Hour")+"",Fe,Ve,Je,Qe=t[10][0]+"",Ie,ot,he=t[10][1]+"",Oe,kt,At,St,Ze=el(((Yt=t[4].common)==null?void 0:Yt.day)??"Day")+"",mt,Zt,wt,Dt=t[11][0]+"",Pt,Rt,et=t[11][1]+"",ct,Pe,je,Ge,$e=el(((Jt=t[4].common)==null?void 0:Jt.month)??"Month")+"",xe,ve,qe,Et=t[12][0]+"",dt,Be,rt=t[12][1]+"",Xe,qt,Ht,We,we=(((ul=t[4].realtime)==null?void 0:ul.last_mo)??"Last mo.")+"",Ce,ze,tt,nt=t[13][0]+"",_t,Kt,Ft=t[13][1]+"",It,il,Lt,Ke=t[5]&&Pa(t),jt=t[5]&&Ca(t),$t=t[5]&&Ta(t),ht=t[5]&&Aa(t),st=t[5]&&Ea(t),Mt=t[5]&&qa(t),Wt=t[5]&&La(t),pe=t[5]&&Ia(t);return{c(){e=p("strong"),n=w(l),i=g(),s=p("div"),a=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),y=w(v),M=g(),Ke&&Ke.c(),k=g(),T=p("div"),F=w(j),N=g(),D=p("div"),U=w(A),L=g(),O=w(K),H=g(),jt&&jt.c(),V=g(),B=p("div"),Y=w(G),R=g(),$=p("div"),te=w(Q),W=g(),re=w(X),fe=g(),$t&&$t.c(),oe=g(),_e=p("div"),Z=w(ne),x=g(),be=p("div"),S=w(Ne),b=g(),q=w(E),z=g(),ht&&ht.c(),se=g(),me=p("strong"),ue=w(ae),de=g(),ke=p("div"),Ae=p("div"),Fe=w(Ee),Ve=g(),Je=p("div"),Ie=w(Qe),ot=g(),Oe=w(he),kt=g(),st&&st.c(),At=g(),St=p("div"),mt=w(Ze),Zt=g(),wt=p("div"),Pt=w(Dt),Rt=g(),ct=w(et),Pe=g(),Mt&&Mt.c(),je=g(),Ge=p("div"),xe=w($e),ve=g(),qe=p("div"),dt=w(Et),Be=g(),Xe=w(rt),qt=g(),Wt&&Wt.c(),Ht=g(),We=p("div"),Ce=w(we),ze=g(),tt=p("div"),_t=w(nt),Kt=g(),It=w(Ft),il=g(),pe&&pe.c(),u(m,"class","text-right"),u(D,"class","text-right"),u($,"class","text-right"),u(be,"class","text-right"),u(s,"class",ie="grid grid-cols-"+t[14]+" mb-3"),u(Je,"class","text-right"),u(wt,"class","text-right"),u(qe,"class","text-right"),u(tt,"class","text-right"),u(ke,"class",Lt="grid grid-cols-"+t[14])},m(Te,ce){C(Te,e,ce),o(e,n),C(Te,i,ce),C(Te,s,ce),o(s,a),o(a,r),o(s,c),o(s,m),o(m,_),o(m,h),o(m,y),o(s,M),Ke&&Ke.m(s,null),o(s,k),o(s,T),o(T,F),o(s,N),o(s,D),o(D,U),o(D,L),o(D,O),o(s,H),jt&&jt.m(s,null),o(s,V),o(s,B),o(B,Y),o(s,R),o(s,$),o($,te),o($,W),o($,re),o(s,fe),$t&&$t.m(s,null),o(s,oe),o(s,_e),o(_e,Z),o(s,x),o(s,be),o(be,S),o(be,b),o(be,q),o(s,z),ht&&ht.m(s,null),C(Te,se,ce),C(Te,me,ce),o(me,ue),C(Te,de,ce),C(Te,ke,ce),o(ke,Ae),o(Ae,Fe),o(ke,Ve),o(ke,Je),o(Je,Ie),o(Je,ot),o(Je,Oe),o(ke,kt),st&&st.m(ke,null),o(ke,At),o(ke,St),o(St,mt),o(ke,Zt),o(ke,wt),o(wt,Pt),o(wt,Rt),o(wt,ct),o(ke,Pe),Mt&&Mt.m(ke,null),o(ke,je),o(ke,Ge),o(Ge,xe),o(ke,ve),o(ke,qe),o(qe,dt),o(qe,Be),o(qe,Xe),o(ke,qt),Wt&&Wt.m(ke,null),o(ke,Ht),o(ke,We),o(We,Ce),o(ke,ze),o(ke,tt),o(tt,_t),o(tt,Kt),o(tt,It),o(ke,il),pe&&pe.m(ke,null)},p(Te,ce){var Bt,De,yt,rl,hl,gl,bl,vl,kl,wl;ce&16&&l!==(l=(((Bt=Te[4].common)==null?void 0:Bt.import)??"Import")+"")&&I(n,l),ce&16&&f!==(f=el(((De=Te[4].common)==null?void 0:De.hour)??"Hour")+"")&&I(r,f),ce&64&&d!==(d=Te[6][0]+"")&&I(_,d),ce&64&&v!==(v=Te[6][1]+"")&&I(y,v),Te[5]?Ke?Ke.p(Te,ce):(Ke=Pa(Te),Ke.c(),Ke.m(s,k)):Ke&&(Ke.d(1),Ke=null),ce&16&&j!==(j=el(((yt=Te[4].common)==null?void 0:yt.day)??"Day")+"")&&I(F,j),ce&128&&A!==(A=Te[7][0]+"")&&I(U,A),ce&128&&K!==(K=Te[7][1]+"")&&I(O,K),Te[5]?jt?jt.p(Te,ce):(jt=Ca(Te),jt.c(),jt.m(s,V)):jt&&(jt.d(1),jt=null),ce&16&&G!==(G=el(((rl=Te[4].common)==null?void 0:rl.month)??"Month")+"")&&I(Y,G),ce&256&&Q!==(Q=Te[8][0]+"")&&I(te,Q),ce&256&&X!==(X=Te[8][1]+"")&&I(re,X),Te[5]?$t?$t.p(Te,ce):($t=Ta(Te),$t.c(),$t.m(s,oe)):$t&&($t.d(1),$t=null),ce&16&&ne!==(ne=(((hl=Te[4].realtime)==null?void 0:hl.last_mo)??"Last mo.")+"")&&I(Z,ne),ce&512&&Ne!==(Ne=Te[9][0]+"")&&I(S,Ne),ce&512&&E!==(E=Te[9][1]+"")&&I(q,E),Te[5]?ht?ht.p(Te,ce):(ht=Aa(Te),ht.c(),ht.m(s,null)):ht&&(ht.d(1),ht=null),ce&16384&&ie!==(ie="grid grid-cols-"+Te[14]+" mb-3")&&u(s,"class",ie),ce&16&&ae!==(ae=(((gl=Te[4].common)==null?void 0:gl.export)??"Export")+"")&&I(ue,ae),ce&16&&Ee!==(Ee=el(((bl=Te[4].common)==null?void 0:bl.hour)??"Hour")+"")&&I(Fe,Ee),ce&1024&&Qe!==(Qe=Te[10][0]+"")&&I(Ie,Qe),ce&1024&&he!==(he=Te[10][1]+"")&&I(Oe,he),Te[5]?st?st.p(Te,ce):(st=Ea(Te),st.c(),st.m(ke,At)):st&&(st.d(1),st=null),ce&16&&Ze!==(Ze=el(((vl=Te[4].common)==null?void 0:vl.day)??"Day")+"")&&I(mt,Ze),ce&2048&&Dt!==(Dt=Te[11][0]+"")&&I(Pt,Dt),ce&2048&&et!==(et=Te[11][1]+"")&&I(ct,et),Te[5]?Mt?Mt.p(Te,ce):(Mt=qa(Te),Mt.c(),Mt.m(ke,je)):Mt&&(Mt.d(1),Mt=null),ce&16&&$e!==($e=el(((kl=Te[4].common)==null?void 0:kl.month)??"Month")+"")&&I(xe,$e),ce&4096&&Et!==(Et=Te[12][0]+"")&&I(dt,Et),ce&4096&&rt!==(rt=Te[12][1]+"")&&I(Xe,rt),Te[5]?Wt?Wt.p(Te,ce):(Wt=La(Te),Wt.c(),Wt.m(ke,Ht)):Wt&&(Wt.d(1),Wt=null),ce&16&&we!==(we=(((wl=Te[4].realtime)==null?void 0:wl.last_mo)??"Last mo.")+"")&&I(Ce,we),ce&8192&&nt!==(nt=Te[13][0]+"")&&I(_t,nt),ce&8192&&Ft!==(Ft=Te[13][1]+"")&&I(It,Ft),Te[5]?pe?pe.p(Te,ce):(pe=Ia(Te),pe.c(),pe.m(ke,null)):pe&&(pe.d(1),pe=null),ce&16384&&Lt!==(Lt="grid grid-cols-"+Te[14])&&u(ke,"class",Lt)},d(Te){Te&&(P(e),P(i),P(s),P(se),P(me),P(de),P(ke)),Ke&&Ke.d(),jt&&jt.d(),$t&&$t.d(),ht&&ht.d(),st&&st.d(),Mt&&Mt.d(),Wt&&Wt.d(),pe&&pe.d()}}}function Na(t){var x,be,Ne,S,b,E;let e,l=(((x=t[4].realtime)==null?void 0:x.cost)??"Cost")+"",n,i,s,a,f=el(((be=t[4].common)==null?void 0:be.hour)??"Hour")+"",r,c,m,d=Ut(t[1].h.c,2)+"",_,h,v,y,M,k=el(((Ne=t[4].common)==null?void 0:Ne.day)??"Day")+"",T,j,F,N=Ut(t[1].d.c,1)+"",D,A,U,L,K,O=el(((S=t[4].common)==null?void 0:S.month)??"Month")+"",H,V,B,G=Ut(t[1].m.c)+"",Y,R,$,Q,te,W=(((b=t[4].realtime)==null?void 0:b.last_month)??"Last month")+"",X,re,fe,oe=Ut((E=t[0].last_month)==null?void 0:E.c)+"",_e,ne,Z;return{c(){e=p("strong"),n=w(l),i=g(),s=p("div"),a=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),v=w(t[2]),y=g(),M=p("div"),T=w(k),j=g(),F=p("div"),D=w(N),A=g(),U=w(t[2]),L=g(),K=p("div"),H=w(O),V=g(),B=p("div"),Y=w(G),R=g(),$=w(t[2]),Q=g(),te=p("div"),X=w(W),re=g(),fe=p("div"),_e=w(oe),ne=g(),Z=w(t[2]),u(m,"class","text-right"),u(F,"class","text-right"),u(B,"class","text-right"),u(fe,"class","text-right"),u(s,"class","grid grid-cols-2")},m(q,z){C(q,e,z),o(e,n),C(q,i,z),C(q,s,z),o(s,a),o(a,r),o(s,c),o(s,m),o(m,_),o(m,h),o(m,v),o(s,y),o(s,M),o(M,T),o(s,j),o(s,F),o(F,D),o(F,A),o(F,U),o(s,L),o(s,K),o(K,H),o(s,V),o(s,B),o(B,Y),o(B,R),o(B,$),o(s,Q),o(s,te),o(te,X),o(s,re),o(s,fe),o(fe,_e),o(fe,ne),o(fe,Z)},p(q,z){var ie,se,me,ae,ue,de;z&16&&l!==(l=(((ie=q[4].realtime)==null?void 0:ie.cost)??"Cost")+"")&&I(n,l),z&16&&f!==(f=el(((se=q[4].common)==null?void 0:se.hour)??"Hour")+"")&&I(r,f),z&2&&d!==(d=Ut(q[1].h.c,2)+"")&&I(_,d),z&4&&I(v,q[2]),z&16&&k!==(k=el(((me=q[4].common)==null?void 0:me.day)??"Day")+"")&&I(T,k),z&2&&N!==(N=Ut(q[1].d.c,1)+"")&&I(D,N),z&4&&I(U,q[2]),z&16&&O!==(O=el(((ae=q[4].common)==null?void 0:ae.month)??"Month")+"")&&I(H,O),z&2&&G!==(G=Ut(q[1].m.c)+"")&&I(Y,G),z&4&&I($,q[2]),z&16&&W!==(W=(((ue=q[4].realtime)==null?void 0:ue.last_month)??"Last month")+"")&&I(X,W),z&1&&oe!==(oe=Ut((de=q[0].last_month)==null?void 0:de.c)+"")&&I(_e,oe),z&4&&I(Z,q[2])},d(q){q&&(P(e),P(i),P(s))}}}function Pa(t){let e,l=Ut(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,n),o(e,i),o(e,s)},p(a,f){f&2&&l!==(l=Ut(a[1].h.c,2)+"")&&I(n,l),f&4&&I(s,a[2])},d(a){a&&P(e)}}}function Ca(t){let e,l=Ut(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,n),o(e,i),o(e,s)},p(a,f){f&2&&l!==(l=Ut(a[1].d.c,1)+"")&&I(n,l),f&4&&I(s,a[2])},d(a){a&&P(e)}}}function Ta(t){let e,l=Ut(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,n),o(e,i),o(e,s)},p(a,f){f&2&&l!==(l=Ut(a[1].m.c)+"")&&I(n,l),f&4&&I(s,a[2])},d(a){a&&P(e)}}}function Aa(t){var a;let e,l=Ut((a=t[0].last_month)==null?void 0:a.c)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),o(e,n),o(e,i),o(e,s)},p(f,r){var c;r&1&&l!==(l=Ut((c=f[0].last_month)==null?void 0:c.c)+"")&&I(n,l),r&4&&I(s,f[2])},d(f){f&&P(e)}}}function Ea(t){let e,l=Ut(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,n),o(e,i),o(e,s)},p(a,f){f&2&&l!==(l=Ut(a[1].h.i,2)+"")&&I(n,l),f&4&&I(s,a[2])},d(a){a&&P(e)}}}function qa(t){let e,l=Ut(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,n),o(e,i),o(e,s)},p(a,f){f&2&&l!==(l=Ut(a[1].d.i,1)+"")&&I(n,l),f&4&&I(s,a[2])},d(a){a&&P(e)}}}function La(t){let e,l=Ut(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,n),o(e,i),o(e,s)},p(a,f){f&2&&l!==(l=Ut(a[1].m.i)+"")&&I(n,l),f&4&&I(s,a[2])},d(a){a&&P(e)}}}function Ia(t){var a;let e,l=Ut((a=t[0].last_month)==null?void 0:a.i)+"",n,i,s;return{c(){e=p("div"),n=w(l),i=g(),s=w(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),o(e,n),o(e,i),o(e,s)},p(f,r){var c;r&1&&l!==(l=Ut((c=f[0].last_month)==null?void 0:c.i)+"")&&I(n,l),r&4&&I(s,f[2])},d(f){f&&P(e)}}}function R0(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,a,f,r,c=t[1]&&Sa(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("br"),f=p("br"),r=g(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(d,_){C(d,e,_),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),c&&c.m(e,null)},p(d,[_]){var h;_&16&&n!==(n=(((h=d[4].realtime)==null?void 0:h.title)??"Real time calculations")+"")&&I(i,n),d[1]?c?c.p(d,_):(c=Sa(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ue,o:Ue,d(d){d&&P(e),c&&c.d()}}}function F0(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:a}=e,{translations:f={}}=e,r,c,m,d,_,h,v,y,M=!1,k=3;return t.$$set=T=>{"sysinfo"in T&&l(0,n=T.sysinfo),"data"in T&&l(1,i=T.data),"currency"in T&&l(2,s=T.currency),"hasExport"in T&&l(3,a=T.hasExport),"translations"in T&&l(4,f=T.translations)},t.$$.update=()=>{var T,j,F,N,D,A,U,L;t.$$.dirty&35&&(l(5,M=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,k=M?3:2),l(6,r=fl(((T=i==null?void 0:i.h)==null?void 0:T.u)*1e3,"Wh")),l(7,c=fl(((j=i==null?void 0:i.d)==null?void 0:j.u)*1e3,"Wh")),l(8,m=fl(((F=i==null?void 0:i.m)==null?void 0:F.u)*1e3,"Wh")),l(9,d=fl(((N=n==null?void 0:n.last_month)==null?void 0:N.u)*1e3,"Wh")),l(10,_=fl(((D=i==null?void 0:i.h)==null?void 0:D.p)*1e3,"Wh")),l(11,h=fl(((A=i==null?void 0:i.d)==null?void 0:A.p)*1e3,"Wh")),l(12,v=fl(((U=i==null?void 0:i.m)==null?void 0:U.p)*1e3,"Wh")),l(13,y=fl(((L=n==null?void 0:n.last_month)==null?void 0:L.p)*1e3,"Wh")))},[n,i,s,a,f,M,r,c,m,d,_,h,v,y,k]}class j0 extends Tt{constructor(e){super(),Ct(this,e,F0,R0,Nt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function B0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function U0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,a={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,d=new Date().getUTCHours(),_=0,h=0,v=0,y=[],M=[],k=[];l(5,r=l(4,f=0));let T=new Date;for(Ll(T,s.clock_offset-(24+T.getHours()-T.getUTCHours())%24),_=d;_<24&&(h=i[ft(v++)],h!=null);_++)M.push({label:ft(T.getHours())}),k.push(h*100),l(5,r=Math.min(r,h*100)),l(4,f=Math.max(f,h*100)),Ll(T,1);for(_=0;_<24&&(h=i[ft(v++)],h!=null);_++)M.push({label:ft(T.getHours())}),k.push(h*100),l(5,r=Math.min(r,h*100)),l(4,f=Math.max(f,h*100)),Ll(T,1);let j=$n(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(j&&j[1]&&j[1]!=m)for(m=j[1],l(5,r*=100),l(4,f*=100),_=0;_<k.length;_++)k[_]*=100;let F=[];for(_=0;_<k.length;_++){h=k[_];let U=h*.01,L=Math.abs(h)<1e3?2:0;F.push({label:U>=0?U.toFixed(L):"",title:U>=0?U.toFixed(2)+" "+m:"",value:h>=0?Math.abs(h):0,label2:U<0?U.toFixed(L):"",title2:U<0?U.toFixed(2)+" "+m:"",value2:h<0?Math.abs(h):0,color:c?"#5c2da5":"#7c3aed"})}let N=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(N/4*-1,r));let U=Math.ceil(Math.abs(r)/N*4),L=r/U;for(_=1;_<U+1;_++){let K=L*_;y.push({value:K,label:(K/100).toFixed(2)})}}l(4,f=Math.max(N/4,f));let D=Math.ceil(f/N*4),A=f/D;for(_=0;_<D+1;_++){let U=A*_;y.push({value:U,label:(U/100).toFixed(2)})}l(0,a={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:y},x:{ticks:M},points:F,link:{text:"Provided by: "+Ec(i.source),url:qc(i.source),target:"_blank"}})}},[a,n,i,s,f,r]}class H0 extends Tt{constructor(e){super(),Ct(this,e,U0,B0,Nt,{title:1,json:2,sysinfo:3})}}function W0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function z0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,a={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],h=[];l(5,r=l(4,f=0));let v=new Date,y=new Date;y.setDate(0),y.setHours(12);let M=(y.getHours()-y.getUTCHours())%24-s.clock_offset,k=v.getUTCHours();for(Ll(v,-M-24),m=k;m<24;m++){let N=i["i"+ft(m)],D=i["e"+ft(m)];N===void 0&&(N=0),D===void 0&&(D=0),_.push({label:ft(v.getHours())}),h.push({label:N.toFixed(1),title:N.toFixed(2)+" kWh",value:N*10,label2:D.toFixed(1),title2:D.toFixed(2)+" kWh",value2:D*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,D*10)),l(4,f=Math.max(f,N*10)),Ll(v,1)}for(m=0;m<k;m++){let N=i["i"+ft(m)],D=i["e"+ft(m)];N===void 0&&(N=0),D===void 0&&(D=0),_.push({label:ft(v.getHours())}),h.push({label:N.toFixed(1),title:N.toFixed(2)+" kWh",value:N*10,label2:D.toFixed(1),title2:D.toFixed(2)+" kWh",value2:D*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,D*10)),l(4,f=Math.max(f,N*10)),Ll(v,1)}l(5,r*=-1);let T=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(T/4*-1,r));let N=Math.ceil(Math.abs(r)/T*4),D=r/N;for(m=1;m<N+1;m++){let A=D*m;d.push({value:A,label:(A/10).toFixed(1)})}}l(4,f=Math.max(T/4,f));let j=Math.ceil(f/T*4),F=f/j;for(m=0;m<j+1;m++){let N=F*m;d.push({value:N,label:(N/10).toFixed(1)})}l(0,a={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:h,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[a,n,i,s,f,r]}class K0 extends Tt{constructor(e){super(),Ct(this,e,z0,W0,Nt,{title:1,json:2,sysinfo:3})}}function $0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function V0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,a={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],h=[];l(5,r=l(4,f=0));let v=new Date,y=new Date;y.setDate(0),y.setHours(12);let M=(y.getHours()-y.getUTCHours())%24-s.clock_offset;for(Ll(v,-M),Ll(y,-M),m=v.getDate();m<=y.getDate();m++){let F=i["i"+ft(m)],N=i["e"+ft(m)];F===void 0&&(F=0),N===void 0&&(N=0),_.push({label:ft(m)}),h.push({label:F.toFixed(F<10?1:0),title:F.toFixed(2)+" kWh",value:F,label2:N.toFixed(N<10?1:0),title2:N.toFixed(2)+" kWh",value2:N,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,N)),l(4,f=Math.max(f,F))}for(m=1;m<v.getDate();m++){let F=i["i"+ft(m)],N=i["e"+ft(m)];F===void 0&&(F=0),N===void 0&&(N=0),_.push({label:ft(m)}),h.push({label:F.toFixed(F<10?1:0),title:F.toFixed(2)+" kWh",value:F,label2:N.toFixed(N<10?1:0),title2:N.toFixed(2)+" kWh",value2:N,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,N)),l(4,f=Math.max(f,F))}l(5,r*=-1);let k=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(k/4*-1,r));let F=Math.ceil(Math.abs(r)/k*4),N=r/F;for(m=1;m<F+1;m++){let D=N*m;d.push({value:D,label:D.toFixed(0)})}}l(4,f=Math.max(k/4,f));let T=Math.ceil(f/k*4),j=f/T;for(m=0;m<T+1;m++){let F=j*m;d.push({value:F,label:F.toFixed(0)})}l(0,a={title:n.replace("{0}",y.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:h,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[a,n,i,s,f,r]}class G0 extends Tt{constructor(e){super(),Ct(this,e,V0,$0,Nt,{title:1,json:2,sysinfo:3})}}function Y0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function J0(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),a={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,d=[],_=[],h=[];i.s&&i.s.forEach((M,k)=>{var T=M.n?M.n:M.a;m=M.v,m==-127&&(m=0),_.push({label:T.slice(-4)}),h.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let v=f;r<0&&(v+=Math.abs(r));let y=v/4;for(c=0;c<5;c++)m=r+y*c,d.push({value:m,label:m.toFixed(1)});l(0,a={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:h})}},[a,n,i,f,r]}class X0 extends Tt{constructor(e){super(),Ct(this,e,J0,Y0,Nt,{title:1,json:2})}}function Q0(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}let Z0=0;function x0(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),a={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,d=[],_=[],h=[];if(d.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let v=r.p[m];h.push({label:v.v.toFixed(2),value:v.v,color:s?"#5c2da5":"#7c3aed"}),_.push({label:v.d>0?ft(v.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:ft(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,v.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let v=r.t[m];if(v>=f)break;d.push({value:v,label:v})}d.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(d.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,a={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:Z0,max:f,ticks:d},x:{ticks:_},points:h})}},[a,n,i,r,f]}class e1 extends Tt{constructor(e){super(),Ct(this,e,x0,Q0,Nt,{title:1,translations:2,tariffData:3})}}let ln=0,t1={data:[]};async function fs(){let e=await(await yl(ln<0?"realtime.json":"realtime.json?offset="+ln)).json();us.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),ln>=0&&(ln+=e.size,ln<e.total?setTimeout(fs,2e3):ln=-1)}function l1(){return ln==-1}const us=nl(t1);let dn=0,Xf=0,zi=0,Ti=0,Da=!1;function n1(){Ti==60||zi>dn||zi-dn>300?(fs(),Ti=0):us.update(t=>{if(t.lastUpdate)for(;dn>t.lastUpdate;)t.data.unshift(Xf),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ti++;else t.lastUpdate=dn;return t})}function i1(t){if(Xf=t.i-t.e,dn=t.u,!Da){fs(),Da=!0,zi=dn;return}l1()&&n1()}function Oa(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Ra(t,e,l){const n=t.slice();return n[21]=e[l],n}function s1(t){let e,l,n;return{c(){e=p("strong"),l=w(t[0]),n=w(" not available"),u(e,"class","text-sm")},m(i,s){C(i,e,s),o(e,l),o(e,n)},p(i,s){s&1&&I(l,i[0])},d(i){i&&P(e)}}}function a1(t){let e,l,n,i,s,a,f,r=t[8]&&Fa(t);return{c(){e=p("strong"),l=w(t[0]),n=w(" ("),i=w(t[12]),s=w(")"),a=g(),r&&r.c(),f=tl(),u(e,"class","text-sm")},m(c,m){C(c,e,m),o(e,l),o(e,n),o(e,i),o(e,s),C(c,a,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&I(l,c[0]),m&4096&&I(i,c[12]),c[8]?r?r.p(c,m):(r=Fa(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(P(e),P(a),P(f)),r&&r.d(c)}}}function Fa(t){let e,l,n,i,s,a=Ye(t[8]),f=[];for(let m=0;m<a.length;m+=1)f[m]=Ba(Ra(t,a,m));let r=Ye(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Ha(Oa(t,r,m));return{c(){e=ut("svg"),l=ut("g");for(let m=0;m<f.length;m+=1)f[m].c();n=ut("g");for(let m=0;m<c.length;m+=1)c[m].c();i=ut("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,d){C(m,e,d),o(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(l,null);o(e,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);o(e,i)},p(m,d){if(d&16646){a=Ye(m[8]);let _;for(_=0;_<a.length;_+=1){const h=Ra(m,a,_);f[_]?f[_].p(h,d):(f[_]=Ba(h),f[_].c(),f[_].m(l,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=a.length}if(d&34336){r=Ye(m[9]);let _;for(_=0;_<r.length;_+=1){const h=Oa(m,r,_);c[_]?c[_].p(h,d):(c[_]=Ha(h),c[_].c(),c[_].m(n,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=r.length}d&128&&u(i,"points",m[7]),d&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&P(e),Qt(f,m),Qt(c,m)}}}function ja(t){let e,l,n,i=t[21].label+"",s,a,f;return{c(){e=ut("g"),l=ut("line"),n=ut("text"),s=w(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",a="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){C(r,e,c),o(e,l),o(e,n),o(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&I(s,i),c&256&&a!==(a="tick tick-"+r[21].value)&&u(e,"class",a),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&P(e)}}}function Ba(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&ja(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=ja(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function Ua(t){let e,l,n=t[18].label+"",i,s,a;return{c(){e=ut("g"),l=ut("text"),i=w(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",a="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){C(f,e,r),o(e,l),o(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&I(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&a!==(a="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",a)},d(f){f&&P(e)}}}function Ha(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Ua(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Ua(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&P(l),n&&n.d(i)}}}function o1(t){let e,l;function n(a,f){return a[11]?a1:s1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Gt(()=>t[17].call(e))},m(a,f){C(a,e,f),s.m(e,null),l=xi(e,t[17].bind(e))},p(a,[f]){i===(i=n(a))&&s?s.p(a,f):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},i:Ue,o:Ue,d(a){a&&P(e),s.d(),l()}}}function r1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;us.subscribe(N=>{l(16,s=N)});let a=!1,f,r,c,m,d,_,h,v=function(N,D,A){return Math.ceil(d-(N-D)/(A-D)*d)-25},y=function(N){return 30+Math.ceil(N/s.size*(_-35))},M,k,T,j;function F(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=N=>{"title"in N&&l(0,n=N.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,d=parseInt(m)-50),l(6,_=c-35),l(10,T=_/s.size),l(2,r=0),l(1,f=0),s.data&&d>10&&_>100&&T>.1){l(11,a=!0);for(let A in s.data){let U=s.data[A];isNaN(U)&&(U=0),l(1,f=Math.max(Math.ceil(U/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(U/1e3)*1e3,r))}let N=f-r;l(12,j=f>2500?"kW":"W"),l(8,M=[]);for(let A=r;A<f&&(M.push({value:A,label:f>2500?(A/1e3).toFixed(1):A}),!(M.length>6));A+=N/5);l(9,k=[]);for(let A=0;A<s.size&&(k.push({value:A,label:"-"+Math.round((s.size-A)/6)+" min"}),!(k.length>12));A+=Math.round(s.size/Math.round(_/120)));let D=s.size;l(7,h=y(s.size)+","+v(0,r,f)+" "+y(1)+","+v(0,r,f));for(let A in s.data){if(D<0)break;let U=s.data[A];isNaN(U)&&(U=0),l(7,h=y(D--)+","+v(U,r,f)+" "+h)}}else l(11,a=!1)},[n,f,r,c,m,d,_,h,M,k,T,a,j,i,v,y,s,F]}class f1 extends Tt{constructor(e){super(),Ct(this,e,r1,o1,Nt,{title:0})}}function u1(t){let e,l;return e=new fn({props:{config:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function c1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:a=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:d=0}=e,{l1e:_=0}=e,{l2e:h=0}=e,{l3e:v=0}=e,{maxImport:y=0}=e,{maxExport:M=0}=e,{importColorFn:k}=e,{exportColorFn:T}=e,j={};function F(N,D){return{label:Ut(N>900?N/1e3:N)+(N>900?"k":"")+i,title:N.toFixed(2)+" "+i,value:isNaN(N)?0:N,color:k(N?N/y*100:0,document.documentElement.classList.contains("dark")),label2:Ut(D>900?D/1e3:D)+(D>900?"k":"")+i,title2:D.toFixed(2)+" "+i,value2:isNaN(D)?0:D,color2:T(D?D/M*100:0)}}return t.$$set=N=>{"title"in N&&l(1,n=N.title),"unit"in N&&l(2,i=N.unit),"l1"in N&&l(3,s=N.l1),"l2"in N&&l(4,a=N.l2),"l2x"in N&&l(5,f=N.l2x),"l3"in N&&l(6,r=N.l3),"l1i"in N&&l(7,c=N.l1i),"l2i"in N&&l(8,m=N.l2i),"l3i"in N&&l(9,d=N.l3i),"l1e"in N&&l(10,_=N.l1e),"l2e"in N&&l(11,h=N.l2e),"l3e"in N&&l(12,v=N.l3e),"maxImport"in N&&l(13,y=N.maxImport),"maxExport"in N&&l(14,M=N.maxExport),"importColorFn"in N&&l(15,k=N.importColorFn),"exportColorFn"in N&&l(16,T=N.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let N=[],D=[];s&&(N.push({label:"L1"}),D.push(F(c,_))),a&&(f?(N.push({label:"L2"}),D.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(N.push({label:"L2"}),D.push(F(m,h)))),r&&(N.push({label:"L3"}),D.push(F(d,v)));let A=[];if(M){let U=M>y?4:M*4/y;A.push({value:-M,label:"-100%"}),U>=4&&A.push({value:-M/4*3,label:"-75%"}),U>=2&&A.push({value:-M/2,label:"-50%"}),U>=4&&A.push({value:-M/4,label:"-25%"})}if(A.push({value:0,label:"0%"}),y){let U=y>M?4:y*4/M;A.push({value:y/4,label:"25%"}),U>=4&&A.push({value:y/2,label:"50%"}),U>=2&&A.push({value:y/4*3,label:"75%"}),U>=4&&A.push({value:y,label:"100%"})}l(0,j={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-M,max:y,ticks:A},x:{ticks:N},points:D})}},[j,n,i,s,a,f,r,c,m,d,_,h,v,y,M,k,T]}class cs extends Tt{constructor(e){super(),Ct(this,e,c1,u1,Nt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Wa(t){var k;let e,l,n,i,s,a,f=(t[0].mt?ci(t[0].mt):"-")+"",r,c,m,d=t[11][0]+"",_,h,v=t[11][1]+"",y,M;return i=new Jf({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((k=t[6].common)==null?void 0:k.import)??"Import",sub:$n(t[0].p,t[0].pc),colorFn:as}}),{c(){e=p("div"),l=p("div"),n=p("div"),Se(i.$$.fragment),s=g(),a=p("div"),r=w(f),c=g(),m=p("div"),_=w(d),h=g(),y=w(v),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(T,j){C(T,e,j),o(e,l),o(l,n),Me(i,n,null),o(l,s),o(l,a),o(a,r),o(l,c),o(l,m),o(m,_),o(m,h),o(m,y),M=!0},p(T,j){var N;const F={};j&1&&(F.val=T[0].i?T[0].i:0),j&1&&(F.max=T[0].im?T[0].im:15e3),j&64&&(F.label=((N=T[6].common)==null?void 0:N.import)??"Import"),j&1&&(F.sub=$n(T[0].p,T[0].pc)),i.$set(F),(!M||j&1)&&f!==(f=(T[0].mt?ci(T[0].mt):"-")+"")&&I(r,f),(!M||j&2048)&&d!==(d=T[11][0]+"")&&I(_,d),(!M||j&2048)&&v!==(v=T[11][1]+"")&&I(y,v)},i(T){M||(J(i.$$.fragment,T),M=!0)},o(T){le(i.$$.fragment,T),M=!1},d(T){T&&P(e),ye(i)}}}function za(t){var y;let e,l,n,i,s,a,f,r,c=t[12][0]+"",m,d,_=t[12][1]+"",h,v;return i=new Jf({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((y=t[6].common)==null?void 0:y.export)??"Export",sub:$n(t[0].px,t[0].pc),colorFn:zn}}),{c(){e=p("div"),l=p("div"),n=p("div"),Se(i.$$.fragment),s=g(),a=p("div"),f=g(),r=p("div"),m=w(c),d=g(),h=w(_),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(M,k){C(M,e,k),o(e,l),o(l,n),Me(i,n,null),o(l,s),o(l,a),o(l,f),o(l,r),o(r,m),o(r,d),o(r,h),v=!0},p(M,k){var j;const T={};k&1&&(T.val=M[0].e?M[0].e:0),k&1&&(T.max=M[0].om?M[0].om*1e3:1e4),k&64&&(T.label=((j=M[6].common)==null?void 0:j.export)??"Export"),k&1&&(T.sub=$n(M[0].px,M[0].pc)),i.$set(T),(!v||k&4096)&&c!==(c=M[12][0]+"")&&I(m,c),(!v||k&4096)&&_!==(_=M[12][1]+"")&&I(h,_)},i(M){v||(J(i.$$.fragment,M),v=!0)},o(M){le(i.$$.fragment,M),v=!1},d(M){M&&P(e),ye(i)}}}function Ka(t){let e,l,n=t[0].l1&&$a(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=$a(i),n.c(),J(n,1),n.m(e,null)):n&&(bt(),le(n,1,1,()=>{n=null}),vt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function $a(t){var n;let e,l;return e=new E0({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Se(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const a={};s&64&&(a.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(a.u1=i[0].l1.u),s&1&&(a.u2=i[0].l2.u),s&1&&(a.u3=i[0].l3.u),s&1&&(a.ds=i[0].ds),e.$set(a)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Va(t){let e,l,n=t[0].l1&&Ga(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Ga(i),n.c(),J(n,1),n.m(e,null)):n&&(bt(),le(n,1,1,()=>{n=null}),vt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Ga(t){var n;let e,l;return e=new cs({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:as,exportColorFn:zn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Se(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const a={};s&64&&(a.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(a.maxImport=i[0].mf),s&256&&(a.l1=i[8]),s&512&&(a.l2=i[9]),s&1024&&(a.l3=i[10]),s&1&&(a.l2x=i[0].l2.e),s&1&&(a.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(a.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(a.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(a)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Ya(t){let e,l,n=t[0].l1&&Ja(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Ja(i),n.c(),J(n,1),n.m(e,null)):n&&(bt(),le(n,1,1,()=>{n=null}),vt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Ja(t){var n;let e,l;return e=new cs({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:as,exportColorFn:zn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Se(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const a={};s&64&&(a.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(a.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(a.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(a.l1=i[8]),s&512&&(a.l2=i[9]),s&1024&&(a.l3=i[10]),s&1&&(a.l1i=i[0].l1.p),s&1&&(a.l2i=i[0].l2.p),s&1&&(a.l3i=i[0].l3.p),s&1&&(a.l1e=i[0].l1.q),s&1&&(a.l2e=i[0].l2.q),s&1&&(a.l3e=i[0].l3.q),e.$set(a)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Xa(t){let e,l,n=t[0].l1&&Qa(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&J(n,1)):(n=Qa(i),n.c(),J(n,1),n.m(e,null)):n&&(bt(),le(n,1,1,()=>{n=null}),vt())},i(i){l||(J(n),l=!0)},o(i){le(n),l=!1},d(i){i&&P(e),n&&n.d()}}}function Qa(t){var n;let e,l;return e=new cs({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:zn,exportColorFn:zn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Se(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const a={};s&64&&(a.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(a.l1=i[8]),s&512&&(a.l2=i[9]),s&1024&&(a.l3=i[10]),s&1&&(a.l1i=i[0].l1.f),s&1&&(a.l2i=i[0].l2.f),s&1&&(a.l3i=i[0].l3.f),e.$set(a)},i(i){l||(J(e.$$.fragment,i),l=!0)},o(i){le(e.$$.fragment,i),l=!1},d(i){ye(e,i)}}}function Za(t){let e,l,n;return l=new I0({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const a={};s&1&&(a.importInstant=i[0].ri),s&1&&(a.exportInstant=i[0].re),s&1&&(a.importTotal=i[0].ric),s&1&&(a.exportTotal=i[0].rec),s&64&&(a.translations=i[6]),l.$set(a)},i(i){n||(J(l.$$.fragment,i),n=!0)},o(i){le(l.$$.fragment,i),n=!1},d(i){i&&P(e),ye(l)}}}function xa(t){let e,l,n;return l=new j0({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const a={};s&2&&(a.sysinfo=i[1]),s&1&&(a.data=i[0].ea),s&1&&(a.currency=i[0].pc),s&1&&(a.hasExport=i[0].om>0||i[0].e>0),s&64&&(a.translations=i[6]),l.$set(a)},i(i){n||(J(l.$$.fragment,i),n=!0)},o(i){le(l.$$.fragment,i),n=!1},d(i){i&&P(e),ye(l)}}}function eo(t){var i;let e,l,n;return l=new e1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt h-64")},m(s,a){C(s,e,a),Me(l,e,null),n=!0},p(s,a){var r;const f={};a&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),a&128&&(f.tariffData=s[7]),a&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),ye(l)}}}function to(t){var i;let e,l,n;return l=new f1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt gwf")},m(s,a){C(s,e,a),Me(l,e,null),n=!0},p(s,a){var r;const f={};a&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),ye(l)}}}function lo(t){var i;let e,l,n;return l=new H0({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt gwf")},m(s,a){C(s,e,a),Me(l,e,null),n=!0},p(s,a){var r;const f={};a&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),a&4&&(f.json=s[2]),a&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),ye(l)}}}function no(t){var i;let e,l,n;return l=new K0({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt gwf")},m(s,a){C(s,e,a),Me(l,e,null),n=!0},p(s,a){var r;const f={};a&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),a&8&&(f.json=s[3]),a&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),ye(l)}}}function io(t){var i;let e,l,n;return l=new G0({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt gwf")},m(s,a){C(s,e,a),Me(l,e,null),n=!0},p(s,a){var r;const f={};a&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),a&16&&(f.json=s[4]),a&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),ye(l)}}}function so(t){var i;let e,l,n;return l=new X0({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),Se(l.$$.fragment),u(e,"class","cnt gwf")},m(s,a){C(s,e,a),Me(l,e,null),n=!0},p(s,a){var r;const f={};a&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),a&32&&(f.json=s[5]),l.$set(f)},i(s){n||(J(l.$$.fragment,s),n=!0)},o(s){le(l.$$.fragment,s),n=!1},d(s){s&&P(e),ye(l)}}}function m1(t){let e,l=zt(t[1].ui.i,t[0].i),n,i=zt(t[1].ui.e,t[0].om||t[0].e>0),s,a=zt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=zt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=zt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),d,_=zt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),h,v=zt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),y,M=zt(t[1].ui.c,t[0].ea),k,T=zt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),j,F=zt(t[1].ui.l,t[0].hm==1),N,D=zt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),A,U=zt(t[1].ui.d,t[3]),L,K=zt(t[1].ui.m,t[4]),O,H=zt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),V,B=l&&Wa(t),G=i&&za(t),Y=a&&Ka(t),R=r&&Va(t),$=m&&Ya(t),Q=_&&Xa(t),te=v&&Za(t),W=M&&xa(t),X=T&&eo(t),re=F&&to(t),fe=D&&lo(t),oe=U&&no(t),_e=K&&io(t),ne=H&&so(t);return{c(){e=p("div"),B&&B.c(),n=g(),G&&G.c(),s=g(),Y&&Y.c(),f=g(),R&&R.c(),c=g(),$&&$.c(),d=g(),Q&&Q.c(),h=g(),te&&te.c(),y=g(),W&&W.c(),k=g(),X&&X.c(),j=g(),re&&re.c(),N=g(),fe&&fe.c(),A=g(),oe&&oe.c(),L=g(),_e&&_e.c(),O=g(),ne&&ne.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Z,x){C(Z,e,x),B&&B.m(e,null),o(e,n),G&&G.m(e,null),o(e,s),Y&&Y.m(e,null),o(e,f),R&&R.m(e,null),o(e,c),$&&$.m(e,null),o(e,d),Q&&Q.m(e,null),o(e,h),te&&te.m(e,null),o(e,y),W&&W.m(e,null),o(e,k),X&&X.m(e,null),o(e,j),re&&re.m(e,null),o(e,N),fe&&fe.m(e,null),o(e,A),oe&&oe.m(e,null),o(e,L),_e&&_e.m(e,null),o(e,O),ne&&ne.m(e,null),V=!0},p(Z,[x]){x&3&&(l=zt(Z[1].ui.i,Z[0].i)),l?B?(B.p(Z,x),x&3&&J(B,1)):(B=Wa(Z),B.c(),J(B,1),B.m(e,n)):B&&(bt(),le(B,1,1,()=>{B=null}),vt()),x&3&&(i=zt(Z[1].ui.e,Z[0].om||Z[0].e>0)),i?G?(G.p(Z,x),x&3&&J(G,1)):(G=za(Z),G.c(),J(G,1),G.m(e,s)):G&&(bt(),le(G,1,1,()=>{G=null}),vt()),x&3&&(a=zt(Z[1].ui.v,Z[0].l1&&(Z[0].l1.u>100||Z[0].l2.u>100||Z[0].l3.u>100))),a?Y?(Y.p(Z,x),x&3&&J(Y,1)):(Y=Ka(Z),Y.c(),J(Y,1),Y.m(e,f)):Y&&(bt(),le(Y,1,1,()=>{Y=null}),vt()),x&3&&(r=zt(Z[1].ui.a,Z[0].l1&&(Z[0].l1.i>.01||Z[0].l2.i>.01||Z[0].l3.i>.01))),r?R?(R.p(Z,x),x&3&&J(R,1)):(R=Va(Z),R.c(),J(R,1),R.m(e,c)):R&&(bt(),le(R,1,1,()=>{R=null}),vt()),x&3&&(m=zt(Z[1].ui.h,Z[0].l1&&(Z[0].l1.p>.01||Z[0].l2.p>.01||Z[0].l3.p>.01||Z[0].l1.q>.01||Z[0].l2.q>.01||Z[0].l3.q>.01))),m?$?($.p(Z,x),x&3&&J($,1)):($=Ya(Z),$.c(),J($,1),$.m(e,d)):$&&(bt(),le($,1,1,()=>{$=null}),vt()),x&3&&(_=zt(Z[1].ui.f,Z[0].l1&&(Z[0].l1.f>.01||Z[0].l2.f>.01||Z[0].l3.f>.01))),_?Q?(Q.p(Z,x),x&3&&J(Q,1)):(Q=Xa(Z),Q.c(),J(Q,1),Q.m(e,h)):Q&&(bt(),le(Q,1,1,()=>{Q=null}),vt()),x&3&&(v=zt(Z[1].ui.r,Z[0].ri>0||Z[0].re>0||Z[0].ric>0||Z[0].rec>0)),v?te?(te.p(Z,x),x&3&&J(te,1)):(te=Za(Z),te.c(),J(te,1),te.m(e,y)):te&&(bt(),le(te,1,1,()=>{te=null}),vt()),x&3&&(M=zt(Z[1].ui.c,Z[0].ea)),M?W?(W.p(Z,x),x&3&&J(W,1)):(W=xa(Z),W.c(),J(W,1),W.m(e,k)):W&&(bt(),le(W,1,1,()=>{W=null}),vt()),x&3&&(T=zt(Z[1].ui.t,Z[0].pr&&(Z[0].pr.startsWith("NO")||Z[0].pr.startsWith("10YNO")||Z[0].pr.startsWith("10Y1001A1001A4")))),T?X?(X.p(Z,x),x&3&&J(X,1)):(X=eo(Z),X.c(),J(X,1),X.m(e,j)):X&&(bt(),le(X,1,1,()=>{X=null}),vt()),x&3&&(F=zt(Z[1].ui.l,Z[0].hm==1)),F?re?(re.p(Z,x),x&3&&J(re,1)):(re=to(Z),re.c(),J(re,1),re.m(e,N)):re&&(bt(),le(re,1,1,()=>{re=null}),vt()),x&3&&(D=zt(Z[1].ui.p,Z[0].pe&&!Number.isNaN(Z[0].p))),D?fe?(fe.p(Z,x),x&3&&J(fe,1)):(fe=lo(Z),fe.c(),J(fe,1),fe.m(e,A)):fe&&(bt(),le(fe,1,1,()=>{fe=null}),vt()),x&10&&(U=zt(Z[1].ui.d,Z[3])),U?oe?(oe.p(Z,x),x&10&&J(oe,1)):(oe=no(Z),oe.c(),J(oe,1),oe.m(e,L)):oe&&(bt(),le(oe,1,1,()=>{oe=null}),vt()),x&18&&(K=zt(Z[1].ui.m,Z[4])),K?_e?(_e.p(Z,x),x&18&&J(_e,1)):(_e=io(Z),_e.c(),J(_e,1),_e.m(e,O)):_e&&(bt(),le(_e,1,1,()=>{_e=null}),vt()),x&35&&(H=zt(Z[1].ui.s,Z[0].t&&Z[0].t!=-127&&Z[5].c>1)),H?ne?(ne.p(Z,x),x&35&&J(ne,1)):(ne=so(Z),ne.c(),J(ne,1),ne.m(e,null)):ne&&(bt(),le(ne,1,1,()=>{ne=null}),vt())},i(Z){V||(J(B),J(G),J(Y),J(R),J($),J(Q),J(te),J(W),J(X),J(re),J(fe),J(oe),J(_e),J(ne),V=!0)},o(Z){le(B),le(G),le(Y),le(R),le($),le(Q),le(te),le(W),le(X),le(re),le(fe),le(oe),le(_e),le(ne),V=!1},d(Z){Z&&P(e),B&&B.d(),G&&G.d(),Y&&Y.d(),R&&R.d(),$&&$.d(),Q&&Q.d(),te&&te.d(),W&&W.d(),X&&X.d(),re&&re.d(),fe&&fe.d(),oe&&oe.d(),_e&&_e.d(),ne&&ne.d()}}}function _1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:a={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,d,_,h,v,y,M;return t.$$set=k=>{"data"in k&&l(0,n=k.data),"sysinfo"in k&&l(1,i=k.sysinfo),"prices"in k&&l(2,s=k.prices),"dayPlot"in k&&l(3,a=k.dayPlot),"monthPlot"in k&&l(4,f=k.monthPlot),"temperatures"in k&&l(5,r=k.temperatures),"translations"in k&&l(6,c=k.translations),"tariffData"in k&&l(7,m=k.tariffData)},t.$$.update=()=>{var k,T,j,F,N,D,A,U,L,K,O,H,V,B,G;t.$$.dirty&1793&&(l(11,d=fl((n==null?void 0:n.ic)*1e3,"Wh")),l(12,_=fl((n==null?void 0:n.ec)*1e3,"Wh")),((k=n==null?void 0:n.l1)==null?void 0:k.u)==0&&((T=n==null?void 0:n.l2)==null?void 0:T.u)==0&&((j=n==null?void 0:n.l3)==null?void 0:j.u)==0?l(8,v=l(9,y=l(10,M=l(13,h=!0)))):(l(8,v=((F=n==null?void 0:n.l1)==null?void 0:F.u)>0||((N=n==null?void 0:n.l1)==null?void 0:N.i)>0||((D=n==null?void 0:n.l1)==null?void 0:D.p)>0||((A=n==null?void 0:n.l1)==null?void 0:A.q)>0),l(9,y=((U=n==null?void 0:n.l2)==null?void 0:U.u)>0||((L=n==null?void 0:n.l2)==null?void 0:L.i)>0||((K=n==null?void 0:n.l2)==null?void 0:K.p)>0||((O=n==null?void 0:n.l2)==null?void 0:O.q)>0),l(10,M=((H=n==null?void 0:n.l3)==null?void 0:H.u)>0||((V=n==null?void 0:n.l3)==null?void 0:V.i)>0||((B=n==null?void 0:n.l3)==null?void 0:B.p)>0||((G=n==null?void 0:n.l3)==null?void 0:G.q)>0),l(13,h=v&&y&&M)))},[n,i,s,a,f,r,c,m,v,y,M,d,_,h]}class vi extends Tt{constructor(e){super(),Ct(this,e,_1,m1,Nt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Ki={};const hn=nl(Ki);async function Qf(){Ki=await(await fetch("configuration.json")).json(),hn.set(Ki)}let $i={};const Zf=nl($i);async function p1(){$i=await(await fetch("priceconfig.json")).json(),Zf.set($i)}function ao(t){let e,l,n=t[1]&&oo(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){C(i,e,s),o(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=oo(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&P(e),n&&n.d()}}}function oo(t){let e,l;return{c(){e=p("div"),l=w(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){C(n,e,i),o(e,l)},p(n,i){i&2&&I(l,n[1])},d(n){n&&P(e)}}}function d1(t){let e,l=t[0]&&ao(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=ao(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(n){n&&P(e),l&&l.d(n)}}}function h1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class ml extends Tt{constructor(e){super(),Ct(this,e,h1,d1,Nt,{active:0,message:1})}}function ro(t,e,l){const n=t.slice();return n[1]=e[l],n}function fo(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=w("Europe/"),i=w(n),e.__value="Europe/"+t[1],ee(e,e.__value)},m(s,a){C(s,e,a),o(e,l),o(e,i)},p:Ue,d(s){s&&P(e)}}}function g1(t){let e,l,n,i=Ye(t[0]),s=[];for(let a=0;a<i.length;a+=1)s[a]=fo(ro(t,i,a));return{c(){e=p("option"),e.textContent="GMT",l=g();for(let a=0;a<s.length;a+=1)s[a].c();n=tl(),e.__value="GMT",ee(e,e.__value)},m(a,f){C(a,e,f),C(a,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(a,f);C(a,n,f)},p(a,[f]){if(f&1){i=Ye(a[0]);let r;for(r=0;r<i.length;r+=1){const c=ro(a,i,r);s[r]?s[r].p(c,f):(s[r]=fo(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ue,o:Ue,d(a){a&&(P(e),P(l),P(n)),Qt(s,a)}}}function b1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class v1 extends Tt{constructor(e){super(),Ct(this,e,b1,g1,Nt,{})}}var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(k1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(S,b){var E;return typeof Object.create=="function"?E=Object.create(S):(l.prototype=S,E=new l,l.prototype=null),b&&f(!0,E,b),E}function a(S,b,E,q){var z=this;return typeof S!="string"&&(q=E,E=b,b=S,S=null),typeof b!="function"&&(q=E,E=b,b=function(){return z.apply(this,arguments)}),f(!1,b,z,q),b.prototype=s(z.prototype,E),b.prototype.constructor=b,b.class_=S||z.class_,b.super_=z,b}function f(S,b,E){E=i.call(arguments,2);for(var q,z,ie=0,se=E.length;ie<se;ie++){z=E[ie];for(q in z)(!S||n.call(z,q))&&(b[q]=z[q])}}var r=a;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,d=m,_=d.extend(function(S,b,E){this.qrious=S,this.element=b,this.element.qrious=S,this.enabled=!!E},{draw:function(S){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(S){var b=this.qrious,E=b.padding||0,q=Math.floor((b.size-E*2)/S.width);return Math.max(1,q)},getOffset:function(S){var b=this.qrious,E=b.padding;if(E!=null)return E;var q=this.getModuleSize(S),z=Math.floor((b.size-q*S.width)/2);return Math.max(0,z)},render:function(S){this.enabled&&(this.resize(),this.reset(),this.draw(S))},reset:function(){},resize:function(){}}),h=_,v=h.extend({draw:function(S){var b,E,q=this.qrious,z=this.getModuleSize(S),ie=this.getOffset(S),se=this.element.getContext("2d");for(se.fillStyle=q.foreground,se.globalAlpha=q.foregroundAlpha,b=0;b<S.width;b++)for(E=0;E<S.width;E++)S.buffer[E*S.width+b]&&se.fillRect(z*b+ie,z*E+ie,z,z)},reset:function(){var S=this.qrious,b=this.element.getContext("2d"),E=S.size;b.lineWidth=1,b.clearRect(0,0,E,E),b.fillStyle=S.background,b.globalAlpha=S.backgroundAlpha,b.fillRect(0,0,E,E)},resize:function(){var S=this.element;S.width=S.height=this.qrious.size}}),y=v,M=d.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),k=M,T=d.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),j=T,F=d.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),N=F,D=d.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),A=D,U=d.extend(function(S){var b,E,q,z,ie,se=S.value.length;for(this._badness=[],this._level=j.LEVELS[S.level],this._polynomial=[],this._value=S.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,q=(this._level-1)*4+(this._version-1)*16,z=j.BLOCKS[q++],ie=j.BLOCKS[q++],b=j.BLOCKS[q++],E=j.BLOCKS[q],q=b*(z+ie)+ie-3+(this._version<=9),!(se<=q)););this._dataBlock=b,this._eccBlock=E,this._neccBlock1=z,this._neccBlock2=ie;var me=this.width=17+4*this._version;this.buffer=U._createArray(me*me),this._ecc=U._createArray(b+(b+E)*(z+ie)+ie),this._mask=U._createArray((me*(me+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+me*(me-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(se),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(S,b){var E,q=this.buffer,z=this.width;for(q[S+z*b]=1,E=-2;E<2;E++)q[S+E+z*(b-2)]=1,q[S-2+z*(b+E+1)]=1,q[S+2+z*(b+E)]=1,q[S+E+1+z*(b+2)]=1;for(E=0;E<2;E++)this._setMask(S-1,b+E),this._setMask(S+1,b-E),this._setMask(S-E,b-1),this._setMask(S+E,b+1)},_appendData:function(S,b,E,q){var z,ie,se,me=this._polynomial,ae=this._stringBuffer;for(ie=0;ie<q;ie++)ae[E+ie]=0;for(ie=0;ie<b;ie++){if(z=N.LOG[ae[S+ie]^ae[E]],z!==255)for(se=1;se<q;se++)ae[E+se-1]=ae[E+se]^N.EXPONENT[U._modN(z+me[q-se])];else for(se=E;se<E+q;se++)ae[se]=ae[se+1];ae[E+q-1]=z===255?0:N.EXPONENT[U._modN(z+me[0])]}},_appendEccToData:function(){var S,b=0,E=this._dataBlock,q=this._calculateMaxLength(),z=this._eccBlock;for(S=0;S<this._neccBlock1;S++)this._appendData(b,E,q,z),b+=E,q+=z;for(S=0;S<this._neccBlock2;S++)this._appendData(b,E+1,q,z),b+=E+1,q+=z},_applyMask:function(S){var b,E,q,z,ie=this.buffer,se=this.width;switch(S){case 0:for(z=0;z<se;z++)for(q=0;q<se;q++)!(q+z&1)&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 1:for(z=0;z<se;z++)for(q=0;q<se;q++)!(z&1)&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 2:for(z=0;z<se;z++)for(b=0,q=0;q<se;q++,b++)b===3&&(b=0),!b&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 3:for(E=0,z=0;z<se;z++,E++)for(E===3&&(E=0),b=E,q=0;q<se;q++,b++)b===3&&(b=0),!b&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 4:for(z=0;z<se;z++)for(b=0,E=z>>1&1,q=0;q<se;q++,b++)b===3&&(b=0,E=!E),!E&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 5:for(E=0,z=0;z<se;z++,E++)for(E===3&&(E=0),b=0,q=0;q<se;q++,b++)b===3&&(b=0),!((q&z&1)+!(!b|!E))&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 6:for(E=0,z=0;z<se;z++,E++)for(E===3&&(E=0),b=0,q=0;q<se;q++,b++)b===3&&(b=0),!((q&z&1)+(b&&b===E)&1)&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break;case 7:for(E=0,z=0;z<se;z++,E++)for(E===3&&(E=0),b=0,q=0;q<se;q++,b++)b===3&&(b=0),!((b&&b===E)+(q+z&1)&1)&&!this._isMasked(q,z)&&(ie[q+z*se]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var S,b,E=this._eccBlock,q=this._polynomial;for(q[0]=1,S=0;S<E;S++){for(q[S+1]=1,b=S;b>0;b--)q[b]=q[b]?q[b-1]^N.EXPONENT[U._modN(N.LOG[q[b]]+S)]:q[b-1];q[0]=N.EXPONENT[U._modN(N.LOG[q[0]]+S)]}for(S=0;S<=E;S++)q[S]=N.LOG[q[S]]},_checkBadness:function(){var S,b,E,q,z,ie=0,se=this._badness,me=this.buffer,ae=this.width;for(z=0;z<ae-1;z++)for(q=0;q<ae-1;q++)(me[q+ae*z]&&me[q+1+ae*z]&&me[q+ae*(z+1)]&&me[q+1+ae*(z+1)]||!(me[q+ae*z]||me[q+1+ae*z]||me[q+ae*(z+1)]||me[q+1+ae*(z+1)]))&&(ie+=U.N2);var ue=0;for(z=0;z<ae;z++){for(E=0,se[0]=0,S=0,q=0;q<ae;q++)b=me[q+ae*z],S===b?se[E]++:se[++E]=1,S=b,ue+=S?1:-1;ie+=this._getBadness(E)}ue<0&&(ue=-ue);var de=0,ke=ue;for(ke+=ke<<2,ke<<=1;ke>ae*ae;)ke-=ae*ae,de++;for(ie+=de*U.N4,q=0;q<ae;q++){for(E=0,se[0]=0,S=0,z=0;z<ae;z++)b=me[q+ae*z],S===b?se[E]++:se[++E]=1,S=b;ie+=this._getBadness(E)}return ie},_convertBitStream:function(S){var b,E,q=this._ecc,z=this._version;for(E=0;E<S;E++)q[E]=this._value.charCodeAt(E);var ie=this._stringBuffer=q.slice(),se=this._calculateMaxLength();S>=se-2&&(S=se-2,z>9&&S--);var me=S;if(z>9){for(ie[me+2]=0,ie[me+3]=0;me--;)b=ie[me],ie[me+3]|=255&b<<4,ie[me+2]=b>>4;ie[2]|=255&S<<4,ie[1]=S>>4,ie[0]=64|S>>12}else{for(ie[me+1]=0,ie[me+2]=0;me--;)b=ie[me],ie[me+2]|=255&b<<4,ie[me+1]=b>>4;ie[1]|=255&S<<4,ie[0]=64|S>>4}for(me=S+3-(z<10);me<se;)ie[me++]=236,ie[me++]=17},_getBadness:function(S){var b,E=0,q=this._badness;for(b=0;b<=S;b++)q[b]>=5&&(E+=U.N1+q[b]-5);for(b=3;b<S-1;b+=2)q[b-2]===q[b+2]&&q[b+2]===q[b-1]&&q[b-1]===q[b+1]&&q[b-1]*3===q[b]&&(q[b-3]===0||b+3>S||q[b-3]*3>=q[b]*4||q[b+3]*3>=q[b]*4)&&(E+=U.N3);return E},_finish:function(){this._stringBuffer=this.buffer.slice();var S,b,E=0,q=3e4;for(b=0;b<8&&(this._applyMask(b),S=this._checkBadness(),S<q&&(q=S,E=b),E!==7);b++)this.buffer=this._stringBuffer.slice();E!==b&&this._applyMask(E),q=j.FINAL_FORMAT[E+(this._level-1<<3)];var z=this.buffer,ie=this.width;for(b=0;b<8;b++,q>>=1)q&1&&(z[ie-1-b+ie*8]=1,b<6?z[8+ie*b]=1:z[8+ie*(b+1)]=1);for(b=0;b<7;b++,q>>=1)q&1&&(z[8+ie*(ie-7+b)]=1,b?z[6-b+ie*8]=1:z[7+ie*8]=1)},_interleaveBlocks:function(){var S,b,E=this._dataBlock,q=this._ecc,z=this._eccBlock,ie=0,se=this._calculateMaxLength(),me=this._neccBlock1,ae=this._neccBlock2,ue=this._stringBuffer;for(S=0;S<E;S++){for(b=0;b<me;b++)q[ie++]=ue[S+b*E];for(b=0;b<ae;b++)q[ie++]=ue[me*E+S+b*(E+1)]}for(b=0;b<ae;b++)q[ie++]=ue[me*E+S+b*(E+1)];for(S=0;S<z;S++)for(b=0;b<me+ae;b++)q[ie++]=ue[se+S+b*z];this._stringBuffer=q},_insertAlignments:function(){var S,b,E,q=this._version,z=this.width;if(q>1)for(S=k.BLOCK[q],E=z-7;;){for(b=z-7;b>S-3&&(this._addAlignment(b,E),!(b<S));)b-=S;if(E<=S+9)break;E-=S,this._addAlignment(6,E),this._addAlignment(E,6)}},_insertFinders:function(){var S,b,E,q,z=this.buffer,ie=this.width;for(S=0;S<3;S++){for(b=0,q=0,S===1&&(b=ie-7),S===2&&(q=ie-7),z[q+3+ie*(b+3)]=1,E=0;E<6;E++)z[q+E+ie*b]=1,z[q+ie*(b+E+1)]=1,z[q+6+ie*(b+E)]=1,z[q+E+1+ie*(b+6)]=1;for(E=1;E<5;E++)this._setMask(q+E,b+1),this._setMask(q+1,b+E+1),this._setMask(q+5,b+E),this._setMask(q+E+1,b+5);for(E=2;E<4;E++)z[q+E+ie*(b+2)]=1,z[q+2+ie*(b+E+1)]=1,z[q+4+ie*(b+E)]=1,z[q+E+1+ie*(b+4)]=1}},_insertTimingGap:function(){var S,b,E=this.width;for(b=0;b<7;b++)this._setMask(7,b),this._setMask(E-8,b),this._setMask(7,b+E-7);for(S=0;S<8;S++)this._setMask(S,7),this._setMask(S+E-8,7),this._setMask(S,E-8)},_insertTimingRowAndColumn:function(){var S,b=this.buffer,E=this.width;for(S=0;S<E-14;S++)S&1?(this._setMask(8+S,6),this._setMask(6,8+S)):(b[8+S+E*6]=1,b[6+E*(8+S)]=1)},_insertVersion:function(){var S,b,E,q,z=this.buffer,ie=this._version,se=this.width;if(ie>6)for(S=A.BLOCK[ie-7],b=17,E=0;E<6;E++)for(q=0;q<3;q++,b--)1&(b>11?ie>>b-12:S>>b)?(z[5-E+se*(2-q+se-11)]=1,z[2-q+se-11+se*(5-E)]=1):(this._setMask(5-E,2-q+se-11),this._setMask(2-q+se-11,5-E))},_isMasked:function(S,b){var E=U._getMaskBit(S,b);return this._mask[E]===1},_pack:function(){var S,b,E,q=1,z=1,ie=this.width,se=ie-1,me=ie-1,ae=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(b=0;b<ae;b++)for(S=this._stringBuffer[b],E=0;E<8;E++,S<<=1){128&S&&(this.buffer[se+ie*me]=1);do z?se--:(se++,q?me!==0?me--:(se-=2,q=!q,se===6&&(se--,me=9)):me!==ie-1?me++:(se-=2,q=!q,se===6&&(se--,me-=8))),z=!z;while(this._isMasked(se,me))}},_reverseMask:function(){var S,b,E=this.width;for(S=0;S<9;S++)this._setMask(S,8);for(S=0;S<8;S++)this._setMask(S+E-8,8),this._setMask(8,S);for(b=0;b<7;b++)this._setMask(8,b+E-7)},_setMask:function(S,b){var E=U._getMaskBit(S,b);this._mask[E]=1},_syncMask:function(){var S,b,E=this.width;for(b=0;b<E;b++)for(S=0;S<=b;S++)this.buffer[S+E*b]&&this._setMask(S,b)}},{_createArray:function(S){var b,E=[];for(b=0;b<S;b++)E[b]=0;return E},_getMaskBit:function(S,b){var E;return S>b&&(E=S,S=b,b=E),E=b,E+=b*b,E>>=1,E+=S,E},_modN:function(S){for(;S>=255;)S-=255,S=(S>>8)+(S&255);return S},N1:3,N2:3,N3:40,N4:10}),L=U,K=h.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var S=this.element;S.width=S.height=this.qrious.size}}),O=K,H=d.extend(function(S,b,E,q){this.name=S,this.modifiable=!!b,this.defaultValue=E,this._valueTransformer=q},{transform:function(S){var b=this._valueTransformer;return typeof b=="function"?b(S,this):S}}),V=H,B=d.extend(null,{abs:function(S){return S!=null?Math.abs(S):null},hasOwn:function(S,b){return Object.prototype.hasOwnProperty.call(S,b)},noop:function(){},toUpperCase:function(S){return S!=null?S.toUpperCase():null}}),G=B,Y=d.extend(function(S){this.options={},S.forEach(function(b){this.options[b.name]=b},this)},{exists:function(S){return this.options[S]!=null},get:function(S,b){return Y._get(this.options[S],b)},getAll:function(S){var b,E=this.options,q={};for(b in E)G.hasOwn(E,b)&&(q[b]=Y._get(E[b],S));return q},init:function(S,b,E){typeof E!="function"&&(E=G.noop);var q,z;for(q in this.options)G.hasOwn(this.options,q)&&(z=this.options[q],Y._set(z,z.defaultValue,b),Y._createAccessor(z,b,E));this._setAll(S,b,!0)},set:function(S,b,E){return this._set(S,b,E)},setAll:function(S,b){return this._setAll(S,b)},_set:function(S,b,E,q){var z=this.options[S];if(!z)throw new Error("Invalid option: "+S);if(!z.modifiable&&!q)throw new Error("Option cannot be modified: "+S);return Y._set(z,b,E)},_setAll:function(S,b,E){if(!S)return!1;var q,z=!1;for(q in S)G.hasOwn(S,q)&&this._set(q,S[q],b,E)&&(z=!0);return z}},{_createAccessor:function(S,b,E){var q={get:function(){return Y._get(S,b)}};S.modifiable&&(q.set=function(z){Y._set(S,z,b)&&E(z,S)}),Object.defineProperty(b,S.name,q)},_get:function(S,b){return b["_"+S.name]},_set:function(S,b,E){var q="_"+S.name,z=E[q],ie=S.transform(b??S.defaultValue);return E[q]=ie,ie!==z}}),R=Y,$=d.extend(function(){this._services={}},{getService:function(S){var b=this._services[S];if(!b)throw new Error("Service is not being managed with name: "+S);return b},setService:function(S,b){if(this._services[S])throw new Error("Service is already managed with name: "+S);b&&(this._services[S]=b)}}),Q=$,te=new R([new V("background",!0,"white"),new V("backgroundAlpha",!0,1,G.abs),new V("element"),new V("foreground",!0,"black"),new V("foregroundAlpha",!0,1,G.abs),new V("level",!0,"L",G.toUpperCase),new V("mime",!0,"image/png"),new V("padding",!0,null,G.abs),new V("size",!0,100,G.abs),new V("value",!0,"")]),W=new Q,X=d.extend(function(S){te.init(S,this,this.update.bind(this));var b=te.get("element",this),E=W.getService("element"),q=b&&E.isCanvas(b)?b:E.createCanvas(),z=b&&E.isImage(b)?b:E.createImage();this._canvasRenderer=new y(this,q,!0),this._imageRenderer=new O(this,z,z===b),this.update()},{get:function(){return te.getAll(this)},set:function(S){te.setAll(S,this)&&this.update()},toDataURL:function(S){return this.canvas.toDataURL(S||this.mime)},update:function(){var S=new L({level:this.level,value:this.value});this._canvasRenderer.render(S),this._imageRenderer.render(S)}},{use:function(S){W.setService(S.getName(),S)}});Object.defineProperties(X.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var re=X,fe=re,oe=d.extend({getName:function(){}}),_e=oe,ne=_e.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(S){},isImage:function(S){}}),Z=ne,x=Z.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(S){return S instanceof HTMLCanvasElement},isImage:function(S){return S instanceof HTMLImageElement}}),be=x;fe.use(new be);var Ne=fe;return Ne})})(w1);const Vi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function M1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const ms=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function xf(t){return ms.find(e=>e.id===t)}function eu(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Vi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=M1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function _n(t){var e,l,n,i,s,a,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Vi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((a=t==null?void 0:t.m)==null?void 0:a.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Vi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function y1(t,e){var n,i,s,a,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((a=e.multipliers)==null?void 0:a.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function uo(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function co(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function mo(t,e,l){const n=t.slice();return n[103]=e[l],n[104]=e,n[105]=l,n}function _o(t,e,l){const n=t.slice();return n[106]=e[l],n[108]=l,n}function S1(t,e,l){const n=t.slice();return n[109]=e[l],n}function N1(t,e,l){const n=t.slice();return n[112]=e[l],n}function po(t,e,l){const n=t.slice();return n[115]=e[l],n}function P1(t,e,l){const n=t.slice();return n[118]=e[l],n}function ho(t,e,l){const n=t.slice();return n[121]=e[l],n}function go(t){var ul,Te,ce,Bt,De,yt,rl,hl,gl,bl,vl,kl,wl,Dl,Ol,Rl,Re,it,Fl,jl,Bl,Ul,Hl,Wl,zl,Kl,$l,Vl,Gl,Yl;let e,l,n=(((Te=(ul=t[2].conf)==null?void 0:ul.general)==null?void 0:Te.title)??"General")+"",i,s,a,f,r,c,m,d,_,h=(((Bt=(ce=t[2].conf)==null?void 0:ce.general)==null?void 0:Bt.hostname)??"Hostname")+"",v,y,M,k,T,j,F=(((yt=(De=t[2].conf)==null?void 0:De.general)==null?void 0:yt.timezone)??"Time zone")+"",N,D,A,U,L,K,O,H=(((hl=(rl=t[2].conf)==null?void 0:rl.general)==null?void 0:hl.language)??((bl=(gl=t[2].conf)==null?void 0:gl.ui)==null?void 0:bl.lang)??"Language")+"",V,B,G,Y,R,$,Q,te,W,X,re=(((kl=(vl=t[2].conf)==null?void 0:vl.price)==null?void 0:kl.region)??"Price region")+"",fe,oe,_e,ne,Z,x,be,Ne,S,b,E,q,z,ie,se,me,ae,ue,de,ke,Ae,Ee,Fe,Ve,Je,Qe,Ie,ot,he,Oe,kt,At,St,Ze,mt=(((Dl=(wl=t[2].conf)==null?void 0:wl.price)==null?void 0:Dl.currency)??"Currency")+"",Zt,wt,Dt,Pt,Rt,et,ct,Pe,je,Ge,$e,xe,ve=(((Rl=(Ol=t[2].conf)==null?void 0:Ol.price)==null?void 0:Rl.enabled)??"Enabled")+"",qe,Et,dt,Be,rt=(((Fl=(it=(Re=t[2].conf)==null?void 0:Re.general)==null?void 0:it.security)==null?void 0:Fl.title)??"Security")+"",Xe,qt,Ht,We,we,Ce=(((Ul=(Bl=(jl=t[2].conf)==null?void 0:jl.general)==null?void 0:Bl.security)==null?void 0:Ul.none)??"None")+"",ze,tt,nt=(((zl=(Wl=(Hl=t[2].conf)==null?void 0:Hl.general)==null?void 0:Wl.security)==null?void 0:zl.conf)??"Conf")+"",_t,Kt,Ft=(((Vl=($l=(Kl=t[2].conf)==null?void 0:Kl.general)==null?void 0:$l.security)==null?void 0:Vl.all)??"All")+"",It,il,Lt,Ke,jt=(((Yl=(Gl=t[2].conf)==null?void 0:Gl.general)==null?void 0:Yl.context)??"Context")+"",$t,ht,st,Mt,Wt,pe,lt,He;L=new v1({});let sl=Ye(t[4]),Vt=[];for(let Le=0;Le<sl.length;Le+=1)Vt[Le]=bo(ho(t,sl,Le));let xt=!t[3].p.t&&vo(),cl=Ye(["NOK","SEK","DKK","EUR","CHF"]),ol=[];for(let Le=0;Le<5;Le+=1)ol[Le]=C1(P1(t,cl,Le));ct=new Ml({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[T1]},$$scope:{ctx:t}}});let Yt=t[3].p.e&&t[0].chip!="esp8266"&&ko(t),Jt=t[3].g.s>0&&wo(t);return{c(){var Le,pt;e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),d=p("div"),_=p("div"),v=w(h),y=p("br"),M=g(),k=p("input"),T=g(),j=p("div"),N=w(F),D=p("br"),A=g(),U=p("select"),Se(L.$$.fragment),K=g(),O=p("div"),V=w(H),B=p("br"),G=g(),Y=p("select");for(let Xt=0;Xt<Vt.length;Xt+=1)Vt[Xt].c();R=g(),$=p("input"),Q=g(),te=p("div"),W=p("div"),X=p("div"),fe=w(re),oe=p("br"),_e=g(),ne=p("select"),Z=p("optgroup"),xt&&xt.c(),x=p("option"),x.textContent="NO1",be=p("option"),be.textContent="NO2",Ne=p("option"),Ne.textContent="NO3",S=p("option"),S.textContent="NO4",b=p("option"),b.textContent="NO5",E=p("optgroup"),q=p("option"),q.textContent="SE1",z=p("option"),z.textContent="SE2",ie=p("option"),ie.textContent="SE3",se=p("option"),se.textContent="SE4",me=p("optgroup"),ae=p("option"),ae.textContent="DK1",ue=p("option"),ue.textContent="DK2",de=p("option"),de.textContent="Austria",ke=p("option"),ke.textContent="Belgium",Ae=p("option"),Ae.textContent="Czech Republic",Ee=p("option"),Ee.textContent="Estonia",Fe=p("option"),Fe.textContent="Finland",Ve=p("option"),Ve.textContent="France",Je=p("option"),Je.textContent="Germany",Qe=p("option"),Qe.textContent="Great Britain",Ie=p("option"),Ie.textContent="Latvia",ot=p("option"),ot.textContent="Lithuania",he=p("option"),he.textContent="Netherland",Oe=p("option"),Oe.textContent="Poland",kt=p("option"),kt.textContent="Slovenia",At=p("option"),At.textContent="Switzerland",St=g(),Ze=p("div"),Zt=w(mt),wt=p("br"),Dt=g(),Pt=p("select");for(let Xt=0;Xt<5;Xt+=1)ol[Xt].c();Rt=g(),et=p("div"),Se(ct.$$.fragment),Pe=g(),je=p("div"),Ge=p("label"),$e=p("input"),xe=g(),qe=w(ve),Et=g(),Yt&&Yt.c(),dt=g(),Be=p("div"),Xe=w(rt),qt=p("br"),Ht=g(),We=p("select"),we=p("option"),ze=w(Ce),tt=p("option"),_t=w(nt),Kt=p("option"),It=w(Ft),il=g(),Jt&&Jt.c(),Lt=g(),Ke=p("div"),$t=w(jt),ht=p("br"),st=g(),Mt=p("input"),u(l,"class","text-sm"),u(a,"href",Il("General-configuration")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(k,"name","gh"),u(k,"type","text"),u(k,"class","in-f w-full"),u(k,"pattern",pi),u(U,"name","gt"),u(U,"class","in-l w-full"),t[3].g.t===void 0&&Gt(()=>t[29].call(U)),u(d,"class","flex"),u(m,"class","my-1"),u(Y,"name","ulang"),u(Y,"class","in-s"),t[3].u.lang===void 0&&Gt(()=>t[30].call(Y)),u(O,"class","my-1"),u($,"type","hidden"),u($,"name","p"),$.value="true",x.__value="10YNO-1--------2",ee(x,x.__value),be.__value="10YNO-2--------T",ee(be,be.__value),Ne.__value="10YNO-3--------J",ee(Ne,Ne.__value),S.__value="10YNO-4--------9",ee(S,S.__value),b.__value="10Y1001A1001A48H",ee(b,b.__value),u(Z,"label","Norway"),q.__value="10Y1001A1001A44P",ee(q,q.__value),z.__value="10Y1001A1001A45N",ee(z,z.__value),ie.__value="10Y1001A1001A46L",ee(ie,ie.__value),se.__value="10Y1001A1001A47J",ee(se,se.__value),u(E,"label","Sweden"),ae.__value="10YDK-1--------W",ee(ae,ae.__value),ue.__value="10YDK-2--------M",ee(ue,ue.__value),u(me,"label","Denmark"),de.__value="10YAT-APG------L",ee(de,de.__value),ke.__value="10YBE----------2",ee(ke,ke.__value),Ae.__value="10YCZ-CEPS-----N",ee(Ae,Ae.__value),Ee.__value="10Y1001A1001A39I",ee(Ee,Ee.__value),Fe.__value="10YFI-1--------U",ee(Fe,Fe.__value),Ve.__value="10YFR-RTE------C",ee(Ve,Ve.__value),Je.__value="10Y1001A1001A83F",ee(Je,Je.__value),Qe.__value="10YGB----------A",ee(Qe,Qe.__value),Ie.__value="10YLV-1001A00074",ee(Ie,Ie.__value),ot.__value="10YLT-1001A0008Q",ee(ot,ot.__value),he.__value="10YNL----------L",ee(he,he.__value),Oe.__value="10YPL-AREA-----S",ee(Oe,Oe.__value),kt.__value="10YSI-ELES-----O",ee(kt,kt.__value),At.__value="10YCH-SWISSGRIDZ",ee(At,At.__value),u(ne,"name","pr"),u(ne,"class","in-f w-full"),t[3].p.r===void 0&&Gt(()=>t[31].call(ne)),u(X,"class","w-full"),u(Pt,"name","pc"),u(Pt,"class","in-l"),t[3].p.c===void 0&&Gt(()=>t[32].call(Pt)),u(W,"class","flex"),u(te,"class","my-1"),u(et,"class","my-1"),u($e,"type","checkbox"),u($e,"name","pe"),$e.__value="true",ee($e,$e.__value),u($e,"class","rounded mb-1"),u(je,"class","my-1"),we.__value=0,ee(we,we.__value),tt.__value=1,ee(tt,tt.__value),Kt.__value=2,ee(Kt,Kt.__value),u(We,"name","gs"),u(We,"class","in-s"),t[3].g.s===void 0&&Gt(()=>t[35].call(We)),u(Be,"class","my-1"),u(Mt,"name","gc"),u(Mt,"type","text"),u(Mt,"pattern",pi),u(Mt,"placeholder",Wt=((pt=(Le=t[2].conf)==null?void 0:Le.general)==null?void 0:pt.context_placeholder)??"/"),u(Mt,"class","in-s"),u(Mt,"maxlength","36"),u(Ke,"class","my-1"),u(e,"class","cnt")},m(Le,pt){C(Le,e,pt),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m),o(m,d),o(d,_),o(_,v),o(_,y),o(_,M),o(_,k),ee(k,t[3].g.h),o(d,T),o(d,j),o(j,N),o(j,D),o(j,A),o(j,U),Me(L,U,null),at(U,t[3].g.t,!0),o(e,K),o(e,O),o(O,V),o(O,B),o(O,G),o(O,Y);for(let Xt=0;Xt<Vt.length;Xt+=1)Vt[Xt]&&Vt[Xt].m(Y,null);at(Y,t[3].u.lang,!0),o(e,R),o(e,$),o(e,Q),o(e,te),o(te,W),o(W,X),o(X,fe),o(X,oe),o(X,_e),o(X,ne),o(ne,Z),xt&&xt.m(Z,null),o(Z,x),o(Z,be),o(Z,Ne),o(Z,S),o(Z,b),o(ne,E),o(E,q),o(E,z),o(E,ie),o(E,se),o(ne,me),o(me,ae),o(me,ue),o(ne,de),o(ne,ke),o(ne,Ae),o(ne,Ee),o(ne,Fe),o(ne,Ve),o(ne,Je),o(ne,Qe),o(ne,Ie),o(ne,ot),o(ne,he),o(ne,Oe),o(ne,kt),o(ne,At),at(ne,t[3].p.r,!0),o(W,St),o(W,Ze),o(Ze,Zt),o(Ze,wt),o(Ze,Dt),o(Ze,Pt);for(let Xt=0;Xt<5;Xt+=1)ol[Xt]&&ol[Xt].m(Pt,null);at(Pt,t[3].p.c,!0),o(e,Rt),o(e,et),Me(ct,et,null),o(e,Pe),o(e,je),o(je,Ge),o(Ge,$e),$e.checked=t[3].p.e,o(Ge,xe),o(Ge,qe),o(je,Et),Yt&&Yt.m(je,null),o(e,dt),o(e,Be),o(Be,Xe),o(Be,qt),o(Be,Ht),o(Be,We),o(We,we),o(we,ze),o(We,tt),o(tt,_t),o(We,Kt),o(Kt,It),at(We,t[3].g.s,!0),o(e,il),Jt&&Jt.m(e,null),o(e,Lt),o(e,Ke),o(Ke,$t),o(Ke,ht),o(Ke,st),o(Ke,Mt),ee(Mt,t[3].g.c),pe=!0,lt||(He=[ge(k,"input",t[28]),ge(U,"change",t[29]),ge(Y,"change",t[30]),ge(Y,"change",t[23]),ge(ne,"change",t[31]),ge(ne,"change",t[26]),ge(Pt,"change",t[32]),ge($e,"change",t[33]),ge(We,"change",t[35]),ge(Mt,"input",t[38])],lt=!0)},p(Le,pt){var Jl,Xl,wn,Mn,yn,Sn,Nn,Pn,Cn,Tn,An,En,qn,Ln,In,ps,ds,hs,gs,bs,vs,ks,ws,Ms,ys,Ss,Ns,Ps,Cs,Ts,As,Es;if((!pe||pt[0]&4)&&n!==(n=(((Xl=(Jl=Le[2].conf)==null?void 0:Jl.general)==null?void 0:Xl.title)??"General")+"")&&I(i,n),(!pe||pt[0]&4)&&h!==(h=(((Mn=(wn=Le[2].conf)==null?void 0:wn.general)==null?void 0:Mn.hostname)??"Hostname")+"")&&I(v,h),pt[0]&8&&k.value!==Le[3].g.h&&ee(k,Le[3].g.h),(!pe||pt[0]&4)&&F!==(F=(((Sn=(yn=Le[2].conf)==null?void 0:yn.general)==null?void 0:Sn.timezone)??"Time zone")+"")&&I(N,F),pt[0]&8&&at(U,Le[3].g.t),(!pe||pt[0]&4)&&H!==(H=(((Pn=(Nn=Le[2].conf)==null?void 0:Nn.general)==null?void 0:Pn.language)??((Tn=(Cn=Le[2].conf)==null?void 0:Cn.ui)==null?void 0:Tn.lang)??"Language")+"")&&I(V,H),pt[0]&16){sl=Ye(Le[4]);let _l;for(_l=0;_l<sl.length;_l+=1){const qs=ho(Le,sl,_l);Vt[_l]?Vt[_l].p(qs,pt):(Vt[_l]=bo(qs),Vt[_l].c(),Vt[_l].m(Y,null))}for(;_l<Vt.length;_l+=1)Vt[_l].d(1);Vt.length=sl.length}pt[0]&8&&at(Y,Le[3].u.lang),(!pe||pt[0]&4)&&re!==(re=(((En=(An=Le[2].conf)==null?void 0:An.price)==null?void 0:En.region)??"Price region")+"")&&I(fe,re),Le[3].p.t?xt&&(xt.d(1),xt=null):xt||(xt=vo(),xt.c(),xt.m(Z,x)),pt[0]&8&&at(ne,Le[3].p.r),(!pe||pt[0]&4)&&mt!==(mt=(((Ln=(qn=Le[2].conf)==null?void 0:qn.price)==null?void 0:Ln.currency)??"Currency")+"")&&I(Zt,mt),pt[0]&8&&at(Pt,Le[3].p.c);const Xt={};pt[0]&4|pt[4]&1&&(Xt.$$scope={dirty:pt,ctx:Le}),ct.$set(Xt),pt[0]&8&&($e.checked=Le[3].p.e),(!pe||pt[0]&4)&&ve!==(ve=(((ps=(In=Le[2].conf)==null?void 0:In.price)==null?void 0:ps.enabled)??"Enabled")+"")&&I(qe,ve),Le[3].p.e&&Le[0].chip!="esp8266"?Yt?Yt.p(Le,pt):(Yt=ko(Le),Yt.c(),Yt.m(je,null)):Yt&&(Yt.d(1),Yt=null),(!pe||pt[0]&4)&&rt!==(rt=(((gs=(hs=(ds=Le[2].conf)==null?void 0:ds.general)==null?void 0:hs.security)==null?void 0:gs.title)??"Security")+"")&&I(Xe,rt),(!pe||pt[0]&4)&&Ce!==(Ce=(((ks=(vs=(bs=Le[2].conf)==null?void 0:bs.general)==null?void 0:vs.security)==null?void 0:ks.none)??"None")+"")&&I(ze,Ce),(!pe||pt[0]&4)&&nt!==(nt=(((ys=(Ms=(ws=Le[2].conf)==null?void 0:ws.general)==null?void 0:Ms.security)==null?void 0:ys.conf)??"Conf")+"")&&I(_t,nt),(!pe||pt[0]&4)&&Ft!==(Ft=(((Ps=(Ns=(Ss=Le[2].conf)==null?void 0:Ss.general)==null?void 0:Ns.security)==null?void 0:Ps.all)??"All")+"")&&I(It,Ft),pt[0]&8&&at(We,Le[3].g.s),Le[3].g.s>0?Jt?Jt.p(Le,pt):(Jt=wo(Le),Jt.c(),Jt.m(e,Lt)):Jt&&(Jt.d(1),Jt=null),(!pe||pt[0]&4)&&jt!==(jt=(((Ts=(Cs=Le[2].conf)==null?void 0:Cs.general)==null?void 0:Ts.context)??"Context")+"")&&I($t,jt),(!pe||pt[0]&4&&Wt!==(Wt=((Es=(As=Le[2].conf)==null?void 0:As.general)==null?void 0:Es.context_placeholder)??"/"))&&u(Mt,"placeholder",Wt),pt[0]&8&&Mt.value!==Le[3].g.c&&ee(Mt,Le[3].g.c)},i(Le){pe||(J(L.$$.fragment,Le),J(ct.$$.fragment,Le),pe=!0)},o(Le){le(L.$$.fragment,Le),le(ct.$$.fragment,Le),pe=!1},d(Le){Le&&P(e),ye(L),Qt(Vt,Le),xt&&xt.d(),Qt(ol,Le),ye(ct),Yt&&Yt.d(),Jt&&Jt.d(),lt=!1,Ot(He)}}}function bo(t){let e,l=t[121].name+"",n,i;return{c(){e=p("option"),n=w(l),e.__value=i=t[121].code,ee(e,e.__value)},m(s,a){C(s,e,a),o(e,n)},p(s,a){a[0]&16&&l!==(l=s[121].name+"")&&I(n,l),a[0]&16&&i!==(i=s[121].code)&&(e.__value=i,ee(e,e.__value))},d(s){s&&P(e)}}}function vo(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",ee(e,e.__value),l.__value="NO2S",ee(l,l.__value),n.__value="NO3S",ee(n,n.__value),i.__value="NO4S",ee(i,i.__value),s.__value="NO5S",ee(s,s.__value)},m(a,f){C(a,e,f),C(a,l,f),C(a,n,f),C(a,i,f),C(a,s,f)},d(a){a&&(P(e),P(l),P(n),P(i),P(s))}}}function C1(t){let e;return{c(){e=p("option"),e.textContent=`${t[118]}`,e.__value=t[118],ee(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function T1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=w(e)},m(s,a){C(s,l,a)},p(s,a){var f,r;a[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&I(l,e)},d(s){s&&P(l)}}}function ko(t){let e,l,n,i,s;return{c(){var a,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(a=t[2].conf)==null?void 0:a.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",pi)},m(a,f){C(a,e,f),C(a,l,f),ee(l,t[3].p.t),i||(s=ge(l,"input",t[34]),i=!0)},p(a,f){var r,c;f[0]&4&&n!==(n=((c=(r=a[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&8&&l.value!==a[3].p.t&&ee(l,a[3].p.t)},d(a){a&&(P(e),P(l)),i=!1,s()}}}function wo(t){var M,k,T,j,F,N;let e,l=(((T=(k=(M=t[2].conf)==null?void 0:M.general)==null?void 0:k.security)==null?void 0:T.username)??"Username")+"",n,i,s,a,f,r,c=(((N=(F=(j=t[2].conf)==null?void 0:j.general)==null?void 0:F.security)==null?void 0:N.password)??"Password")+"",m,d,_,h,v,y;return{c(){e=p("div"),n=w(l),i=p("br"),s=g(),a=p("input"),f=g(),r=p("div"),m=w(c),d=p("br"),_=g(),h=p("input"),u(a,"name","gu"),u(a,"type","text"),u(a,"class","in-s"),u(a,"maxlength","36"),u(a,"pattern",en),u(e,"class","my-1"),u(h,"name","gp"),u(h,"type","password"),u(h,"class","in-s"),u(h,"maxlength","36"),u(h,"pattern",en),u(r,"class","my-1")},m(D,A){C(D,e,A),o(e,n),o(e,i),o(e,s),o(e,a),ee(a,t[3].g.u),C(D,f,A),C(D,r,A),o(r,m),o(r,d),o(r,_),o(r,h),ee(h,t[3].g.p),v||(y=[ge(a,"input",t[36]),ge(h,"input",t[37])],v=!0)},p(D,A){var U,L,K,O,H,V;A[0]&4&&l!==(l=(((K=(L=(U=D[2].conf)==null?void 0:U.general)==null?void 0:L.security)==null?void 0:K.username)??"Username")+"")&&I(n,l),A[0]&8&&a.value!==D[3].g.u&&ee(a,D[3].g.u),A[0]&4&&c!==(c=(((V=(H=(O=D[2].conf)==null?void 0:O.general)==null?void 0:H.security)==null?void 0:V.password)??"Password")+"")&&I(m,c),A[0]&8&&h.value!==D[3].g.p&&ee(h,D[3].g.p)},d(D){D&&(P(e),P(f),P(r)),v=!1,Ot(y)}}}function Mo(t){let e,l,n,i,s,a,f,r,c,m,d,_,h,v,y,M,k,T,j,F,N,D,A,U=Jo(t[3].fw.s)+"",L,K,O,H,V,B;function G($,Q){var te,W,X,re;return((W=(te=$[0])==null?void 0:te.upgrade)==null?void 0:W.m)===!0?q1:(re=(X=$[0])==null?void 0:X.upgrade)!=null&&re.n?E1:A1}let Y=G(t),R=Y(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=g(),i=p("input"),s=g(),a=p("div"),f=p("label"),r=p("input"),c=w(`
                    Enable nightly auto-updates`),m=g(),d=p("div"),_=p("div"),h=w("Update hour"),v=p("br"),y=g(),M=p("input"),T=g(),j=p("input"),N=g(),D=p("div"),A=w("When enabled, the device checks for updates daily at "),L=w(U),K=w(" (local time) and applies them automatically if available."),O=g(),H=p("div"),R.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",ee(r,r.__value),u(r,"class","rounded mb-1"),u(a,"class","my-1"),u(M,"name","fws"),u(M,"type","number"),u(M,"min","0"),u(M,"max","23"),u(M,"class","in-s w-full"),M.disabled=k=!t[3].fw.a,u(j,"type","hidden"),u(j,"name","fwe"),j.value=F=t[3].fw.s,u(_,"class","col-span-2"),u(d,"class","my-1 grid grid-cols-2 gap-2"),u(D,"class","my-1 text-xs text-gray-500"),u(H,"class","my-1 text-xs"),u(e,"class","cnt")},m($,Q){C($,e,Q),o(e,l),o(e,n),o(e,i),o(e,s),o(e,a),o(a,f),o(f,r),r.checked=t[3].fw.a,o(f,c),o(e,m),o(e,d),o(d,_),o(_,h),o(_,v),o(_,y),o(_,M),ee(M,t[3].fw.s),o(_,T),o(_,j),o(e,N),o(e,D),o(D,A),o(D,L),o(D,K),o(e,O),o(e,H),R.m(H,null),V||(B=[ge(r,"change",t[39]),ge(M,"input",t[40])],V=!0)},p($,Q){Q[0]&8&&(r.checked=$[3].fw.a),Q[0]&8&&k!==(k=!$[3].fw.a)&&(M.disabled=k),Q[0]&8&&gt(M.value)!==$[3].fw.s&&ee(M,$[3].fw.s),Q[0]&8&&F!==(F=$[3].fw.s)&&(j.value=F),Q[0]&8&&U!==(U=Jo($[3].fw.s)+"")&&I(L,U),Y===(Y=G($))&&R?R.p($,Q):(R.d(1),R=Y($),R&&(R.c(),R.m(H,null)))},d($){$&&P(e),R.d(),V=!1,Ot(B)}}}function A1(t){let e;return{c(){e=w("Checking for updates…")},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function E1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=w("Latest available: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&I(n,l)},d(i){i&&(P(e),P(n))}}}function q1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function yo(t){let e,l,n,i,s,a,f,r,c,m,d,_,h,v,y,M,k,T,j,F,N,D,A,U,L=Ye(t[14]),K=[];for(let O=0;O<L.length;O+=1)K[O]=So(po(t,L,O));return{c(){e=p("div"),l=p("strong"),l.textContent="Debug logging",n=g(),i=p("input"),s=g(),a=p("div"),f=p("label"),r=p("input"),c=w(`
                    Enable telnet (RemoteDebug)`),m=g(),d=p("div"),_=p("label"),h=p("input"),v=w(`
                    Enable serial log output`),y=g(),M=p("div"),k=w("Log level"),T=p("br"),j=g(),F=p("select");for(let O=0;O<K.length;O+=1)K[O].c();N=g(),D=p("div"),D.textContent="Telnet logging requires the device to be connected to the network. Leave telnet off for normal operation.",u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","d"),i.value="true",u(r,"type","checkbox"),u(r,"name","dt"),r.__value="true",ee(r,r.__value),u(r,"class","rounded mb-1"),u(a,"class","my-1"),u(h,"type","checkbox"),u(h,"name","ds"),h.__value="true",ee(h,h.__value),u(h,"class","rounded mb-1"),u(d,"class","my-1"),u(F,"name","dl"),u(F,"class","in-s"),t[3].d.l===void 0&&Gt(()=>t[43].call(F)),u(M,"class","my-1"),u(D,"class","my-1 text-xs text-gray-500"),u(e,"class","cnt")},m(O,H){C(O,e,H),o(e,l),o(e,n),o(e,i),o(e,s),o(e,a),o(a,f),o(f,r),r.checked=t[3].d.t,o(f,c),o(e,m),o(e,d),o(d,_),o(_,h),h.checked=t[3].d.s,o(_,v),o(e,y),o(e,M),o(M,k),o(M,T),o(M,j),o(M,F);for(let V=0;V<K.length;V+=1)K[V]&&K[V].m(F,null);at(F,t[3].d.l,!0),o(e,N),o(e,D),A||(U=[ge(r,"change",t[41]),ge(h,"change",t[42]),ge(F,"change",t[43])],A=!0)},p(O,H){if(H[0]&8&&(r.checked=O[3].d.t),H[0]&8&&(h.checked=O[3].d.s),H[0]&16384){L=Ye(O[14]);let V;for(V=0;V<L.length;V+=1){const B=po(O,L,V);K[V]?K[V].p(B,H):(K[V]=So(B),K[V].c(),K[V].m(F,null))}for(;V<K.length;V+=1)K[V].d(1);K.length=L.length}H[0]&8&&at(F,O[3].d.l)},d(O){O&&P(e),Qt(K,O),A=!1,Ot(U)}}}function So(t){let e,l=t[115].label+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[115].value,ee(e,e.__value)},m(i,s){C(i,e,s),o(e,n)},p:Ue,d(i){i&&P(e)}}}function No(t){var tt,nt,_t,Kt,Ft,It,il,Lt,Ke,jt,$t,ht,st,Mt,Wt,pe,lt,He,sl,Vt,xt,cl,ol,Yt,Jt,ul,Te,ce,Bt;let e,l,n=(((nt=(tt=t[2].conf)==null?void 0:tt.meter)==null?void 0:nt.title)??"Meter")+"",i,s,a,f,r,c,m,d,_,h,v=(((Ft=(Kt=(_t=t[2].conf)==null?void 0:_t.meter)==null?void 0:Kt.preset)==null?void 0:Ft.title)??"Meter preset")+"",y,M,k,T,j,F=(((Lt=(il=(It=t[2].conf)==null?void 0:It.meter)==null?void 0:il.preset)==null?void 0:Lt.manual)??"Manual configuration")+"",N,D,A,U,L,K=((($t=(jt=(Ke=t[2].conf)==null?void 0:Ke.meter)==null?void 0:jt.comm)==null?void 0:$t.title)??"Communication")+"",O,H,V,B,G,Y=(((Mt=(st=(ht=t[2].conf)==null?void 0:ht.meter)==null?void 0:st.comm)==null?void 0:Mt.passive)??"Passive")+"",R,$,Q=(((lt=(pe=(Wt=t[2].conf)==null?void 0:Wt.meter)==null?void 0:pe.comm)==null?void 0:lt.pulse)??"Pulse")+"",te,W=(sl=(He=t[0])==null?void 0:He.features)==null?void 0:sl.includes("kmp"),X,re,fe,oe=(((Vt=t[2].common)==null?void 0:Vt.voltage)??"Voltage")+"",_e,ne,Z,x,be,Ne,S,b,E,q=(((cl=(xt=t[2].conf)==null?void 0:xt.meter)==null?void 0:cl.fuse)??"Main fuse")+"",z,ie,se,me,ae,ue,de,ke,Ae,Ee=(((Yt=(ol=t[2].conf)==null?void 0:ol.meter)==null?void 0:Yt.prod)??"Production")+"",Fe,Ve,Je,Qe,Ie,ot,he,Oe,kt,At,St,Ze,mt,Zt,wt=(((ul=(Jt=t[2].conf)==null?void 0:Jt.meter)==null?void 0:ul.encrypted)??"Encrypted")+"",Dt,Pt,Rt,et,ct,Pe,je,Ge=(((Bt=(ce=(Te=t[2].conf)==null?void 0:Te.meter)==null?void 0:ce.multipliers)==null?void 0:Bt.title)??"Multipliers")+"",$e,xe,ve,qe,Et=Ye(ms),dt=[];for(let De=0;De<Et.length;De+=1)dt[De]=L1(N1(t,Et,De));let Be=t[8]&&Po(t),rt=t[9]&&Co(t),Xe=W&&Ao();function qt(De,yt){return De[3].m.a===2?D1:I1}let Ht=qt(t),We=Ht(t),we=t[3].m.e.e&&Eo(t),Ce=t[3].m.e.e&&qo(t),ze=t[3].m.m.e&&Lo(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("input"),d=g(),_=p("div"),h=p("label"),y=w(v),M=g(),k=p("div"),T=p("select"),j=p("option"),N=w(F);for(let De=0;De<dt.length;De+=1)dt[De].c();D=g(),Be&&Be.c(),A=g(),rt&&rt.c(),U=g(),L=p("div"),O=w(K),H=p("br"),V=g(),B=p("select"),G=p("option"),R=w(Y),$=p("option"),te=w(Q),Xe&&Xe.c(),X=g(),We.c(),re=g(),fe=p("div"),_e=w(oe),ne=p("br"),Z=g(),x=p("select"),be=p("option"),be.textContent="400V (TN)",Ne=p("option"),Ne.textContent="230V (IT/TT)",S=g(),b=p("div"),E=p("div"),z=w(q),ie=p("br"),se=g(),me=p("label"),ae=p("input"),ue=g(),de=p("span"),de.textContent="A",ke=g(),Ae=p("div"),Fe=w(Ee),Ve=p("br"),Je=g(),Qe=p("label"),Ie=p("input"),ot=g(),he=p("span"),he.textContent="kWp",Oe=g(),kt=p("div"),kt.innerHTML="",At=g(),St=p("div"),Ze=p("label"),mt=p("input"),Zt=g(),Dt=w(wt),Pt=g(),we&&we.c(),Rt=g(),Ce&&Ce.c(),et=g(),ct=p("label"),Pe=p("input"),je=g(),$e=w(Ge),xe=g(),ze&&ze.c(),u(l,"class","text-sm"),u(a,"href",Il("Meter-configuration")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(h,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(h,"for","meter-preset-select"),j.__value="",ee(j,j.__value),u(T,"id","meter-preset-select"),u(T,"class","in-s w-full"),t[8]===void 0&&Gt(()=>t[44].call(T)),u(k,"class","mt-1 flex gap-2"),u(_,"class","my-1"),G.__value=0,ee(G,G.__value),$.__value=2,ee($,$.__value),u(B,"name","ma"),u(B,"class","in-s"),t[3].m.a===void 0&&Gt(()=>t[46].call(B)),u(L,"class","my-1"),be.__value=2,ee(be,be.__value),Ne.__value=1,ee(Ne,Ne.__value),u(x,"name","md"),u(x,"class","in-s"),t[3].m.d===void 0&&Gt(()=>t[52].call(x)),u(fe,"class","my-1"),u(ae,"name","mf"),u(ae,"type","number"),u(ae,"min","5"),u(ae,"max","65535"),u(ae,"class","in-f tr w-full"),u(de,"class","in-post"),u(me,"class","flex"),u(E,"class","mx-1"),u(Ie,"name","mr"),u(Ie,"type","number"),u(Ie,"min","0"),u(Ie,"max","65535"),u(Ie,"class","in-f tr w-full"),u(he,"class","in-post"),u(Qe,"class","flex"),u(Ae,"class","mx-1"),u(b,"class","my-1 flex"),u(kt,"class","my-1"),u(mt,"type","checkbox"),u(mt,"name","me"),mt.__value="true",ee(mt,mt.__value),u(mt,"class","rounded mb-1"),u(St,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",ee(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(De,yt){C(De,e,yt),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m),o(e,d),o(e,_),o(_,h),o(h,y),o(_,M),o(_,k),o(k,T),o(T,j),o(j,N);for(let rl=0;rl<dt.length;rl+=1)dt[rl]&&dt[rl].m(T,null);at(T,t[8],!0),o(k,D),Be&&Be.m(k,null),o(_,A),rt&&rt.m(_,null),o(e,U),o(e,L),o(L,O),o(L,H),o(L,V),o(L,B),o(B,G),o(G,R),o(B,$),o($,te),Xe&&Xe.m(B,null),at(B,t[3].m.a,!0),o(e,X),We.m(e,null),o(e,re),o(e,fe),o(fe,_e),o(fe,ne),o(fe,Z),o(fe,x),o(x,be),o(x,Ne),at(x,t[3].m.d,!0),o(e,S),o(e,b),o(b,E),o(E,z),o(E,ie),o(E,se),o(E,me),o(me,ae),ee(ae,t[3].m.f),o(me,ue),o(me,de),o(b,ke),o(b,Ae),o(Ae,Fe),o(Ae,Ve),o(Ae,Je),o(Ae,Qe),o(Qe,Ie),ee(Ie,t[3].m.r),o(Qe,ot),o(Qe,he),o(e,Oe),o(e,kt),o(e,At),o(e,St),o(St,Ze),o(Ze,mt),mt.checked=t[3].m.e.e,o(Ze,Zt),o(Ze,Dt),o(St,Pt),we&&we.m(St,null),o(e,Rt),Ce&&Ce.m(e,null),o(e,et),o(e,ct),o(ct,Pe),Pe.checked=t[3].m.m.e,o(ct,je),o(ct,$e),o(e,xe),ze&&ze.m(e,null),ve||(qe=[ge(T,"change",t[44]),ge(T,"change",t[45]),ge(B,"change",t[46]),ge(x,"change",t[52]),ge(ae,"input",t[53]),ge(Ie,"input",t[54]),ge(mt,"change",t[55]),ge(Pe,"change",t[58])],ve=!0)},p(De,yt){var rl,hl,gl,bl,vl,kl,wl,Dl,Ol,Rl,Re,it,Fl,jl,Bl,Ul,Hl,Wl,zl,Kl,$l,Vl,Gl,Yl,Le,pt,Xt,Jl,Xl;yt[0]&4&&n!==(n=(((hl=(rl=De[2].conf)==null?void 0:rl.meter)==null?void 0:hl.title)??"Meter")+"")&&I(i,n),yt[0]&4&&v!==(v=(((vl=(bl=(gl=De[2].conf)==null?void 0:gl.meter)==null?void 0:bl.preset)==null?void 0:vl.title)??"Meter preset")+"")&&I(y,v),yt[0]&4&&F!==(F=(((Dl=(wl=(kl=De[2].conf)==null?void 0:kl.meter)==null?void 0:wl.preset)==null?void 0:Dl.manual)??"Manual configuration")+"")&&I(N,F),yt[0]&256&&at(T,De[8]),De[8]?Be?Be.p(De,yt):(Be=Po(De),Be.c(),Be.m(k,null)):Be&&(Be.d(1),Be=null),De[9]?rt?rt.p(De,yt):(rt=Co(De),rt.c(),rt.m(_,null)):rt&&(rt.d(1),rt=null),yt[0]&4&&K!==(K=(((Re=(Rl=(Ol=De[2].conf)==null?void 0:Ol.meter)==null?void 0:Rl.comm)==null?void 0:Re.title)??"Communication")+"")&&I(O,K),yt[0]&4&&Y!==(Y=(((jl=(Fl=(it=De[2].conf)==null?void 0:it.meter)==null?void 0:Fl.comm)==null?void 0:jl.passive)??"Passive")+"")&&I(R,Y),yt[0]&4&&Q!==(Q=(((Hl=(Ul=(Bl=De[2].conf)==null?void 0:Bl.meter)==null?void 0:Ul.comm)==null?void 0:Hl.pulse)??"Pulse")+"")&&I(te,Q),yt[0]&1&&(W=(zl=(Wl=De[0])==null?void 0:Wl.features)==null?void 0:zl.includes("kmp")),W?Xe||(Xe=Ao(),Xe.c(),Xe.m(B,null)):Xe&&(Xe.d(1),Xe=null),yt[0]&8&&at(B,De[3].m.a),Ht===(Ht=qt(De))&&We?We.p(De,yt):(We.d(1),We=Ht(De),We&&(We.c(),We.m(e,re))),yt[0]&4&&oe!==(oe=(((Kl=De[2].common)==null?void 0:Kl.voltage)??"Voltage")+"")&&I(_e,oe),yt[0]&8&&at(x,De[3].m.d),yt[0]&4&&q!==(q=(((Vl=($l=De[2].conf)==null?void 0:$l.meter)==null?void 0:Vl.fuse)??"Main fuse")+"")&&I(z,q),yt[0]&8&&gt(ae.value)!==De[3].m.f&&ee(ae,De[3].m.f),yt[0]&4&&Ee!==(Ee=(((Yl=(Gl=De[2].conf)==null?void 0:Gl.meter)==null?void 0:Yl.prod)??"Production")+"")&&I(Fe,Ee),yt[0]&8&&gt(Ie.value)!==De[3].m.r&&ee(Ie,De[3].m.r),yt[0]&8&&(mt.checked=De[3].m.e.e),yt[0]&4&&wt!==(wt=(((pt=(Le=De[2].conf)==null?void 0:Le.meter)==null?void 0:pt.encrypted)??"Encrypted")+"")&&I(Dt,wt),De[3].m.e.e?we?we.p(De,yt):(we=Eo(De),we.c(),we.m(St,null)):we&&(we.d(1),we=null),De[3].m.e.e?Ce?Ce.p(De,yt):(Ce=qo(De),Ce.c(),Ce.m(e,et)):Ce&&(Ce.d(1),Ce=null),yt[0]&8&&(Pe.checked=De[3].m.m.e),yt[0]&4&&Ge!==(Ge=(((Xl=(Jl=(Xt=De[2].conf)==null?void 0:Xt.meter)==null?void 0:Jl.multipliers)==null?void 0:Xl.title)??"Multipliers")+"")&&I($e,Ge),De[3].m.m.e?ze?ze.p(De,yt):(ze=Lo(De),ze.c(),ze.m(e,null)):ze&&(ze.d(1),ze=null)},d(De){De&&P(e),Qt(dt,De),Be&&Be.d(),rt&&rt.d(),Xe&&Xe.d(),We.d(),we&&we.d(),Ce&&Ce.d(),ze&&ze.d(),ve=!1,Ot(qe)}}}function L1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112].label}`,e.__value=t[112].id,ee(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function Po(t){var a,f,r;let e,l=(((r=(f=(a=t[2].conf)==null?void 0:a.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),o(e,n),i||(s=ge(e,"click",t[25]),i=!0)},p(c,m){var d,_,h;m[0]&4&&l!==(l=(((h=(_=(d=c[2].conf)==null?void 0:d.meter)==null?void 0:_.preset)==null?void 0:h.clear)??"Clear")+"")&&I(n,l)},d(c){c&&P(e),i=!1,s()}}}function Co(t){let e,l=uo(t[9])+"",n,i,s=t[9].notes&&To(t);return{c(){e=p("div"),n=w(l),i=g(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(a,f){C(a,e,f),o(e,n),o(e,i),s&&s.m(e,null)},p(a,f){f[0]&512&&l!==(l=uo(a[9])+"")&&I(n,l),a[9].notes?s?s.p(a,f):(s=To(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&P(e),s&&s.d()}}}function To(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=w(l),u(e,"class","block")},m(i,s){C(i,e,s),o(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&I(n,l)},d(i){i&&P(e)}}}function Ao(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,ee(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&P(e)}}}function I1(t){var re,fe,oe,_e,ne,Z;let e,l,n=(((fe=(re=t[2].conf)==null?void 0:re.meter)==null?void 0:fe.buffer)??"Buffer size")+"",i,s,a,f=(((_e=(oe=t[2].conf)==null?void 0:oe.meter)==null?void 0:_e.serial)??"Serial conf.")+"",r,c,m,d,_,h=(((Z=(ne=t[2].conf)==null?void 0:ne.meter)==null?void 0:Z.inverted)??"inverted")+"",v,y,M,k,T,j,F,N,D,A,U,L,K,O,H,V,B,G,Y,R,$,Q,te,W=Ye([3,12,24,48,96,192,384,576,1152]),X=[];for(let x=0;x<9;x+=1)X[x]=O1(S1(t,W,x));return{c(){e=p("div"),l=p("span"),i=w(n),s=g(),a=p("span"),r=w(f),c=g(),m=p("label"),d=p("input"),_=g(),v=w(h),y=g(),M=p("div"),k=p("select"),T=p("option"),j=w("Autodetect");for(let x=0;x<9;x+=1)X[x].c();N=g(),D=p("select"),A=p("option"),U=w("-"),K=p("option"),K.textContent="7N1",O=p("option"),O.textContent="8N1",H=p("option"),H.textContent="8N2",V=p("option"),V.textContent="7E1",B=p("option"),B.textContent="8E1",Y=g(),R=p("input"),u(l,"class","float-right"),u(d,"name","mi"),d.__value="true",ee(d,d.__value),u(d,"type","checkbox"),u(d,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),T.__value=0,ee(T,T.__value),T.disabled=F=t[3].m.b!=0,u(k,"name","mb"),u(k,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Gt(()=>t[49].call(k)),A.__value=0,ee(A,A.__value),A.disabled=L=t[3].m.b!=0,K.__value=2,ee(K,K.__value),O.__value=3,ee(O,O.__value),H.__value=7,ee(H,H.__value),V.__value=10,ee(V,V.__value),B.__value=11,ee(B,B.__value),u(D,"name","mp"),u(D,"class","in-m"),D.disabled=G=t[3].m.b==0,t[3].m.p===void 0&&Gt(()=>t[50].call(D)),u(R,"name","ms"),u(R,"type","number"),u(R,"min",64),u(R,"max",$=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:256:4096),u(R,"step",64),u(R,"class","in-l tr w-1/2"),u(M,"class","flex w-full"),u(e,"class","my-1")},m(x,be){C(x,e,be),o(e,l),o(l,i),o(e,s),o(e,a),o(a,r),o(e,c),o(e,m),o(m,d),d.checked=t[3].m.i,o(m,_),o(m,v),o(e,y),o(e,M),o(M,k),o(k,T),o(T,j);for(let Ne=0;Ne<9;Ne+=1)X[Ne]&&X[Ne].m(k,null);at(k,t[3].m.b,!0),o(M,N),o(M,D),o(D,A),o(A,U),o(D,K),o(D,O),o(D,H),o(D,V),o(D,B),at(D,t[3].m.p,!0),o(M,Y),o(M,R),ee(R,t[3].m.s),Q||(te=[ge(d,"change",t[48]),ge(k,"change",t[49]),ge(D,"change",t[50]),ge(R,"input",t[51])],Q=!0)},p(x,be){var Ne,S,b,E,q,z;be[0]&4&&n!==(n=(((S=(Ne=x[2].conf)==null?void 0:Ne.meter)==null?void 0:S.buffer)??"Buffer size")+"")&&I(i,n),be[0]&4&&f!==(f=(((E=(b=x[2].conf)==null?void 0:b.meter)==null?void 0:E.serial)??"Serial conf.")+"")&&I(r,f),be[0]&8&&(d.checked=x[3].m.i),be[0]&4&&h!==(h=(((z=(q=x[2].conf)==null?void 0:q.meter)==null?void 0:z.inverted)??"inverted")+"")&&I(v,h),be[0]&8&&F!==(F=x[3].m.b!=0)&&(T.disabled=F),be[0]&8&&at(k,x[3].m.b),be[0]&8&&L!==(L=x[3].m.b!=0)&&(A.disabled=L),be[0]&8&&G!==(G=x[3].m.b==0)&&(D.disabled=G),be[0]&8&&at(D,x[3].m.p),be[0]&9&&$!==($=x[0].chip=="esp8266"?x[3].i.h.p==3||x[3].i.h.p==113?512:256:4096)&&u(R,"max",$),be[0]&8&&gt(R.value)!==x[3].m.s&&ee(R,x[3].m.s)},d(x){x&&P(e),Qt(X,x),Q=!1,Ot(te)}}}function D1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,a,f,r;return{c(){e=p("div"),l=p("span"),i=w(n),s=g(),a=p("input"),u(a,"name","mb"),u(a,"class","in-s tr"),u(a,"type","number"),u(a,"min",1),u(a,"max",3600),u(e,"class","my-1")},m(d,_){C(d,e,_),o(e,l),o(l,i),o(e,s),o(e,a),ee(a,t[3].m.b),f||(r=ge(a,"input",t[47]),f=!0)},p(d,_){var h,v;_[0]&4&&n!==(n=(((v=(h=d[2].conf)==null?void 0:h.meter)==null?void 0:v.pulses)??"Pulses per kWh")+"")&&I(i,n),_[0]&8&&gt(a.value)!==d[3].m.b&&ee(a,d[3].m.b)},d(d){d&&P(e),f=!1,r()}}}function O1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109]*100}`,e.__value=t[109]*100,ee(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function Eo(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Lf)},m(s,a){C(s,e,a),C(s,l,a),ee(l,t[3].m.e.k),n||(i=ge(l,"input",t[56]),n=!0)},p(s,a){a[0]&8&&l.value!==s[3].m.e.k&&ee(l,s[3].m.e.k)},d(s){s&&(P(e),P(l)),n=!1,i()}}}function qo(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,a,f,r;return{c(){e=p("div"),n=w(l),i=p("br"),s=g(),a=p("input"),u(a,"name","mea"),u(a,"type","text"),u(a,"class","in-s"),u(a,"pattern",Lf),u(e,"class","my-1")},m(d,_){C(d,e,_),o(e,n),o(e,i),o(e,s),o(e,a),ee(a,t[3].m.e.a),f||(r=ge(a,"input",t[57]),f=!0)},p(d,_){var h,v;_[0]&4&&l!==(l=(((v=(h=d[2].conf)==null?void 0:h.meter)==null?void 0:v.authkey)??"Authentication key")+"")&&I(n,l),_[0]&8&&a.value!==d[3].m.e.a&&ee(a,d[3].m.e.a)},d(d){d&&P(e),f=!1,r()}}}function Lo(t){var G,Y,R,$,Q,te,W,X,re,fe,oe,_e;let e,l,n=(((R=(Y=(G=t[2].conf)==null?void 0:G.meter)==null?void 0:Y.multipliers)==null?void 0:R.watt)??"Watt")+"",i,s,a,f,r,c,m=(((te=(Q=($=t[2].conf)==null?void 0:$.meter)==null?void 0:Q.multipliers)==null?void 0:te.volt)??"Volt")+"",d,_,h,v,y,M,k=(((re=(X=(W=t[2].conf)==null?void 0:W.meter)==null?void 0:X.multipliers)==null?void 0:re.amp)??"Amp")+"",T,j,F,N,D,A,U=(((_e=(oe=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:oe.multipliers)==null?void 0:_e.kwh)??"kWh")+"",L,K,O,H,V,B;return{c(){e=p("div"),l=p("div"),i=w(n),s=p("br"),a=g(),f=p("input"),r=g(),c=p("div"),d=w(m),_=p("br"),h=g(),v=p("input"),y=g(),M=p("div"),T=w(k),j=p("br"),F=g(),N=p("input"),D=g(),A=p("div"),L=w(U),K=p("br"),O=g(),H=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(v,"name","mmv"),u(v,"type","number"),u(v,"min","0.00"),u(v,"max","1000"),u(v,"step","0.001"),u(v,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(N,"name","mma"),u(N,"type","number"),u(N,"min","0.00"),u(N,"max","1000"),u(N,"step","0.001"),u(N,"class","in-m tr w-full"),u(M,"class","w-1/4"),u(H,"name","mmc"),u(H,"type","number"),u(H,"min","0.00"),u(H,"max","1000"),u(H,"step","0.001"),u(H,"class","in-l tr w-full"),u(A,"class","w-1/4"),u(e,"class","flex my-1")},m(ne,Z){C(ne,e,Z),o(e,l),o(l,i),o(l,s),o(l,a),o(l,f),ee(f,t[3].m.m.w),o(e,r),o(e,c),o(c,d),o(c,_),o(c,h),o(c,v),ee(v,t[3].m.m.v),o(e,y),o(e,M),o(M,T),o(M,j),o(M,F),o(M,N),ee(N,t[3].m.m.a),o(e,D),o(e,A),o(A,L),o(A,K),o(A,O),o(A,H),ee(H,t[3].m.m.c),V||(B=[ge(f,"input",t[59]),ge(v,"input",t[60]),ge(N,"input",t[61]),ge(H,"input",t[62])],V=!0)},p(ne,Z){var x,be,Ne,S,b,E,q,z,ie,se,me,ae;Z[0]&4&&n!==(n=(((Ne=(be=(x=ne[2].conf)==null?void 0:x.meter)==null?void 0:be.multipliers)==null?void 0:Ne.watt)??"Watt")+"")&&I(i,n),Z[0]&8&&gt(f.value)!==ne[3].m.m.w&&ee(f,ne[3].m.m.w),Z[0]&4&&m!==(m=(((E=(b=(S=ne[2].conf)==null?void 0:S.meter)==null?void 0:b.multipliers)==null?void 0:E.volt)??"Volt")+"")&&I(d,m),Z[0]&8&&gt(v.value)!==ne[3].m.m.v&&ee(v,ne[3].m.m.v),Z[0]&4&&k!==(k=(((ie=(z=(q=ne[2].conf)==null?void 0:q.meter)==null?void 0:z.multipliers)==null?void 0:ie.amp)??"Amp")+"")&&I(T,k),Z[0]&8&&gt(N.value)!==ne[3].m.m.a&&ee(N,ne[3].m.m.a),Z[0]&4&&U!==(U=(((ae=(me=(se=ne[2].conf)==null?void 0:se.meter)==null?void 0:me.multipliers)==null?void 0:ae.kwh)??"kWh")+"")&&I(L,U),Z[0]&8&&gt(H.value)!==ne[3].m.m.c&&ee(H,ne[3].m.m.c)},d(ne){ne&&P(e),V=!1,Ot(B)}}}function Io(t){var d,_;let e,l,n=(((_=(d=t[2].conf)==null?void 0:d.connection)==null?void 0:_.title)??"Connection")+"",i,s,a,f,r,c,m=(t[3].n.c==1||t[3].n.c==2)&&Do(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m&&m.c(),u(l,"class","text-sm"),u(a,"href",Il("Network-connection")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(h,v){C(h,e,v),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),m&&m.m(e,null)},p(h,v){var y,M;v[0]&4&&n!==(n=(((M=(y=h[2].conf)==null?void 0:y.connection)==null?void 0:M.title)??"Connection")+"")&&I(i,n),h[3].n.c==1||h[3].n.c==2?m?m.p(h,v):(m=Do(h),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(h){h&&P(e),m&&m.d()}}}function Do(t){var de,ke,Ae,Ee,Fe,Ve,Je,Qe,Ie,ot,he,Oe,kt,At,St,Ze,mt,Zt,wt,Dt,Pt,Rt,et,ct;let e,l=(((ke=(de=t[2].conf)==null?void 0:de.connection)==null?void 0:ke.ssid)??"Network name (SSID)")+"",n,i,s,a,f,r,c,m=(((Ee=(Ae=t[2].conf)==null?void 0:Ae.connection)==null?void 0:Ee.psk)??"Password")+"",d,_,h,v,y,M,k,T=(((Je=(Ve=(Fe=t[2].conf)==null?void 0:Fe.connection)==null?void 0:Ve.ps)==null?void 0:Je.title)??"Power saving")+"",j,F,N,D,A,U=(((ot=(Ie=(Qe=t[2].conf)==null?void 0:Qe.connection)==null?void 0:Ie.ps)==null?void 0:ot.default)??"Default")+"",L,K,O=(((kt=(Oe=(he=t[2].conf)==null?void 0:he.connection)==null?void 0:Oe.ps)==null?void 0:kt.off)??"Off")+"",H,V,B=(((Ze=(St=(At=t[2].conf)==null?void 0:At.connection)==null?void 0:St.ps)==null?void 0:Ze.min)??"Min")+"",G,Y,R=(((wt=(Zt=(mt=t[2].conf)==null?void 0:mt.connection)==null?void 0:Zt.ps)==null?void 0:wt.max)??"Max")+"",$,Q,te,W=(((Pt=(Dt=t[2].conf)==null?void 0:Dt.connection)==null?void 0:Pt.pwr)??"Power")+"",X,re,fe,oe,_e,ne,Z,x,be,Ne,S,b,E=(((et=(Rt=t[2].conf)==null?void 0:Rt.connection)==null?void 0:et.tick_11b)??"802.11b")+"",q,z,ie,se=((ct=t[5])==null?void 0:ct.c)==-1&&Oo(t);function me(Pe,je){var Ge,$e,xe;if(($e=(Ge=Pe[5])==null?void 0:Ge.n)!=null&&$e.length)return F1;if(((xe=Pe[5])==null?void 0:xe.c)!=-1)return R1}let ae=me(t),ue=ae&&ae(t);return{c(){e=p("div"),n=w(l),i=g(),s=p("br"),a=g(),se&&se.c(),f=g(),ue&&ue.c(),r=g(),c=p("div"),d=w(m),_=p("br"),h=g(),v=p("input"),y=g(),M=p("div"),k=p("div"),j=w(T),F=p("br"),N=g(),D=p("select"),A=p("option"),L=w(U),K=p("option"),H=w(O),V=p("option"),G=w(B),Y=p("option"),$=w(R),Q=g(),te=p("div"),X=w(W),re=p("br"),fe=g(),oe=p("div"),_e=p("input"),ne=g(),Z=p("span"),Z.textContent="dBm",x=g(),be=p("div"),Ne=p("label"),S=p("input"),b=g(),q=w(E),u(e,"class","my-1"),u(v,"name","wp"),u(v,"type","password"),u(v,"class","in-s"),u(v,"pattern",_i),u(c,"class","my-1"),A.__value=255,ee(A,A.__value),K.__value=0,ee(K,K.__value),V.__value=1,ee(V,V.__value),Y.__value=2,ee(Y,Y.__value),u(D,"name","wz"),u(D,"class","in-s"),t[3].w.z===void 0&&Gt(()=>t[66].call(D)),u(k,"class","w-1/2"),u(_e,"name","ww"),u(_e,"type","number"),u(_e,"min","0"),u(_e,"max","20.5"),u(_e,"step","0.5"),u(_e,"class","in-f tr w-full"),u(Z,"class","in-post"),u(oe,"class","flex"),u(te,"class","ml-2 w-1/2"),u(M,"class","my-1 flex"),u(S,"type","checkbox"),u(S,"name","wb"),S.__value="true",ee(S,S.__value),u(S,"class","rounded mb-1"),u(be,"class","my-3")},m(Pe,je){C(Pe,e,je),o(e,n),o(e,i),o(e,s),o(e,a),se&&se.m(e,null),o(e,f),ue&&ue.m(e,null),C(Pe,r,je),C(Pe,c,je),o(c,d),o(c,_),o(c,h),o(c,v),ee(v,t[3].w.p),C(Pe,y,je),C(Pe,M,je),o(M,k),o(k,j),o(k,F),o(k,N),o(k,D),o(D,A),o(A,L),o(D,K),o(K,H),o(D,V),o(V,G),o(D,Y),o(Y,$),at(D,t[3].w.z,!0),o(M,Q),o(M,te),o(te,X),o(te,re),o(te,fe),o(te,oe),o(oe,_e),ee(_e,t[3].w.w),o(oe,ne),o(oe,Z),C(Pe,x,je),C(Pe,be,je),o(be,Ne),o(Ne,S),S.checked=t[3].w.b,o(Ne,b),o(Ne,q),z||(ie=[ge(v,"input",t[65]),ge(D,"change",t[66]),ge(_e,"input",t[67]),ge(S,"change",t[68])],z=!0)},p(Pe,je){var Ge,$e,xe,ve,qe,Et,dt,Be,rt,Xe,qt,Ht,We,we,Ce,ze,tt,nt,_t,Kt,Ft,It,il,Lt;je[0]&4&&l!==(l=((($e=(Ge=Pe[2].conf)==null?void 0:Ge.connection)==null?void 0:$e.ssid)??"Network name (SSID)")+"")&&I(n,l),((xe=Pe[5])==null?void 0:xe.c)==-1?se?se.p(Pe,je):(se=Oo(Pe),se.c(),se.m(e,f)):se&&(se.d(1),se=null),ae===(ae=me(Pe))&&ue?ue.p(Pe,je):(ue&&ue.d(1),ue=ae&&ae(Pe),ue&&(ue.c(),ue.m(e,null))),je[0]&4&&m!==(m=(((qe=(ve=Pe[2].conf)==null?void 0:ve.connection)==null?void 0:qe.psk)??"Password")+"")&&I(d,m),je[0]&8&&v.value!==Pe[3].w.p&&ee(v,Pe[3].w.p),je[0]&4&&T!==(T=(((Be=(dt=(Et=Pe[2].conf)==null?void 0:Et.connection)==null?void 0:dt.ps)==null?void 0:Be.title)??"Power saving")+"")&&I(j,T),je[0]&4&&U!==(U=(((qt=(Xe=(rt=Pe[2].conf)==null?void 0:rt.connection)==null?void 0:Xe.ps)==null?void 0:qt.default)??"Default")+"")&&I(L,U),je[0]&4&&O!==(O=(((we=(We=(Ht=Pe[2].conf)==null?void 0:Ht.connection)==null?void 0:We.ps)==null?void 0:we.off)??"Off")+"")&&I(H,O),je[0]&4&&B!==(B=(((tt=(ze=(Ce=Pe[2].conf)==null?void 0:Ce.connection)==null?void 0:ze.ps)==null?void 0:tt.min)??"Min")+"")&&I(G,B),je[0]&4&&R!==(R=(((Kt=(_t=(nt=Pe[2].conf)==null?void 0:nt.connection)==null?void 0:_t.ps)==null?void 0:Kt.max)??"Max")+"")&&I($,R),je[0]&8&&at(D,Pe[3].w.z),je[0]&4&&W!==(W=(((It=(Ft=Pe[2].conf)==null?void 0:Ft.connection)==null?void 0:It.pwr)??"Power")+"")&&I(X,W),je[0]&8&&gt(_e.value)!==Pe[3].w.w&&ee(_e,Pe[3].w.w),je[0]&8&&(S.checked=Pe[3].w.b),je[0]&4&&E!==(E=(((Lt=(il=Pe[2].conf)==null?void 0:il.connection)==null?void 0:Lt.tick_11b)??"802.11b")+"")&&I(q,E)},d(Pe){Pe&&(P(e),P(r),P(c),P(y),P(M),P(x),P(be)),se&&se.d(),ue&&ue.d(),z=!1,Ot(ie)}}}function Oo(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm italic text-slate-500")},m(a,f){C(a,e,f),o(e,n)},p(a,f){var r,c;f[0]&4&&l!==(l=(((c=(r=a[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&I(n,l)},d(a){a&&P(e)}}}function R1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","text-sm italic text-slate-500")},m(a,f){C(a,e,f),o(e,n)},p(a,f){var r,c;f[0]&4&&l!==(l=(((c=(r=a[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&I(n,l)},d(a){a&&P(e)}}}function F1(t){let e,l=[],n=new Map,i=Ye(t[5].n);const s=a=>a[106].s??a[108];for(let a=0;a<i.length;a+=1){let f=_o(t,i,a),r=s(f);n.set(r,l[a]=Fo(r,f))}return{c(){e=p("div");for(let a=0;a<l.length;a+=1)l[a].c();u(e,"class","mt-2 space-y-2")},m(a,f){C(a,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,f){f[0]&9260&&(i=Ye(a[5].n),l=af(l,f,s,1,a,i,n,e,sf,Fo,null,_o))},d(a){a&&P(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ro(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=w(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(a,f){C(a,e,f),o(e,n)},p(a,f){var r,c;f[0]&4&&l!==(l=(((c=(r=a[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&I(n,l)},d(a){a&&P(e)}}}function Fo(t,e){var H,V,B,G,Y;let l,n,i,s,a=!1,f,r,c,m=(e[106].s||(((V=(H=e[2].conf)==null?void 0:H.connection)==null?void 0:V.hidden_ssid)??"Hidden network"))+"",d,_,h,v=(((B=e[10][e[108]])==null?void 0:B.title)??((Y=(G=e[2].conf)==null?void 0:G.connection)==null?void 0:Y.wifi_offline)??"Signal unavailable")+"",y,M,k,T,j,F,N,D,A,U,L,K,O=e[3].w.s===e[106].s&&Ro(e);return U=ef(e[64][0]),{key:t,first:null,c(){var R,$,Q;l=p("label"),n=p("span"),i=p("input"),f=g(),r=p("span"),c=p("span"),d=w(m),_=g(),h=p("span"),y=w(v),M=g(),k=p("div"),T=p("img"),D=g(),O&&O.c(),A=g(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[106].s,ee(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(h,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(T,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),on(T.src,j=((R=e[10][e[108]])==null?void 0:R.icon)??e[13].off)||u(T,"src",j),u(T,"alt",F=(($=e[10][e[108]])==null?void 0:$.title)??"Wi-Fi offline"),u(T,"title",N=((Q=e[10][e[108]])==null?void 0:Q.title)??"Wi-Fi offline"),u(k,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),U.p(i),this.first=l},m(R,$){C(R,l,$),o(l,n),o(n,i),i.checked=i.__value===e[3].w.s,o(n,f),o(n,r),o(r,c),o(c,d),o(r,_),o(r,h),o(h,y),o(l,M),o(l,k),o(k,T),o(k,D),O&&O.m(k,null),o(l,A),L||(K=ge(i,"change",e[63]),L=!0)},p(R,$){var Q,te,W,X,re,fe,oe,_e;e=R,$[0]&32&&s!==(s=e[106].s)&&(i.__value=s,ee(i,i.__value),a=!0),(a||$[0]&40)&&(i.checked=i.__value===e[3].w.s),$[0]&36&&m!==(m=(e[106].s||(((te=(Q=e[2].conf)==null?void 0:Q.connection)==null?void 0:te.hidden_ssid)??"Hidden network"))+"")&&I(d,m),$[0]&1060&&v!==(v=(((W=e[10][e[108]])==null?void 0:W.title)??((re=(X=e[2].conf)==null?void 0:X.connection)==null?void 0:re.wifi_offline)??"Signal unavailable")+"")&&I(y,v),$[0]&1056&&!on(T.src,j=((fe=e[10][e[108]])==null?void 0:fe.icon)??e[13].off)&&u(T,"src",j),$[0]&1056&&F!==(F=((oe=e[10][e[108]])==null?void 0:oe.title)??"Wi-Fi offline")&&u(T,"alt",F),$[0]&1056&&N!==(N=((_e=e[10][e[108]])==null?void 0:_e.title)??"Wi-Fi offline")&&u(T,"title",N),e[3].w.s===e[106].s?O?O.p(e,$):(O=Ro(e),O.c(),O.m(k,null)):O&&(O.d(1),O=null)},d(R){R&&P(l),O&&O.d(),U.r(),L=!1,K()}}}function jo(t){var Mt,Wt,pe,lt,He,sl,Vt,xt,cl,ol,Yt,Jt,ul,Te,ce,Bt,De,yt,rl,hl,gl,bl,vl,kl,wl,Dl,Ol,Rl;let e,l,n=(((Wt=(Mt=t[2].conf)==null?void 0:Mt.mqtt)==null?void 0:Wt.title)??"MQTT")+"",i,s,a,f,r,c,m,d=(((lt=(pe=t[2].conf)==null?void 0:pe.mqtt)==null?void 0:lt.server)??"Server")+"",_,h,v,y,M,k,T,j,F,N,D,A,U=(((sl=(He=t[2].conf)==null?void 0:He.mqtt)==null?void 0:sl.user)??"Username")+"",L,K,O,H,V,B,G=(((xt=(Vt=t[2].conf)==null?void 0:Vt.mqtt)==null?void 0:xt.pass)??"Password")+"",Y,R,$,Q,te,W,X,re=(((ol=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:ol.id)??"Client ID")+"",fe,oe,_e,ne,Z,x,be,Ne=(((Jt=(Yt=t[2].conf)==null?void 0:Yt.mqtt)==null?void 0:Jt.payload)??"Payload")+"",S,b,E,q,z,ie,se,me,ae,ue,de,ke,Ae,Ee,Fe=(((Te=(ul=t[2].conf)==null?void 0:ul.mqtt)==null?void 0:Te.publish)??"Publish topic")+"",Ve,Je,Qe,Ie,ot,he,Oe=(((Bt=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:Bt.subscribe)??"Subscribe topic")+"",kt,At,St,Ze,mt,Zt,wt,Dt=(((yt=(De=t[2].conf)==null?void 0:De.mqtt)==null?void 0:yt.update)??"Update method")+"",Pt,Rt,et,ct=(((hl=(rl=t[2].conf)==null?void 0:rl.mqtt)==null?void 0:hl.interval)??"Interval")+"",Pe,je,Ge,$e,xe,ve=(((bl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:bl.realtime)??"Real time")+"",qe,Et,dt=(((kl=(vl=t[2].conf)==null?void 0:vl.mqtt)==null?void 0:kl.interval)??"Interval")+"",Be,rt,Xe,qt,Ht,We,we=(((Dl=(wl=t[2].conf)==null?void 0:wl.mqtt)==null?void 0:Dl.timeout)??"Timeout")+"",Ce,ze,tt,nt=(((Rl=(Ol=t[2].conf)==null?void 0:Ol.mqtt)==null?void 0:Rl.keepalive)??"Keep-alive")+"",_t,Kt,Ft,It,il,Lt,Ke,jt,$t,ht=t[0].chip!="esp8266"&&Bo(t),st=t[3].q.s.e&&Uo(t);return{c(){var Re,it;e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),_=w(d),h=g(),ht&&ht.c(),v=g(),y=p("br"),M=g(),k=p("div"),T=p("input"),j=g(),F=p("input"),N=g(),st&&st.c(),D=g(),A=p("div"),L=w(U),K=p("br"),O=g(),H=p("input"),V=g(),B=p("div"),Y=w(G),R=p("br"),$=g(),Q=p("input"),te=g(),W=p("div"),X=p("div"),fe=w(re),oe=p("br"),_e=g(),ne=p("input"),x=g(),be=p("div"),S=w(Ne),b=p("br"),E=g(),q=p("select"),z=p("option"),z.textContent="Raw (minimal)",ie=p("option"),ie.textContent="Raw (full)",se=p("option"),se.textContent="Domoticz",me=p("option"),me.textContent="Home-Assistant",ae=p("option"),ae.textContent="JSON (classic)",ue=p("option"),ue.textContent="JSON (multi topic)",de=p("option"),de.textContent="JSON (flat)",ke=p("option"),ke.textContent="HEX dump",Ae=g(),Ee=p("div"),Ve=w(Fe),Je=p("br"),Qe=g(),Ie=p("input"),ot=g(),he=p("div"),kt=w(Oe),At=p("br"),St=g(),Ze=p("input"),Zt=g(),wt=p("div"),Pt=w(Dt),Rt=g(),et=p("span"),Pe=w(ct),je=g(),Ge=p("div"),$e=p("select"),xe=p("option"),qe=w(ve),Et=p("option"),Be=w(dt),rt=g(),Xe=p("input"),Ht=g(),We=p("div"),Ce=w(we),ze=g(),tt=p("span"),_t=w(nt),Kt=g(),Ft=p("div"),It=p("input"),il=g(),Lt=p("input"),u(l,"class","text-sm"),u(a,"href",Il("MQTT-configuration")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(T,"name","qh"),u(T,"type","text"),u(T,"class","in-f w-2/3"),u(T,"pattern",en),u(F,"name","qp"),u(F,"type","number"),u(F,"min","1024"),u(F,"max","65535"),u(F,"class","in-l tr w-1/3"),u(k,"class","flex"),u(m,"class","my-1"),u(H,"name","qu"),u(H,"type","text"),u(H,"class","in-s"),u(H,"pattern",_i),u(A,"class","my-1"),u(Q,"name","qa"),u(Q,"type","password"),u(Q,"class","in-s"),u(Q,"pattern",_i),u(B,"class","my-1"),u(ne,"name","qc"),u(ne,"type","text"),u(ne,"class","in-f w-full"),ne.required=Z=t[3].q.h,u(ne,"pattern",pi),z.__value=1,ee(z,z.__value),ie.__value=2,ee(ie,ie.__value),se.__value=3,ee(se,se.__value),me.__value=4,ee(me,me.__value),ae.__value=0,ee(ae,ae.__value),ue.__value=5,ee(ue,ue.__value),de.__value=6,ee(de,de.__value),ke.__value=255,ee(ke,ke.__value),u(q,"name","qm"),u(q,"class","in-l"),t[3].q.m===void 0&&Gt(()=>t[75].call(q)),u(W,"class","my-1 flex"),u(Ie,"name","qb"),u(Ie,"type","text"),u(Ie,"class","in-s"),u(Ie,"pattern",en),u(Ee,"class","my-1"),u(Ze,"name","qr"),u(Ze,"type","text"),u(Ze,"class","in-s"),u(Ze,"pattern",en),u(Ze,"placeholder",mt=t[3].q.b+"/command"),u(he,"class","my-1"),u(et,"class","float-right"),xe.__value=0,ee(xe,xe.__value),Et.__value=1,ee(Et,Et.__value),u($e,"name","qt"),u($e,"class","in-f w-1/2"),t[3].q.t===void 0&&Gt(()=>t[78].call($e)),u(Xe,"name","qd"),u(Xe,"type","number"),u(Xe,"min","1"),u(Xe,"max","3600"),u(Xe,"class","in-l tr w-1/2"),Xe.disabled=qt=((it=(Re=t[3])==null?void 0:Re.q)==null?void 0:it.t)!=1,u(Ge,"class","flex"),u(wt,"class","my-1"),u(tt,"class","float-right"),u(It,"name","qi"),u(It,"type","number"),u(It,"min","500"),u(It,"max","10000"),u(It,"class","in-f tr w-1/2"),u(Lt,"name","qk"),u(Lt,"type","number"),u(Lt,"min","5"),u(Lt,"max","180"),u(Lt,"class","in-l tr w-1/2"),u(Ft,"class","flex"),u(We,"class","my-1"),u(e,"class","cnt")},m(Re,it){C(Re,e,it),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m),o(m,_),o(m,h),ht&&ht.m(m,null),o(m,v),o(m,y),o(m,M),o(m,k),o(k,T),ee(T,t[3].q.h),o(k,j),o(k,F),ee(F,t[3].q.p),o(e,N),st&&st.m(e,null),o(e,D),o(e,A),o(A,L),o(A,K),o(A,O),o(A,H),ee(H,t[3].q.u),o(e,V),o(e,B),o(B,Y),o(B,R),o(B,$),o(B,Q),ee(Q,t[3].q.a),o(e,te),o(e,W),o(W,X),o(X,fe),o(X,oe),o(X,_e),o(X,ne),ee(ne,t[3].q.c),o(W,x),o(W,be),o(be,S),o(be,b),o(be,E),o(be,q),o(q,z),o(q,ie),o(q,se),o(q,me),o(q,ae),o(q,ue),o(q,de),o(q,ke),at(q,t[3].q.m,!0),o(e,Ae),o(e,Ee),o(Ee,Ve),o(Ee,Je),o(Ee,Qe),o(Ee,Ie),ee(Ie,t[3].q.b),o(e,ot),o(e,he),o(he,kt),o(he,At),o(he,St),o(he,Ze),ee(Ze,t[3].q.r),o(e,Zt),o(e,wt),o(wt,Pt),o(wt,Rt),o(wt,et),o(et,Pe),o(wt,je),o(wt,Ge),o(Ge,$e),o($e,xe),o(xe,qe),o($e,Et),o(Et,Be),at($e,t[3].q.t,!0),o(Ge,rt),o(Ge,Xe),ee(Xe,t[3].q.d),o(e,Ht),o(e,We),o(We,Ce),o(We,ze),o(We,tt),o(tt,_t),o(We,Kt),o(We,Ft),o(Ft,It),ee(It,t[3].q.i),o(Ft,il),o(Ft,Lt),ee(Lt,t[3].q.k),Ke=!0,jt||($t=[ge(T,"input",t[70]),ge(F,"input",t[71]),ge(H,"input",t[72]),ge(Q,"input",t[73]),ge(ne,"input",t[74]),ge(q,"change",t[75]),ge(Ie,"input",t[76]),ge(Ze,"input",t[77]),ge($e,"change",t[78]),ge(Xe,"input",t[79]),ge(It,"input",t[80]),ge(Lt,"input",t[81])],jt=!0)},p(Re,it){var Fl,jl,Bl,Ul,Hl,Wl,zl,Kl,$l,Vl,Gl,Yl,Le,pt,Xt,Jl,Xl,wn,Mn,yn,Sn,Nn,Pn,Cn,Tn,An,En,qn,Ln,In;(!Ke||it[0]&4)&&n!==(n=(((jl=(Fl=Re[2].conf)==null?void 0:Fl.mqtt)==null?void 0:jl.title)??"MQTT")+"")&&I(i,n),(!Ke||it[0]&4)&&d!==(d=(((Ul=(Bl=Re[2].conf)==null?void 0:Bl.mqtt)==null?void 0:Ul.server)??"Server")+"")&&I(_,d),Re[0].chip!="esp8266"?ht?ht.p(Re,it):(ht=Bo(Re),ht.c(),ht.m(m,v)):ht&&(ht.d(1),ht=null),it[0]&8&&T.value!==Re[3].q.h&&ee(T,Re[3].q.h),it[0]&8&&gt(F.value)!==Re[3].q.p&&ee(F,Re[3].q.p),Re[3].q.s.e?st?(st.p(Re,it),it[0]&8&&J(st,1)):(st=Uo(Re),st.c(),J(st,1),st.m(e,D)):st&&(bt(),le(st,1,1,()=>{st=null}),vt()),(!Ke||it[0]&4)&&U!==(U=(((Wl=(Hl=Re[2].conf)==null?void 0:Hl.mqtt)==null?void 0:Wl.user)??"Username")+"")&&I(L,U),it[0]&8&&H.value!==Re[3].q.u&&ee(H,Re[3].q.u),(!Ke||it[0]&4)&&G!==(G=(((Kl=(zl=Re[2].conf)==null?void 0:zl.mqtt)==null?void 0:Kl.pass)??"Password")+"")&&I(Y,G),it[0]&8&&Q.value!==Re[3].q.a&&ee(Q,Re[3].q.a),(!Ke||it[0]&4)&&re!==(re=(((Vl=($l=Re[2].conf)==null?void 0:$l.mqtt)==null?void 0:Vl.id)??"Client ID")+"")&&I(fe,re),(!Ke||it[0]&8&&Z!==(Z=Re[3].q.h))&&(ne.required=Z),it[0]&8&&ne.value!==Re[3].q.c&&ee(ne,Re[3].q.c),(!Ke||it[0]&4)&&Ne!==(Ne=(((Yl=(Gl=Re[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.payload)??"Payload")+"")&&I(S,Ne),it[0]&8&&at(q,Re[3].q.m),(!Ke||it[0]&4)&&Fe!==(Fe=(((pt=(Le=Re[2].conf)==null?void 0:Le.mqtt)==null?void 0:pt.publish)??"Publish topic")+"")&&I(Ve,Fe),it[0]&8&&Ie.value!==Re[3].q.b&&ee(Ie,Re[3].q.b),(!Ke||it[0]&4)&&Oe!==(Oe=(((Jl=(Xt=Re[2].conf)==null?void 0:Xt.mqtt)==null?void 0:Jl.subscribe)??"Subscribe topic")+"")&&I(kt,Oe),(!Ke||it[0]&8&&mt!==(mt=Re[3].q.b+"/command"))&&u(Ze,"placeholder",mt),it[0]&8&&Ze.value!==Re[3].q.r&&ee(Ze,Re[3].q.r),(!Ke||it[0]&4)&&Dt!==(Dt=(((wn=(Xl=Re[2].conf)==null?void 0:Xl.mqtt)==null?void 0:wn.update)??"Update method")+"")&&I(Pt,Dt),(!Ke||it[0]&4)&&ct!==(ct=(((yn=(Mn=Re[2].conf)==null?void 0:Mn.mqtt)==null?void 0:yn.interval)??"Interval")+"")&&I(Pe,ct),(!Ke||it[0]&4)&&ve!==(ve=(((Nn=(Sn=Re[2].conf)==null?void 0:Sn.mqtt)==null?void 0:Nn.realtime)??"Real time")+"")&&I(qe,ve),(!Ke||it[0]&4)&&dt!==(dt=(((Cn=(Pn=Re[2].conf)==null?void 0:Pn.mqtt)==null?void 0:Cn.interval)??"Interval")+"")&&I(Be,dt),it[0]&8&&at($e,Re[3].q.t),(!Ke||it[0]&8&&qt!==(qt=((An=(Tn=Re[3])==null?void 0:Tn.q)==null?void 0:An.t)!=1))&&(Xe.disabled=qt),it[0]&8&&gt(Xe.value)!==Re[3].q.d&&ee(Xe,Re[3].q.d),(!Ke||it[0]&4)&&we!==(we=(((qn=(En=Re[2].conf)==null?void 0:En.mqtt)==null?void 0:qn.timeout)??"Timeout")+"")&&I(Ce,we),(!Ke||it[0]&4)&&nt!==(nt=(((In=(Ln=Re[2].conf)==null?void 0:Ln.mqtt)==null?void 0:In.keepalive)??"Keep-alive")+"")&&I(_t,nt),it[0]&8&&gt(It.value)!==Re[3].q.i&&ee(It,Re[3].q.i),it[0]&8&&gt(Lt.value)!==Re[3].q.k&&ee(Lt,Re[3].q.k)},i(Re){Ke||(J(st),Ke=!0)},o(Re){le(st),Ke=!1},d(Re){Re&&P(e),ht&&ht.d(),st&&st.d(),jt=!1,Ot($t)}}}function Bo(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=w(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",ee(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(a,f){C(a,e,f),o(e,l),l.checked=t[3].q.s.e,o(e,n),i||(s=[ge(l,"change",t[69]),ge(l,"change",t[22])],i=!0)},p(a,f){f[0]&8&&(l.checked=a[3].q.s.e)},d(a){a&&P(e),i=!1,Ot(s)}}}function Uo(t){let e,l,n,i,s,a,f,r,c,m,d,_,h;const v=[B1,j1],y=[];function M(A,U){return A[3].q.s.c?0:1}n=M(t),i=y[n]=v[n](t);const k=[z1,W1],T=[];function j(A,U){return A[3].q.s.r?0:1}f=j(t),r=T[f]=k[f](t);const F=[G1,V1],N=[];function D(A,U){return A[3].q.s.k?0:1}return d=D(t),_=N[d]=F[d](t),{c(){e=p("div"),l=p("span"),i.c(),s=g(),a=p("span"),r.c(),c=g(),m=p("span"),_.c(),u(l,"class","flex pr-2"),u(a,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(A,U){C(A,e,U),o(e,l),y[n].m(l,null),o(e,s),o(e,a),T[f].m(a,null),o(e,c),o(e,m),N[d].m(m,null),h=!0},p(A,U){let L=n;n=M(A),n===L?y[n].p(A,U):(bt(),le(y[L],1,1,()=>{y[L]=null}),vt(),i=y[n],i?i.p(A,U):(i=y[n]=v[n](A),i.c()),J(i,1),i.m(l,null));let K=f;f=j(A),f===K?T[f].p(A,U):(bt(),le(T[K],1,1,()=>{T[K]=null}),vt(),r=T[f],r?r.p(A,U):(r=T[f]=k[f](A),r.c()),J(r,1),r.m(a,null));let O=d;d=D(A),d===O?N[d].p(A,U):(bt(),le(N[O],1,1,()=>{N[O]=null}),vt(),_=N[d],_?_.p(A,U):(_=N[d]=F[d](A),_.c()),J(_,1),_.m(m,null))},i(A){h||(J(i),J(r),J(_),h=!0)},o(A){le(i),le(r),le(_),h=!1},d(A){A&&P(e),y[n].d(),T[f].d(),N[d].d()}}}function j1(t){let e,l;return e=new Ml({props:{to:"/mqtt-ca",$$slots:{default:[U1]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function B1(t){let e,l,n,i,s,a,f;return l=new Ml({props:{to:"/mqtt-ca",$$slots:{default:[H1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Se(l.$$.fragment),n=g(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,a||(f=[ge(i,"click",t[19]),ge(i,"keypress",t[19])],a=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(J(l.$$.fragment,r),s=!0)},o(r){le(l.$$.fragment,r),s=!1},d(r){r&&(P(e),P(n),P(i)),ye(l),a=!1,Ot(f)}}}function U1(t){var n,i,s,a;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((a=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:a.title_ca)??""}}),{c(){Se(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,h;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((h=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:h.title_ca)??""),e.$set(c)},i(f){l||(J(e.$$.fragment,f),l=!0)},o(f){le(e.$$.fragment,f),l=!1},d(f){ye(e,f)}}}function H1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=w(e)},m(s,a){C(s,l,a)},p(s,a){var f,r;a[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&I(l,e)},d(s){s&&P(l)}}}function W1(t){let e,l;return e=new Ml({props:{to:"/mqtt-cert",$$slots:{default:[K1]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function z1(t){let e,l,n,i,s,a,f;return l=new Ml({props:{to:"/mqtt-cert",$$slots:{default:[$1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Se(l.$$.fragment),n=g(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,a||(f=[ge(i,"click",t[20]),ge(i,"keypress",t[20])],a=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(J(l.$$.fragment,r),s=!0)},o(r){le(l.$$.fragment,r),s=!1},d(r){r&&(P(e),P(n),P(i)),ye(l),a=!1,Ot(f)}}}function K1(t){var n,i,s,a;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((a=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:a.title_crt)??""}}),{c(){Se(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,h;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((h=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:h.title_crt)??""),e.$set(c)},i(f){l||(J(e.$$.fragment,f),l=!0)},o(f){le(e.$$.fragment,f),l=!1},d(f){ye(e,f)}}}function $1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=w(e)},m(s,a){C(s,l,a)},p(s,a){var f,r;a[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&I(l,e)},d(s){s&&P(l)}}}function V1(t){let e,l;return e=new Ml({props:{to:"/mqtt-key",$$slots:{default:[Y1]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function G1(t){let e,l,n,i,s,a,f;return l=new Ml({props:{to:"/mqtt-key",$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Se(l.$$.fragment),n=g(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,a||(f=[ge(i,"click",t[21]),ge(i,"keypress",t[21])],a=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(J(l.$$.fragment,r),s=!0)},o(r){le(l.$$.fragment,r),s=!1},d(r){r&&(P(e),P(n),P(i)),ye(l),a=!1,Ot(f)}}}function Y1(t){var n,i,s,a;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((a=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:a.title_key)??""}}),{c(){Se(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,h;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((h=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:h.title_key)??""),e.$set(c)},i(f){l||(J(e.$$.fragment,f),l=!0)},o(f){le(e.$$.fragment,f),l=!1},d(f){ye(e,f)}}}function J1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=w(e)},m(s,a){C(s,l,a)},p(s,a){var f,r;a[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&I(l,e)},d(s){s&&P(l)}}}function Ho(t){var W,X,re,fe,oe,_e,ne,Z,x,be,Ne,S;let e,l,n=(((re=(X=(W=t[2].conf)==null?void 0:W.mqtt)==null?void 0:X.domoticz)==null?void 0:re.title)??"Domoticz")+"",i,s,a,f,r,c,m,d,_=(((_e=(oe=(fe=t[2].conf)==null?void 0:fe.mqtt)==null?void 0:oe.domoticz)==null?void 0:_e.eidx)??"Electricity IDX")+"",h,v,y,M,k,T,j=(((x=(Z=(ne=t[2].conf)==null?void 0:ne.mqtt)==null?void 0:Z.domoticz)==null?void 0:x.cidx)??"Current IDX")+"",F,N,D,A,U,L,K=(((S=(Ne=(be=t[2].conf)==null?void 0:be.mqtt)==null?void 0:Ne.domoticz)==null?void 0:S.vidx)??"Voltage IDX")+"",O,H,V,B,G,Y,R,$,Q,te;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),d=p("div"),h=w(_),v=p("br"),y=g(),M=p("input"),k=g(),T=p("div"),F=w(j),N=p("br"),D=g(),A=p("input"),U=g(),L=p("div"),O=w(K),H=w(`: L1, L2 & L3
                    `),V=p("div"),B=p("input"),G=g(),Y=p("input"),R=g(),$=p("input"),u(l,"class","text-sm"),u(a,"href",Il("MQTT-configuration#domoticz")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(M,"name","oe"),u(M,"type","text"),u(M,"class","in-f tr w-full"),u(M,"pattern",Dn),u(d,"class","w-1/2"),u(A,"name","oc"),u(A,"type","text"),u(A,"class","in-l tr w-full"),u(A,"pattern",Dn),u(T,"class","w-1/2"),u(m,"class","my-1 flex"),u(B,"name","ou1"),u(B,"type","text"),u(B,"class","in-f tr w-1/3"),u(B,"pattern",Dn),u(Y,"name","ou2"),u(Y,"type","text"),u(Y,"class","in-m tr w-1/3"),u(Y,"pattern",Dn),u($,"name","ou3"),u($,"type","text"),u($,"class","in-l tr w-1/3"),u($,"pattern",Dn),u(V,"class","flex"),u(L,"class","my-1"),u(e,"class","cnt")},m(b,E){C(b,e,E),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m),o(m,d),o(d,h),o(d,v),o(d,y),o(d,M),ee(M,t[3].o.e),o(m,k),o(m,T),o(T,F),o(T,N),o(T,D),o(T,A),ee(A,t[3].o.c),o(e,U),o(e,L),o(L,O),o(L,H),o(L,V),o(V,B),ee(B,t[3].o.u1),o(V,G),o(V,Y),ee(Y,t[3].o.u2),o(V,R),o(V,$),ee($,t[3].o.u3),Q||(te=[ge(M,"input",t[82]),ge(A,"input",t[83]),ge(B,"input",t[84]),ge(Y,"input",t[85]),ge($,"input",t[86])],Q=!0)},p(b,E){var q,z,ie,se,me,ae,ue,de,ke,Ae,Ee,Fe;E[0]&4&&n!==(n=(((ie=(z=(q=b[2].conf)==null?void 0:q.mqtt)==null?void 0:z.domoticz)==null?void 0:ie.title)??"Domoticz")+"")&&I(i,n),E[0]&4&&_!==(_=(((ae=(me=(se=b[2].conf)==null?void 0:se.mqtt)==null?void 0:me.domoticz)==null?void 0:ae.eidx)??"Electricity IDX")+"")&&I(h,_),E[0]&8&&M.value!==b[3].o.e&&ee(M,b[3].o.e),E[0]&4&&j!==(j=(((ke=(de=(ue=b[2].conf)==null?void 0:ue.mqtt)==null?void 0:de.domoticz)==null?void 0:ke.cidx)??"Current IDX")+"")&&I(F,j),E[0]&8&&A.value!==b[3].o.c&&ee(A,b[3].o.c),E[0]&4&&K!==(K=(((Fe=(Ee=(Ae=b[2].conf)==null?void 0:Ae.mqtt)==null?void 0:Ee.domoticz)==null?void 0:Fe.vidx)??"Voltage IDX")+"")&&I(O,K),E[0]&8&&B.value!==b[3].o.u1&&ee(B,b[3].o.u1),E[0]&8&&Y.value!==b[3].o.u2&&ee(Y,b[3].o.u2),E[0]&8&&$.value!==b[3].o.u3&&ee($,b[3].o.u3)},d(b){b&&P(e),Q=!1,Ot(te)}}}function Wo(t){var R,$,Q,te,W,X,re,fe,oe,_e,ne,Z;let e,l,n=(((Q=($=(R=t[2].conf)==null?void 0:R.mqtt)==null?void 0:$.ha)==null?void 0:Q.title)??"Home-Assistant")+"",i,s,a,f,r,c,m,d=(((X=(W=(te=t[2].conf)==null?void 0:te.mqtt)==null?void 0:W.ha)==null?void 0:X.discovery)??"Discovery topic prefix")+"",_,h,v,y,M,k,T=(((oe=(fe=(re=t[2].conf)==null?void 0:re.mqtt)==null?void 0:fe.ha)==null?void 0:oe.hostname)??"Hostname for URL")+"",j,F,N,D,A,U,L,K=(((Z=(ne=(_e=t[2].conf)==null?void 0:_e.mqtt)==null?void 0:ne.ha)==null?void 0:Z.tag)??"Name tag")+"",O,H,V,B,G,Y;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div"),_=w(d),h=p("br"),v=g(),y=p("input"),M=g(),k=p("div"),j=w(T),F=p("br"),N=g(),D=p("input"),U=g(),L=p("div"),O=w(K),H=p("br"),V=g(),B=p("input"),u(l,"class","text-sm"),u(a,"href",Il("MQTT-configuration#home-assistant")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(y,"name","ht"),u(y,"type","text"),u(y,"class","in-s"),u(y,"placeholder","homeassistant"),u(y,"pattern",en),u(m,"class","my-1"),u(D,"name","hh"),u(D,"type","text"),u(D,"class","in-s"),u(D,"placeholder",A=t[3].g.h+".local"),u(D,"pattern",en),u(k,"class","my-1"),u(B,"name","hn"),u(B,"type","text"),u(B,"class","in-s"),u(B,"pattern",en),u(L,"class","my-1"),u(e,"class","cnt")},m(x,be){C(x,e,be),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m),o(m,_),o(m,h),o(m,v),o(m,y),ee(y,t[3].h.t),o(e,M),o(e,k),o(k,j),o(k,F),o(k,N),o(k,D),ee(D,t[3].h.h),o(e,U),o(e,L),o(L,O),o(L,H),o(L,V),o(L,B),ee(B,t[3].h.n),G||(Y=[ge(y,"input",t[87]),ge(D,"input",t[88]),ge(B,"input",t[89])],G=!0)},p(x,be){var Ne,S,b,E,q,z,ie,se,me,ae,ue,de;be[0]&4&&n!==(n=(((b=(S=(Ne=x[2].conf)==null?void 0:Ne.mqtt)==null?void 0:S.ha)==null?void 0:b.title)??"Home-Assistant")+"")&&I(i,n),be[0]&4&&d!==(d=(((z=(q=(E=x[2].conf)==null?void 0:E.mqtt)==null?void 0:q.ha)==null?void 0:z.discovery)??"Discovery topic prefix")+"")&&I(_,d),be[0]&8&&y.value!==x[3].h.t&&ee(y,x[3].h.t),be[0]&4&&T!==(T=(((me=(se=(ie=x[2].conf)==null?void 0:ie.mqtt)==null?void 0:se.ha)==null?void 0:me.hostname)??"Hostname for URL")+"")&&I(j,T),be[0]&8&&A!==(A=x[3].g.h+".local")&&u(D,"placeholder",A),be[0]&8&&D.value!==x[3].h.h&&ee(D,x[3].h.h),be[0]&4&&K!==(K=(((de=(ue=(ae=x[2].conf)==null?void 0:ae.mqtt)==null?void 0:ue.ha)==null?void 0:de.tag)??"Name tag")+"")&&I(O,K),be[0]&8&&B.value!==x[3].h.n&&ee(B,x[3].h.n)},d(x){x&&P(e),G=!1,Ot(Y)}}}function zo(t){var K,O,H,V,B;let e,l,n=(((O=(K=t[2].conf)==null?void 0:K.thresholds)==null?void 0:O.title)??"Thresholds")+"",i,s,a,f,r,c,m,d,_,h,v=(((V=(H=t[2].conf)==null?void 0:H.thresholds)==null?void 0:V.avg)??"Average of")+"",y,M,k,T,j,F=(((B=t[2].common)==null?void 0:B.hours)??"hours")+"",N,D,A,U=Ye({length:9}),L=[];for(let G=0;G<U.length;G+=1)L[G]=Ko(mo(t,U,G));return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div");for(let G=0;G<L.length;G+=1)L[G].c();d=g(),_=p("label"),h=p("span"),y=w(v),M=g(),k=p("input"),T=g(),j=p("span"),N=w(F),u(l,"class","text-sm"),u(a,"href",Il("Threshold-configuration")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(h,"class","in-pre"),u(k,"name","th"),u(k,"type","number"),u(k,"min","0"),u(k,"max","255"),u(k,"class","in-txt tr w-full"),u(j,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(G,Y){C(G,e,Y),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m);for(let R=0;R<L.length;R+=1)L[R]&&L[R].m(m,null);o(e,d),o(e,_),o(_,h),o(h,y),o(_,M),o(_,k),ee(k,t[3].t.h),o(_,T),o(_,j),o(j,N),D||(A=ge(k,"input",t[91]),D=!0)},p(G,Y){var R,$,Q,te,W;if(Y[0]&4&&n!==(n=((($=(R=G[2].conf)==null?void 0:R.thresholds)==null?void 0:$.title)??"Thresholds")+"")&&I(i,n),Y[0]&8){U=Ye({length:9});let X;for(X=0;X<U.length;X+=1){const re=mo(G,U,X);L[X]?L[X].p(re,Y):(L[X]=Ko(re),L[X].c(),L[X].m(m,null))}for(;X<L.length;X+=1)L[X].d(1);L.length=U.length}Y[0]&4&&v!==(v=(((te=(Q=G[2].conf)==null?void 0:Q.thresholds)==null?void 0:te.avg)??"Average of")+"")&&I(y,v),Y[0]&8&&gt(k.value)!==G[3].t.h&&ee(k,G[3].t.h),Y[0]&4&&F!==(F=(((W=G[2].common)==null?void 0:W.hours)??"hours")+"")&&I(N,F)},d(G){G&&P(e),Qt(L,G),D=!1,A()}}}function Ko(t){let e,l,n,i,s,a,f,r,c;function m(){t[90].call(i,t[105])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[105]+1}`,n=g(),i=p("input"),s=g(),a=p("span"),a.textContent="kWh",f=g(),u(l,"class","in-pre"),u(i,"name","t"+t[105]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(a,"class","in-post"),u(e,"class","flex w-40 m-1")},m(d,_){C(d,e,_),o(e,l),o(e,n),o(e,i),ee(i,t[3].t.t[t[105]]),o(e,s),o(e,a),o(e,f),r||(c=ge(i,"input",m),r=!0)},p(d,_){t=d,_[0]&8&&gt(i.value)!==t[3].t.t[t[105]]&&ee(i,t[3].t.t[t[105]])},d(d){d&&P(e),r=!1,c()}}}function $o(t){var h,v;let e,l,n=(((v=(h=t[2].conf)==null?void 0:h.ui)==null?void 0:v.title)??"User interface")+"",i,s,a,f,r,c,m,d=Ye(t[15]),_=[];for(let y=0;y<d.length;y+=1)_[y]=Vo(co(t,d,y));return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("input"),c=g(),m=p("div");for(let y=0;y<_.length;y+=1)_[y].c();u(l,"class","text-sm"),u(a,"href",Il("User-interface")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(y,M){C(y,e,M),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(m,null)},p(y,M){var k,T;if(M[0]&4&&n!==(n=(((T=(k=y[2].conf)==null?void 0:k.ui)==null?void 0:T.title)??"User interface")+"")&&I(i,n),M[0]&32780){d=Ye(y[15]);let j;for(j=0;j<d.length;j+=1){const F=co(y,d,j);_[j]?_[j].p(F,M):(_[j]=Vo(F),_[j].c(),_[j].m(m,null))}for(;j<_.length;j+=1)_[j].d(1);_.length=d.length}},d(y){y&&P(e),Qt(_,y)}}}function Vo(t){var F,N,D,A,U,L,K,O;let e,l=(((N=(F=t[2].conf)==null?void 0:F.ui)==null?void 0:N[t[100].key])??t[100].name)+"",n,i,s,a,f,r=(((A=(D=t[2].conf)==null?void 0:D.ui)==null?void 0:A.disabled)??"Disabled")+"",c,m,d=(((L=(U=t[2].conf)==null?void 0:U.ui)==null?void 0:L.enabled)??"Enabled")+"",_,h,v=(((O=(K=t[2].conf)==null?void 0:K.ui)==null?void 0:O.auto)??"Auto")+"",y,M,k,T;function j(){t[92].call(a,t[100])}return{c(){e=p("div"),n=w(l),i=p("br"),s=g(),a=p("select"),f=p("option"),c=w(r),m=p("option"),_=w(d),h=p("option"),y=w(v),M=g(),f.__value=0,ee(f,f.__value),m.__value=1,ee(m,m.__value),h.__value=2,ee(h,h.__value),u(a,"name","u"+t[100].key),u(a,"class","in-s"),t[3].u[t[100].key]===void 0&&Gt(j),u(e,"class","w-1/2")},m(H,V){C(H,e,V),o(e,n),o(e,i),o(e,s),o(e,a),o(a,f),o(f,c),o(a,m),o(m,_),o(a,h),o(h,y),at(a,t[3].u[t[100].key],!0),o(e,M),k||(T=ge(a,"change",j),k=!0)},p(H,V){var B,G,Y,R,$,Q,te,W;t=H,V[0]&4&&l!==(l=(((G=(B=t[2].conf)==null?void 0:B.ui)==null?void 0:G[t[100].key])??t[100].name)+"")&&I(n,l),V[0]&4&&r!==(r=(((R=(Y=t[2].conf)==null?void 0:Y.ui)==null?void 0:R.disabled)??"Disabled")+"")&&I(c,r),V[0]&4&&d!==(d=(((Q=($=t[2].conf)==null?void 0:$.ui)==null?void 0:Q.enabled)??"Enabled")+"")&&I(_,d),V[0]&4&&v!==(v=(((W=(te=t[2].conf)==null?void 0:te.ui)==null?void 0:W.auto)??"Auto")+"")&&I(y,v),V[0]&32776&&at(a,t[3].u[t[100].key])},d(H){H&&P(e),k=!1,T()}}}function Go(t){var _,h;let e,l,n=(((_=t[2].conf)==null?void 0:_.btn_reset)??"Factory reset")+"",i,s,a,f,r=(((h=t[2].btn)==null?void 0:h.reboot)??"Reboot")+"",c,m,d;return{c(){e=p("div"),l=p("button"),i=w(n),s=g(),a=p("div"),f=p("button"),c=w(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(a,"class","text-center")},m(v,y){C(v,e,y),o(e,l),o(l,i),C(v,s,y),C(v,a,y),o(a,f),o(f,c),m||(d=[ge(l,"click",t[16]),ge(f,"click",t[18])],m=!0)},p(v,y){var M,k;y[0]&4&&n!==(n=(((M=v[2].conf)==null?void 0:M.btn_reset)??"Factory reset")+"")&&I(i,n),y[0]&4&&r!==(r=(((k=v[2].btn)==null?void 0:k.reboot)??"Reboot")+"")&&I(c,r)},d(v){v&&(P(e),P(s),P(a)),m=!1,Ot(d)}}}function Yo(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=w(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(a,f){C(a,e,f),o(e,l),o(l,i)},p(a,f){var r;f[0]&4&&n!==(n=(((r=a[2].btn)==null?void 0:r.save)??"Save")+"")&&I(i,n)},d(a){a&&P(e)}}}function X1(t){var re,fe,oe,_e,ne,Z,x,be,Ne,S,b,E,q,z,ie,se,me,ae,ue,de,ke,Ae,Ee,Fe,Ve,Je,Qe,Ie,ot;let e,l,n,i,s,a,f,r,c,m,d=((oe=(fe=(re=t[3])==null?void 0:re.p)==null?void 0:fe.r)==null?void 0:oe.startsWith("NO"))||((Z=(ne=(_e=t[3])==null?void 0:_e.p)==null?void 0:ne.r)==null?void 0:Z.startsWith("10YNO"))||((Ne=(be=(x=t[3])==null?void 0:x.p)==null?void 0:be.r)==null?void 0:Ne.startsWith("10Y1001A1001A4")),_,h,v,y,M,k,T,j,F,N,D,A,U,L,K,O=((S=t[3])==null?void 0:S.g)&&go(t),H=((b=t[3])==null?void 0:b.fw)&&Mo(t),V=((E=t[3])==null?void 0:E.d)&&yo(t),B=((q=t[3])==null?void 0:q.m)&&No(t),G=((z=t[3])==null?void 0:z.w)&&Io(t),Y=((ie=t[3])==null?void 0:ie.q)&&jo(t),R=((me=(se=t[3])==null?void 0:se.q)==null?void 0:me.m)==3&&Ho(t),$=((ue=(ae=t[3])==null?void 0:ae.q)==null?void 0:ue.m)==4&&Wo(t),Q=d&&zo(t),te=((de=t[3])==null?void 0:de.u)&&$o(t),W=((ke=t[1])==null?void 0:ke.a)&&Go(t),X=t[3]&&Yo(t);return k=new ml({props:{active:t[6],message:((Ee=(Ae=t[2].conf)==null?void 0:Ae.mask)==null?void 0:Ee.loading)??"Loading"}}),j=new ml({props:{active:t[7],message:((Ve=(Fe=t[2].conf)==null?void 0:Fe.mask)==null?void 0:Ve.saving)??"Saving"}}),N=new ml({props:{active:t[11],message:((Qe=(Je=t[2].conf)==null?void 0:Je.mask)==null?void 0:Qe.reset)??"Factory reset"}}),A=new ml({props:{active:t[12],message:((ot=(Ie=t[2].conf)==null?void 0:Ie.mask)==null?void 0:ot.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),O&&O.c(),n=g(),H&&H.c(),i=g(),V&&V.c(),s=g(),B&&B.c(),a=g(),G&&G.c(),f=g(),Y&&Y.c(),r=g(),R&&R.c(),c=g(),$&&$.c(),m=g(),Q&&Q.c(),_=g(),te&&te.c(),h=g(),v=p("div"),W&&W.c(),y=g(),X&&X.c(),M=g(),Se(k.$$.fragment),T=g(),Se(j.$$.fragment),F=g(),Se(N.$$.fragment),D=g(),Se(A.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(v,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(he,Oe){C(he,e,Oe),o(e,l),O&&O.m(l,null),o(l,n),H&&H.m(l,null),o(l,i),V&&V.m(l,null),o(l,s),B&&B.m(l,null),o(l,a),G&&G.m(l,null),o(l,f),Y&&Y.m(l,null),o(l,r),R&&R.m(l,null),o(l,c),$&&$.m(l,null),o(l,m),Q&&Q.m(l,null),o(l,_),te&&te.m(l,null),o(e,h),o(e,v),W&&W.m(v,null),o(v,y),X&&X.m(v,null),C(he,M,Oe),Me(k,he,Oe),C(he,T,Oe),Me(j,he,Oe),C(he,F,Oe),Me(N,he,Oe),C(he,D,Oe),Me(A,he,Oe),U=!0,L||(K=ge(e,"submit",Gn(t[17])),L=!0)},p(he,Oe){var mt,Zt,wt,Dt,Pt,Rt,et,ct,Pe,je,Ge,$e,xe,ve,qe,Et,dt,Be,rt,Xe,qt,Ht,We,we,Ce,ze,tt,nt,_t;(mt=he[3])!=null&&mt.g?O?(O.p(he,Oe),Oe[0]&8&&J(O,1)):(O=go(he),O.c(),J(O,1),O.m(l,n)):O&&(bt(),le(O,1,1,()=>{O=null}),vt()),(Zt=he[3])!=null&&Zt.fw?H?H.p(he,Oe):(H=Mo(he),H.c(),H.m(l,i)):H&&(H.d(1),H=null),(wt=he[3])!=null&&wt.d?V?V.p(he,Oe):(V=yo(he),V.c(),V.m(l,s)):V&&(V.d(1),V=null),(Dt=he[3])!=null&&Dt.m?B?B.p(he,Oe):(B=No(he),B.c(),B.m(l,a)):B&&(B.d(1),B=null),(Pt=he[3])!=null&&Pt.w?G?G.p(he,Oe):(G=Io(he),G.c(),G.m(l,f)):G&&(G.d(1),G=null),(Rt=he[3])!=null&&Rt.q?Y?(Y.p(he,Oe),Oe[0]&8&&J(Y,1)):(Y=jo(he),Y.c(),J(Y,1),Y.m(l,r)):Y&&(bt(),le(Y,1,1,()=>{Y=null}),vt()),((ct=(et=he[3])==null?void 0:et.q)==null?void 0:ct.m)==3?R?R.p(he,Oe):(R=Ho(he),R.c(),R.m(l,c)):R&&(R.d(1),R=null),((je=(Pe=he[3])==null?void 0:Pe.q)==null?void 0:je.m)==4?$?$.p(he,Oe):($=Wo(he),$.c(),$.m(l,m)):$&&($.d(1),$=null),Oe[0]&8&&(d=((xe=($e=(Ge=he[3])==null?void 0:Ge.p)==null?void 0:$e.r)==null?void 0:xe.startsWith("NO"))||((Et=(qe=(ve=he[3])==null?void 0:ve.p)==null?void 0:qe.r)==null?void 0:Et.startsWith("10YNO"))||((rt=(Be=(dt=he[3])==null?void 0:dt.p)==null?void 0:Be.r)==null?void 0:rt.startsWith("10Y1001A1001A4"))),d?Q?Q.p(he,Oe):(Q=zo(he),Q.c(),Q.m(l,_)):Q&&(Q.d(1),Q=null),(Xe=he[3])!=null&&Xe.u?te?te.p(he,Oe):(te=$o(he),te.c(),te.m(l,null)):te&&(te.d(1),te=null),(qt=he[1])!=null&&qt.a?W?W.p(he,Oe):(W=Go(he),W.c(),W.m(v,y)):W&&(W.d(1),W=null),he[3]?X?X.p(he,Oe):(X=Yo(he),X.c(),X.m(v,null)):X&&(X.d(1),X=null);const kt={};Oe[0]&64&&(kt.active=he[6]),Oe[0]&4&&(kt.message=((We=(Ht=he[2].conf)==null?void 0:Ht.mask)==null?void 0:We.loading)??"Loading"),k.$set(kt);const At={};Oe[0]&128&&(At.active=he[7]),Oe[0]&4&&(At.message=((Ce=(we=he[2].conf)==null?void 0:we.mask)==null?void 0:Ce.saving)??"Saving"),j.$set(At);const St={};Oe[0]&2048&&(St.active=he[11]),Oe[0]&4&&(St.message=((tt=(ze=he[2].conf)==null?void 0:ze.mask)==null?void 0:tt.reset)??"Factory reset"),N.$set(St);const Ze={};Oe[0]&4096&&(Ze.active=he[12]),Oe[0]&4&&(Ze.message=((_t=(nt=he[2].conf)==null?void 0:nt.mask)==null?void 0:_t.reset_done)??"Done"),A.$set(Ze)},i(he){U||(J(O),J(Y),J(k.$$.fragment,he),J(j.$$.fragment,he),J(N.$$.fragment,he),J(A.$$.fragment,he),U=!0)},o(he){le(O),le(Y),le(k.$$.fragment,he),le(j.$$.fragment,he),le(N.$$.fragment,he),le(A.$$.fragment,he),U=!1},d(he){he&&(P(e),P(M),P(T),P(F),P(D)),O&&O.d(),H&&H.d(),V&&V.d(),B&&B.d(),G&&G.d(),Y&&Y.d(),R&&R.d(),$&&$.d(),Q&&Q.d(),te&&te.d(),W&&W.d(),X&&X.d(),ye(k,he),ye(j,he),ye(N,he),ye(A,he),L=!1,K()}}}async function Q1(){await(await fetch("reboot",{method:"POST"})).json()}function Jo(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function Z1(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const a={high:$f,medium:Kf,low:zf,off:Vf};a.off;let f={};Sl.subscribe(we=>{l(2,f=we)});const r=[{value:0,label:"Verbose"},{value:1,label:"Debug"},{value:2,label:"Info"},{value:3,label:"Warning"},{value:4,label:"Error"},{value:5,label:"Silent"}];let c=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],m=!0,d=!1,_,h=[],v="",y=null;hn.subscribe(we=>{var Ce,ze,tt,nt;if(we.version){(Ce=we==null?void 0:we.c)==null||Ce.e,l(3,_=we),l(6,m=!1);const _t=((ze=f.consent)==null?void 0:ze.load_from_server)??"Load from server";l(4,h=[{code:"no",name:"Norsk"},{code:"en",name:"English"}]),_!=null&&_.fw?l(3,_.fw={a:!!_.fw.a,s:Number(_.fw.s??2),e:Number(_.fw.e??3)},_):l(3,_={..._,fw:{a:!1,s:2,e:3}}),_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??_.fw.e??2),_),_!=null&&_.d?l(3,_.d={s:_.d.s===!0||_.d.s==="true",t:_.d.t===!0||_.d.t==="true",l:Number(_.d.l??4)},_):l(3,_={..._,d:{s:!1,t:!1,l:4}}),(tt=_==null?void 0:_.u)!=null&&tt.lang&&!h.find(Kt=>Kt.code===_.u.lang)&&h.push({code:_.u.lang,name:((nt=f.language)==null?void 0:nt.name)??"Unknown"}),h.push({code:"hub",name:_t})}}),Qf();let M={},k=[];Wf.subscribe(we=>{var Ce;for(let ze=0;ze<we.n.length&&we.n[ze].s!=((Ce=_==null?void 0:_.w)==null?void 0:Ce.s);ze++);l(5,M=we)});let T=!1,j=!1;async function F(){if(confirm("Factory reset?")){l(11,T=!0);const we=new URLSearchParams;we.append("perform","true");let ze=await(await fetch("reset",{method:"POST",body:we})).json();l(11,T=!1),l(12,j=ze.success)}}async function N(we){l(7,d=!0);const Ce=new FormData(we.target),ze=new URLSearchParams;for(let _t of Ce){const[Kt,Ft]=_t;ze.append(Kt,Ft)}let nt=await(await fetch("save",{method:"POST",body:ze})).json();pl.update(_t=>(_t.hostname=Ce.get("gh"),_t.usrcfg=nt.success,_t.booting=nt.reboot,Ce.get("nm")=="static"&&(_t.net.ip=Ce.get("ni"),_t.net.mask=Ce.get("nu"),_t.net.gw=Ce.get("ng"),_t.net.dns1=Ce.get("nd")),_t.ui=_.u,_t)),l(7,d=!1),Wn(n)}const D=function(){confirm("Reboot?")&&(pl.update(we=>(we.booting=!0,we)),Q1())};async function A(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),hn.update(Ce=>(Ce.q.s.c=!1,Ce)))}async function U(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),hn.update(Ce=>(Ce.q.s.r=!1,Ce)))}async function L(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),hn.update(Ce=>(Ce.q.s.k=!1,Ce)))}const K=function(){_.q.s.e?_.q.p==1883&&l(3,_.q.p=8883,_):_.q.p==8883&&l(3,_.q.p=1883,_)};async function O(){if(_.u.lang=="hub"){const we=await yl("http://hub.amsleser.no/hub/language/list.json");l(4,h=await we.json()),l(3,_.u.lang=f.language.code,_);return}_.u.lang&&await hi(_.u.lang)}function H(we){l(8,v=we);const Ce=xf(we);if(l(9,y=Ce??null),!Ce||!(_!=null&&_.m))return;const ze=_n(_.m),tt=eu(ze,Ce),nt=y1(_.m,tt);l(3,_={..._,m:nt})}function V(){l(8,v=""),l(9,y=null)}async function B(){l(3,_.p.e=!0,_)}const G=window||global;G.bindToCloud=function(){console.log("BIND CALLED")};const Y=[[]];function R(){_.g.h=this.value,l(3,_)}function $(){_.g.t=ll(this),l(3,_)}function Q(){_.u.lang=ll(this),l(3,_)}function te(){_.p.r=ll(this),l(3,_)}function W(){_.p.c=ll(this),l(3,_)}function X(){_.p.e=this.checked,l(3,_)}function re(){_.p.t=this.value,l(3,_)}function fe(){_.g.s=ll(this),l(3,_)}function oe(){_.g.u=this.value,l(3,_)}function _e(){_.g.p=this.value,l(3,_)}function ne(){_.g.c=this.value,l(3,_)}function Z(){_.fw.a=this.checked,l(3,_)}function x(){_.fw.s=gt(this.value),l(3,_)}function be(){_.d.t=this.checked,l(3,_)}function Ne(){_.d.s=this.checked,l(3,_)}function S(){_.d.l=ll(this),l(3,_)}function b(){v=ll(this),l(8,v)}const E=we=>H(we.target.value);function q(){_.m.a=ll(this),l(3,_)}function z(){_.m.b=gt(this.value),l(3,_)}function ie(){_.m.i=this.checked,l(3,_)}function se(){_.m.b=ll(this),l(3,_)}function me(){_.m.p=ll(this),l(3,_)}function ae(){_.m.s=gt(this.value),l(3,_)}function ue(){_.m.d=ll(this),l(3,_)}function de(){_.m.f=gt(this.value),l(3,_)}function ke(){_.m.r=gt(this.value),l(3,_)}function Ae(){_.m.e.e=this.checked,l(3,_)}function Ee(){_.m.e.k=this.value,l(3,_)}function Fe(){_.m.e.a=this.value,l(3,_)}function Ve(){_.m.m.e=this.checked,l(3,_)}function Je(){_.m.m.w=gt(this.value),l(3,_)}function Qe(){_.m.m.v=gt(this.value),l(3,_)}function Ie(){_.m.m.a=gt(this.value),l(3,_)}function ot(){_.m.m.c=gt(this.value),l(3,_)}function he(){_.w.s=this.__value,l(3,_)}function Oe(){_.w.p=this.value,l(3,_)}function kt(){_.w.z=ll(this),l(3,_)}function At(){_.w.w=gt(this.value),l(3,_)}function St(){_.w.b=this.checked,l(3,_)}function Ze(){_.q.s.e=this.checked,l(3,_)}function mt(){_.q.h=this.value,l(3,_)}function Zt(){_.q.p=gt(this.value),l(3,_)}function wt(){_.q.u=this.value,l(3,_)}function Dt(){_.q.a=this.value,l(3,_)}function Pt(){_.q.c=this.value,l(3,_)}function Rt(){_.q.m=ll(this),l(3,_)}function et(){_.q.b=this.value,l(3,_)}function ct(){_.q.r=this.value,l(3,_)}function Pe(){_.q.t=ll(this),l(3,_)}function je(){_.q.d=gt(this.value),l(3,_)}function Ge(){_.q.i=gt(this.value),l(3,_)}function $e(){_.q.k=gt(this.value),l(3,_)}function xe(){_.o.e=this.value,l(3,_)}function ve(){_.o.c=this.value,l(3,_)}function qe(){_.o.u1=this.value,l(3,_)}function Et(){_.o.u2=this.value,l(3,_)}function dt(){_.o.u3=this.value,l(3,_)}function Be(){_.h.t=this.value,l(3,_)}function rt(){_.h.h=this.value,l(3,_)}function Xe(){_.h.n=this.value,l(3,_)}function qt(we){_.t.t[we]=gt(this.value),l(3,_)}function Ht(){_.t.h=gt(this.value),l(3,_)}function We(we){_.u[we.key]=ll(this),l(3,_)}return t.$$set=we=>{"basepath"in we&&l(27,n=we.basepath),"sysinfo"in we&&l(0,i=we.sysinfo),"data"in we&&l(1,s=we.data)},t.$$.update=()=>{var we;if(t.$$.dirty[0]&8&&_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??0),_),t.$$.dirty[0]&20&&h.length){const Ce=((we=f.consent)==null?void 0:we.load_from_server)??"Load from server";h.some(tt=>tt.code==="hub")?h.find(nt=>nt.code==="hub"&&nt.name!==Ce)&&l(4,h=h.map(nt=>nt.code==="hub"?{...nt,name:Ce}:nt)):l(4,h=[...h,{code:"hub",name:Ce}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Ce,label:ze}=Kn(s==null?void 0:s.r);a[Ce]??a.off}t.$$.dirty[0]&32&&l(10,k=Array.isArray(M==null?void 0:M.n)?M.n.map(Ce=>{const{level:ze,label:tt}=Kn(Ce==null?void 0:Ce.r);return{icon:a[ze]??a.off,title:tt}}):[])},[i,s,f,_,h,M,m,d,v,y,k,T,j,a,r,c,F,N,D,A,U,L,K,O,H,V,B,n,R,$,Q,te,W,X,re,fe,oe,_e,ne,Z,x,be,Ne,S,b,E,q,z,ie,se,me,ae,ue,de,ke,Ae,Ee,Fe,Ve,Je,Qe,Ie,ot,he,Y,Oe,kt,At,St,Ze,mt,Zt,wt,Dt,Pt,Rt,et,ct,Pe,je,Ge,$e,xe,ve,qe,Et,dt,Be,rt,Xe,qt,Ht,We]}class tu extends Tt{constructor(e){super(),Ct(this,e,Z1,X1,Nt,{basepath:27,sysinfo:0,data:1},null,[-1,-1,-1,-1,-1])}}function Xo(t,e,l){const n=t.slice();return n[21]=e[l],n}function Qo(t){let e,l=t[1].cpu+"",n,i;return{c(){e=w("("),n=w(l),i=w("MHz)")},m(s,a){C(s,e,a),C(s,n,a),C(s,i,a)},p(s,a){a&2&&l!==(l=s[1].cpu+"")&&I(n,l)},d(s){s&&(P(e),P(n),P(i))}}}function Zo(t){var Y,R,$,Q,te,W,X,re;let e,l=(((R=(Y=t[3].status)==null?void 0:Y.device)==null?void 0:R.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",a,f,r,c=(((Q=($=t[3].status)==null?void 0:$.device)==null?void 0:Q.last_boot)??"Last boot")+"",m,d,_,h,v,y,M=(((W=(te=t[3].status)==null?void 0:te.device)==null?void 0:W.reason)??"Reason")+"",k,T,j=(((re=(X=t[3][$s(t[1].chip)])==null?void 0:X.reason)==null?void 0:re[t[1].boot_reason])??t[1].boot_reason)+"",F,N,D=t[1].boot_reason+"",A,U,L=t[1].ex_cause+"",K,O,H;const V=[em,x1],B=[];function G(fe,oe){return fe[0].u>0?0:1}return _=G(t),h=B[_]=V[_](t),{c(){e=p("div"),n=w(l),i=w(": "),a=w(s),f=g(),r=p("div"),m=w(c),d=w(`:
            `),h.c(),v=g(),y=p("div"),k=w(M),T=w(": "),F=w(j),N=w(" ("),A=w(D),U=w("/"),K=w(L),O=w(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(y,"class","my-2")},m(fe,oe){C(fe,e,oe),o(e,n),o(e,i),o(e,a),C(fe,f,oe),C(fe,r,oe),o(r,m),o(r,d),B[_].m(r,null),C(fe,v,oe),C(fe,y,oe),o(y,k),o(y,T),o(y,F),o(y,N),o(y,A),o(y,U),o(y,K),o(y,O),H=!0},p(fe,oe){var ne,Z,x,be,Ne,S,b,E;(!H||oe&8)&&l!==(l=(((Z=(ne=fe[3].status)==null?void 0:ne.device)==null?void 0:Z.apmac)??"AP MAC")+"")&&I(n,l),(!H||oe&2)&&s!==(s=fe[1].apmac+"")&&I(a,s),(!H||oe&8)&&c!==(c=(((be=(x=fe[3].status)==null?void 0:x.device)==null?void 0:be.last_boot)??"Last boot")+"")&&I(m,c);let _e=_;_=G(fe),_===_e?B[_].p(fe,oe):(bt(),le(B[_e],1,1,()=>{B[_e]=null}),vt(),h=B[_],h?h.p(fe,oe):(h=B[_]=V[_](fe),h.c()),J(h,1),h.m(r,null)),(!H||oe&8)&&M!==(M=(((S=(Ne=fe[3].status)==null?void 0:Ne.device)==null?void 0:S.reason)??"Reason")+"")&&I(k,M),(!H||oe&10)&&j!==(j=(((E=(b=fe[3][$s(fe[1].chip)])==null?void 0:b.reason)==null?void 0:E[fe[1].boot_reason])??fe[1].boot_reason)+"")&&I(F,j),(!H||oe&2)&&D!==(D=fe[1].boot_reason+"")&&I(A,D),(!H||oe&2)&&L!==(L=fe[1].ex_cause+"")&&I(K,L)},i(fe){H||(J(h),H=!0)},o(fe){le(h),H=!1},d(fe){fe&&(P(e),P(f),P(r),P(v),P(y)),B[_].d()}}}function x1(t){let e;return{c(){e=w("-")},m(l,n){C(l,e,n)},p:Ue,i:Ue,o:Ue,d(l){l&&P(e)}}}function em(t){let e,l;return e=new Yf({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function xo(t){var f;let e,l,n=(((f=t[3].btn)==null?void 0:f.reboot)??"Reboot")+"",i,s,a;return{c(){e=p("div"),l=p("button"),i=w(n),u(l,"class","btn-yellow-sm"),u(e,"class","my-2")},m(r,c){C(r,e,c),o(e,l),o(l,i),s||(a=ge(l,"click",t[11]),s=!0)},p(r,c){var m;c&8&&n!==(n=(((m=r[3].btn)==null?void 0:m.reboot)??"Reboot")+"")&&I(i,n)},d(r){r&&P(e),s=!1,a()}}}function er(t){var K,O,H,V,B,G,Y,R;let e,l,n=(((O=(K=t[3].status)==null?void 0:K.meter)==null?void 0:O.title)??"Meter")+"",i,s,a,f=(((V=(H=t[3].status)==null?void 0:H.meter)==null?void 0:V.manufacturer)??"Manufacturer")+"",r,c,m=ci(t[1].meter.mfg)+"",d,_,h,v=(((G=(B=t[3].status)==null?void 0:B.meter)==null?void 0:G.model)??"Model")+"",y,M,k=(t[1].meter.model?t[1].meter.model:"unknown")+"",T,j,F,N=(((R=(Y=t[3].status)==null?void 0:Y.meter)==null?void 0:R.id)??"ID")+"",D,A,U=(t[1].meter.id?t[1].meter.id:"unknown")+"",L;return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("div"),r=w(f),c=w(": "),d=w(m),_=g(),h=p("div"),y=w(v),M=w(": "),T=w(k),j=g(),F=p("div"),D=w(N),A=w(": "),L=w(U),u(l,"class","text-sm"),u(a,"class","my-2"),u(h,"class","my-2"),u(F,"class","my-2"),u(e,"class","cnt")},m($,Q){C($,e,Q),o(e,l),o(l,i),o(e,s),o(e,a),o(a,r),o(a,c),o(a,d),o(e,_),o(e,h),o(h,y),o(h,M),o(h,T),o(e,j),o(e,F),o(F,D),o(F,A),o(F,L)},p($,Q){var te,W,X,re,fe,oe,_e,ne;Q&8&&n!==(n=(((W=(te=$[3].status)==null?void 0:te.meter)==null?void 0:W.title)??"Meter")+"")&&I(i,n),Q&8&&f!==(f=(((re=(X=$[3].status)==null?void 0:X.meter)==null?void 0:re.manufacturer)??"Manufacturer")+"")&&I(r,f),Q&2&&m!==(m=ci($[1].meter.mfg)+"")&&I(d,m),Q&8&&v!==(v=(((oe=(fe=$[3].status)==null?void 0:fe.meter)==null?void 0:oe.model)??"Model")+"")&&I(y,v),Q&2&&k!==(k=($[1].meter.model?$[1].meter.model:"unknown")+"")&&I(T,k),Q&8&&N!==(N=(((ne=(_e=$[3].status)==null?void 0:_e.meter)==null?void 0:ne.id)??"ID")+"")&&I(D,N),Q&2&&U!==(U=($[1].meter.id?$[1].meter.id:"unknown")+"")&&I(L,U)},d($){$&&P(e)}}}function tr(t){var R,$,Q,te,W,X,re,fe;let e,l,n=((($=(R=t[3].status)==null?void 0:R.network)==null?void 0:$.title)??"Network")+"",i,s,a,f=(((te=(Q=t[3].conf)==null?void 0:Q.network)==null?void 0:te.ip)??"IP")+"",r,c,m=t[1].net.ip+"",d,_,h,v=(((X=(W=t[3].conf)==null?void 0:W.network)==null?void 0:X.mask)??"Mask")+"",y,M,k=t[1].net.mask+"",T,j,F,N=(((fe=(re=t[3].conf)==null?void 0:re.network)==null?void 0:fe.gw)??"Gateway")+"",D,A,U=t[1].net.gw+"",L,K,O,H,V,B=t[1].net.dns1&&lr(t),G=t[1].net.dns2&&nr(t),Y=t[1].net.ipv6&&ir(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("div"),r=w(f),c=w(": "),d=w(m),_=g(),h=p("div"),y=w(v),M=w(": "),T=w(k),j=g(),F=p("div"),D=w(N),A=w(": "),L=w(U),K=g(),O=p("div"),B&&B.c(),H=g(),G&&G.c(),V=g(),Y&&Y.c(),u(l,"class","text-sm"),u(a,"class","my-2"),u(h,"class","my-2"),u(F,"class","my-2"),u(O,"class","my-2"),u(e,"class","cnt")},m(oe,_e){C(oe,e,_e),o(e,l),o(l,i),o(e,s),o(e,a),o(a,r),o(a,c),o(a,d),o(e,_),o(e,h),o(h,y),o(h,M),o(h,T),o(e,j),o(e,F),o(F,D),o(F,A),o(F,L),o(e,K),o(e,O),B&&B.m(O,null),o(O,H),G&&G.m(O,null),o(e,V),Y&&Y.m(e,null)},p(oe,_e){var ne,Z,x,be,Ne,S,b,E;_e&8&&n!==(n=(((Z=(ne=oe[3].status)==null?void 0:ne.network)==null?void 0:Z.title)??"Network")+"")&&I(i,n),_e&8&&f!==(f=(((be=(x=oe[3].conf)==null?void 0:x.network)==null?void 0:be.ip)??"IP")+"")&&I(r,f),_e&2&&m!==(m=oe[1].net.ip+"")&&I(d,m),_e&8&&v!==(v=(((S=(Ne=oe[3].conf)==null?void 0:Ne.network)==null?void 0:S.mask)??"Mask")+"")&&I(y,v),_e&2&&k!==(k=oe[1].net.mask+"")&&I(T,k),_e&8&&N!==(N=(((E=(b=oe[3].conf)==null?void 0:b.network)==null?void 0:E.gw)??"Gateway")+"")&&I(D,N),_e&2&&U!==(U=oe[1].net.gw+"")&&I(L,U),oe[1].net.dns1?B?B.p(oe,_e):(B=lr(oe),B.c(),B.m(O,H)):B&&(B.d(1),B=null),oe[1].net.dns2?G?G.p(oe,_e):(G=nr(oe),G.c(),G.m(O,null)):G&&(G.d(1),G=null),oe[1].net.ipv6?Y?Y.p(oe,_e):(Y=ir(oe),Y.c(),Y.m(e,null)):Y&&(Y.d(1),Y=null)},d(oe){oe&&P(e),B&&B.d(),G&&G.d(),Y&&Y.d()}}}function lr(t){var a,f;let e=(((f=(a=t[3].conf)==null?void 0:a.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=w(e),n=w(": "),s=w(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&I(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&I(s,i)},d(r){r&&(P(l),P(n),P(s))}}}function nr(t){var a,f;let e=(((f=(a=t[3].conf)==null?void 0:a.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=w(e),n=w(": "),s=w(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&I(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&I(s,i)},d(r){r&&(P(l),P(n),P(s))}}}function ir(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,a,f,r,c=t[1].net.dns1v6&&sr(t),m=t[1].net.dns2v6&&ar(t);return{c(){e=p("div"),l=w("IPv6: "),n=p("span"),s=w(i),a=g(),f=p("div"),c&&c.c(),r=g(),m&&m.c(),xl(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(d,_){C(d,e,_),o(e,l),o(e,n),o(n,s),C(d,a,_),C(d,f,_),c&&c.m(f,null),o(f,r),m&&m.m(f,null)},p(d,_){_&2&&i!==(i=d[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&I(s,i),d[1].net.dns1v6?c?c.p(d,_):(c=sr(d),c.c(),c.m(f,r)):c&&(c.d(1),c=null),d[1].net.dns2v6?m?m.p(d,_):(m=ar(d),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(d){d&&(P(e),P(a),P(f)),c&&c.d(),m&&m.d()}}}function sr(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=w("DNSv6: "),l=p("span"),i=w(n),xl(l,"font-size","14px")},m(s,a){C(s,e,a),C(s,l,a),o(l,i)},p(s,a){a&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&I(i,n)},d(s){s&&(P(e),P(l))}}}function ar(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=w("DNSv6: "),l=p("span"),i=w(n),xl(l,"font-size","14px")},m(s,a){C(s,e,a),C(s,l,a),o(l,i)},p(s,a){a&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&I(i,n)},d(s){s&&(P(e),P(l))}}}function or(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","my-2 text-green-600")},m(a,f){C(a,e,f),o(e,n)},p(a,f){var r,c;f&8&&l!==(l=(((c=(r=a[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&I(n,l)},d(a){a&&P(e)}}}function rr(t){var r,c,m,d;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,a=(((d=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:d[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=w(n),s=g(),f=w(a),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(_,h){C(_,e,h),o(e,l),o(l,i),o(l,s),o(l,f)},p(_,h){var v,y,M,k;h&10&&n!==(n=(((y=(v=_[3].status)==null?void 0:v.firmware)==null?void 0:y.failed)??"Upgrade from {0} to {1} failed").replace("{0}",_[1].upgrade.f).replace("{1}",_[1].upgrade.t)+"")&&I(i,n),h&10&&a!==(a=(((k=(M=_[3].errors)==null?void 0:M.upgrade)==null?void 0:k[_[1].upgrade.e])??_[1].upgrade.e)+"")&&I(f,a)},d(_){_&&P(e)}}}function fr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=w("Last HTTP status: "),s=w(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(a,f){C(a,e,f),o(e,l),o(l,n),o(l,s)},p(a,f){f&2&&i!==(i=a[1].upgrade.x+"")&&I(s,i)},d(a){a&&P(e)}}}function ur(t){var v,y;let e,l=(((y=(v=t[3].status)==null?void 0:v.firmware)==null?void 0:y.latest)??"Latest")+"",n,i,s,a=t[1].upgrade.n+"",f,r,c,m,d,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&cr(t),h=t[1].fwconsent===2&&mr(t);return{c(){e=p("div"),n=w(l),i=w(`: 
                `),s=p("a"),f=w(a),c=g(),_&&_.c(),m=g(),h&&h.c(),d=tl(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(M,k){C(M,e,k),o(e,n),o(e,i),o(e,s),o(s,f),o(e,c),_&&_.m(e,null),C(M,m,k),h&&h.m(M,k),C(M,d,k)},p(M,k){var T,j;k&8&&l!==(l=(((j=(T=M[3].status)==null?void 0:T.firmware)==null?void 0:j.latest)??"Latest")+"")&&I(n,l),k&2&&a!==(a=M[1].upgrade.n+"")&&I(f,a),k&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+M[1].upgrade.n)&&u(s,"href",r),(M[1].security==0||M[0].a)&&M[1].fwconsent===1&&M[1].upgrade.n&&M[1].upgrade.n!=M[1].version?_?_.p(M,k):(_=cr(M),_.c(),_.m(e,null)):_&&(_.d(1),_=null),M[1].fwconsent===2?h?h.p(M,k):(h=mr(M),h.c(),h.m(d.parentNode,d)):h&&(h.d(1),h=null)},d(M){M&&(P(e),P(m),P(d)),_&&_.d(),h&&h.d(M)}}}function cr(t){let e,l,n,i,s;return{c(){var a,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(a=t[3].status)==null?void 0:a.firmware)==null?void 0:f.install)??"Install")},m(a,f){C(a,e,f),o(e,l),i||(s=ge(l,"click",t[10]),i=!0)},p(a,f){var r,c;f&8&&n!==(n=((c=(r=a[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(a){a&&P(e),i=!1,s()}}}function mr(t){var s,a;let e,l,n=(((a=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:a.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=w(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){C(f,e,r),o(e,l),o(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&I(i,n)},d(f){f&&P(e)}}}function _r(t){let e,l=Js(mi(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=w(l),u(e,"class","bd-red")},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&2&&l!==(l=Js(mi(i[1].chip,i[1].board))+"")&&I(n,l)},d(i){i&&P(e)}}}function pr(t){let e,l,n,i,s,a;function f(m,d){return m[5].length==0?lm:tm}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=g(),c.c(),xl(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,d){C(m,e,d),o(e,l),o(l,n),t[13](n),o(l,i),c.m(l,null),s||(a=[ge(n,"change",t[14]),ge(l,"submit",t[16])],s=!0)},p(m,d){r===(r=f(m))&&c?c.p(m,d):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&P(e),t[13](null),c.d(),s=!1,Ot(a)}}}function tm(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",a;return{c(){l=w(e),n=g(),i=p("button"),a=w(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),o(i,a)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&I(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&I(a,s)},d(r){r&&(P(l),P(n),P(i))}}}function lm(t){var a,f;let e,l=(((f=(a=t[3].status)==null?void 0:a.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){C(r,e,c),o(e,n),i||(s=ge(e,"click",t[15]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:d.btn_select_file)??"Select file")+"")&&I(n,l)},d(r){r&&P(e),i=!1,s()}}}function dr(t){var G,Y,R,$,Q,te;let e,l,n=(((Y=(G=t[3].status)==null?void 0:G.backup)==null?void 0:Y.title)??"Backup")+"",i,s,a,f,r,c,m,d,_=((($=(R=t[3].status)==null?void 0:R.backup)==null?void 0:$.secrets)??"Include secrets")+"",h,v,y,M=(((te=(Q=t[3].status)==null?void 0:Q.backup)==null?void 0:te.secrets_desc)??"")+"",k,T,j,F,N,D,A,U,L=Ye(t[9]),K=[];for(let W=0;W<L.length;W+=1)K[W]=hr(Xo(t,L,W));let O=t[2].length==0&&gr(t);function H(W,X){return W[2].length==0?im:nm}let V=H(t),B=V(t);return{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("form"),f=p("div");for(let W=0;W<K.length;W+=1)K[W].c();r=g(),c=p("label"),m=p("input"),d=g(),h=w(_),v=p("br"),y=p("small"),k=w(M),T=g(),O&&O.c(),j=g(),F=p("form"),N=p("input"),D=g(),B.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(a,"method","get"),u(a,"action","configfile.cfg"),u(a,"autocomplete","off"),xl(N,"display","none"),u(N,"name","file"),u(N,"type","file"),u(N,"accept",".cfg"),u(F,"autocomplete","off"),u(e,"class","cnt")},m(W,X){C(W,e,X),o(e,l),o(l,i),o(e,s),o(e,a),o(a,f);for(let re=0;re<K.length;re+=1)K[re]&&K[re].m(f,null);o(f,r),o(f,c),o(c,m),o(c,d),o(c,h),o(c,v),o(c,y),o(y,k),o(a,T),O&&O.m(a,null),o(e,j),o(e,F),o(F,N),t[17](N),o(F,D),B.m(F,null),A||(U=[ge(N,"change",t[18]),ge(F,"submit",Gn(t[12]))],A=!0)},p(W,X){var re,fe,oe,_e,ne,Z;if(X&8&&n!==(n=(((fe=(re=W[3].status)==null?void 0:re.backup)==null?void 0:fe.title)??"Backup")+"")&&I(i,n),X&520){L=Ye(W[9]);let x;for(x=0;x<L.length;x+=1){const be=Xo(W,L,x);K[x]?K[x].p(be,X):(K[x]=hr(be),K[x].c(),K[x].m(f,r))}for(;x<K.length;x+=1)K[x].d(1);K.length=L.length}X&8&&_!==(_=(((_e=(oe=W[3].status)==null?void 0:oe.backup)==null?void 0:_e.secrets)??"Include secrets")+"")&&I(h,_),X&8&&M!==(M=(((Z=(ne=W[3].status)==null?void 0:ne.backup)==null?void 0:Z.secrets_desc)??"")+"")&&I(k,M),W[2].length==0?O?O.p(W,X):(O=gr(W),O.c(),O.m(a,null)):O&&(O.d(1),O=null),V===(V=H(W))&&B?B.p(W,X):(B.d(1),B=V(W),B&&(B.c(),B.m(F,null)))},d(W){W&&P(e),Qt(K,W),O&&O.d(),t[17](null),B.d(),A=!1,Ot(U)}}}function hr(t){var a,f;let e,l,n,i=(((f=(a=t[3].status)==null?void 0:a.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=g(),s=w(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){C(r,e,c),o(e,l),o(e,n),o(e,s)},p(r,c){var m,d;c&8&&i!==(i=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d[r[21].key])??r[21].name)+"")&&I(s,i)},d(r){r&&P(e)}}}function gr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=w(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(a,f){C(a,e,f),o(e,n)},p(a,f){var r,c;f&8&&l!==(l=(((c=(r=a[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&I(n,l)},d(a){a&&P(e)}}}function nm(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",a;return{c(){l=w(e),n=g(),i=p("button"),a=w(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),o(i,a)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&I(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&I(a,s)},d(r){r&&(P(l),P(n),P(i))}}}function im(t){var a,f;let e,l=(((f=(a=t[3].status)==null?void 0:a.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=w(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){C(r,e,c),o(e,n),i||(s=ge(e,"click",t[19]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d.btn_select_file)??"Select file")+"")&&I(n,l)},d(r){r&&P(e),i=!1,s()}}}function sm(t){var Oe,kt,At,St,Ze,mt,Zt,wt,Dt,Pt,Rt,et,ct,Pe,je,Ge,$e,xe;let e,l,n,i=(((Oe=t[3].status)==null?void 0:Oe.device.title)??"Device")+"",s,a,f,r=(((At=(kt=t[3].status)==null?void 0:kt.device)==null?void 0:At.chip)??"Chip")+"",c,m,d=t[1].chip+"",_,h,v,y,M=(((Ze=(St=t[3].status)==null?void 0:St.device)==null?void 0:Ze.device)??"Device")+"",k,T,j=mi(t[1].chip,t[1].board)+"",F,N,D,A=(((Zt=(mt=t[3].status)==null?void 0:mt.device)==null?void 0:Zt.mac)??"MAC")+"",U,L,K=t[1].mac+"",O,H,V,B,G,Y,R,$,Q=(((Dt=(wt=t[3].status)==null?void 0:wt.firmware)==null?void 0:Dt.title)??"Firmware")+"",te,W,X,re=(((Rt=(Pt=t[3].status)==null?void 0:Pt.firmware)==null?void 0:Rt.installed)??"Installed")+"",fe,oe,_e=t[1].version+"",ne,Z,x,be,Ne,S,b=(t[1].security==0||t[0].a)&&Bn(t[1].board),E,q,z,ie,se,me,ae,ue=t[1].cpu&&Qo(t),de=t[1].apmac&&t[1].apmac!=t[1].mac&&Zo(t),ke=((et=t[0])==null?void 0:et.a)&&xo(t),Ae=t[1].meter&&er(t),Ee=t[1].net&&tr(t),Fe=((ct=t[1].upgrade)==null?void 0:ct.m)===!0&&or(t),Ve=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&rr(t),Je=((Pe=t[1].upgrade)==null?void 0:Pe.x)!==void 0&&t[1].upgrade.x!==-1&&fr(t),Qe=t[1].upgrade.n&&ur(t),Ie=b&&_r(t),ot=(t[1].security==0||t[0].a)&&pr(t),he=(t[1].security==0||t[0].a)&&dr(t);return ie=new ml({props:{active:t[6],message:((Ge=(je=t[3].status)==null?void 0:je.mask)==null?void 0:Ge.firmware)??"Uploading"}}),me=new ml({props:{active:t[8],message:((xe=($e=t[3].status)==null?void 0:$e.mask)==null?void 0:xe.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=w(i),a=g(),f=p("div"),c=w(r),m=w(": "),_=w(d),h=g(),ue&&ue.c(),v=g(),y=p("div"),k=w(M),T=w(": "),F=w(j),N=g(),D=p("div"),U=w(A),L=w(": "),O=w(K),H=g(),de&&de.c(),V=g(),ke&&ke.c(),B=g(),Ae&&Ae.c(),G=g(),Ee&&Ee.c(),Y=g(),R=p("div"),$=p("strong"),te=w(Q),W=g(),X=p("div"),fe=w(re),oe=w(": "),ne=w(_e),Z=g(),Fe&&Fe.c(),x=g(),Ve&&Ve.c(),be=g(),Je&&Je.c(),Ne=g(),Qe&&Qe.c(),S=g(),Ie&&Ie.c(),E=g(),ot&&ot.c(),q=g(),he&&he.c(),z=g(),Se(ie.$$.fragment),se=g(),Se(me.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(y,"class","my-2"),u(D,"class","my-2"),u(l,"class","cnt"),u($,"class","text-sm"),u(X,"class","my-2"),u(R,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ve,qe){C(ve,e,qe),o(e,l),o(l,n),o(n,s),o(l,a),o(l,f),o(f,c),o(f,m),o(f,_),o(f,h),ue&&ue.m(f,null),o(l,v),o(l,y),o(y,k),o(y,T),o(y,F),o(l,N),o(l,D),o(D,U),o(D,L),o(D,O),o(l,H),de&&de.m(l,null),o(l,V),ke&&ke.m(l,null),o(e,B),Ae&&Ae.m(e,null),o(e,G),Ee&&Ee.m(e,null),o(e,Y),o(e,R),o(R,$),o($,te),o(R,W),o(R,X),o(X,fe),o(X,oe),o(X,ne),o(R,Z),Fe&&Fe.m(R,null),o(R,x),Ve&&Ve.m(R,null),o(R,be),Je&&Je.m(R,null),o(R,Ne),Qe&&Qe.m(R,null),o(R,S),Ie&&Ie.m(R,null),o(R,E),ot&&ot.m(R,null),o(e,q),he&&he.m(e,null),C(ve,z,qe),Me(ie,ve,qe),C(ve,se,qe),Me(me,ve,qe),ae=!0},p(ve,[qe]){var Be,rt,Xe,qt,Ht,We,we,Ce,ze,tt,nt,_t,Kt,Ft,It,il,Lt,Ke;(!ae||qe&8)&&i!==(i=(((Be=ve[3].status)==null?void 0:Be.device.title)??"Device")+"")&&I(s,i),(!ae||qe&8)&&r!==(r=(((Xe=(rt=ve[3].status)==null?void 0:rt.device)==null?void 0:Xe.chip)??"Chip")+"")&&I(c,r),(!ae||qe&2)&&d!==(d=ve[1].chip+"")&&I(_,d),ve[1].cpu?ue?ue.p(ve,qe):(ue=Qo(ve),ue.c(),ue.m(f,null)):ue&&(ue.d(1),ue=null),(!ae||qe&8)&&M!==(M=(((Ht=(qt=ve[3].status)==null?void 0:qt.device)==null?void 0:Ht.device)??"Device")+"")&&I(k,M),(!ae||qe&2)&&j!==(j=mi(ve[1].chip,ve[1].board)+"")&&I(F,j),(!ae||qe&8)&&A!==(A=(((we=(We=ve[3].status)==null?void 0:We.device)==null?void 0:we.mac)??"MAC")+"")&&I(U,A),(!ae||qe&2)&&K!==(K=ve[1].mac+"")&&I(O,K),ve[1].apmac&&ve[1].apmac!=ve[1].mac?de?(de.p(ve,qe),qe&2&&J(de,1)):(de=Zo(ve),de.c(),J(de,1),de.m(l,V)):de&&(bt(),le(de,1,1,()=>{de=null}),vt()),(Ce=ve[0])!=null&&Ce.a?ke?ke.p(ve,qe):(ke=xo(ve),ke.c(),ke.m(l,null)):ke&&(ke.d(1),ke=null),ve[1].meter?Ae?Ae.p(ve,qe):(Ae=er(ve),Ae.c(),Ae.m(e,G)):Ae&&(Ae.d(1),Ae=null),ve[1].net?Ee?Ee.p(ve,qe):(Ee=tr(ve),Ee.c(),Ee.m(e,Y)):Ee&&(Ee.d(1),Ee=null),(!ae||qe&8)&&Q!==(Q=(((tt=(ze=ve[3].status)==null?void 0:ze.firmware)==null?void 0:tt.title)??"Firmware")+"")&&I(te,Q),(!ae||qe&8)&&re!==(re=(((_t=(nt=ve[3].status)==null?void 0:nt.firmware)==null?void 0:_t.installed)??"Installed")+"")&&I(fe,re),(!ae||qe&2)&&_e!==(_e=ve[1].version+"")&&I(ne,_e),((Kt=ve[1].upgrade)==null?void 0:Kt.m)===!0?Fe?Fe.p(ve,qe):(Fe=or(ve),Fe.c(),Fe.m(R,x)):Fe&&(Fe.d(1),Fe=null),ve[1].upgrade.t&&ve[1].upgrade.t!=ve[1].version&&ve[1].upgrade.e!=0&&ve[1].upgrade.e!=123?Ve?Ve.p(ve,qe):(Ve=rr(ve),Ve.c(),Ve.m(R,be)):Ve&&(Ve.d(1),Ve=null),((Ft=ve[1].upgrade)==null?void 0:Ft.x)!==void 0&&ve[1].upgrade.x!==-1?Je?Je.p(ve,qe):(Je=fr(ve),Je.c(),Je.m(R,Ne)):Je&&(Je.d(1),Je=null),ve[1].upgrade.n?Qe?Qe.p(ve,qe):(Qe=ur(ve),Qe.c(),Qe.m(R,S)):Qe&&(Qe.d(1),Qe=null),qe&3&&(b=(ve[1].security==0||ve[0].a)&&Bn(ve[1].board)),b?Ie?Ie.p(ve,qe):(Ie=_r(ve),Ie.c(),Ie.m(R,E)):Ie&&(Ie.d(1),Ie=null),ve[1].security==0||ve[0].a?ot?ot.p(ve,qe):(ot=pr(ve),ot.c(),ot.m(R,null)):ot&&(ot.d(1),ot=null),ve[1].security==0||ve[0].a?he?he.p(ve,qe):(he=dr(ve),he.c(),he.m(e,null)):he&&(he.d(1),he=null);const Et={};qe&64&&(Et.active=ve[6]),qe&8&&(Et.message=((il=(It=ve[3].status)==null?void 0:It.mask)==null?void 0:il.firmware)??"Uploading"),ie.$set(Et);const dt={};qe&256&&(dt.active=ve[8]),qe&8&&(dt.message=((Ke=(Lt=ve[3].status)==null?void 0:Lt.mask)==null?void 0:Ke.config)??"Uploading"),me.$set(dt)},i(ve){ae||(J(de),J(ie.$$.fragment,ve),J(me.$$.fragment,ve),ae=!0)},o(ve){le(de),le(ie.$$.fragment,ve),le(me.$$.fragment,ve),ae=!1},d(ve){ve&&(P(e),P(z),P(se)),ue&&ue.d(),de&&de.d(),ke&&ke.d(),Ae&&Ae.d(),Ee&&Ee.d(),Fe&&Fe.d(),Ve&&Ve.d(),Je&&Je.d(),Qe&&Qe.d(),Ie&&Ie.d(),ot&&ot.d(),he&&he.d(),ye(ie,ve),ye(me,ve)}}}async function am(){await(await fetch("reboot",{method:"POST"})).json()}function om(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],a={};Sl.subscribe(U=>{l(3,a=U)});function f(){var U;confirm((((U=a.header)==null?void 0:U.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(Gf(i.upgrade.n),pl.update(L=>(L.upgrade.t=i.upgrade.n,L.upgrade.p=0,L.upgrading=!0,L)))}const r=function(){var U;confirm(((U=a.device)==null?void 0:U.reboot_confirm)??"Reboot?")&&(pl.update(L=>(L.booting=!0,L)),am())};let c,m=[],d=!1,_,h=[],v=!1;bi();let y={hostname:"",ip:""};function M(U){l(8,v=!0);const L=new FormData;L.append("file",h[0]),fetch("configfile",{method:"POST",body:L}).then(K=>K.json()).then(K=>{pl.update(O=>(y&&y.hostname&&(O.hostname=y.hostname),O.booting=K.reboot,y&&y.ip&&(O.net.ip=y.ip),setTimeout(bn,5e3,i),O))}).catch(K=>{console.error("Error:",K),setTimeout(bn,5e3,i)})}function k(U){fi[U?"unshift":"push"](()=>{c=U,l(4,c)})}function T(){m=this.files,l(5,m)}const j=()=>{c.click()},F=()=>l(6,d=!0);function N(U){fi[U?"unshift":"push"](()=>{_=U,l(7,_)})}function D(){h=this.files,l(2,h)}const A=()=>{_.click()};return t.$$set=U=>{"data"in U&&l(0,n=U.data),"sysinfo"in U&&l(1,i=U.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&h.length==1){let U=h[0],L=new FileReader,K=O=>{let H=O.target.result.split(`
`);for(let V in H){let B=H[V];B.startsWith("hostname ")?y.hostname=B.split(" ")[1]:B.startsWith("ip ")&&(y.ip=B.split(" ")[1])}};L.onload=K,L.readAsText(U)}},[n,i,h,a,c,m,d,_,v,s,f,r,M,k,T,j,F,N,D,A]}class lu extends Tt{constructor(e){super(),Ct(this,e,om,sm,Nt,{data:0,sysinfo:1})}}const rm="/wifi-low.svg",fm="/wifi-medium.svg",um="/wifi-high.svg",cm="/wifi-off.svg",mm={aidon:[/^7359\d+$/,/^6442\d+$/,/^6490\d+$/,/^6492\d+$/],kaifa:[/^MA105\w*$/,/^MA304\w*$/,/^MA309\w*$/],kamstrup:[/^OMNIA\w*$/,/^6841\d+$/,/^MULTICAL\w*$/]},_m={high_baud_inverted:{baud:115200,parity:"8N1",invert:!0,likelyPresets:["aidon-rj12"]},standard_han_2400:{baud:2400,parity:"8E1",invert:!1,likelyPresets:["aidon-rj45-han","kaifa-rj45"]},kamstrup_signature:{baud:9600,parity:"8N2",invert:!1,likelyPresets:["kamstrup-han"]}};function pm(t){var l;const e={meterType:null,distributionSystem:null,hasL2:!1,hasL3:!1,confidence:0,indicators:[]};return!t||typeof t!="object"||(typeof t.mt=="number"&&t.mt>0&&(e.meterType=t.mt,e.confidence+=40,e.indicators.push(`Meter type explicitly set to ${t.mt}`)),typeof t.ds=="number"&&(e.distributionSystem=t.ds,e.confidence+=20,e.indicators.push(`Distribution system: ${t.ds}`)),t.l2&&typeof t.l2=="object"&&((t.l2.u>0||t.l2.i>0||t.l2.p!==0)&&(e.hasL2=!0,e.confidence+=15,e.indicators.push("L2 phase data detected")),t.l2.e!==void 0&&e.indicators.push(`L2 presence indicator: ${t.l2.e}`)),t.l3&&typeof t.l3=="object"&&(t.l3.u>0||t.l3.i>0||t.l3.p!==0)&&(e.hasL3=!0,e.confidence+=15,e.indicators.push("L3 phase data detected")),typeof t.hm=="number"&&(t.hm>0?(e.confidence+=10,e.indicators.push(`HAN communication active (status: ${t.hm})`)):e.indicators.push(`HAN communication issues (status: ${t.hm})`)),t.ic===0&&t.ec===0&&((l=t.l1)==null?void 0:l.u)===0&&e.indicators.push("Possible encrypted or unconfigured meter")),e}function dm(t){return{1:{manufacturer:"Aidon",model:"6442",presets:["aidon-rj45-han"]},2:{manufacturer:"Aidon",model:"6492",presets:["aidon-rj45-han"]},7:{manufacturer:"Aidon",model:"6490",presets:["aidon-rj12"]},3:{manufacturer:"Kaifa",model:"MA105",presets:["kaifa-rj45"]},4:{manufacturer:"Kaifa",model:"MA304",presets:["kaifa-rj45"]},9:{manufacturer:"Kaifa",model:"MA309",presets:["kaifa-rj45"]},5:{manufacturer:"Kamstrup",model:"OMNIA",presets:["kamstrup-han"]},8:{manufacturer:"Kamstrup",model:"Multical",presets:["kamstrup-han"]},6:{manufacturer:"Landis+Gyr",model:"E350",presets:["lng-rj45"]},10:{manufacturer:"Generic",model:"HAN-port",presets:["aidon-rj45-han","kaifa-rj45"]},11:{manufacturer:"Generic",model:"M-Bus",presets:["mbus-serial"]}}[t]||{manufacturer:"Unknown",model:`Type ${t}`,presets:[]}}function hm(t,e,l=null){const n={confidence:0,suggestedPresets:[],detectedManufacturer:null,detectedModel:null,reasoning:[]},i=(t==null?void 0:t.meterId)||"",s=(t==null?void 0:t.meterModel)||"";if(l){const a=pm(l);if(a.meterType){const f=dm(a.meterType);n.detectedManufacturer=f.manufacturer,n.detectedModel=f.model,n.suggestedPresets.push(...f.presets),n.confidence+=50,n.reasoning.push(`Live data indicates ${f.manufacturer} ${f.model} (type ${a.meterType})`)}n.reasoning.push(...a.indicators),n.confidence+=Math.min(a.confidence,30)}for(const[a,f]of Object.entries(mm))for(const r of f)if(r.test(i)){if(!n.detectedManufacturer)n.detectedManufacturer=a,n.confidence+=30;else if(n.detectedManufacturer.toLowerCase()===a){n.confidence+=15,n.reasoning.push(`Meter ID "${i}" confirms ${a} detection`);continue}n.reasoning.push(`Meter ID "${i}" matches ${a} pattern`);const c=ms.filter(m=>m.manufacturer.toLowerCase().includes(a));n.suggestedPresets.push(...c.map(m=>m.id));break}if(e){for(const[a,f]of Object.entries(_m))if(e.baud===f.baud&&e.parity===f.parity&&e.invert===f.invert){n.confidence+=25,n.reasoning.push(`Communication pattern matches ${a}`),n.suggestedPresets.push(...f.likelyPresets);break}}if(s){n.detectedModel||(n.detectedModel=s),n.confidence+=15,n.reasoning.push(`Detected meter model: ${s}`);const a=s.toLowerCase();a.includes("aidon")?n.suggestedPresets.push("aidon-rj45-han"):a.includes("kaifa")||a.includes("ma105")||a.includes("ma304")?n.suggestedPresets.push("kaifa-rj45"):(a.includes("kamstrup")||a.includes("omnia"))&&n.suggestedPresets.push("kamstrup-han")}return n.suggestedPresets=[...new Set(n.suggestedPresets)],n.confidence<50&&e&&e.baud===2400&&e.parity==="8E1"&&(n.suggestedPresets.push("kaifa-rj45","aidon-rj45-han"),n.reasoning.push("Added common HAN-port presets as fallback")),n}const nu="/neas_logo_green.svg";function br(t,e,l){const n=t.slice();return n[30]=e[l],n}function vr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function kr(t){let e,l,n,i;return{c(){e=p("div"),l=p("div"),n=g(),i=p("span"),i.textContent="Søker etter nettverk...",u(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-neas-green mr-3"),u(i,"class","text-sm font-medium"),u(e,"class","flex items-center justify-center py-8 text-black dark:text-black")},m(s,a){C(s,e,a),o(e,l),o(e,n),o(e,i)},d(s){s&&P(e)}}}function gm(t){let e,l,n,i,s;return{c(){e=p("div"),l=ut("svg"),n=ut("path"),i=g(),s=p("p"),s.textContent="Ingen nettverk funnet",u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"stroke-width","2"),u(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),u(l,"class","mb-3 opacity-100"),u(l,"fill","none"),u(l,"stroke","currentColor"),u(l,"viewBox","0 0 24 24"),u(s,"class","text-sm font-medium"),u(e,"class","text-center py-8 text-neas-green dark:text-neas-green")},m(a,f){C(a,e,f),o(e,l),o(l,n),o(e,i),o(e,s)},p:Ue,d(a){a&&P(e)}}}function bm(t){let e,l=[],n=new Map,i=Ye(t[2].n);const s=a=>a[33].s??a[35];for(let a=0;a<i.length;a+=1){let f=vr(t,i,a),r=s(f);n.set(r,l[a]=wr(r,f))}return{c(){e=p("div");for(let a=0;a<l.length;a+=1)l[a].c();u(e,"class","space-y-3 max-h overflow-y-auto")},m(a,f){C(a,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,f){f[0]&356&&(i=Ye(a[2].n),l=af(l,f,s,1,a,i,n,e,sf,wr,null,vr))},d(a){a&&P(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function wr(t,e){let l,n,i,s,a=!1,f,r,c=(e[33].s||"Skjult nettverk")+"",m,d,_,h,v,y,M,k,T,j,F;return T=ef(e[14][0]),{key:t,first:null,c(){var N,D,A,U,L;l=p("label"),n=p("span"),i=p("input"),f=g(),r=p("span"),m=w(c),d=g(),_=p("div"),h=p("img"),k=g(),u(i,"type","radio"),u(i,"class","sr-only"),u(i,"name","ss"),i.__value=s=e[33].s,ee(i,i.__value),i.required=iu==1,u(r,"class","min-w-0 flex-1 text-neas-green dark:text-neas-green font-medium truncate"),u(n,"class","flex items-center gap-3 flex-1 min-w-0"),u(h,"class","h-10 w-10"),on(h.src,v=((N=e[5][e[35]])==null?void 0:N.icon)??e[8].off)||u(h,"src",v),u(h,"alt",y=((D=e[5][e[35]])==null?void 0:D.title)??"Wi-Fi frakoblet"),u(h,"title",M=((A=e[5][e[35]])==null?void 0:A.rssi)!=null?`${((U=e[5][e[35]])==null?void 0:U.title)??"Wi-Fi frakoblet"} (${e[5][e[35]].rssi} dBm)`:((L=e[5][e[35]])==null?void 0:L.title)??"Wi-Fi frakoblet"),u(_,"class","flex items-center gap-3 flex-shrink-0"),u(l,"class","group flex items-center justify-between gap-4 rounded-2xl border-2 border-transparent bg-neas-gray px-5 py-4 shadow-sm transition hover:border-neas-lightgreen-70 hover:bg-white dark:bg-neas-gray dark:hover:bg-neas-lightgreen-70 cursor-pointer"),Ql(l,"border-neas-green",e[6]===e[33].s),Ql(l,"border-transparent",e[6]!==e[33].s),Ql(l,"bg-white",e[6]===e[33].s),Ql(l,"shadow-lg",e[6]===e[33].s),T.p(i),this.first=l},m(N,D){C(N,l,D),o(l,n),o(n,i),i.checked=i.__value===e[6],o(n,f),o(n,r),o(r,m),o(l,d),o(l,_),o(_,h),o(l,k),j||(F=ge(i,"change",e[13]),j=!0)},p(N,D){var A,U,L,K,O;e=N,D[0]&4&&s!==(s=e[33].s)&&(i.__value=s,ee(i,i.__value),a=!0),(a||D[0]&68)&&(i.checked=i.__value===e[6]),D[0]&4&&c!==(c=(e[33].s||"Skjult nettverk")+"")&&I(m,c),D[0]&36&&!on(h.src,v=((A=e[5][e[35]])==null?void 0:A.icon)??e[8].off)&&u(h,"src",v),D[0]&36&&y!==(y=((U=e[5][e[35]])==null?void 0:U.title)??"Wi-Fi frakoblet")&&u(h,"alt",y),D[0]&36&&M!==(M=((L=e[5][e[35]])==null?void 0:L.rssi)!=null?`${((K=e[5][e[35]])==null?void 0:K.title)??"Wi-Fi frakoblet"} (${e[5][e[35]].rssi} dBm)`:((O=e[5][e[35]])==null?void 0:O.title)??"Wi-Fi frakoblet")&&u(h,"title",M),D[0]&68&&Ql(l,"border-neas-green",e[6]===e[33].s),D[0]&68&&Ql(l,"border-transparent",e[6]!==e[33].s),D[0]&68&&Ql(l,"bg-white",e[6]===e[33].s),D[0]&68&&Ql(l,"shadow-lg",e[6]===e[33].s)},d(N){N&&P(l),T.r(),j=!1,F()}}}function vm(t){let e,l,n;return{c(){e=ut("svg"),l=ut("path"),n=ut("circle"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"stroke-width","2"),u(l,"d","M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"),u(n,"cx","12"),u(n,"cy","12"),u(n,"r","3"),u(e,"class","w-5 h-5"),u(e,"fill","none"),u(e,"stroke","currentColor"),u(e,"viewBox","0 0 24 24")},m(i,s){C(i,e,s),o(e,l),o(e,n)},d(i){i&&P(e)}}}function km(t){let e,l;return{c(){e=ut("svg"),l=ut("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"stroke-width","2"),u(l,"d","M13.875 18.825A10.05 10.05 0 0112 19c-5.523 0-10-4.477-10-10 0-1.063.165-2.087.47-3.05M6.162 6.166A9.967 9.967 0 0112 5c5.523 0 10 4.477 10 10 0 1.092-.174 2.142-.496 3.125M3 3l18 18"),u(e,"class","w-5 h-5"),u(e,"fill","none"),u(e,"stroke","currentColor"),u(e,"viewBox","0 0 24 24")},m(n,i){C(n,e,i),o(e,l)},d(n){n&&P(e)}}}function Mr(t){var V;let e,l,n,i,s,a,f,r,c,m=(t[3].detectedManufacturer||"ukjent")+"",d,_,h,v=t[3].confidence+"",y,M,k,T,j,F,N,D,A,U,L,K=t[3].detectedModel&&yr(t),O=((V=t[0])==null?void 0:V.mt)&&Sr(t),H=t[3].reasoning.length>0&&Cr(t);return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=g(),s=p("div"),a=p("h3"),a.textContent="Måler oppdaget automatisk!",f=g(),r=p("p"),c=w("Vi har oppdaget en "),d=w(m),_=w(` måler
                                `),K&&K.c(),h=w(`
                                med `),y=w(v),M=w(`%
                                sikkerhet.`),k=g(),O&&O.c(),T=g(),H&&H.c(),j=g(),F=p("div"),N=p("button"),N.textContent="Bruk anbefalte innstillinger",D=g(),A=p("button"),A.textContent="Avvis",u(n,"class","flex-shrink-0"),u(a,"class","text-sm font-medium text-green-800 mb-2"),u(r,"class","text-sm text-green-700 mb-3"),u(N,"type","button"),u(N,"class","bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(A,"type","button"),u(A,"class","bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(F,"class","flex gap-2"),u(s,"class","flex-1"),u(l,"class","flex items-start gap-3"),u(e,"class","mb-6 rounded-2xl bg-green-50 border border-green-200 p-5 shadow-sm")},m(B,G){C(B,e,G),o(e,l),o(l,n),o(l,i),o(l,s),o(s,a),o(s,f),o(s,r),o(r,c),o(r,d),o(r,_),K&&K.m(r,null),o(r,h),o(r,y),o(r,M),o(s,k),O&&O.m(s,null),o(s,T),H&&H.m(s,null),o(s,j),o(s,F),o(F,N),o(F,D),o(F,A),U||(L=[ge(N,"click",t[9]),ge(A,"click",t[10])],U=!0)},p(B,G){var Y;G[0]&8&&m!==(m=(B[3].detectedManufacturer||"ukjent")+"")&&I(d,m),B[3].detectedModel?K?K.p(B,G):(K=yr(B),K.c(),K.m(r,h)):K&&(K.d(1),K=null),G[0]&8&&v!==(v=B[3].confidence+"")&&I(y,v),(Y=B[0])!=null&&Y.mt?O?O.p(B,G):(O=Sr(B),O.c(),O.m(s,T)):O&&(O.d(1),O=null),B[3].reasoning.length>0?H?H.p(B,G):(H=Cr(B),H.c(),H.m(s,j)):H&&(H.d(1),H=null)},d(B){B&&P(e),K&&K.d(),O&&O.d(),H&&H.d(),U=!1,Ot(L)}}}function yr(t){let e,l=t[3].detectedModel+"",n,i;return{c(){e=w("(modell: "),n=w(l),i=w(")")},m(s,a){C(s,e,a),C(s,n,a),C(s,i,a)},p(s,a){a[0]&8&&l!==(l=s[3].detectedModel+"")&&I(n,l)},d(s){s&&(P(e),P(n),P(i))}}}function Sr(t){var c,m;let e,l,n=t[0].mt+"",i,s,a,f=((c=t[0])==null?void 0:c.ds)&&Nr(t),r=((m=t[0])==null?void 0:m.hm)!==void 0&&Pr(t);return{c(){e=p("p"),l=w("Målertype fra payload: "),i=w(n),s=g(),f&&f.c(),a=g(),r&&r.c(),u(e,"class","text-xs text-green-600 mb-2")},m(d,_){C(d,e,_),o(e,l),o(e,i),o(e,s),f&&f.m(e,null),o(e,a),r&&r.m(e,null)},p(d,_){var h,v;_[0]&1&&n!==(n=d[0].mt+"")&&I(i,n),(h=d[0])!=null&&h.ds?f?f.p(d,_):(f=Nr(d),f.c(),f.m(e,a)):f&&(f.d(1),f=null),((v=d[0])==null?void 0:v.hm)!==void 0?r?r.p(d,_):(r=Pr(d),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(d){d&&P(e),f&&f.d(),r&&r.d()}}}function Nr(t){let e,l=t[0].ds+"",n;return{c(){e=w("| Distribusjonssystem: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].ds+"")&&I(n,l)},d(i){i&&(P(e),P(n))}}}function Pr(t){let e,l=t[0].hm+"",n;return{c(){e=w("| HAN-status: "),n=w(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].hm+"")&&I(n,l)},d(i){i&&(P(e),P(n))}}}function Cr(t){let e,l,n,i,s=Ye(t[3].reasoning),a=[];for(let f=0;f<s.length;f+=1)a[f]=Tr(br(t,s,f));return{c(){e=p("details"),l=p("summary"),l.textContent="Vis detaljer",n=g(),i=p("ul");for(let f=0;f<a.length;f+=1)a[f].c();u(l,"class","cursor-pointer hover:text-green-800"),u(i,"class","mt-2 space-y-1 pl-4"),u(e,"class","text-xs text-green-600 mb-3")},m(f,r){C(f,e,r),o(e,l),o(e,n),o(e,i);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,null)},p(f,r){if(r[0]&8){s=Ye(f[3].reasoning);let c;for(c=0;c<s.length;c+=1){const m=br(f,s,c);a[c]?a[c].p(m,r):(a[c]=Tr(m),a[c].c(),a[c].m(i,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}},d(f){f&&P(e),Qt(a,f)}}}function Tr(t){let e,l,n=t[30]+"",i;return{c(){e=p("li"),l=w("• "),i=w(n)},m(s,a){C(s,e,a),o(e,l),o(e,i)},p(s,a){a[0]&8&&n!==(n=s[30]+"")&&I(i,n)},d(s){s&&P(e)}}}function wm(t){var ue;let e,l,n,i,s,a,f,r,c,m,d,_,h,v,y,M,k,T,j,F,N,D,A,U,L,K,O,H,V,B,G,Y,R,$,Q,te,W,X,re,fe,oe,_e,ne,Z,x,be,Ne,S,b=((ue=t[2])==null?void 0:ue.c)==-1&&kr();function E(de,ke){var Ae,Ee,Fe;if((Ee=(Ae=de[2])==null?void 0:Ae.n)!=null&&Ee.length)return bm;if(((Fe=de[2])==null?void 0:Fe.c)!=-1)return gm}let q=E(t),z=q&&q(t);function ie(de,ke){return de[7]?km:vm}let se=ie(t),me=se(t),ae=t[1]&&t[3]&&Mr(t);return x=new ml({props:{active:t[4],message:"Kobler til..."}}),{c(){e=p("div"),l=p("div"),l.innerHTML=`<img alt="Neas logo" src="${nu}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${rs}" class="w-36 h-auto hidden sm:block"/>`,n=g(),i=p("div"),s=p("form"),a=p("input"),f=g(),r=p("input"),c=g(),m=p("input"),d=g(),_=p("input"),h=g(),v=p("input"),y=g(),M=p("input"),k=g(),T=p("input"),j=g(),F=p("div"),N=p("h1"),N.textContent="WiFi-oppsett",D=g(),A=p("p"),A.textContent="Koble enheten til internett",U=g(),L=p("div"),K=p("div"),O=p("span"),O.textContent="Velg nettverk",H=g(),b&&b.c(),V=g(),z&&z.c(),B=g(),G=p("div"),Y=p("label"),Y.textContent="WiFi-passord",R=g(),$=p("div"),Q=p("input"),W=g(),X=p("button"),me.c(),fe=g(),ae&&ae.c(),oe=g(),_e=p("div"),ne=p("button"),ne.textContent="Koble til",Z=g(),Se(x.$$.fragment),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(a,"type","hidden"),u(a,"name","s"),a.value="true",u(r,"type","hidden"),u(r,"name","fw"),r.value="true",u(m,"type","hidden"),u(m,"name","sf"),m.value="1",u(_,"type","hidden"),u(_,"name","ulang"),_.value="no",u(v,"type","hidden"),u(v,"name","fwa"),v.value="true",u(M,"type","hidden"),u(M,"name","fws"),M.value="2",u(T,"type","hidden"),u(T,"name","fwe"),T.value="2",u(N,"class","text-2xl font-semibold text-neas-green mb-2"),u(A,"class","text-sm text-black"),u(F,"class","text-center mb-8"),u(O,"class","block text-sm font-medium text-neas-green dark:text-neas-green"),u(K,"class","flex items-center justify-between mb-3"),u(L,"class","mb-6"),u(Y,"for","wifi-password"),u(Y,"class","block text-sm font-medium text-neas-green dark:text-neas-green mb-2"),u(Q,"id","wifi-password"),u(Q,"name","sp"),u(Q,"type",te=t[7]?"text":"password"),u(Q,"pattern",_i),u(Q,"class","w-full px-4 py-3 pr-12 rounded-xl bg-neas-gray dark:bg-neas-gray text-neas-green dark:text-neas-green border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-neas-green focus:border-neas-green transition-colors shadow-sm"),u(Q,"placeholder","Skriv inn WiFi-passord"),u(Q,"autocomplete","off"),Q.required=iu==2,u(X,"type","button"),u(X,"class","absolute inset-y-0 right-3 flex items-center text-neas-green hover:text-neas-green-90"),u(X,"aria-label",re=t[7]?"Skjul passord":"Vis passord"),u($,"class","relative"),u(G,"class","mb-6"),u(ne,"type","submit"),u(ne,"class","w-full bg-neas-green hover:bg-neas-green-90 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(_e,"class","text-center"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8 mb-40"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(de,ke){C(de,e,ke),o(e,l),o(e,n),o(e,i),o(i,s),o(s,a),o(s,f),o(s,r),o(s,c),o(s,m),o(s,d),o(s,_),o(s,h),o(s,v),o(s,y),o(s,M),o(s,k),o(s,T),o(s,j),o(s,F),o(F,N),o(F,D),o(F,A),o(s,U),o(s,L),o(L,K),o(K,O),o(L,H),b&&b.m(L,null),o(L,V),z&&z.m(L,null),o(s,B),o(s,G),o(G,Y),o(G,R),o(G,$),o($,Q),o($,W),o($,X),me.m(X,null),o(s,fe),ae&&ae.m(s,null),o(s,oe),o(s,_e),o(_e,ne),C(de,Z,ke),Me(x,de,ke),be=!0,Ne||(S=[ge(X,"click",t[15]),ge(s,"submit",Gn(t[11]))],Ne=!0)},p(de,ke){var Ee;((Ee=de[2])==null?void 0:Ee.c)==-1?b||(b=kr(),b.c(),b.m(L,V)):b&&(b.d(1),b=null),q===(q=E(de))&&z?z.p(de,ke):(z&&z.d(1),z=q&&q(de),z&&(z.c(),z.m(L,null))),(!be||ke[0]&128&&te!==(te=de[7]?"text":"password"))&&u(Q,"type",te),se!==(se=ie(de))&&(me.d(1),me=se(de),me&&(me.c(),me.m(X,null))),(!be||ke[0]&128&&re!==(re=de[7]?"Skjul passord":"Vis passord"))&&u(X,"aria-label",re),de[1]&&de[3]?ae?ae.p(de,ke):(ae=Mr(de),ae.c(),ae.m(s,oe)):ae&&(ae.d(1),ae=null);const Ae={};ke[0]&16&&(Ae.active=de[4]),x.$set(Ae)},i(de){be||(J(x.$$.fragment,de),be=!0)},o(de){le(x.$$.fragment,de),be=!1},d(de){de&&(P(e),P(Z)),b&&b.d(),z&&z.d(),me.d(),ae&&ae.d(),ye(x,de),Ne=!1,Ot(S)}}}let iu=1;function Mm(t){return{2:"7N1",3:"8N1",7:"8N2",10:"7E1",11:"8E1"}[t]||"8E1"}function ym(t,e,l){const n={high:um,medium:fm,low:rm,off:cm};n.off,Sl.subscribe(O=>{});let i,s,a=!1,f=null,r=!1;const c=hn.subscribe(O=>{i=O,O!=null&&O.m&&!a&&(s=_n(O.m),a=!0)});es(()=>{Qf(),setTimeout(()=>{_()},3e3)}),ts(()=>{typeof c=="function"&&c()});function m(){!a&&(i!=null&&i.m)&&(s=_n(i.m),a=!0),!s&&(i!=null&&i.m)&&(s=_n(i.m))}function d(O){m();const H=xf(O);H?s=eu(s,H):i!=null&&i.m&&(s=_n(i.m))}function _(){if(!T)return;const O={meterId:T.id||"",meterModel:T.model||""},H=i!=null&&i.m?{baud:i.m.b||0,parity:Mm(i.m.p||0),invert:i.m.i||!1}:null;l(3,f=hm(O,H,T)),f.confidence>50&&f.suggestedPresets.length>0&&l(1,r=!0)}function h(){if(f&&f.suggestedPresets.length>0){const O=f.suggestedPresets[0];d(O),l(1,r=!1)}}function v(){l(1,r=!1)}function y(){var V,B,G,Y,R,$,Q,te,W,X,re;m();const O=s??_n(i==null?void 0:i.m);if(!O)return null;const H=(i==null?void 0:i.m)??{};return{source:O.source??H.o??1,parser:O.parser??H.a??0,baud:O.baud??H.b??0,parity:O.parity??H.p??3,invert:O.invert??H.i??!1,distributionSystem:O.distributionSystem??H.d??2,mainFuse:O.mainFuse??H.f??0,production:O.production??H.r??0,buffer:O.buffer??H.s??256,encrypted:O.encrypted??((V=H==null?void 0:H.e)==null?void 0:V.e)??!1,encryptionKey:O.encryptionKey??((B=H==null?void 0:H.e)==null?void 0:B.k)??"",authenticationKey:O.authenticationKey??((G=H==null?void 0:H.e)==null?void 0:G.a)??"",multipliers:{watt:((Y=O.multipliers)==null?void 0:Y.watt)??((R=H==null?void 0:H.m)==null?void 0:R.w)??1,volt:(($=O.multipliers)==null?void 0:$.volt)??((Q=H==null?void 0:H.m)==null?void 0:Q.v)??1,amp:((te=O.multipliers)==null?void 0:te.amp)??((W=H==null?void 0:H.m)==null?void 0:W.a)??1,kwh:((X=O.multipliers)==null?void 0:X.kwh)??((re=H==null?void 0:H.m)==null?void 0:re.c)??1}}}let M={};Wf.subscribe(O=>{l(2,M=O)});let{sysinfo:k={}}=e,{data:T={}}=e,j=!1,F=[],N="",D=!1;async function A(O){var Z,x,be,Ne;l(4,j=!0);const H=new FormData(O.target),V=new URLSearchParams;for(let S of H){const[b,E]=S;V.append(b,typeof E=="string"?E:String(E))}const B=y();B&&(V.set("m","true"),V.set("mo",String(B.source??1)),V.set("ma",String(B.parser??0)),V.set("mb",String(B.baud??0)),V.set("mp",String(B.parity??3)),V.set("mi",B.invert?"true":"false"),V.set("md",String(B.distributionSystem??2)),V.set("mf",String(B.mainFuse??0)),V.set("mr",String(B.production??0)),V.set("ms",String(B.buffer??256)),B.encrypted&&(V.set("me","true"),V.set("mek",B.encryptionKey??""),V.set("mea",B.authenticationKey??"")),V.set("mmw",String(((Z=B.multipliers)==null?void 0:Z.watt)??1)),V.set("mmv",String(((x=B.multipliers)==null?void 0:x.volt)??1)),V.set("mma",String(((be=B.multipliers)==null?void 0:be.amp)??1)),V.set("mmc",String(((Ne=B.multipliers)==null?void 0:Ne.kwh)??1))),V.set("fwa","true"),V.set("fws",V.get("fws")??"2"),V.set("fwe",V.get("fwe")??V.get("fws")??"2"),V.set("sf","1"),V.set("ulang","no");let Y=await(await fetch("save",{method:"POST",body:V})).json();l(4,j=!1);const R=String(H.get("sh")??"").trim(),Q=(typeof Y.message=="string"?Y.message:"").split("|").map(S=>S.trim()),te=Q[0]??"",W=Q[1]??"",X=Q[2]??"",re=te||R||k.hostname||(k!=null&&k.chipId?`ams-${k.chipId}`:"ams-reader"),fe=W||(re&&re.indexOf(".")===-1&&re.indexOf(":")===-1?`${re}.local`:re),oe=X,_e=Array.from(new Set([oe,re,fe].filter(S=>S&&S.length>0)));pl.update(S=>{S.net||(S.net={});const b=re||S.hostname||R;return S.hostname=b,(!S.upgrade||typeof S.upgrade!="object")&&(S.upgrade={x:-1,e:0,f:null,t:null,m:!1}),S.upgrade.auto=!0,S.fwconsent=1,(!S.ui||typeof S.ui!="object")&&(S.ui={}),S.ui.lang="no",X&&(S.net.ip=X),S.targets=[..._e],S.trying=_e[0]??null,S.usrcfg=Y.success,S.booting=Y.reboot,S});const ne=Zl(pl);l(12,k=ne)}const U=[[]];function L(){N=this.__value,l(6,N)}const K=()=>l(7,D=!D);return t.$$set=O=>{"sysinfo"in O&&l(12,k=O.sysinfo),"data"in O&&l(0,T=O.data)},t.$$.update=()=>{if(t.$$.dirty[0]&3&&T&&T.mt!==void 0&&!r&&setTimeout(()=>_(),500),t.$$.dirty[0]&1){const{level:O,label:H}=Kn(T==null?void 0:T.r);n[O]??n.off}t.$$.dirty[0]&4&&l(5,F=Array.isArray(M==null?void 0:M.n)?M.n.map(O=>{const{level:H,label:V}=Kn(O==null?void 0:O.r);return{icon:n[H]??n.off,title:V,rssi:typeof(O==null?void 0:O.r)>"u"?null:O.r}}):[])},[T,r,M,f,j,F,N,D,n,h,v,A,k,L,U,K]}class su extends Tt{constructor(e){super(),Ct(this,e,ym,wm,Nt,{sysinfo:12,data:0},null,[-1,-1])}}function Sm(t){let e,l,n,i,s,a,f,r,c;return{c(){e=p("div"),l=p("div"),l.innerHTML=`<img alt="Neas logo" src="${nu}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${rs}" class="w-36 h-auto hidden sm:block"/>`,n=g(),i=p("div"),s=p("div"),a=p("div"),a.innerHTML='<h1 class="text-2xl font-semibold text-neas-green">Gratulerer!</h1> <p class="text-m text-black">Enheten kobler nå til hjemmenettverket ditt og sender data automatisk.</p> <p class="text-m text-black">Koble telefonen eller PC-en til hjemmenettverket ditt og åpne <strong>Min side</strong> for å følge strømforbruket.</p>',f=g(),r=p("a"),c=w("Gå til Min side"),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(a,"class","space-y-3"),u(r,"href",Nm),u(r,"target","_blank"),u(r,"rel","noopener noreferrer"),u(r,"class","inline-flex items-center justify-center w-full bg-neas-green hover:bg-neas-green-90 text-white font-large py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(s,"class","space-y-6 text-center"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(m,d){C(m,e,d),o(e,l),o(e,n),o(e,i),o(i,s),o(s,a),o(s,f),o(s,r),o(r,c)},p:Ue,i:Ue,o:Ue,d(m){m&&P(e)}}}const Nm="https://minside.neas.no/dashboard/home";class au extends Tt{constructor(e){super(),Ct(this,e,null,Sm,Nt,{})}}function Pm(t){var K,O,H,V;let e,l,n,i=(((K=t[2].upload)==null?void 0:K.title)??"Upload")+"",s,a,f,r,c,m=(((O=t[2].upload)==null?void 0:O.desc)??"")+"",d,_,h,v,y,M,k,T,j=(((H=t[2].btn)==null?void 0:H.upload)??"Upload")+"",F,N,D,A,U,L;return D=new ml({props:{active:t[3],message:((V=t[2].upload)==null?void 0:V.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=w(i),a=g(),f=w(t[1]),r=g(),c=p("p"),d=w(m),_=g(),h=p("form"),v=p("input"),y=g(),M=p("div"),k=p("button"),T=p("p"),F=w(j),N=g(),Se(D.$$.fragment),u(c,"class","mb-4"),u(v,"name","file"),u(v,"type","file"),u(T,"class","mb-4"),u(k,"type","submit"),u(k,"class","btn-pri"),u(M,"class","w-full text-right mt-4"),u(h,"action",t[0]),u(h,"enctype","multipart/form-data"),u(h,"method","post"),u(h,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(B,G){C(B,e,G),o(e,l),o(l,n),o(n,s),o(n,a),o(n,f),o(l,r),o(l,c),o(c,d),o(l,_),o(l,h),o(h,v),o(h,y),o(h,M),o(M,k),o(k,T),o(T,F),C(B,N,G),Me(D,B,G),A=!0,U||(L=ge(h,"submit",t[4]),U=!0)},p(B,[G]){var R,$,Q,te;(!A||G&4)&&i!==(i=(((R=B[2].upload)==null?void 0:R.title)??"Upload")+"")&&I(s,i),(!A||G&2)&&I(f,B[1]),(!A||G&4)&&m!==(m=((($=B[2].upload)==null?void 0:$.desc)??"")+"")&&I(d,m),(!A||G&4)&&j!==(j=(((Q=B[2].btn)==null?void 0:Q.upload)??"Upload")+"")&&I(F,j),(!A||G&1)&&u(h,"action",B[0]);const Y={};G&8&&(Y.active=B[3]),G&4&&(Y.message=((te=B[2].upload)==null?void 0:te.mask)??"Uploading"),D.$set(Y)},i(B){A||(J(D.$$.fragment,B),A=!0)},o(B){le(D.$$.fragment,B),A=!1},d(B){B&&(P(e),P(N)),ye(D,B),U=!1,L()}}}function Cm(t,e,l){let{action:n}=e,{title:i}=e,s={};Sl.subscribe(r=>{l(2,s=r)});let a=!1;const f=()=>l(3,a=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,a,f]}class _s extends Tt{constructor(e){super(),Ct(this,e,Cm,Pm,Nt,{action:0,title:1})}}function Ar(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Er(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Tm(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Am(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Lr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Ir(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Dr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Or(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Rr(t){let e,l=Ye(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=zr(Ar(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=tl()},m(i,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,s);C(i,e,s)},p(i,s){if(s[0]&1875){l=Ye(i[1].o);let a;for(a=0;a<l.length;a+=1){const f=Ar(i,l,a);n[a]?n[a].p(f,s):(n[a]=zr(f),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(i){i&&P(e),Qt(n,i)}}}function Fr(t){let e,l=t[4][t[35]]+"",n,i,s,a;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),o(e,n),s||(a=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,a()}}}function jr(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,a;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),o(e,n),s||(a=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,a()}}}function Br(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,a;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){C(r,e,c),o(e,n),s||(a=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,a()}}}function Ur(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,a;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=w(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){C(r,e,c),o(e,n),s||(a=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&P(e),s=!1,a()}}}function Em(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,ee(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function Hr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ft(t[35]+1))+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[35]+1,ee(e,e.__value)},m(s,a){C(s,e,a),o(e,n)},p(s,a){var f;a[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ft(s[35]+1))+"")&&I(n,l)},d(s){s&&P(e)}}}function qm(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,ee(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&P(e)}}}function Wr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ft(t[35]+1))+"",n;return{c(){e=p("option"),n=w(l),e.__value=t[35]+1,ee(e,e.__value)},m(s,a){C(s,e,a),o(e,n)},p(s,a){var f;a[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ft(s[35]+1))+"")&&I(n,l)},d(s){s&&P(e)}}}function zr(t){var It,il,Lt,Ke,jt,$t,ht,st,Mt,Wt;let e,l,n,i,s,a,f,r=(((il=(It=t[0].conf)==null?void 0:It.common)==null?void 0:il.import)??"Import")+"",c,m,d=(((Ke=(Lt=t[0].conf)==null?void 0:Lt.common)==null?void 0:Ke.export)??"Export")+"",_,h,v=((($t=(jt=t[0].conf)==null?void 0:jt.price)==null?void 0:$t.both)??"Both")+"",y,M,k,T,j=(((st=(ht=t[0].conf)==null?void 0:ht.price)==null?void 0:st.fixed)??"Fixed")+"",F,N,D,A,U,L,K,O,H,V=(((Mt=t[0].common)==null?void 0:Mt.days)??"Days")+"",B,G,Y,R,$,Q,te,W=(((Wt=t[0].common)==null?void 0:Wt.hours)??"Hours")+"",X,re,fe,oe,_e,ne,Z,x,be,Ne,S,b,E,q,z,ie,se,me,ae,ue,de,ke,Ae,Ee,Fe,Ve,Je,Qe,Ie,ot,he,Oe,kt,At,St,Ze,mt;function Zt(){t[12].call(n,t[31],t[32])}function wt(){t[13].call(a,t[31],t[32])}function Dt(){t[14].call(k,t[31],t[32])}function Pt(){t[15].call(L,t[31],t[32])}let Rt=Ye({length:7}),et=[];for(let pe=0;pe<Rt.length;pe+=1)et[pe]=Fr(Or(t,Rt,pe));let ct=Ye({length:8}),Pe=[];for(let pe=0;pe<ct.length;pe+=1)Pe[pe]=jr(Dr(t,ct,pe));let je=Ye({length:8}),Ge=[];for(let pe=0;pe<je.length;pe+=1)Ge[pe]=Br(Ir(t,je,pe));let $e=Ye({length:8}),xe=[];for(let pe=0;pe<$e.length;pe+=1)xe[pe]=Ur(Lr(t,$e,pe));let ve=Ye({length:31}),qe=[];for(let pe=0;pe<ve.length;pe+=1)qe[pe]=Em(Am(t,ve,pe));function Et(){t[20].call(b,t[31],t[32])}let dt=Ye({length:12}),Be=[];for(let pe=0;pe<dt.length;pe+=1)Be[pe]=Hr(qr(t,dt,pe));function rt(){t[21].call(z,t[31],t[32])}let Xe=Ye({length:31}),qt=[];for(let pe=0;pe<Xe.length;pe+=1)qt[pe]=qm(Tm(t,Xe,pe));function Ht(){t[22].call(ue,t[31],t[32])}let We=Ye({length:12}),we=[];for(let pe=0;pe<We.length;pe+=1)we[pe]=Wr(Er(t,We,pe));function Ce(){t[23].call(Ae,t[31],t[32])}function ze(){return t[24](t[32])}function tt(){return t[25](t[32])}function nt(){return t[26](t[32])}function _t(){return t[27](t[32])}function Kt(){return t[28](t[32])}function Ft(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=g(),s=p("div"),a=p("select"),f=p("option"),c=w(r),m=p("option"),_=w(d),h=p("option"),y=w(v),M=g(),k=p("select"),T=p("option"),F=w(j),N=p("option"),N.textContent="+",D=p("option"),D.textContent="-",A=p("option"),A.textContent="%",U=g(),L=p("input"),K=g(),O=p("div"),H=p("span"),B=w(V),G=w(":"),Y=g(),R=p("div");for(let pe=0;pe<et.length;pe+=1)et[pe].c();$=g(),Q=p("div"),te=p("span"),X=w(W),re=w(":"),fe=g(),oe=p("div"),_e=p("div");for(let pe=0;pe<Pe.length;pe+=1)Pe[pe].c();ne=g(),Z=p("div");for(let pe=0;pe<Ge.length;pe+=1)Ge[pe].c();x=g(),be=p("div");for(let pe=0;pe<xe.length;pe+=1)xe[pe].c();Ne=g(),S=p("div"),b=p("select"),E=p("option"),E.textContent="-";for(let pe=0;pe<qe.length;pe+=1)qe[pe].c();q=g(),z=p("select"),ie=p("option"),ie.textContent="-";for(let pe=0;pe<Be.length;pe+=1)Be[pe].c();se=g(),me=p("input"),ae=g(),ue=p("select"),de=p("option"),de.textContent="-";for(let pe=0;pe<qt.length;pe+=1)qt[pe].c();ke=g(),Ae=p("select"),Ee=p("option"),Ee.textContent="-";for(let pe=0;pe<we.length;pe+=1)we[pe].c();Fe=g(),Ve=p("div"),Je=p("span"),Je.textContent="⇧",Qe=g(),Ie=p("span"),ot=w("⇩"),Oe=g(),kt=p("span"),kt.textContent="🗑",At=g(),St=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,ee(f,f.__value),m.__value=2,ee(m,m.__value),h.__value=3,ee(h,h.__value),u(a,"name","rd"),u(a,"class","in-f"),t[30].d===void 0&&Gt(wt),T.__value=0,ee(T,T.__value),N.__value=1,ee(N,N.__value),D.__value=3,ee(D,D.__value),A.__value=2,ee(A,A.__value),u(k,"name","rt"),u(k,"class","in-m"),t[30].t===void 0&&Gt(Dt),u(L,"name","rv"),u(L,"type","number"),u(L,"class","in-l tr"),xl(L,"width","100px"),u(L,"min","0.0001"),u(L,"max","99.9999"),u(L,"step","0.0001"),u(s,"class","flex mr-3"),u(H,"class","mr-2"),u(O,"class","flex flex-wrap mr-3"),u(te,"class","mr-2"),u(Q,"class","flex flex-wrap mr-3"),E.__value=0,ee(E,E.__value),u(b,"name","rsd"),u(b,"class","in-f"),t[30].s.d===void 0&&Gt(Et),ie.__value=0,ee(ie,ie.__value),u(z,"name","rsm"),u(z,"class","in-m"),t[30].s.m===void 0&&Gt(rt),u(me,"class","in-m"),me.disabled=!0,me.value="to",xl(me,"width","20px"),xl(me,"color","#888"),de.__value=0,ee(de,de.__value),u(ue,"name","red"),u(ue,"class","in-m"),t[30].e.d===void 0&&Gt(Ht),Ee.__value=0,ee(Ee,Ee.__value),u(Ae,"name","rem"),u(Ae,"class","in-l"),t[30].e.m===void 0&&Gt(Ce),u(S,"class","flex flex-wrap mr-3"),u(Je,"class",t[32]>0?"text-green-600":"text-gray-300"),u(Ie,"class",he=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(kt,"class","text-red-500 text-xs"),u(Ve,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(St,"class","m-3")},m(pe,lt){C(pe,e,lt),o(e,l),o(l,n),ee(n,t[30].n),o(e,i),o(e,s),o(s,a),o(a,f),o(f,c),o(a,m),o(m,_),o(a,h),o(h,y),at(a,t[30].d,!0),o(s,M),o(s,k),o(k,T),o(T,F),o(k,N),o(k,D),o(k,A),at(k,t[30].t,!0),o(s,U),o(s,L),ee(L,t[30].v),o(e,K),o(e,O),o(O,H),o(H,B),o(H,G),o(O,Y),o(O,R);for(let He=0;He<et.length;He+=1)et[He]&&et[He].m(R,null);o(e,$),o(e,Q),o(Q,te),o(te,X),o(te,re),o(Q,fe),o(Q,oe),o(oe,_e);for(let He=0;He<Pe.length;He+=1)Pe[He]&&Pe[He].m(_e,null);o(oe,ne),o(oe,Z);for(let He=0;He<Ge.length;He+=1)Ge[He]&&Ge[He].m(Z,null);o(oe,x),o(oe,be);for(let He=0;He<xe.length;He+=1)xe[He]&&xe[He].m(be,null);o(e,Ne),o(e,S),o(S,b),o(b,E);for(let He=0;He<qe.length;He+=1)qe[He]&&qe[He].m(b,null);at(b,t[30].s.d,!0),o(S,q),o(S,z),o(z,ie);for(let He=0;He<Be.length;He+=1)Be[He]&&Be[He].m(z,null);at(z,t[30].s.m,!0),o(S,se),o(S,me),o(S,ae),o(S,ue),o(ue,de);for(let He=0;He<qt.length;He+=1)qt[He]&&qt[He].m(ue,null);at(ue,t[30].e.d,!0),o(S,ke),o(S,Ae),o(Ae,Ee);for(let He=0;He<we.length;He+=1)we[He]&&we[He].m(Ae,null);at(Ae,t[30].e.m,!0),o(e,Fe),o(e,Ve),o(Ve,Je),o(Ve,Qe),o(Ve,Ie),o(Ie,ot),o(Ve,Oe),o(Ve,kt),C(pe,At,lt),C(pe,St,lt),Ze||(mt=[ge(n,"input",Zt),ge(a,"change",wt),ge(k,"change",Dt),ge(L,"input",Pt),ge(b,"change",Et),ge(z,"change",rt),ge(ue,"change",Ht),ge(Ae,"change",Ce),ge(Je,"click",ze),ge(Je,"keypress",tt),ge(Ie,"click",nt),ge(Ie,"keypress",_t),ge(kt,"click",Kt),ge(kt,"keypress",Ft)],Ze=!0)},p(pe,lt){var He,sl,Vt,xt,cl,ol,Yt,Jt,ul,Te;if(t=pe,lt[0]&2&&n.value!==t[30].n&&ee(n,t[30].n),lt[0]&1&&r!==(r=(((sl=(He=t[0].conf)==null?void 0:He.common)==null?void 0:sl.import)??"Import")+"")&&I(c,r),lt[0]&1&&d!==(d=(((xt=(Vt=t[0].conf)==null?void 0:Vt.common)==null?void 0:xt.export)??"Export")+"")&&I(_,d),lt[0]&1&&v!==(v=(((ol=(cl=t[0].conf)==null?void 0:cl.price)==null?void 0:ol.both)??"Both")+"")&&I(y,v),lt[0]&2&&at(a,t[30].d),lt[0]&1&&j!==(j=(((Jt=(Yt=t[0].conf)==null?void 0:Yt.price)==null?void 0:Jt.fixed)??"Fixed")+"")&&I(F,j),lt[0]&2&&at(k,t[30].t),lt[0]&2&&gt(L.value)!==t[30].v&&ee(L,t[30].v),lt[0]&1&&V!==(V=(((ul=t[0].common)==null?void 0:ul.days)??"Days")+"")&&I(B,V),lt[0]&82){Rt=Ye({length:7});let ce;for(ce=0;ce<Rt.length;ce+=1){const Bt=Or(t,Rt,ce);et[ce]?et[ce].p(Bt,lt):(et[ce]=Fr(Bt),et[ce].c(),et[ce].m(R,null))}for(;ce<et.length;ce+=1)et[ce].d(1);et.length=Rt.length}if(lt[0]&1&&W!==(W=(((Te=t[0].common)==null?void 0:Te.hours)??"Hours")+"")&&I(X,W),lt[0]&66){ct=Ye({length:8});let ce;for(ce=0;ce<ct.length;ce+=1){const Bt=Dr(t,ct,ce);Pe[ce]?Pe[ce].p(Bt,lt):(Pe[ce]=jr(Bt),Pe[ce].c(),Pe[ce].m(_e,null))}for(;ce<Pe.length;ce+=1)Pe[ce].d(1);Pe.length=ct.length}if(lt[0]&66){je=Ye({length:8});let ce;for(ce=0;ce<je.length;ce+=1){const Bt=Ir(t,je,ce);Ge[ce]?Ge[ce].p(Bt,lt):(Ge[ce]=Br(Bt),Ge[ce].c(),Ge[ce].m(Z,null))}for(;ce<Ge.length;ce+=1)Ge[ce].d(1);Ge.length=je.length}if(lt[0]&66){$e=Ye({length:8});let ce;for(ce=0;ce<$e.length;ce+=1){const Bt=Lr(t,$e,ce);xe[ce]?xe[ce].p(Bt,lt):(xe[ce]=Ur(Bt),xe[ce].c(),xe[ce].m(be,null))}for(;ce<xe.length;ce+=1)xe[ce].d(1);xe.length=$e.length}if(lt[0]&2&&at(b,t[30].s.d),lt[0]&1){dt=Ye({length:12});let ce;for(ce=0;ce<dt.length;ce+=1){const Bt=qr(t,dt,ce);Be[ce]?Be[ce].p(Bt,lt):(Be[ce]=Hr(Bt),Be[ce].c(),Be[ce].m(z,null))}for(;ce<Be.length;ce+=1)Be[ce].d(1);Be.length=dt.length}if(lt[0]&2&&at(z,t[30].s.m),lt[0]&2&&at(ue,t[30].e.d),lt[0]&1){We=Ye({length:12});let ce;for(ce=0;ce<We.length;ce+=1){const Bt=Er(t,We,ce);we[ce]?we[ce].p(Bt,lt):(we[ce]=Wr(Bt),we[ce].c(),we[ce].m(Ae,null))}for(;ce<we.length;ce+=1)we[ce].d(1);we.length=We.length}lt[0]&2&&at(Ae,t[30].e.m),lt[0]&2&&he!==(he=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(Ie,"class",he)},d(pe){pe&&(P(e),P(At),P(St)),Qt(et,pe),Qt(Pe,pe),Qt(Ge,pe),Qt(xe,pe),Qt(qe,pe),Qt(Be,pe),Qt(qt,pe),Qt(we,pe),Ze=!1,Ot(mt)}}}function Lm(t){var $,Q,te,W,X,re,fe,oe,_e;let e,l,n=(((Q=($=t[0].conf)==null?void 0:$.price)==null?void 0:Q.title)??"Price")+"",i,s,a,f,r,c,m,d,_,h,v,y,M,k=(((W=(te=t[0].conf)==null?void 0:te.price)==null?void 0:W.btn_add)??"Add")+"",T,j,F,N,D,A,U=(((X=t[0].btn)==null?void 0:X.save)??"Save")+"",L,K,O,H,V,B,G,Y,R=t[1].o&&Rr(t);return O=new ml({props:{active:t[2],message:((fe=(re=t[0].conf)==null?void 0:re.price)==null?void 0:fe.mask_loading)??"Loading"}}),V=new ml({props:{active:t[3],message:((_e=(oe=t[0].conf)==null?void 0:oe.price)==null?void 0:_e.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=w(n),s=g(),a=p("a"),a.textContent="ⓘ",f=g(),r=p("hr"),c=g(),m=p("form"),d=p("input"),_=g(),R&&R.c(),h=g(),v=p("div"),y=p("div"),M=p("button"),T=w(k),j=g(),F=p("div"),F.innerHTML="",N=g(),D=p("div"),A=p("button"),L=w(U),K=g(),Se(O.$$.fragment),H=g(),Se(V.$$.fragment),u(l,"class","text-sm"),u(a,"href",Il("Price-configuration")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"class","m-3"),u(d,"type","hidden"),u(d,"name","r"),d.value="true",u(M,"type","button"),u(M,"class","btn-pri"),u(F,"class","text-center"),u(A,"type","submit"),u(A,"class","btn-pri"),u(D,"class","text-right"),u(v,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(ne,Z){C(ne,e,Z),o(e,l),o(l,i),o(e,s),o(e,a),o(e,f),o(e,r),o(e,c),o(e,m),o(m,d),o(m,_),R&&R.m(m,null),o(m,h),o(m,v),o(v,y),o(y,M),o(M,T),o(v,j),o(v,F),o(v,N),o(v,D),o(D,A),o(A,L),C(ne,K,Z),Me(O,ne,Z),C(ne,H,Z),Me(V,ne,Z),B=!0,G||(Y=[ge(M,"click",t[7]),ge(m,"submit",Gn(t[5]))],G=!0)},p(ne,Z){var Ne,S,b,E,q,z,ie,se,me;(!B||Z[0]&1)&&n!==(n=(((S=(Ne=ne[0].conf)==null?void 0:Ne.price)==null?void 0:S.title)??"Price")+"")&&I(i,n),ne[1].o?R?R.p(ne,Z):(R=Rr(ne),R.c(),R.m(m,h)):R&&(R.d(1),R=null),(!B||Z[0]&1)&&k!==(k=(((E=(b=ne[0].conf)==null?void 0:b.price)==null?void 0:E.btn_add)??"Add")+"")&&I(T,k),(!B||Z[0]&1)&&U!==(U=(((q=ne[0].btn)==null?void 0:q.save)??"Save")+"")&&I(L,U);const x={};Z[0]&4&&(x.active=ne[2]),Z[0]&1&&(x.message=((ie=(z=ne[0].conf)==null?void 0:z.price)==null?void 0:ie.mask_loading)??"Loading"),O.$set(x);const be={};Z[0]&8&&(be.active=ne[3]),Z[0]&1&&(be.message=((me=(se=ne[0].conf)==null?void 0:se.price)==null?void 0:me.mask_saving)??"Saving"),V.$set(be)},i(ne){B||(J(O.$$.fragment,ne),J(V.$$.fragment,ne),B=!0)},o(ne){le(O.$$.fragment,ne),le(V.$$.fragment,ne),B=!1},d(ne){ne&&(P(e),P(K),P(H)),R&&R.d(),ye(O,ne),ye(V,ne),G=!1,Ot(Y)}}}function Im(t,e,l){let{basepath:n="/"}=e,i={};Sl.subscribe(R=>{l(0,i=R)});let s=["mo","tu","we","th","fr","sa","su"],a={},f=!0,r=!1;Zf.subscribe(R=>{R.o&&(l(1,a=R),l(2,f=!1))}),p1();async function c(R){l(3,r=!0);const $=new URLSearchParams;$.append("r","true"),$.append("rc",a.o.length),a.o.forEach(function(te,W){$.append("rt"+W,te.t),$.append("rn"+W,te.n),$.append("rd"+W,te.d),$.append("ra"+W,te.a),$.append("rh"+W,te.h),$.append("rv"+W,te.v),$.append("rsm"+W,te.s.m),$.append("rsd"+W,te.s.d),$.append("rem"+W,te.e.m),$.append("red"+W,te.e.d)}),await(await fetch("save",{method:"POST",body:$})).json(),l(3,r=!1),Wn(n+"configuration")}let m=function(R,$){return R.includes($)?R=R.filter(function(Q){return Q!==$}):R.push($),R},d=function(){let R=a.o;R.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,a.o=R,a)},_=function(R){let $=a.o;$.splice(R,1),l(1,a.o=$,a)},h=function(R){if(R<=0)return;let $=a.o;var Q=$[R];$[R]=$[R-1],$[R-1]=Q,l(1,a.o=$,a)},v=function(R){let $=a.o;if(!(R>=$.length-1)){var Q=$[R];$[R]=$[R+1],$[R+1]=Q,l(1,a.o=$,a)}};function y(R,$){R[$].n=this.value,l(1,a)}function M(R,$){R[$].d=ll(this),l(1,a)}function k(R,$){R[$].t=ll(this),l(1,a)}function T(R,$){R[$].v=gt(this.value),l(1,a)}const j=(R,$,Q,te)=>l(1,Q[te].a=m(R.a,$),a),F=(R,$,Q,te)=>l(1,Q[te].h=m(R.h,$),a),N=(R,$,Q,te)=>l(1,Q[te].h=m(R.h,$+8),a),D=(R,$,Q,te)=>l(1,Q[te].h=m(R.h,$+16),a);function A(R,$){R[$].s.d=ll(this),l(1,a)}function U(R,$){R[$].s.m=ll(this),l(1,a)}function L(R,$){R[$].e.d=ll(this),l(1,a)}function K(R,$){R[$].e.m=ll(this),l(1,a)}const O=R=>h(R),H=R=>h(R),V=R=>v(R),B=R=>v(R),G=R=>_(R),Y=R=>_(R);return t.$$set=R=>{"basepath"in R&&l(11,n=R.basepath)},[i,a,f,r,s,c,m,d,_,h,v,n,y,M,k,T,j,F,N,D,A,U,L,K,O,H,V,B,G,Y]}class Dm extends Tt{constructor(e){super(),Ct(this,e,Im,Lm,Nt,{basepath:11},null,[-1,-1])}}function Kr(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function $r(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function Vr(t){let e,l,n,i=Ye(t[1]),s=[];for(let a=0;a<i.length;a+=1)s[a]=Gr($r(t,i,a));return{c(){e=p("div"),e.textContent="Import",l=g(),n=p("div");for(let a=0;a<s.length;a+=1)s[a].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(a,f){C(a,e,f),C(a,l,f),C(a,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(a,f){if(f&3){i=Ye(a[1]);let r;for(r=0;r<i.length;r+=1){const c=$r(a,i,r);s[r]?s[r].p(c,f):(s[r]=Gr(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(a){a&&(P(e),P(l),P(n)),Qt(s,a)}}}function Gr(t){let e,l,n=t[13].name+"",i,s,a,f,r,c,m,d,_;function h(){t[11].call(a,t[13])}return{c(){e=p("label"),l=p("span"),i=w(n),s=g(),a=p("input"),r=g(),c=p("span"),c.textContent="kWh",m=g(),u(l,"class","in-pre"),u(a,"name",f=t[13].key),u(a,"type","number"),u(a,"step","0.01"),u(a,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(v,y){C(v,e,y),o(e,l),o(l,i),o(e,s),o(e,a),ee(a,t[0][t[13].key]),o(e,r),o(e,c),o(e,m),d||(_=ge(a,"input",h),d=!0)},p(v,y){t=v,y&2&&n!==(n=t[13].name+"")&&I(i,n),y&2&&f!==(f=t[13].key)&&u(a,"name",f),y&3&&gt(a.value)!==t[0][t[13].key]&&ee(a,t[0][t[13].key])},d(v){v&&P(e),d=!1,_()}}}function Yr(t){let e,l,n,i=Ye(t[2]),s=[];for(let a=0;a<i.length;a+=1)s[a]=Jr(Kr(t,i,a));return{c(){e=p("div"),e.textContent="Export",l=g(),n=p("div");for(let a=0;a<s.length;a+=1)s[a].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(a,f){C(a,e,f),C(a,l,f),C(a,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(a,f){if(f&5){i=Ye(a[2]);let r;for(r=0;r<i.length;r+=1){const c=Kr(a,i,r);s[r]?s[r].p(c,f):(s[r]=Jr(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(a){a&&(P(e),P(l),P(n)),Qt(s,a)}}}function Jr(t){let e,l,n=t[13].name+"",i,s,a,f,r,c,m,d,_;function h(){t[12].call(a,t[13])}return{c(){e=p("label"),l=p("span"),i=w(n),s=g(),a=p("input"),r=g(),c=p("span"),c.textContent="kWh",m=g(),u(l,"class","in-pre"),u(a,"name",f=t[13].key),u(a,"type","number"),u(a,"step","0.01"),u(a,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(v,y){C(v,e,y),o(e,l),o(l,i),o(e,s),o(e,a),ee(a,t[0][t[13].key]),o(e,r),o(e,c),o(e,m),d||(_=ge(a,"input",h),d=!0)},p(v,y){t=v,y&4&&n!==(n=t[13].name+"")&&I(i,n),y&4&&f!==(f=t[13].key)&&u(a,"name",f),y&5&&gt(a.value)!==t[0][t[13].key]&&ee(a,t[0][t[13].key])},d(v){v&&P(e),d=!1,_()}}}function Om(t){var F,N,D;let e,l,n,i,s,a,f,r,c,m,d=(((F=t[3].btn)==null?void 0:F.save)??"Save")+"",_,h,v,y,M,k,T=t[1]&&Vr(t),j=t[2]&&t[4]&&Yr(t);return v=new ml({props:{active:t[5],message:((D=(N=t[3].conf)==null?void 0:N.mask)==null?void 0:D.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),T&&T.c(),n=g(),j&&j.c(),i=g(),s=p("div"),a=p("div"),f=p("button"),f.textContent="Clear all",r=g(),c=p("div"),m=p("button"),_=w(d),h=g(),Se(v.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(A,U){C(A,e,U),o(e,l),T&&T.m(l,null),o(l,n),j&&j.m(l,null),o(l,i),o(l,s),o(s,a),o(a,f),o(s,r),o(s,c),o(c,m),o(m,_),C(A,h,U),Me(v,A,U),y=!0,M||(k=[ge(f,"click",t[6]),ge(e,"submit",Gn(t[7]))],M=!0)},p(A,[U]){var K,O,H;A[1]?T?T.p(A,U):(T=Vr(A),T.c(),T.m(l,n)):T&&(T.d(1),T=null),A[2]&&A[4]?j?j.p(A,U):(j=Yr(A),j.c(),j.m(l,i)):j&&(j.d(1),j=null),(!y||U&8)&&d!==(d=(((K=A[3].btn)==null?void 0:K.save)??"Save")+"")&&I(_,d);const L={};U&32&&(L.active=A[5]),U&8&&(L.message=((H=(O=A[3].conf)==null?void 0:O.mask)==null?void 0:H.saving)??"Saving"),v.$set(L)},i(A){y||(J(v.$$.fragment,A),y=!0)},o(A){le(v.$$.fragment,A),y=!1},d(A){A&&(P(e),P(h)),T&&T.d(),j&&j.d(),ye(v,A),M=!1,Ot(k)}}}function Rm(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:a="/"}=e,f={};Sl.subscribe(M=>{l(3,f=M)});let r=!1,c,m;async function d(){if(confirm("Clear all data?"))for(let M in i)(M.startsWith("i")||M.startsWith("e"))&&l(0,i[M]=0,i)}let _=!1;async function h(M){l(5,_=!0);const k=new FormData(M.target),T=new URLSearchParams;for(let F of k){const[N,D]=F;T.append(N,D)}await(await fetch(s,{method:"POST",body:T})).json(),l(5,_=!1),Wn(a)}function v(M){i[M.key]=gt(this.value),l(0,i)}function y(M){i[M.key]=gt(this.value),l(0,i)}return t.$$set=M=>{"prefix"in M&&l(8,n=M.prefix),"data"in M&&l(0,i=M.data),"url"in M&&l(9,s=M.url),"basepath"in M&&l(10,a=M.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let M in i){let k=[];M.startsWith("i")?k=c:M.startsWith("e")&&(k=m,i[M]&&l(4,r=!0)),k.push({key:M,name:n+" "+M.substring(1),value:i[M]})}}},[i,c,m,f,r,_,d,h,n,s,a,v,y]}class ou extends Tt{constructor(e){super(),Ct(this,e,Rm,Om,Nt,{prefix:8,data:0,url:9,basepath:10})}}function Xr(t){let e,l;return e=new g0({props:{data:t[7],basepath:t[0],developerMode:t[1]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&1&&(s.basepath=n[0]),i&2&&(s.developerMode=n[1]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Fm(t){let e,l,n,i,s,a,f,r,c,m,d,_;return e=new al({props:{path:"/setup",$$slots:{default:[Bm]},$$scope:{ctx:t}}}),n=new al({props:{path:"/dashboard",$$slots:{default:[Um]},$$scope:{ctx:t}}}),s=new al({props:{path:"/configuration",$$slots:{default:[Hm]},$$scope:{ctx:t}}}),f=new al({props:{path:"/status",$$slots:{default:[Wm]},$$scope:{ctx:t}}}),c=new al({props:{path:"/velkommen",$$slots:{default:[zm]},$$scope:{ctx:t}}}),d=new al({props:{path:"*",$$slots:{default:[Km]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment),l=g(),Se(n.$$.fragment),i=g(),Se(s.$$.fragment),a=g(),Se(f.$$.fragment),r=g(),Se(c.$$.fragment),m=g(),Se(d.$$.fragment)},m(h,v){Me(e,h,v),C(h,l,v),Me(n,h,v),C(h,i,v),Me(s,h,v),C(h,a,v),Me(f,h,v),C(h,r,v),Me(c,h,v),C(h,m,v),Me(d,h,v),_=!0},p(h,v){const y={};v&262528&&(y.$$scope={dirty:v,ctx:h}),e.$set(y);const M={};v&263164&&(M.$$scope={dirty:v,ctx:h}),n.$set(M);const k={};v&262529&&(k.$$scope={dirty:v,ctx:h}),s.$set(k);const T={};v&262528&&(T.$$scope={dirty:v,ctx:h}),f.$set(T);const j={};v&262144&&(j.$$scope={dirty:v,ctx:h}),c.$set(j);const F={};v&263164&&(F.$$scope={dirty:v,ctx:h}),d.$set(F)},i(h){_||(J(e.$$.fragment,h),J(n.$$.fragment,h),J(s.$$.fragment,h),J(f.$$.fragment,h),J(c.$$.fragment,h),J(d.$$.fragment,h),_=!0)},o(h){le(e.$$.fragment,h),le(n.$$.fragment,h),le(s.$$.fragment,h),le(f.$$.fragment,h),le(c.$$.fragment,h),le(d.$$.fragment,h),_=!1},d(h){h&&(P(l),P(i),P(a),P(r),P(m)),ye(e,h),ye(n,h),ye(s,h),ye(f,h),ye(c,h),ye(d,h)}}}function jm(t){let e,l,n,i,s,a,f,r,c,m,d,_,h,v,y,M,k,T,j,F,N,D,A,U;return e=new al({props:{path:"/",$$slots:{default:[$m]},$$scope:{ctx:t}}}),n=new al({props:{path:"/dashboard",$$slots:{default:[Vm]},$$scope:{ctx:t}}}),s=new al({props:{path:"/configuration",$$slots:{default:[Gm]},$$scope:{ctx:t}}}),f=new al({props:{path:"/priceconfig",$$slots:{default:[Ym]},$$scope:{ctx:t}}}),c=new al({props:{path:"/status",$$slots:{default:[Jm]},$$scope:{ctx:t}}}),d=new al({props:{path:"/mqtt-ca",$$slots:{default:[Xm]},$$scope:{ctx:t}}}),h=new al({props:{path:"/mqtt-cert",$$slots:{default:[Qm]},$$scope:{ctx:t}}}),y=new al({props:{path:"/mqtt-key",$$slots:{default:[Zm]},$$scope:{ctx:t}}}),k=new al({props:{path:"/setup",$$slots:{default:[xm]},$$scope:{ctx:t}}}),j=new al({props:{path:"/velkommen",$$slots:{default:[e_]},$$scope:{ctx:t}}}),N=new al({props:{path:"/edit-day",$$slots:{default:[t_]},$$scope:{ctx:t}}}),A=new al({props:{path:"/edit-month",$$slots:{default:[l_]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment),l=g(),Se(n.$$.fragment),i=g(),Se(s.$$.fragment),a=g(),Se(f.$$.fragment),r=g(),Se(c.$$.fragment),m=g(),Se(d.$$.fragment),_=g(),Se(h.$$.fragment),v=g(),Se(y.$$.fragment),M=g(),Se(k.$$.fragment),T=g(),Se(j.$$.fragment),F=g(),Se(N.$$.fragment),D=g(),Se(A.$$.fragment)},m(L,K){Me(e,L,K),C(L,l,K),Me(n,L,K),C(L,i,K),Me(s,L,K),C(L,a,K),Me(f,L,K),C(L,r,K),Me(c,L,K),C(L,m,K),Me(d,L,K),C(L,_,K),Me(h,L,K),C(L,v,K),Me(y,L,K),C(L,M,K),Me(k,L,K),C(L,T,K),Me(j,L,K),C(L,F,K),Me(N,L,K),C(L,D,K),Me(A,L,K),U=!0},p(L,K){const O={};K&263164&&(O.$$scope={dirty:K,ctx:L}),e.$set(O);const H={};K&263164&&(H.$$scope={dirty:K,ctx:L}),n.$set(H);const V={};K&262529&&(V.$$scope={dirty:K,ctx:L}),s.$set(V);const B={};K&262145&&(B.$$scope={dirty:K,ctx:L}),f.$set(B);const G={};K&262528&&(G.$$scope={dirty:K,ctx:L}),c.$set(G);const Y={};K&262144&&(Y.$$scope={dirty:K,ctx:L}),d.$set(Y);const R={};K&262144&&(R.$$scope={dirty:K,ctx:L}),h.$set(R);const $={};K&262144&&($.$$scope={dirty:K,ctx:L}),y.$set($);const Q={};K&262528&&(Q.$$scope={dirty:K,ctx:L}),k.$set(Q);const te={};K&262144&&(te.$$scope={dirty:K,ctx:L}),j.$set(te);const W={};K&262153&&(W.$$scope={dirty:K,ctx:L}),N.$set(W);const X={};K&262161&&(X.$$scope={dirty:K,ctx:L}),A.$set(X)},i(L){U||(J(e.$$.fragment,L),J(n.$$.fragment,L),J(s.$$.fragment,L),J(f.$$.fragment,L),J(c.$$.fragment,L),J(d.$$.fragment,L),J(h.$$.fragment,L),J(y.$$.fragment,L),J(k.$$.fragment,L),J(j.$$.fragment,L),J(N.$$.fragment,L),J(A.$$.fragment,L),U=!0)},o(L){le(e.$$.fragment,L),le(n.$$.fragment,L),le(s.$$.fragment,L),le(f.$$.fragment,L),le(c.$$.fragment,L),le(d.$$.fragment,L),le(h.$$.fragment,L),le(y.$$.fragment,L),le(k.$$.fragment,L),le(j.$$.fragment,L),le(N.$$.fragment,L),le(A.$$.fragment,L),U=!1},d(L){L&&(P(l),P(i),P(a),P(r),P(m),P(_),P(v),P(M),P(T),P(F),P(D)),ye(e,L),ye(n,L),ye(s,L),ye(f,L),ye(c,L),ye(d,L),ye(h,L),ye(y,L),ye(k,L),ye(j,L),ye(N,L),ye(A,L)}}}function Bm(t){let e,l;return e=new su({props:{sysinfo:t[8],data:t[7]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Um(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Hm(t){let e,l;return e=new tu({props:{sysinfo:t[8],basepath:t[0],data:t[7]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&1&&(s.basepath=n[0]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Wm(t){let e,l;return e=new lu({props:{sysinfo:t[8],data:t[7]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function zm(t){let e,l;return e=new au({}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Km(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function $m(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Vm(t){let e,l;return e=new vi({props:{data:t[7],sysinfo:t[8],prices:t[2],dayPlot:t[3],monthPlot:t[4],temperatures:t[5],translations:t[6],tariffData:t[9]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),i&256&&(s.sysinfo=n[8]),i&4&&(s.prices=n[2]),i&8&&(s.dayPlot=n[3]),i&16&&(s.monthPlot=n[4]),i&32&&(s.temperatures=n[5]),i&64&&(s.translations=n[6]),i&512&&(s.tariffData=n[9]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Gm(t){let e,l;return e=new tu({props:{sysinfo:t[8],basepath:t[0],data:t[7]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&1&&(s.basepath=n[0]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Ym(t){let e,l;return e=new Dm({props:{basepath:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Jm(t){let e,l;return e=new lu({props:{sysinfo:t[8],data:t[7]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Xm(t){let e,l;return e=new _s({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Qm(t){let e,l;return e=new _s({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Zm(t){let e,l;return e=new _s({props:{title:"private key",action:"/mqtt-key"}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function xm(t){let e,l;return e=new su({props:{sysinfo:t[8],data:t[7]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.sysinfo=n[8]),i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function e_(t){let e,l;return e=new au({}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function t_(t){let e,l;return e=new ou({props:{prefix:"UTC Hour",data:t[3],url:"/dayplot",basepath:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function l_(t){let e,l;return e=new ou({props:{prefix:"Day",data:t[4],url:"/monthplot",basepath:t[0]}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&16&&(s.data=n[4]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function n_(t){let e,l,n,i,s,a=!t[10]&&Xr(t);const f=[jm,Fm],r=[];function c(m,d){return m[1]?0:1}return l=c(t),n=r[l]=f[l](t),{c(){a&&a.c(),e=g(),n.c(),i=tl()},m(m,d){a&&a.m(m,d),C(m,e,d),r[l].m(m,d),C(m,i,d),s=!0},p(m,d){m[10]?a&&(bt(),le(a,1,1,()=>{a=null}),vt()):a?(a.p(m,d),d&1024&&J(a,1)):(a=Xr(m),a.c(),J(a,1),a.m(e.parentNode,e));let _=l;l=c(m),l===_?r[l].p(m,d):(bt(),le(r[_],1,1,()=>{r[_]=null}),vt(),n=r[l],n?n.p(m,d):(n=r[l]=f[l](m),n.c()),J(n,1),n.m(i.parentNode,i))},i(m){s||(J(a),J(n),s=!0)},o(m){le(a),le(n),s=!1},d(m){m&&(P(e),P(i)),a&&a.d(m),r[l].d(m)}}}function Qr(t){let e,l,n,i;const s=[s_,i_],a=[];function f(r,c){return r[8].trying?0:1}return e=f(t),l=a[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){a[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?a[e].p(r,c):(bt(),le(a[m],1,1,()=>{a[m]=null}),vt(),l=a[e],l?l.p(r,c):(l=a[e]=s[e](r),l.c()),J(l,1),l.m(n.parentNode,n))},i(r){i||(J(l),i=!0)},o(r){le(l),i=!1},d(r){r&&P(n),a[e].d(r)}}}function i_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function s_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[8].trying}}),{c(){Se(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&256&&(s.message="Device is booting, please wait. Trying to reach it on "+n[8].trying),e.$set(s)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function a_(t){let e,l,n,i;l=new Cf({props:{basepath:t[0],$$slots:{default:[n_]},$$scope:{ctx:t}}});let s=t[8].booting&&Qr(t);return{c(){e=p("div"),Se(l.$$.fragment),n=g(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(a,f){C(a,e,f),Me(l,e,null),o(e,n),s&&s.m(e,null),i=!0},p(a,[f]){const r={};f&1&&(r.basepath=a[0]),f&264191&&(r.$$scope={dirty:f,ctx:a}),l.$set(r),a[8].booting?s?(s.p(a,f),f&256&&J(s,1)):(s=Qr(a),s.c(),J(s,1),s.m(e,null)):s&&(bt(),le(s,1,1,()=>{s=null}),vt())},i(a){i||(J(l.$$.fragment,a),J(s),i=!0)},o(a){le(l.$$.fragment,a),le(s),i=!1},d(a){a&&P(e),ye(l),s&&s.d()}}}function o_(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/");let s=!1;if(typeof window<"u")try{s=new URLSearchParams(window.location.search).get("developer")==="1"}catch{s=!1}hi("no");let a;os.subscribe(N=>{l(2,a=N)});let f;Ff.subscribe(N=>{l(3,f=N)});let r;jf.subscribe(N=>{l(4,r=N)});let c;Bf.subscribe(N=>{l(5,c=N)});let m={};Sl.subscribe(N=>{l(6,m=N)});let d,_={},h={},v;const y=(N="")=>{if(typeof N!="string")return"/";let D=N||"/";return i&&i!=="/"&&D.startsWith(i)&&(D=D.slice(i.length),D.startsWith("/")||(D=`/${D}`)),D.startsWith("/")||(D=`/${D}`),D.length>1&&(D=D.replace(/\/+$/,"")),D||"/"},M=["/dashboard","/configuration","/status","/priceconfig","/mqtt-ca","/mqtt-cert","/mqtt-key"];pl.subscribe(N=>{var U;l(8,h=N);const D=(()=>typeof window>"u"?"":y(window.location.pathname??"/").replace(/^\/+/,""))(),A=(h==null?void 0:h.usrcfg)===!0;s||((h==null?void 0:h.usrcfg)===!1?D!=="setup"&&Wn(i+"setup",{replace:!0}):A&&(D===""||D==="/"||D==="setup")&&Wn(i+"velkommen",{replace:!0})),h.ui.k===1?document.documentElement.classList.add("dark"):h.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),h.ui.lang&&h.ui.lang!=((U=m==null?void 0:m.language)==null?void 0:U.code)&&hi(h.ui.lang),h.version&&v&&h.version!=v&&window.location.reload(),v=h.version,d&&clearTimeout(d),d=setTimeout(bi,!_||!_.u||_.u<30||h!=null&&h.upgrading?1e4:3e5)}),Uc.subscribe(N=>{l(7,_=N),i1(N)});let k={};Hf.subscribe(N=>{l(9,k=N)}),Uf();let T=typeof window<"u"?y(window.location.pathname??"/"):"/";const j=(N="/")=>s?N==="/setup"||N==="/velkommen":!M.includes(N),F=()=>{typeof window<"u"&&l(11,T=y(window.location.pathname??"/"))};return es(()=>{F();const N=()=>F();window.addEventListener("popstate",N);const D=history.pushState,A=history.replaceState;return history.pushState=function(...U){D.apply(this,U),F()},history.replaceState=function(...U){A.apply(this,U),F()},()=>{window.removeEventListener("popstate",N),history.pushState=D,history.replaceState=A}}),ts(()=>{F()}),t.$$.update=()=>{t.$$.dirty&2048&&l(10,n=j(T))},[i,s,a,f,r,c,m,_,h,k,n,T]}class r_ extends Tt{constructor(e){super(),Ct(this,e,o_,a_,Nt,{})}}new r_({target:document.getElementById("app")});
