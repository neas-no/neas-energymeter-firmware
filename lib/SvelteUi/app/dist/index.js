var fu=Object.defineProperty;var uu=(t,e,l)=>e in t?fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(uu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function We(){}function pl(t,e){for(const l in e)t[l]=e[l];return t}function nf(t){return t()}function qs(){return Object.create(null)}function Ut(t){t.forEach(nf)}function Xi(t){return typeof t=="function"}function Pt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Zn;function rn(t,e){return t===e?!0:(Zn||(Zn=document.createElement("a")),Zn.href=e,t===Zn.href)}function cu(t){return Object.keys(t).length===0}function Ji(t,...e){if(t==null){for(const n of e)n(void 0);return We}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function $l(t){let e;return Ji(t,l=>e=l)(),e}function Cl(t,e,l){t.$$.on_destroy.push(Ji(e,l))}function Qi(t,e,l,n){if(t){const i=sf(t,e,l,n);return t[0](i)}}function sf(t,e,l,n){return t[1]&&n?pl(l.ctx.slice(),t[1](n(e))):l.ctx}function Zi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function $i(t,e,l,n,i,s){if(i){const o=sf(e,l,n,s);t.p(o,i)}}function xi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function oi(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ai(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const mu=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function N(t,e,l){t.insertBefore(e,l||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function Xt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function wt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function h(){return k(" ")}function tl(){return k("")}function ge(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Gn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const du=["width","height"];function vn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&du.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function of(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function kt(t){return t===""?null:+t}function pu(t){return Array.from(t.childNodes)}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function _u(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function hu(t,e,l){~mu.indexOf(l)?_u(t,e):I(t,e)}function te(t,e){t.value=e??""}function xl(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ft(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function ll(t){const e=t.querySelector(":checked");return e&&e.__value}let $n;function gu(){if($n===void 0){$n=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{$n=!0}}return $n}function es(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=gu();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=ge(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=ge(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),S(n)}}function Zl(t,e,l){t.classList.toggle(e,!!l)}function bu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Ls(t,e){return new t(e)}let Hn;function Rn(t){Hn=t}function Yn(){if(!Hn)throw new Error("Function called outside component initialization");return Hn}function hi(t){Yn().$$.on_mount.push(t)}function gi(t){Yn().$$.on_destroy.push(t)}function vu(){const t=Yn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=bu(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Yn().$$.context.set(t,e),e}function tn(t){return Yn().$$.context.get(t)}const dn=[],ri=[];let bn=[];const Is=[],af=Promise.resolve();let Ei=!1;function rf(){Ei||(Ei=!0,af.then(ff))}function ku(){return rf(),af}function Jt(t){bn.push(t)}const Mi=new Set;let cn=0;function ff(){if(cn!==0)return;const t=Hn;do{try{for(;cn<dn.length;){const e=dn[cn];cn++,Rn(e),wu(e.$$)}}catch(e){throw dn.length=0,cn=0,e}for(Rn(null),dn.length=0,cn=0;ri.length;)ri.pop()();for(let e=0;e<bn.length;e+=1){const l=bn[e];Mi.has(l)||(Mi.add(l),l())}bn.length=0}while(dn.length);for(;Is.length;)Is.pop()();Ei=!1,Mi.clear(),Rn(t)}function wu(t){if(t.fragment!==null){t.update(),Ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jt)}}function Mu(t){const e=[],l=[];bn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),bn=e}const ni=new Set;let nn;function St(){nn={r:0,c:[],p:nn}}function Nt(){nn.r||Ut(nn.c),nn=nn.p}function x(t,e){t&&t.i&&(ni.delete(t),t.i(e))}function oe(t,e,l,n){if(t&&t.o){if(ni.has(t))return;ni.add(t),nn.c.push(()=>{ni.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Ge(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function uf(t,e){t.d(1),e.delete(t.key)}function cf(t,e,l,n,i,s,o,f,r,c,m,_){let d=t.length,v=s.length,w=d;const y={};for(;w--;)y[t[w].key]=w;const M=[],g=new Map,T=new Map,E=[];for(w=v;w--;){const A=_(i,s,w),R=l(A);let O=o.get(R);O?n&&E.push(()=>O.p(A,e)):(O=c(R,A),O.c()),g.set(R,M[w]=O),R in y&&T.set(R,Math.abs(w-y[R]))}const D=new Set,C=new Set;function F(A){x(A,1),A.m(f,m),o.set(A.key,A),m=A.first,v--}for(;d&&v;){const A=M[v-1],R=t[d-1],O=A.key,z=R.key;A===R?(m=A.first,d--,v--):g.has(z)?!o.has(O)||D.has(O)?F(A):C.has(z)?d--:T.get(O)>T.get(z)?(C.add(O),F(A)):(D.add(z),d--):(r(R,o),d--)}for(;d--;){const A=t[d];g.has(A.key)||r(A,o)}for(;v;)F(M[v-1]);return Ut(E),M}function qi(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function xn(t){return typeof t=="object"&&t!==null?t:{}}function Ne(t){t&&t.c()}function ye(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Jt(()=>{const s=t.$$.on_mount.map(nf).filter(Xi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ut(s),t.$$.on_mount=[]}),i.forEach(Jt)}function Se(t,e){const l=t.$$;l.fragment!==null&&(Mu(l.after_update),Ut(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function yu(t,e){t.$$.dirty[0]===-1&&(dn.push(t),rf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function At(t,e,l,n,i,s,o=null,f=[-1]){const r=Hn;Rn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:We,not_equal:i,bound:qs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:qs(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(_,d,...v)=>{const w=v.length?v[0]:d;return c.ctx&&i(c.ctx[_],c.ctx[_]=w)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](w),m&&yu(t,_)),d}):[],c.update(),m=!0,Ut(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=pu(e.target);c.fragment&&c.fragment.l(_),_.forEach(S)}else c.fragment&&c.fragment.c();e.intro&&x(t.$$.fragment),ye(t,e.target,e.anchor),ff()}Rn(r)}class Et{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){Se(this,1),this.$destroy=We}$on(e,l){if(!Xi(l))return We;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!cu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Su="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Su);const Os=t=>typeof t>"u",mf=t=>typeof t=="function",df=t=>typeof t=="number";function Nu(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pf(){let t=0;return()=>t++}function Cu(){return Math.random().toString(36).substring(2)}const ql=typeof window>"u";function _f(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const hf=(t,e)=>t?{}:{style:e},Li=t=>({"aria-hidden":"true",...hf(t,"display:none;")}),mn=[];function gf(t,e){return{subscribe:nl(t,e).subscribe}}function nl(t,e=We){let l;const n=new Set;function i(f){if(Pt(t,f)&&(t=f,l)){const r=!mn.length;for(const c of n)c[1](),mn.push(c,t);if(r){for(let c=0;c<mn.length;c+=2)mn[c][0](mn[c+1]);mn.length=0}}}function s(f){i(f(t))}function o(f,r=We){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||We),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Pu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return gf(l,(o,f)=>{let r=!1;const c=[];let m=0,_=We;const d=()=>{if(m)return;_();const w=e(n?c[0]:c,o,f);s?o(w):_=Xi(w)?w:We},v=i.map((w,y)=>Ji(w,M=>{c[y]=M,m&=~(1<<y),r&&d()},()=>{m|=1<<y}));return r=!0,d(),function(){Ut(v),_(),r=!1}})}const Xn=t=>`@@svnav-ctx__${t}`,Ii=Xn("LOCATION"),kn=Xn("ROUTER"),bf=Xn("ROUTE"),Tu=Xn("ROUTE_PARAMS"),Au=Xn("FOCUS_ELEM"),vf=/^:(.+)/,Dn=(t,e,l)=>t.substr(e,l),Oi=(t,e)=>Dn(t,0,e.length)===e,Eu=t=>t==="",qu=t=>vf.test(t),kf=t=>t[0]==="*",Lu=t=>t.replace(/\*.*$/,""),wf=t=>t.replace(/(^\/+|\/+$)/g,"");function Pl(t,e=!1){const l=wf(t).split("/");return e?l.filter(Boolean):l}const yi=(t,e)=>t+(e?`?${e}`:""),ts=t=>`/${wf(t)}`;function Jn(...t){const e=n=>Pl(n,!0).join("/"),l=t.map(e).join("/");return ts(l)}const ls=1,bi=2,fn=3,Iu=4,Mf=5,Ou=6,yf=7,Du=8,Fu=9,Sf=10,Nf=11,Ru={[ls]:"Link",[bi]:"Route",[fn]:"Router",[Iu]:"useFocus",[Mf]:"useLocation",[Ou]:"useMatch",[yf]:"useNavigate",[Du]:"useParams",[Fu]:"useResolvable",[Sf]:"useResolve",[Nf]:"navigate"},ns=t=>Ru[t];function ju(t,e){let l;return t===bi?l=e.path?`path="${e.path}"`:"default":t===ls?l=`to="${e.to}"`:t===fn&&(l=`basepath="${e.basepath||""}"`),`<${ns(t)} ${l||""} />`}function Bu(t,e,l,n){const i=l&&ju(n||t,l),s=i?`

Occurred in: ${i}`:"",o=ns(t),f=mf(e)?e(o):e;return`<${o}> ${f}${s}`}const Cf=t=>(...e)=>t(Bu(...e)),Pf=Cf(t=>{throw new Error(t)}),fi=Cf(console.warn),Ds=4,Uu=3,Hu=2,Wu=1,zu=1;function Ku(t,e){const l=t.default?0:Pl(t.fullPath).reduce((n,i)=>{let s=n;return s+=Ds,Eu(i)?s+=zu:qu(i)?s+=Hu:kf(i)?s-=Ds+Wu:s+=Uu,s},0);return{route:t,score:l,index:e}}function Vu(t){return t.map(Ku).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Tf(t,e){let l,n;const[i]=e.split("?"),s=Pl(i),o=s[0]==="",f=Vu(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let _=!1;const d={},v=g=>({...m,params:d,uri:g});if(m.default){n=v(e);continue}const w=Pl(m.fullPath),y=Math.max(s.length,w.length);let M=0;for(;M<y;M++){const g=w[M],T=s[M];if(!Os(g)&&kf(g)){const D=g==="*"?"*":g.slice(1);d[D]=s.slice(M).map(decodeURIComponent).join("/");break}if(Os(T)){_=!0;break}const E=vf.exec(g);if(E&&!o){const D=decodeURIComponent(T);d[E[1]]=D}else if(g!==T){_=!0;break}}if(!_){l=v(Jn(...s.slice(0,M)));break}}return l||n||null}function Af(t,e){return Tf([t],e)}function Gu(t,e){if(Oi(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Pl(l),o=Pl(i);if(s[0]==="")return yi(i,n);if(!Oi(s[0],".")){const c=o.concat(s).join("/");return yi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),yi(`/${r.join("/")}`,n)}function Fs(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=Pl(e,!0),f=Pl(l,!0);for(;o.length;)o[0]!==f[0]&&Pf(fn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:Jn(...f),hash:n,search:i,state:s}}const Rs=t=>t.length===1?"":t,is=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Rs(Dn(t,l)):"",o=i?Dn(t,0,l):t,f=n?Rs(Dn(o,e)):"";return{pathname:(n?Dn(o,0,e):o)||"/",search:f,hash:s}},Yu=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function Xu(t,e,l){return Jn(l,Gu(t,e))}function Ju(t,e){const l=ts(Lu(t)),n=Pl(l,!0),i=Pl(e,!0).slice(0,n.length),s=Af({fullPath:l},Jn(...i));return s&&s.uri}const Si="POP",Qu="PUSH",Zu="REPLACE";function Ni(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function $u(t){let e=[],l=Ni(t),n=Si;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Ni(t),n=Si,i([s])};i([s]);const f=_f(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?Zu:Qu,df(s))o&&fi(Nf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Si,t.history.go(s);else{const c={...f,_key:Cu()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Ni(t),i()}}}function Ci(t,e){return{...is(e),state:t}}function xu(t="/"){let e=0,l=[Ci(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ci(n,s))},replaceState(n,i,s){l[e]=Ci(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const ec=!!(!ql&&window.document&&window.document.createElement),tc=!ql&&window.location.origin==="null",Ef=$u(ec&&!tc?window:xu()),{navigate:vi}=Ef;let Tl=null,qf=!0;function lc(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function nc(t){(!Tl||t.level>Tl.level||t.level===Tl.level&&lc(t.routerId,Tl.routerId))&&(Tl=t)}function ic(){Tl=null}function sc(){qf=!1}function js(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=_f(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function oc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function ac(t){return/^H[1-6]$/i.test(t.tagName)}function Bs(t,e=document){return e.querySelector(t)}function rc(t){let l=Bs(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!oc(l,t);){if(ac(l))return l;const n=Bs("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function fc(t){Promise.resolve($l(t.focusElement)).then(e=>{const l=e||rc(t.id);l||fi(fn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,bi),!js(l)&&js(document.documentElement)})}const uc=(t,e,l)=>(n,i)=>ku().then(()=>{if(!Tl||qf){sc();return}if(n&&fc(Tl.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=Tl.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},$l(l));Promise.resolve(m).then(_=>{e.set(_)})}ic()}),cc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function mc(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},hf(t[6],cc)],i={};for(let s=0;s<n.length;s+=1)i=pl(i,n[s]);return{c(){e=p("div"),l=k(t[0]),vn(e,i)},m(s,o){N(s,e,o),a(e,l)},p(s,o){o[0]&1&&hu(l,s[0],i.contenteditable)},d(s){s&&S(e)}}}function dc(t){let e,l,n,i,s,o=[Li(t[6]),{"data-svnav-router":t[3]}],f={};for(let _=0;_<o.length;_+=1)f=pl(f,o[_]);const r=t[22].default,c=Qi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&mc(t);return{c(){e=p("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=tl(),vn(e,f)},m(_,d){N(_,e,d),N(_,l,d),c&&c.m(_,d),N(_,n,d),m&&m.m(_,d),N(_,i,d),s=!0},p(_,d){c&&c.p&&(!s||d[0]&2097152)&&$i(c,r,_,_[21],s?Zi(r,_[21],d,null):xi(_[21]),null),_[2]&&_[4]&&_[1].announcements&&m.p(_,d)},i(_){s||(x(c,_),s=!0)},o(_){oe(c,_),s=!1},d(_){_&&(S(e),S(l),S(n),S(i)),c&&c.d(_),m&&m.d(_)}}}const pc=pf(),Us="/";function _c(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Us}=e,{url:_=null}=e,{history:d=Ef}=e,{primary:v=!0}=e,{a11y:w={}}=e,{disableInlineStyles:y=!1}=e;const M={createAnnouncement:H=>`Navigated to ${H.uri}`,announcements:!0,...w},g=m,T=ts(m),E=tn(Ii),D=tn(kn),C=!E,F=pc(),A=v&&!(D&&!D.manageFocus),R=nl("");Cl(t,R,H=>l(0,f=H));const O=D?D.disableInlineStyles:y,z=nl([]);Cl(t,z,H=>l(20,o=H));const G=nl(null);Cl(t,G,H=>l(18,i=H));let B=!1;const W=C?0:D.level+1,Y=C?nl((()=>Fs(ql?is(_):d.location,T))()):E;Cl(t,Y,H=>l(17,n=H));const X=nl(n);Cl(t,X,H=>l(19,s=H));const U=uc(M,R,Y),K=H=>Z=>Z.filter(re=>re.id!==H);function $(H){if(ql){if(B)return;const Z=Af(H,n.pathname);if(Z)return B=!0,Z}else z.update(Z=>{const re=K(H.id)(Z);return re.push(H),re})}function le(H){z.update(K(H))}return!C&&m!==Us&&fi(fn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),C&&(hi(()=>d.listen(Z=>{const re=Fs(Z.location,T);X.set(n),Y.set(re)})),jn(Ii,Y)),jn(kn,{activeRoute:G,registerRoute:$,unregisterRoute:le,manageFocus:A,level:W,id:F,history:C?d:D.history,basepath:C?T:D.basepath,disableInlineStyles:O}),t.$$set=H=>{"basepath"in H&&l(11,m=H.basepath),"url"in H&&l(12,_=H.url),"history"in H&&l(13,d=H.history),"primary"in H&&l(14,v=H.primary),"a11y"in H&&l(15,w=H.a11y),"disableInlineStyles"in H&&l(16,y=H.disableInlineStyles),"$$scope"in H&&l(21,c=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==g&&fi(fn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const H=Tf(o,n.pathname);G.set(H)}if(t.$$.dirty[0]&655360&&C){const H=!!n.hash,Z=!H&&A,re=!H||n.pathname!==s.pathname;U(Z,re)}t.$$.dirty[0]&262144&&A&&i&&i.primary&&nc({level:W,routerId:F,route:i})},[f,M,C,F,A,R,O,z,G,Y,X,m,_,d,v,w,y,n,i,s,o,c,r]}class hc extends Et{constructor(e){super(),At(this,e,_c,dc,Pt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Lf=hc;function Qn(t,e,l=kn,n=fn){tn(l)||Pf(t,s=>`You cannot use ${s} outside of a ${ns(n)}.`,e)}const gc=t=>{const{subscribe:e}=tn(t);return{subscribe:e}};function If(){return Qn(Mf),gc(Ii)}function Of(){const{history:t}=tn(kn);return t}function Df(){const t=tn(bf);return t?Pu(t,e=>e.base):nl("/")}function Ff(){Qn(Sf);const t=Df(),{basepath:e}=tn(kn);return n=>Xu(n,$l(t),e)}function bc(){Qn(yf);const t=Ff(),{navigate:e}=Of();return(n,i)=>{const s=df(n)?n:t(n);return e(s,i)}}const vc=t=>({params:t&16,location:t&8}),Hs=t=>({params:ql?$l(t[10]):t[4],location:t[3],navigate:t[11]});function Ws(t){let e,l;return e=new Lf({props:{primary:t[1],$$slots:{default:[Mc]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function kc(t){let e;const l=t[18].default,n=Qi(l,t,t[19],Hs);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&$i(n,l,i,i[19],e?Zi(l,i[19],s,vc):xi(i[19]),Hs)},i(i){e||(x(n,i),e=!0)},o(i){oe(n,i),e=!1},d(i){n&&n.d(i)}}}function wc(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},ql?$l(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=pl(c,i[m]);return r!==void 0&&r&7192&&(c=pl(c,qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&xn(ql?$l(f[10]):f[4]),r&4096&&xn(f[12])]))),{props:c}}return s&&(e=Ls(s,o(t))),{c(){e&&Ne(e.$$.fragment),l=tl()},m(f,r){e&&ye(e,f,r),N(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){St();const c=e;oe(c.$$.fragment,1,0,()=>{Se(c,1)}),Nt()}s?(e=Ls(s,o(f,r)),Ne(e.$$.fragment),x(e.$$.fragment,1),ye(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&xn(ql?$l(f[10]):f[4]),r&4096&&xn(f[12])]):{};e.$set(c)}},i(f){n||(e&&x(e.$$.fragment,f),n=!0)},o(f){e&&oe(e.$$.fragment,f),n=!1},d(f){f&&S(l),e&&Se(e,f)}}}function Mc(t){let e,l,n,i;const s=[wc,kc],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){o[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(St(),oe(o[m],1,1,()=>{o[m]=null}),Nt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),x(l,1),l.m(n.parentNode,n))},i(r){i||(x(l),i=!0)},o(r){oe(l),i=!1},d(r){r&&S(n),o[e].d(r)}}}function yc(t){let e,l,n,i,s,o=[Li(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let _=0;_<o.length;_+=1)f=pl(f,o[_]);let r=t[2]&&Ws(t),c=[Li(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let _=0;_<c.length;_+=1)m=pl(m,c[_]);return{c(){e=p("div"),l=h(),r&&r.c(),n=h(),i=p("div"),vn(e,f),vn(i,m)},m(_,d){N(_,e,d),N(_,l,d),r&&r.m(_,d),N(_,n,d),N(_,i,d),s=!0},p(_,[d]){_[2]?r?(r.p(_,d),d&4&&x(r,1)):(r=Ws(_),r.c(),x(r,1),r.m(n.parentNode,n)):r&&(St(),oe(r,1,1,()=>{r=null}),Nt())},i(_){s||(x(r),s=!0)},o(_){oe(r),s=!1},d(_){_&&(S(e),S(l),S(n),S(i)),r&&r.d(_)}}}const Sc=pf();function Nc(t,e,l){let n;const i=["path","component","meta","primary"];let s=ai(e,i),o,f,r,c,{$$slots:m={},$$scope:_}=e,{path:d=""}=e,{component:v=null}=e,{meta:w={}}=e,{primary:y=!0}=e;Qn(bi,e);const M=Sc(),{registerRoute:g,unregisterRoute:T,activeRoute:E,disableInlineStyles:D}=tn(kn);Cl(t,E,B=>l(16,o=B));const C=Df();Cl(t,C,B=>l(17,r=B));const F=If();Cl(t,F,B=>l(3,f=B));const A=nl(null);let R;const O=nl(),z=nl({});Cl(t,z,B=>l(4,c=B)),jn(bf,O),jn(Tu,z),jn(Au,A);const G=bc();return ql||gi(()=>T(M)),t.$$set=B=>{l(24,e=pl(pl({},e),oi(B))),l(12,s=ai(e,i)),"path"in B&&l(13,d=B.path),"component"in B&&l(0,v=B.component),"meta"in B&&l(14,w=B.meta),"primary"in B&&l(1,y=B.primary),"$$scope"in B&&l(19,_=B.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const B=d==="",W=Jn(r,d),j={id:M,path:d,meta:w,default:B,fullPath:B?"":W,base:B?r:Ju(W,f.pathname),primary:y,focusElement:A};O.set(j),l(15,R=g(j))}if(t.$$.dirty&98304&&l(2,n=!!(R||o&&o.id===M)),t.$$.dirty&98308&&n){const{params:B}=R||o;z.set(B)}},e=oi(e),[v,y,n,f,c,M,E,D,C,F,z,G,s,d,w,R,o,r,m,_]}class Cc extends Et{constructor(e){super(),At(this,e,Nc,yc,Pt,{path:13,component:0,meta:14,primary:1})}}const wl=Cc;function Pc(t){let e,l,n,i;const s=t[13].default,o=Qi(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=pl(r,f[c]);return{c(){e=p("a"),o&&o.c(),vn(e,r)},m(c,m){N(c,e,m),o&&o.m(e,null),l=!0,n||(i=ge(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&$i(o,s,c,c[12],l?Zi(s,c[12],m,null):xi(c[12]),null),vn(e,r=qi(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(x(o,c),l=!0)},o(c){oe(o,c),l=!1},d(c){c&&S(e),o&&o.d(c),n=!1,i()}}}function Tc(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=ai(e,c),_,{$$slots:d={},$$scope:v}=e,{to:w}=e,{replace:y=!1}=e,{state:M={}}=e,{getProps:g=null}=e;Qn(ls,e);const T=If();Cl(t,T,A=>l(11,_=A));const E=vu(),D=Ff(),{navigate:C}=Of();function F(A){E("click",A),Nu(A)&&(A.preventDefault(),C(n,{state:M,replace:o||y}))}return t.$$set=A=>{l(19,e=pl(pl({},e),oi(A))),l(18,m=ai(e,c)),"to"in A&&l(5,w=A.to),"replace"in A&&l(6,y=A.replace),"state"in A&&l(7,M=A.state),"getProps"in A&&l(8,g=A.getProps),"$$scope"in A&&l(12,v=A.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=D(w,_)),t.$$.dirty&2049&&l(10,i=Oi(_.pathname,n)),t.$$.dirty&2049&&l(9,s=n===_.pathname),t.$$.dirty&2049&&(o=is(n)===Yu(_)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(mf(g)){const A=g({location:_,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...A}}return m})())},e=oi(e),[n,r,f,T,F,w,y,M,g,s,i,_,v,d]}class Ac extends Et{constructor(e){super(),At(this,e,Tc,Pc,Pt,{to:5,replace:6,state:7,getProps:8})}}const Ml=Ac;function ei(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Ec(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function ss(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function Wn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function ui(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function ct(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function zn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function ci(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Bn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Kt(t,e){return t==1||t==2&&e}function Il(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Bt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Ll(t,e){return t.setTime(t.getTime()+e*36e5),t}function qc(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function Lc(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let zs=0;function an(t,e){zs++;const l=Ic(t);if(!l.length){e&&e(""),setTimeout(an,1500,t,e);return}const n=l[(zs-1)%l.length];if(!n){setTimeout(an,1e3,t,e);return}const i=Oc(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(an,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function Ic(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function Oc(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function el(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ks(t){return t.startsWith("esp32")?"esp32":t}function rl(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Kn(t,e){let l=[Bt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Bt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let en="[\\x20-\\x7E]+",mi="[\\x20-\\xFF]+",di="[A-Za-z0-9_\\-]+",Rf="[0-9A-Fa-f]+",On="[0-9]+",ii={},Di=[];async function Dc(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function jf(){if(Di.length){let t=Di.shift();delete ii[t.resource];try{let e=await Dc(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(jf,100)}jf();async function yl(t,e={}){let l;return ii[t]?l=ii[t]:(l={resource:t,options:e,callbacks:[]},ii[t]=l,Di.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function ki(){Nl=await(await yl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ml.set(Nl)}const ml=nl(Nl,t=>(ki(),function(){}));function Fc(t){ml.update(e=>(e.trying=t,e))}let Un={c:-1,n:[]};const Vs=new Map;let Rc=0,sn=null,pi=!1,_n=null,si=null;async function jc(){try{const e=await(await yl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let o=Vs.get(s.s);o===void 0&&(o=Rc++,Vs.set(s.s,o)),l.set(s.s,{...s,_order:o})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);Un={c:n.length,n},_n&&_n(Un)}catch{Un.c<0&&_n&&_n({c:-1,n:[]})}finally{si=null}}function Bc(){return si||(si=jc()),si}function Bf(t=0){pi&&(sn&&clearTimeout(sn),sn=setTimeout(()=>{sn=null,Bc()},Math.max(0,t)))}let ti=0,Gs=-127,Ys=null,Uc={};const Hc=gf(Uc,t=>{let e,l,n=!1;async function i(){yl("data.json").then(s=>s.json()).then(s=>{t(s),Gs!=s.t&&(Gs=s.t,setTimeout(Wc,2e3)),Ys==null&&s.pe&&s.p!=null&&(Ys=s.p,Hf()),(!Nl||!Nl.chip||Nl.booting||ti>1&&!Bn(Nl.board))&&(ki(),Al&&clearTimeout(Al),Al=setTimeout(ji,2e3),El&&clearTimeout(El),El=setTimeout(Ui,3e3)),s.u,Al||(Al=ji()),El||(El=Ui());let o=5e3;if(Bn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),ti=0,pi&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Bf(0)}))}).catch(s=>{ti++,ti>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(an,5e3,Nl,Fc))):e=setTimeout(i,Bn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Fi={},Fn;const os=nl(Fi);async function Uf(){let t=!1;os.update(e=>{for(var l=0;l<36;l++){if(e[ct(l)]==null){t=l<12;break}e[ct(l)]=e[ct(l+1)]}return e}),t?Hf():Fn=setTimeout(Uf,(60-new Date().getMinutes())*6e4)}async function Hf(){Fn&&(clearTimeout(Fn),Fn=0),Fi=await(await yl("energyprice.json")).json(),os.set(Fi),Fn=setTimeout(Uf,(60-new Date().getMinutes())*6e4)}let Ri={},Al;async function ji(){Al&&(clearTimeout(Al),Al=0),Ri=await(await yl("dayplot.json")).json(),Wf.set(Ri),Al=setTimeout(ji,(60-new Date().getMinutes())*6e4+20)}const Wf=nl(Ri,t=>function(){});let Bi={},El;async function Ui(){El&&(clearTimeout(El),El=0),Bi=await(await yl("monthplot.json")).json(),zf.set(Bi),El=setTimeout(Ui,(24-new Date().getHours())*36e5+40)}const zf=nl(Bi,t=>function(){});let Hi={};async function Wc(){Hi=await(await yl("temperature.json")).json(),Kf.set(Hi)}const Kf=nl(Hi,t=>function(){});let Wi={},li;async function Vf(){li&&(clearTimeout(li),li=0),Wi=await(await yl("tariff.json")).json(),Gf.set(Wi),li=setTimeout(Vf,(60-new Date().getMinutes())*6e4+30)}const Gf=nl(Wi,t=>function(){}),Yf=nl(Un,t=>(_n=t,pi=!0,t(Un),Bf(0),function(){pi=!1,_n=null,sn&&(clearTimeout(sn),sn=null)}));let zi=!1;const Sl=nl(zi);async function _i(t){zi=await(await yl("translations.json"+(t?"?lang="+t:""))).json(),Sl.set(zi)}_i();const as="/neas_logotype_white.svg",Xf="/wifi-low-light.svg",Jf="/wifi-medium-light.svg",Qf="/wifi-high-light.svg",Zf="/wifi-off-light.svg";function Xs(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function $f(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Js(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?Jc:c[2]>0?Xc:c[3]>1?Yc:c[3]>0?Gc:c[4]>1?Vc:c[4]>0?Kc:zc}let o=s(t),f=o(t);return{c(){l=k(e),n=h(),f.c(),i=tl()},m(c,m){N(c,l,m),N(c,n,m),f.m(c,m),N(c,i,m)},p(c,m){var _;m&2&&e!==(e=(((_=c[1].header)==null?void 0:_.uptime)??"Up")+"")&&I(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(S(l),S(n),S(i)),f.d(c)}}}function zc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=k(t[0]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&1&&I(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Kc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=k(t[4]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&16&&I(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Vc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=k(t[4]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&16&&I(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Gc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=k(t[3]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&8&&I(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Yc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=k(t[3]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&8&&I(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Xc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=k(t[2]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&4&&I(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Jc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=k(t[2]),l=h(),i=k(n)},m(o,f){N(o,e,f),N(o,l,f),N(o,i,f)},p(o,f){var r;f&4&&I(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&I(i,n)},d(o){o&&(S(e),S(l),S(i))}}}function Qc(t){let e,l=t[0]&&Js(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Js(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:We,o:We,d(n){n&&S(e),l&&l.d(n)}}}function Zc(t,e,l){let{epoch:n}=e,i={};Sl.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class $c extends Et{constructor(e){super(),At(this,e,Zc,Qc,Pt,{epoch:0})}}function xc(t){let e,l,n;return{c(){e=p("span"),l=k(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){N(i,e,s),a(e,l)},p(i,[s]){s&4&&I(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:We,o:We,d(i){i&&S(e)}}}function e0(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Vn extends Et{constructor(e){super(),At(this,e,e0,xc,Pt,{color:0,title:1,text:2})}}function t0(t){let e,l=`${ct(t[0].getDate())}.${ct(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=k(l),u(e,"class",t[1])},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${ct(i[0].getDate())}.${ct(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&I(n,l),s&2&&u(e,"class",i[1])},d(i){i&&S(e)}}}function l0(t){var n;let e=`${ct(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:ct(t[0].getMonth()+1)} ${ct(t[0].getHours())}:${ct(t[0].getMinutes())}`,l;return{c(){l=k(e)},m(i,s){N(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${ct(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:ct(i[0].getMonth()+1)} ${ct(i[0].getHours())}:${ct(i[0].getMinutes())}`)&&I(l,e)},d(i){i&&S(l)}}}function n0(t){let e;function l(s,o){return s[3]?l0:t0}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,o){i.m(s,o),N(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:We,o:We,d(s){s&&S(e),i.d(s)}}}function i0(t,e,l){let n={};Sl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Ll(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class xf extends Et{constructor(e){super(),At(this,e,i0,n0,Pt,{timestamp:0,fullTimeColor:1,offset:4})}}function s0(t){let e,l,n;return{c(){e=wt("svg"),l=wt("path"),n=wt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){N(i,e,s),a(e,l),a(e,n)},p:We,i:We,o:We,d(i){i&&S(e)}}}class o0 extends Et{constructor(e){super(),At(this,e,null,s0,Pt,{})}}function a0(t){let e,l;return{c(){e=wt("svg"),l=wt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){N(n,e,i),a(e,l)},p:We,i:We,o:We,d(n){n&&S(e)}}}class r0 extends Et{constructor(e){super(),At(this,e,null,a0,Pt,{})}}function f0(t){let e,l;return{c(){e=p("img"),u(e,"class","w-36 h-auto"),u(e,"alt","Neas logo"),rn(e.src,l=as)||u(e,"src",l)},m(n,i){N(n,e,i)},p:We,d(n){n&&S(e)}}}function Qs(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=k(l),i=k("°C"),u(e,"class","flex-none my-auto")},m(s,o){N(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&I(n,l)},d(s){s&&S(e)}}}function Zs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){N(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.han)??"Han-port")+": "+(((_=(m=f[5].errors)==null?void 0:m.han)==null?void 0:_[f[0].he])??f[0].he))&&I(n,l)},d(f){f&&S(e)}}}function $s(t){var s,o,f;let e,l=(((s=t[5].header)==null?void 0:s.mqtt)??"Minside")+": "+(((f=(o=t[5].errors)==null?void 0:o.mqtt)==null?void 0:f[t[0].me])??t[0].me),n,i;return{c(){e=p("div"),n=k(l),i=h(),u(e,"class","bd-red")},m(r,c){N(r,e,c),a(e,n),N(r,i,c)},p(r,c){var m,_,d;c&33&&l!==(l=(((m=r[5].header)==null?void 0:m.mqtt)??"Minside")+": "+(((d=(_=r[5].errors)==null?void 0:_.mqtt)==null?void 0:d[r[0].me])??r[0].me))&&I(n,l)},d(r){r&&(S(e),S(i))}}}function xs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){N(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.price)??"PS")+": "+(((_=(m=f[5].errors)==null?void 0:m.price)==null?void 0:_[f[0].ee])??f[0].ee))&&I(n,l)},d(f){f&&S(e)}}}function eo(t){let e,l,n,i,s,o,f,r;return l=new Ml({props:{to:"/configuration",$$slots:{default:[u0]},$$scope:{ctx:t}}}),o=new Ml({props:{to:"/status",$$slots:{default:[c0]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),Ne(l.$$.fragment),i=h(),s=p("div"),Ne(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){N(c,e,m),ye(l,e,null),N(c,i,m),N(c,s,m),ye(o,s,null),r=!0},p(c,m){var v,w;const _={};m&512&&(_.$$scope={dirty:m,ctx:c}),l.$set(_),(!r||m&32&&n!==(n=((v=c[5].header)==null?void 0:v.config)??""))&&u(e,"title",n);const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),o.$set(d),(!r||m&32&&f!==(f=((w=c[5].header)==null?void 0:w.status)??""))&&u(s,"title",f)},i(c){r||(x(l.$$.fragment,c),x(o.$$.fragment,c),r=!0)},o(c){oe(l.$$.fragment,c),oe(o.$$.fragment,c),r=!1},d(c){c&&(S(e),S(i),S(s)),Se(l),Se(o)}}}function u0(t){let e,l;return e=new o0({}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function c0(t){let e,l;return e=new r0({}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function m0(t){let e,l;function n(o,f){return o[1].security==0||o[0].a?_0:p0}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","flex-none mr-3 my-auto"),u(e,"title",l="Ny oppdatering: "+t[1].upgrade.n)},m(o,f){N(o,e,f),s.m(e,null)},p(o,f){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&2&&l!==(l="Ny oppdatering: "+o[1].upgrade.n)&&u(e,"title",l)},d(o){o&&S(e),s.d()}}}function d0(t){let e,l,n,i,s,o,f,r=t[1].upgrade.t+"",c,m,_=t[4].toFixed(1)+"",d,v;return{c(){e=p("div"),l=p("div"),n=p("div"),i=p("div"),i.innerHTML='<svg class="animate-spin text-neas-lightgreen-70" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',s=h(),o=p("span"),f=k("Oppdaterer til "),c=k(r),m=k(", "),d=k(_),v=k("%"),u(i,"class","w-4 h-4"),u(o,"class","text-sm font-medium text-neas-lightgreen-70"),u(n,"class","flex items-center gap-2"),u(l,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm"),u(e,"class","flex-none mr-3 my-auto")},m(w,y){N(w,e,y),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(o,f),a(o,c),a(o,m),a(o,d),a(o,v)},p(w,y){y&2&&r!==(r=w[1].upgrade.t+"")&&I(c,r),y&16&&_!==(_=w[4].toFixed(1)+"")&&I(d,_)},d(w){w&&S(e)}}}function p0(t){let e,l,n,i,s,o="Ny oppdatering",f,r,c=t[1].upgrade.n+"",m;return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=h(),s=p("span"),f=k(o),r=k(": "),m=k(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 border border-neas-lightgreen-70/30 rounded-full px-4 py-2 backdrop-blur-sm")},m(_,d){N(_,e,d),a(e,l),a(l,n),a(l,i),a(l,s),a(s,f),a(s,r),a(s,m)},p(_,d){d&2&&c!==(c=_[1].upgrade.n+"")&&I(m,c)},d(_){_&&S(e)}}}function _0(t){let e,l,n,i,s,o="Ny oppdatering",f,r,c=t[1].upgrade.n+"",m,_,d;return{c(){e=p("button"),l=p("div"),n=p("div"),n.innerHTML='<svg class="text-neas-lightgreen-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>',i=h(),s=p("span"),f=k(o),r=k(": "),m=k(c),u(n,"class","w-4 h-4"),u(s,"class","text-sm font-medium text-neas-lightgreen-70"),u(l,"class","flex items-center gap-2"),u(e,"class","bg-neas-lightgreen-50/20 hover:bg-neas-lightgreen-50/30 border border-neas-lightgreen-70/30 hover:border-neas-lightgreen-70/50 rounded-full px-4 py-2 backdrop-blur-sm transition-all duration-200 hover:shadow-sm")},m(v,w){N(v,e,w),a(e,l),a(l,n),a(l,i),a(l,s),a(s,f),a(s,r),a(s,m),_||(d=ge(e,"click",t[6]),_=!0)},p(v,w){w&2&&c!==(c=v[1].upgrade.n+"")&&I(m,c)},d(v){v&&S(e),_=!1,d()}}}function h0(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T,E,D,C,F,A,R,O,z,G,B;i=new Ml({props:{to:"/",class:"flex items-center",$$slots:{default:[f0]},$$scope:{ctx:t}}}),r=new $c({props:{epoch:t[0].u}});let W=t[0].t>-50&&Qs(t);d=new Vn({props:{title:"Han-port",text:"Han-port",color:ei(t[1].booting?9:t[0].hm)}}),w=new Vn({props:{title:"Minside",text:"Minside",color:ei(t[1].booting?9:t[0].mm)}});let j=(t[0].he<0||t[0].he>0)&&Zs(t),Y=t[0].me<0&&$s(t),X=(t[0].ee>0||t[0].ee<0)&&xs(t);O=new xf({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let U=t[1].usrcfg&&eo(t);function K(H,Z){if(H[1].upgrading)return d0;if(H[1].fwconsent===1&&H[1].upgrade.n)return m0}let $=K(t),le=$&&$(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),f=p("div"),Ne(r.$$.fragment),c=h(),W&&W.c(),m=h(),_=p("div"),Ne(d.$$.fragment),v=h(),Ne(w.$$.fragment),y=h(),j&&j.c(),M=h(),Y&&Y.c(),g=k(`a
    `),X&&X.c(),T=h(),E=p("div"),D=p("div"),C=p("img"),A=h(),R=p("div"),Ne(O.$$.fragment),z=h(),U&&U.c(),G=h(),le&&le.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(_,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(C,"class","h-10 w-10"),rn(C.src,F=t[2])||u(C,"src",F),u(C,"alt",t[3]),u(D,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(R,"class","flex-none my-auto px-2"),u(E,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(H,Z){N(H,e,Z),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,f),ye(r,f,null),a(o,c),W&&W.m(o,null),a(l,m),a(l,_),ye(d,_,null),a(_,v),ye(w,_,null),a(l,y),j&&j.m(l,null),a(l,M),Y&&Y.m(l,null),a(l,g),X&&X.m(l,null),a(l,T),a(l,E),a(E,D),a(D,C),a(E,A),a(E,R),ye(O,R,null),a(E,z),U&&U.m(E,null),a(E,G),le&&le.m(E,null),B=!0},p(H,[Z]){const re={};Z&512&&(re.$$scope={dirty:Z,ctx:H}),i.$set(re);const ae={};Z&1&&(ae.epoch=H[0].u),r.$set(ae),H[0].t>-50?W?W.p(H,Z):(W=Qs(H),W.c(),W.m(o,null)):W&&(W.d(1),W=null);const fe={};Z&3&&(fe.color=ei(H[1].booting?9:H[0].hm)),d.$set(fe);const ce={};Z&3&&(ce.color=ei(H[1].booting?9:H[0].mm)),w.$set(ce),H[0].he<0||H[0].he>0?j?j.p(H,Z):(j=Zs(H),j.c(),j.m(l,M)):j&&(j.d(1),j=null),H[0].me<0?Y?Y.p(H,Z):(Y=$s(H),Y.c(),Y.m(l,g)):Y&&(Y.d(1),Y=null),H[0].ee>0||H[0].ee<0?X?X.p(H,Z):(X=xs(H),X.c(),X.m(l,T)):X&&(X.d(1),X=null),(!B||Z&4&&!rn(C.src,F=H[2]))&&u(C,"src",F),(!B||Z&8)&&u(C,"alt",H[3]);const ee={};Z&1&&(ee.timestamp=H[0].c?new Date(H[0].c*1e3):new Date(0)),Z&2&&(ee.offset=H[1].clock_offset),O.$set(ee),H[1].usrcfg?U?(U.p(H,Z),Z&2&&x(U,1)):(U=eo(H),U.c(),x(U,1),U.m(E,G)):U&&(St(),oe(U,1,1,()=>{U=null}),Nt()),$===($=K(H))&&le?le.p(H,Z):(le&&le.d(1),le=$&&$(H),le&&(le.c(),le.m(E,null)))},i(H){B||(x(i.$$.fragment,H),x(r.$$.fragment,H),x(d.$$.fragment,H),x(w.$$.fragment,H),x(O.$$.fragment,H),x(U),B=!0)},o(H){oe(i.$$.fragment,H),oe(r.$$.fragment,H),oe(d.$$.fragment,H),oe(w.$$.fragment,H),oe(O.$$.fragment,H),oe(U),B=!1},d(H){H&&S(e),Se(i),Se(r),W&&W.d(),Se(d),Se(w),j&&j.d(),Y&&Y.d(),X&&X.d(),Se(O),U&&U.d(),le&&le.d()}}}function g0(t,e,l){const n={high:Qf,medium:Jf,low:Xf,off:Zf};let i=n.off,s="Wi-Fi offline";const o="/";let{data:f={}}=e,r={};function c(){confirm("Oppdater til {0}?".replace("{0}",r.upgrade.n))&&($f(r.upgrade.n),ml.update(d=>(d.upgrade.t=r.upgrade.n,d.upgrade.p=0,d.upgrading=!0,d)))}let m;ml.subscribe(d=>{l(1,r=d)});let _={};return Sl.subscribe(d=>{l(5,_=d)}),t.$$set=d=>{"data"in d&&l(0,f=d.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:d,label:v}=zn(f==null?void 0:f.r);l(2,i=n[d]??n.off),l(3,s=v)}},[f,r,i,s,m,_,c,o]}class b0 extends Et{constructor(e){super(),At(this,e,g0,h0,Pt,{basepath:7,data:0})}get basepath(){return this.$$.ctx[7]}}function v0(t){let e,l,n,i;return{c(){e=wt("svg"),l=wt("path"),n=wt("path"),u(l,"d",Ti(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ti(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){N(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ti(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:We,o:We,d(s){s&&S(e)}}}function to(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ti(t,e,l,n,i){var s=to(t,e,l,i),o=to(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function k0(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class w0 extends Et{constructor(e){super(),At(this,e,k0,v0,Pt,{pct:0,color:1})}}function lo(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=h(),n=p("span"),s=k(i),o=h(),f=p("span"),c=k(r),m=k("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(_,d){N(_,e,d),N(_,l,d),N(_,n,d),a(n,s),N(_,o,d),N(_,f,d),a(f,c),a(f,m)},p(_,d){d&2&&i!==(i=_[1][0]+"")&&I(s,i),d&2&&r!==(r=_[1][1]+"")&&I(c,r)},d(_){_&&(S(e),S(l),S(n),S(o),S(f))}}}function M0(t){let e,l,n,i,s,o,f,r,c,m,_=t[3][0]+"",d,v,w,y=t[3][1]+"",M,g,T;l=new w0({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let E=t[1]&&lo(t);return{c(){e=p("div"),Ne(l.$$.fragment),n=h(),i=p("span"),s=p("span"),o=k(t[0]),f=h(),r=p("br"),c=h(),m=p("span"),d=k(_),v=h(),w=p("span"),M=k(y),g=h(),E&&E.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(w,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(D,C){N(D,e,C),ye(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,d),a(i,v),a(i,w),a(w,M),a(i,g),E&&E.m(i,null),T=!0},p(D,[C]){const F={};C&16&&(F.pct=D[4]),C&20&&(F.color=D[2](D[4],document.documentElement.classList.contains("dark"))),l.$set(F),(!T||C&1)&&I(o,D[0]),(!T||C&8)&&_!==(_=D[3][0]+"")&&I(d,_),(!T||C&8)&&y!==(y=D[3][1]+"")&&I(M,y),D[1]?E?E.p(D,C):(E=lo(D),E.c(),E.m(i,null)):E&&(E.d(1),E=null)},i(D){T||(x(l.$$.fragment,D),T=!0)},o(D){oe(l.$$.fragment,D),T=!1},d(D){D&&S(e),Se(l),E&&E.d()}}}function y0(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=_=>{"val"in _&&l(5,n=_.val),"max"in _&&l(6,i=_.max),"unit"in _&&l(7,s=_.unit),"label"in _&&l(0,o=_.label),"sub"in _&&l(1,f=_.sub),"colorFn"in _&&l(2,r=_.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=rl(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class eu extends Et{constructor(e){super(),At(this,e,y0,M0,Pt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function no(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function io(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function so(t,e,l){const n=t.slice();return n[15]=e[l],n}function oo(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&ao(t),c=Ge(t[0].y.ticks),m=[];for(let y=0;y<c.length;y+=1)m[y]=co(so(t,c,y));let _=Ge(t[0].x.ticks),d=[];for(let y=0;y<_.length;y+=1)d[y]=_o(io(t,_,y));let v=Ge(t[0].points),w=[];for(let y=0;y<v.length;y+=1)w[y]=yo(no(t,v,y));return{c(){r&&r.c(),e=h(),l=wt("svg"),n=wt("g");for(let y=0;y<m.length;y+=1)m[y].c();i=wt("g");for(let y=0;y<d.length;y+=1)d[y].c();s=wt("g");for(let y=0;y<w.length;y+=1)w[y].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(y,M){r&&r.m(y,M),N(y,e,M),N(y,l,M),a(l,n);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(n,null);a(l,i);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(i,null);a(l,s);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(s,null);f=!0},p(y,M){if(y[0].title||y[0].link?r?(r.p(y,M),M&1&&x(r,1)):(r=ao(y),r.c(),x(r,1),r.m(e.parentNode,e)):r&&(St(),oe(r,1,1,()=>{r=null}),Nt()),M&129){c=Ge(y[0].y.ticks);let g;for(g=0;g<c.length;g+=1){const T=so(y,c,g);m[g]?m[g].p(T,M):(m[g]=co(T),m[g].c(),m[g].m(n,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=c.length}if(M&89){_=Ge(y[0].x.ticks);let g;for(g=0;g<_.length;g+=1){const T=io(y,_,g);d[g]?d[g].p(T,M):(d[g]=_o(T),d[g].c(),d[g].m(i,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=_.length}if(M&457){v=Ge(y[0].points);let g;for(g=0;g<v.length;g+=1){const T=no(y,v,g);w[g]?w[g].p(T,M):(w[g]=yo(T),w[g].c(),w[g].m(s,null))}for(;g<w.length;g+=1)w[g].d(1);w.length=v.length}(!f||M&18&&o!==(o="0 0 "+y[1]+" "+y[4]))&&u(l,"viewBox",o)},i(y){f||(x(r),f=!0)},o(y){oe(r),f=!1},d(y){y&&(S(e),S(l)),r&&r.d(y),Xt(m,y),Xt(d,y),Xt(w,y)}}}function ao(t){let e,l,n,i=t[0].title&&ro(t),s=t[0].link&&fo(t);return{c(){e=p("div"),i&&i.c(),l=h(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){N(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=ro(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&x(s,1)):(s=fo(o),s.c(),x(s,1),s.m(e,null)):s&&(St(),oe(s,1,1,()=>{s=null}),Nt())},i(o){n||(x(s),n=!0)},o(o){oe(s),n=!1},d(o){o&&S(e),i&&i.d(),s&&s.d()}}}function ro(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm font-bold"),Jt(()=>t[9].call(e))},m(s,o){N(s,e,o),a(e,n),i=es(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&I(n,l)},d(s){s&&S(e),i()}}}function fo(t){let e,l,n,i;const s=[N0,S0],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){N(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(St(),oe(o[m],1,1,()=>{o[m]=null}),Nt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),x(n,1),n.m(e,null))},i(r){i||(x(n),i=!0)},o(r){oe(n),i=!1},d(r){r&&S(e),o[l].d()}}}function S0(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=k(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){N(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&I(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:We,o:We,d(o){o&&S(e)}}}function N0(t){let e,l;return e=new Ml({props:{to:t[0].link.url,$$slots:{default:[C0]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function C0(t){let e=t[0].link.text+"",l;return{c(){l=k(e)},m(n,i){N(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&I(l,e)},d(n){n&&S(l)}}}function uo(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=wt("g"),l=wt("line"),n=wt("text"),s=k(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&I(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&S(e)}}}function co(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&uo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=uo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function mo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&po(t);return{c(){e=wt("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){N(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=po(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&S(e),n&&n.d()}}}function po(t){let e,l=t[11].label+"",n,i;return{c(){e=wt("text"),n=k(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){N(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&I(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&S(e)}}}function _o(t){let e=!isNaN(t[6](t[13])),l,n=e&&mo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=mo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function ho(t){let e,l,n=t[11].value!==void 0&&go(t),i=t[11].value2>1e-4&&ko(t);return{c(){e=wt("g"),n&&n.c(),l=wt("g"),i&&i.c()},m(s,o){N(s,e,o),n&&n.m(e,null),N(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=go(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=ko(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(S(e),S(l)),n&&n.d(),i&&i.d()}}}function go(t){let e,l,n,i,s,o,f,r=t[3]>15&&bo(t);return{c(){e=wt("rect"),r&&r.c(),f=tl(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=bo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function bo(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&vo(t);return{c(){e=wt("text"),n=k(l),c&&c.c(),r=tl(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<on||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<on?90:0)+")")},m(m,_){N(m,e,_),a(e,n),c&&c.m(m,_),N(m,r,_)},p(m,_){_&1&&l!==(l=m[11].label+"")&&I(n,l),_&8&&i!==(i=m[3]-4)&&u(e,"width",i),_&9&&s!==(s=m[3]<on||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),_&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),_&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<on?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,_):(c=vo(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(S(e),S(r)),c&&c.d(m)}}}function vo(t){let e,l=t[11].title+"",n;return{c(){e=wt("title"),n=k(l)},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&I(n,l)},d(i){i&&S(e)}}}function ko(t){let e,l,n,i,s,o,f,r=t[3]>15&&wo(t);return{c(){e=wt("rect"),r&&r.c(),f=tl(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=wo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function wo(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&Mo(t);return{c(){e=wt("text"),n=k(l),r&&r.c(),f=tl(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<on?90:0)+")")},m(c,m){N(c,e,m),a(e,n),r&&r.m(c,m),N(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&I(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<on?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=Mo(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(f)),r&&r.d(c)}}}function Mo(t){let e,l=t[11].title2+"",n;return{c(){e=wt("title"),n=k(l)},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&I(n,l)},d(i){i&&S(e)}}}function yo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&ho(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=ho(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function P0(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&oo(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Jt(()=>t[10].call(e))},m(s,o){N(s,e,o),i&&i.m(e,null),l=es(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&x(i,1)):(i=oo(s),i.c(),x(i,1),i.m(e,null)):i&&(St(),oe(i,1,1,()=>{i=null}),Nt())},i(s){n||(x(i),n=!0)},o(s){oe(i),n=!1},d(s){s&&S(e),i&&i.d(),l()}}}let on=30;function T0(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,_=0;function d(){_=this.clientHeight,l(5,_)}function v(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=w=>{"config"in w&&l(0,n=w.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-_);let w=i-(n.padding.left+n.padding.right);l(3,o=w/n.points.length),l(8,m=o<on?30:15);let y=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(M){return M*o+n.padding.left}),l(7,r=function(M){let g=0;return M>n.y.max?g=n.padding.bottom:M<n.y.min?g=c-n.padding.bottom:g=c-n.padding.bottom-(M-n.y.min)*y,g>c||g<0?0:g})}},[n,i,s,o,c,_,f,r,m,d,v]}class un extends Et{constructor(e){super(),At(this,e,T0,P0,Pt,{config:0})}}function A0(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function E0(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Bt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:Ec(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],_=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),_.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),_.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),_.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:_})}},[r,n,i,s,o,f]}class q0 extends Et{constructor(e){super(),At(this,e,E0,A0,Pt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function L0(t){var q,V,ne,ie,_e;let e,l,n=(((q=t[0].reactive)==null?void 0:q.title)??"Reactive")+"",i,s,o,f,r=(((V=t[0].reactive)==null?void 0:V.instant_in)??"Instant in")+"",c,m,_,d=t[1][0]+"",v,w,y=t[1][1]+"",M,g,T,E=(((ne=t[0].reactive)==null?void 0:ne.instant_out)??"Instant out")+"",D,C,F,A=t[2][0]+"",R,O,z=t[2][1]+"",G,B,W,j,Y=(((ie=t[0].reactive)==null?void 0:ie.total_in)??"Total in")+"",X,U,K,$=t[3][0]+"",le,H,Z=t[3][1]+"",re,ae,fe,ce=(((_e=t[0].reactive)==null?void 0:_e.total_out)??"Total out")+"",ee,Q,J,he=t[4][0]+"",Me,P,b=t[4][1]+"",L;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),f=p("div"),c=k(r),m=h(),_=p("div"),v=k(d),w=h(),M=k(y),g=h(),T=p("div"),D=k(E),C=h(),F=p("div"),R=k(A),O=h(),G=k(z),B=h(),W=p("div"),j=p("div"),X=k(Y),U=h(),K=p("div"),le=k($),H=h(),re=k(Z),ae=h(),fe=p("div"),ee=k(ce),Q=h(),J=p("div"),Me=k(he),P=h(),L=k(b),u(_,"class","text-right"),u(F,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(K,"class","text-right"),u(J,"class","text-right"),u(W,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(me,ue){N(me,e,ue),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,_),a(_,v),a(_,w),a(_,M),a(o,g),a(o,T),a(T,D),a(o,C),a(o,F),a(F,R),a(F,O),a(F,G),a(e,B),a(e,W),a(W,j),a(j,X),a(W,U),a(W,K),a(K,le),a(K,H),a(K,re),a(W,ae),a(W,fe),a(fe,ee),a(W,Q),a(W,J),a(J,Me),a(J,P),a(J,L)},p(me,[ue]){var be,ke,Ee,Ie,Re;ue&1&&n!==(n=(((be=me[0].reactive)==null?void 0:be.title)??"Reactive")+"")&&I(i,n),ue&1&&r!==(r=(((ke=me[0].reactive)==null?void 0:ke.instant_in)??"Instant in")+"")&&I(c,r),ue&2&&d!==(d=me[1][0]+"")&&I(v,d),ue&2&&y!==(y=me[1][1]+"")&&I(M,y),ue&1&&E!==(E=(((Ee=me[0].reactive)==null?void 0:Ee.instant_out)??"Instant out")+"")&&I(D,E),ue&4&&A!==(A=me[2][0]+"")&&I(R,A),ue&4&&z!==(z=me[2][1]+"")&&I(G,z),ue&1&&Y!==(Y=(((Ie=me[0].reactive)==null?void 0:Ie.total_in)??"Total in")+"")&&I(X,Y),ue&8&&$!==($=me[3][0]+"")&&I(le,$),ue&8&&Z!==(Z=me[3][1]+"")&&I(re,Z),ue&1&&ce!==(ce=(((Re=me[0].reactive)==null?void 0:Re.total_out)??"Total out")+"")&&I(ee,ce),ue&16&&he!==(he=me[4][0]+"")&&I(Me,he),ue&16&&b!==(b=me[4][1]+"")&&I(L,b)},i:We,o:We,d(me){me&&S(e)}}}function I0(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,_;return t.$$set=d=>{"importInstant"in d&&l(5,n=d.importInstant),"exportInstant"in d&&l(6,i=d.exportInstant),"importTotal"in d&&l(7,s=d.importTotal),"exportTotal"in d&&l(8,o=d.exportTotal),"translations"in d&&l(0,f=d.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=rl(n,"VAr")),l(2,c=rl(i,"VAr")),l(3,m=rl(s*1e3,"VArh")),l(4,_=rl(o*1e3,"VArh")))},[f,r,c,m,_,n,i,s,o]}class O0 extends Et{constructor(e){super(),At(this,e,I0,L0,Pt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function So(t){let e;function l(s,o){return s[3]?F0:D0}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,o){i.m(s,o),N(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&S(e),i.d(s)}}}function D0(t){var V,ne,ie,_e,me;let e,l=(((V=t[4].realtime)==null?void 0:V.consumption)??"Consumption")+"",n,i,s,o,f=el(((ne=t[4].common)==null?void 0:ne.hour)??"Hour")+"",r,c,m,_=t[6][0]+"",d,v,w=t[6][1]+"",y,M,g,T=el(((ie=t[4].common)==null?void 0:ie.day)??"Day")+"",E,D,C,F=t[7][0]+"",A,R,O=t[7][1]+"",z,G,B,W=el(((_e=t[4].common)==null?void 0:_e.month)??"Month")+"",j,Y,X,U=t[8][0]+"",K,$,le=t[8][1]+"",H,Z,re,ae=(((me=t[4].realtime)==null?void 0:me.last_month)??"Last month")+"",fe,ce,ee,Q=t[9][0]+"",J,he,Me=t[9][1]+"",P,b,L,q=t[5]&&No(t);return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),y=k(w),M=h(),g=p("div"),E=k(T),D=h(),C=p("div"),A=k(F),R=h(),z=k(O),G=h(),B=p("div"),j=k(W),Y=h(),X=p("div"),K=k(U),$=h(),H=k(le),Z=h(),re=p("div"),fe=k(ae),ce=h(),ee=p("div"),J=k(Q),he=h(),P=k(Me),b=h(),q&&q.c(),L=tl(),u(m,"class","text-right"),u(C,"class","text-right"),u(X,"class","text-right"),u(ee,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(ue,be){N(ue,e,be),a(e,n),N(ue,i,be),N(ue,s,be),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,v),a(m,y),a(s,M),a(s,g),a(g,E),a(s,D),a(s,C),a(C,A),a(C,R),a(C,z),a(s,G),a(s,B),a(B,j),a(s,Y),a(s,X),a(X,K),a(X,$),a(X,H),a(s,Z),a(s,re),a(re,fe),a(s,ce),a(s,ee),a(ee,J),a(ee,he),a(ee,P),N(ue,b,be),q&&q.m(ue,be),N(ue,L,be)},p(ue,be){var ke,Ee,Ie,Re,Ue;be&16&&l!==(l=(((ke=ue[4].realtime)==null?void 0:ke.consumption)??"Consumption")+"")&&I(n,l),be&16&&f!==(f=el(((Ee=ue[4].common)==null?void 0:Ee.hour)??"Hour")+"")&&I(r,f),be&64&&_!==(_=ue[6][0]+"")&&I(d,_),be&64&&w!==(w=ue[6][1]+"")&&I(y,w),be&16&&T!==(T=el(((Ie=ue[4].common)==null?void 0:Ie.day)??"Day")+"")&&I(E,T),be&128&&F!==(F=ue[7][0]+"")&&I(A,F),be&128&&O!==(O=ue[7][1]+"")&&I(z,O),be&16&&W!==(W=el(((Re=ue[4].common)==null?void 0:Re.month)??"Month")+"")&&I(j,W),be&256&&U!==(U=ue[8][0]+"")&&I(K,U),be&256&&le!==(le=ue[8][1]+"")&&I(H,le),be&16&&ae!==(ae=(((Ue=ue[4].realtime)==null?void 0:Ue.last_month)??"Last month")+"")&&I(fe,ae),be&512&&Q!==(Q=ue[9][0]+"")&&I(J,Q),be&512&&Me!==(Me=ue[9][1]+"")&&I(P,Me),ue[5]?q?q.p(ue,be):(q=No(ue),q.c(),q.m(L.parentNode,L)):q&&(q.d(1),q=null)},d(ue){ue&&(S(e),S(i),S(s),S(b),S(L)),q&&q.d(ue)}}}function F0(t){var it,He,sl,Yt,xt,ul,ol,Qt,Zt,fl;let e,l=(((it=t[4].common)==null?void 0:it.import)??"Import")+"",n,i,s,o,f=el(((He=t[4].common)==null?void 0:He.hour)??"Hour")+"",r,c,m,_=t[6][0]+"",d,v,w=t[6][1]+"",y,M,g,T,E=el(((sl=t[4].common)==null?void 0:sl.day)??"Day")+"",D,C,F,A=t[7][0]+"",R,O,z=t[7][1]+"",G,B,W,j,Y=el(((Yt=t[4].common)==null?void 0:Yt.month)??"Month")+"",X,U,K,$=t[8][0]+"",le,H,Z=t[8][1]+"",re,ae,fe,ce,ee=(((xt=t[4].realtime)==null?void 0:xt.last_mo)??"Last mo.")+"",Q,J,he,Me=t[9][0]+"",P,b,L=t[9][1]+"",q,V,ne,ie,_e,me=(((ul=t[4].common)==null?void 0:ul.export)??"Export")+"",ue,be,ke,Ee,Ie=el(((ol=t[4].common)==null?void 0:ol.hour)??"Hour")+"",Re,Ue,Ye,Qe=t[10][0]+"",Le,tt,se=t[10][1]+"",Ce,lt,gt,mt,Ze=el(((Qt=t[4].common)==null?void 0:Qt.day)??"Day")+"",at,Ht,dt,Tt=t[11][0]+"",Ct,qt,xe=t[11][1]+"",pt,Pe,je,Je,Xe=el(((Zt=t[4].common)==null?void 0:Zt.month)??"Month")+"",et,ve,qe,Lt=t[12][0]+"",bt,Be,ut=t[12][1]+"",$e,It,Wt,ze,we=(((fl=t[4].realtime)==null?void 0:fl.last_mo)??"Last mo.")+"",Te,Ke,nt,st=t[13][0]+"",_t,Vt,Ft=t[13][1]+"",Dt,il,Ot,Ve=t[5]&&Co(t),Rt=t[5]&&Po(t),Gt=t[5]&&To(t),vt=t[5]&&Ao(t),rt=t[5]&&Eo(t),Mt=t[5]&&qo(t),zt=t[5]&&Lo(t),pe=t[5]&&Io(t);return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),y=k(w),M=h(),Ve&&Ve.c(),g=h(),T=p("div"),D=k(E),C=h(),F=p("div"),R=k(A),O=h(),G=k(z),B=h(),Rt&&Rt.c(),W=h(),j=p("div"),X=k(Y),U=h(),K=p("div"),le=k($),H=h(),re=k(Z),ae=h(),Gt&&Gt.c(),fe=h(),ce=p("div"),Q=k(ee),J=h(),he=p("div"),P=k(Me),b=h(),q=k(L),V=h(),vt&&vt.c(),ie=h(),_e=p("strong"),ue=k(me),be=h(),ke=p("div"),Ee=p("div"),Re=k(Ie),Ue=h(),Ye=p("div"),Le=k(Qe),tt=h(),Ce=k(se),lt=h(),rt&&rt.c(),gt=h(),mt=p("div"),at=k(Ze),Ht=h(),dt=p("div"),Ct=k(Tt),qt=h(),pt=k(xe),Pe=h(),Mt&&Mt.c(),je=h(),Je=p("div"),et=k(Xe),ve=h(),qe=p("div"),bt=k(Lt),Be=h(),$e=k(ut),It=h(),zt&&zt.c(),Wt=h(),ze=p("div"),Te=k(we),Ke=h(),nt=p("div"),_t=k(st),Vt=h(),Dt=k(Ft),il=h(),pe&&pe.c(),u(m,"class","text-right"),u(F,"class","text-right"),u(K,"class","text-right"),u(he,"class","text-right"),u(s,"class",ne="grid grid-cols-"+t[14]+" mb-3"),u(Ye,"class","text-right"),u(dt,"class","text-right"),u(qe,"class","text-right"),u(nt,"class","text-right"),u(ke,"class",Ot="grid grid-cols-"+t[14])},m(Ae,de){N(Ae,e,de),a(e,n),N(Ae,i,de),N(Ae,s,de),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,v),a(m,y),a(s,M),Ve&&Ve.m(s,null),a(s,g),a(s,T),a(T,D),a(s,C),a(s,F),a(F,R),a(F,O),a(F,G),a(s,B),Rt&&Rt.m(s,null),a(s,W),a(s,j),a(j,X),a(s,U),a(s,K),a(K,le),a(K,H),a(K,re),a(s,ae),Gt&&Gt.m(s,null),a(s,fe),a(s,ce),a(ce,Q),a(s,J),a(s,he),a(he,P),a(he,b),a(he,q),a(s,V),vt&&vt.m(s,null),N(Ae,ie,de),N(Ae,_e,de),a(_e,ue),N(Ae,be,de),N(Ae,ke,de),a(ke,Ee),a(Ee,Re),a(ke,Ue),a(ke,Ye),a(Ye,Le),a(Ye,tt),a(Ye,Ce),a(ke,lt),rt&&rt.m(ke,null),a(ke,gt),a(ke,mt),a(mt,at),a(ke,Ht),a(ke,dt),a(dt,Ct),a(dt,qt),a(dt,pt),a(ke,Pe),Mt&&Mt.m(ke,null),a(ke,je),a(ke,Je),a(Je,et),a(ke,ve),a(ke,qe),a(qe,bt),a(qe,Be),a(qe,$e),a(ke,It),zt&&zt.m(ke,null),a(ke,Wt),a(ke,ze),a(ze,Te),a(ke,Ke),a(ke,nt),a(nt,_t),a(nt,Vt),a(nt,Dt),a(ke,il),pe&&pe.m(ke,null)},p(Ae,de){var jt,De,yt,al,_l,hl,gl,bl,vl,kl;de&16&&l!==(l=(((jt=Ae[4].common)==null?void 0:jt.import)??"Import")+"")&&I(n,l),de&16&&f!==(f=el(((De=Ae[4].common)==null?void 0:De.hour)??"Hour")+"")&&I(r,f),de&64&&_!==(_=Ae[6][0]+"")&&I(d,_),de&64&&w!==(w=Ae[6][1]+"")&&I(y,w),Ae[5]?Ve?Ve.p(Ae,de):(Ve=Co(Ae),Ve.c(),Ve.m(s,g)):Ve&&(Ve.d(1),Ve=null),de&16&&E!==(E=el(((yt=Ae[4].common)==null?void 0:yt.day)??"Day")+"")&&I(D,E),de&128&&A!==(A=Ae[7][0]+"")&&I(R,A),de&128&&z!==(z=Ae[7][1]+"")&&I(G,z),Ae[5]?Rt?Rt.p(Ae,de):(Rt=Po(Ae),Rt.c(),Rt.m(s,W)):Rt&&(Rt.d(1),Rt=null),de&16&&Y!==(Y=el(((al=Ae[4].common)==null?void 0:al.month)??"Month")+"")&&I(X,Y),de&256&&$!==($=Ae[8][0]+"")&&I(le,$),de&256&&Z!==(Z=Ae[8][1]+"")&&I(re,Z),Ae[5]?Gt?Gt.p(Ae,de):(Gt=To(Ae),Gt.c(),Gt.m(s,fe)):Gt&&(Gt.d(1),Gt=null),de&16&&ee!==(ee=(((_l=Ae[4].realtime)==null?void 0:_l.last_mo)??"Last mo.")+"")&&I(Q,ee),de&512&&Me!==(Me=Ae[9][0]+"")&&I(P,Me),de&512&&L!==(L=Ae[9][1]+"")&&I(q,L),Ae[5]?vt?vt.p(Ae,de):(vt=Ao(Ae),vt.c(),vt.m(s,null)):vt&&(vt.d(1),vt=null),de&16384&&ne!==(ne="grid grid-cols-"+Ae[14]+" mb-3")&&u(s,"class",ne),de&16&&me!==(me=(((hl=Ae[4].common)==null?void 0:hl.export)??"Export")+"")&&I(ue,me),de&16&&Ie!==(Ie=el(((gl=Ae[4].common)==null?void 0:gl.hour)??"Hour")+"")&&I(Re,Ie),de&1024&&Qe!==(Qe=Ae[10][0]+"")&&I(Le,Qe),de&1024&&se!==(se=Ae[10][1]+"")&&I(Ce,se),Ae[5]?rt?rt.p(Ae,de):(rt=Eo(Ae),rt.c(),rt.m(ke,gt)):rt&&(rt.d(1),rt=null),de&16&&Ze!==(Ze=el(((bl=Ae[4].common)==null?void 0:bl.day)??"Day")+"")&&I(at,Ze),de&2048&&Tt!==(Tt=Ae[11][0]+"")&&I(Ct,Tt),de&2048&&xe!==(xe=Ae[11][1]+"")&&I(pt,xe),Ae[5]?Mt?Mt.p(Ae,de):(Mt=qo(Ae),Mt.c(),Mt.m(ke,je)):Mt&&(Mt.d(1),Mt=null),de&16&&Xe!==(Xe=el(((vl=Ae[4].common)==null?void 0:vl.month)??"Month")+"")&&I(et,Xe),de&4096&&Lt!==(Lt=Ae[12][0]+"")&&I(bt,Lt),de&4096&&ut!==(ut=Ae[12][1]+"")&&I($e,ut),Ae[5]?zt?zt.p(Ae,de):(zt=Lo(Ae),zt.c(),zt.m(ke,Wt)):zt&&(zt.d(1),zt=null),de&16&&we!==(we=(((kl=Ae[4].realtime)==null?void 0:kl.last_mo)??"Last mo.")+"")&&I(Te,we),de&8192&&st!==(st=Ae[13][0]+"")&&I(_t,st),de&8192&&Ft!==(Ft=Ae[13][1]+"")&&I(Dt,Ft),Ae[5]?pe?pe.p(Ae,de):(pe=Io(Ae),pe.c(),pe.m(ke,null)):pe&&(pe.d(1),pe=null),de&16384&&Ot!==(Ot="grid grid-cols-"+Ae[14])&&u(ke,"class",Ot)},d(Ae){Ae&&(S(e),S(i),S(s),S(ie),S(_e),S(be),S(ke)),Ve&&Ve.d(),Rt&&Rt.d(),Gt&&Gt.d(),vt&&vt.d(),rt&&rt.d(),Mt&&Mt.d(),zt&&zt.d(),pe&&pe.d()}}}function No(t){var J,he,Me,P,b,L;let e,l=(((J=t[4].realtime)==null?void 0:J.cost)??"Cost")+"",n,i,s,o,f=el(((he=t[4].common)==null?void 0:he.hour)??"Hour")+"",r,c,m,_=Bt(t[1].h.c,2)+"",d,v,w,y,M,g=el(((Me=t[4].common)==null?void 0:Me.day)??"Day")+"",T,E,D,C=Bt(t[1].d.c,1)+"",F,A,R,O,z,G=el(((P=t[4].common)==null?void 0:P.month)??"Month")+"",B,W,j,Y=Bt(t[1].m.c)+"",X,U,K,$,le,H=(((b=t[4].realtime)==null?void 0:b.last_month)??"Last month")+"",Z,re,ae,fe=Bt((L=t[0].last_month)==null?void 0:L.c)+"",ce,ee,Q;return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),w=k(t[2]),y=h(),M=p("div"),T=k(g),E=h(),D=p("div"),F=k(C),A=h(),R=k(t[2]),O=h(),z=p("div"),B=k(G),W=h(),j=p("div"),X=k(Y),U=h(),K=k(t[2]),$=h(),le=p("div"),Z=k(H),re=h(),ae=p("div"),ce=k(fe),ee=h(),Q=k(t[2]),u(m,"class","text-right"),u(D,"class","text-right"),u(j,"class","text-right"),u(ae,"class","text-right"),u(s,"class","grid grid-cols-2")},m(q,V){N(q,e,V),a(e,n),N(q,i,V),N(q,s,V),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,v),a(m,w),a(s,y),a(s,M),a(M,T),a(s,E),a(s,D),a(D,F),a(D,A),a(D,R),a(s,O),a(s,z),a(z,B),a(s,W),a(s,j),a(j,X),a(j,U),a(j,K),a(s,$),a(s,le),a(le,Z),a(s,re),a(s,ae),a(ae,ce),a(ae,ee),a(ae,Q)},p(q,V){var ne,ie,_e,me,ue,be;V&16&&l!==(l=(((ne=q[4].realtime)==null?void 0:ne.cost)??"Cost")+"")&&I(n,l),V&16&&f!==(f=el(((ie=q[4].common)==null?void 0:ie.hour)??"Hour")+"")&&I(r,f),V&2&&_!==(_=Bt(q[1].h.c,2)+"")&&I(d,_),V&4&&I(w,q[2]),V&16&&g!==(g=el(((_e=q[4].common)==null?void 0:_e.day)??"Day")+"")&&I(T,g),V&2&&C!==(C=Bt(q[1].d.c,1)+"")&&I(F,C),V&4&&I(R,q[2]),V&16&&G!==(G=el(((me=q[4].common)==null?void 0:me.month)??"Month")+"")&&I(B,G),V&2&&Y!==(Y=Bt(q[1].m.c)+"")&&I(X,Y),V&4&&I(K,q[2]),V&16&&H!==(H=(((ue=q[4].realtime)==null?void 0:ue.last_month)??"Last month")+"")&&I(Z,H),V&1&&fe!==(fe=Bt((be=q[0].last_month)==null?void 0:be.c)+"")&&I(ce,fe),V&4&&I(Q,q[2])},d(q){q&&(S(e),S(i),S(s))}}}function Co(t){let e,l=Bt(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].h.c,2)+"")&&I(n,l),f&4&&I(s,o[2])},d(o){o&&S(e)}}}function Po(t){let e,l=Bt(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].d.c,1)+"")&&I(n,l),f&4&&I(s,o[2])},d(o){o&&S(e)}}}function To(t){let e,l=Bt(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].m.c)+"")&&I(n,l),f&4&&I(s,o[2])},d(o){o&&S(e)}}}function Ao(t){var o;let e,l=Bt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(f,r){N(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Bt((c=f[0].last_month)==null?void 0:c.c)+"")&&I(n,l),r&4&&I(s,f[2])},d(f){f&&S(e)}}}function Eo(t){let e,l=Bt(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].h.i,2)+"")&&I(n,l),f&4&&I(s,o[2])},d(o){o&&S(e)}}}function qo(t){let e,l=Bt(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].d.i,1)+"")&&I(n,l),f&4&&I(s,o[2])},d(o){o&&S(e)}}}function Lo(t){let e,l=Bt(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Bt(o[1].m.i)+"")&&I(n,l),f&4&&I(s,o[2])},d(o){o&&S(e)}}}function Io(t){var o;let e,l=Bt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(f,r){N(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Bt((c=f[0].last_month)==null?void 0:c.i)+"")&&I(n,l),r&4&&I(s,f[2])},d(f){f&&S(e)}}}function R0(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&So(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("br"),f=p("br"),r=h(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(_,d){N(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(_,[d]){var v;d&16&&n!==(n=(((v=_[4].realtime)==null?void 0:v.title)??"Real time calculations")+"")&&I(i,n),_[1]?c?c.p(_,d):(c=So(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:We,o:We,d(_){_&&S(e),c&&c.d()}}}function j0(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,_,d,v,w,y,M=!1,g=3;return t.$$set=T=>{"sysinfo"in T&&l(0,n=T.sysinfo),"data"in T&&l(1,i=T.data),"currency"in T&&l(2,s=T.currency),"hasExport"in T&&l(3,o=T.hasExport),"translations"in T&&l(4,f=T.translations)},t.$$.update=()=>{var T,E,D,C,F,A,R,O;t.$$.dirty&35&&(l(5,M=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,g=M?3:2),l(6,r=rl(((T=i==null?void 0:i.h)==null?void 0:T.u)*1e3,"Wh")),l(7,c=rl(((E=i==null?void 0:i.d)==null?void 0:E.u)*1e3,"Wh")),l(8,m=rl(((D=i==null?void 0:i.m)==null?void 0:D.u)*1e3,"Wh")),l(9,_=rl(((C=n==null?void 0:n.last_month)==null?void 0:C.u)*1e3,"Wh")),l(10,d=rl(((F=i==null?void 0:i.h)==null?void 0:F.p)*1e3,"Wh")),l(11,v=rl(((A=i==null?void 0:i.d)==null?void 0:A.p)*1e3,"Wh")),l(12,w=rl(((R=i==null?void 0:i.m)==null?void 0:R.p)*1e3,"Wh")),l(13,y=rl(((O=n==null?void 0:n.last_month)==null?void 0:O.p)*1e3,"Wh")))},[n,i,s,o,f,M,r,c,m,_,d,v,w,y,g]}class B0 extends Et{constructor(e){super(),At(this,e,j0,R0,Pt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function U0(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function H0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,_=new Date().getUTCHours(),d=0,v=0,w=0,y=[],M=[],g=[];l(5,r=l(4,f=0));let T=new Date;for(Ll(T,s.clock_offset-(24+T.getHours()-T.getUTCHours())%24),d=_;d<24&&(v=i[ct(w++)],v!=null);d++)M.push({label:ct(T.getHours())}),g.push(v*100),l(5,r=Math.min(r,v*100)),l(4,f=Math.max(f,v*100)),Ll(T,1);for(d=0;d<24&&(v=i[ct(w++)],v!=null);d++)M.push({label:ct(T.getHours())}),g.push(v*100),l(5,r=Math.min(r,v*100)),l(4,f=Math.max(f,v*100)),Ll(T,1);let E=Kn(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(E&&E[1]&&E[1]!=m)for(m=E[1],l(5,r*=100),l(4,f*=100),d=0;d<g.length;d++)g[d]*=100;let D=[];for(d=0;d<g.length;d++){v=g[d];let R=v*.01,O=Math.abs(v)<1e3?2:0;D.push({label:R>=0?R.toFixed(O):"",title:R>=0?R.toFixed(2)+" "+m:"",value:v>=0?Math.abs(v):0,label2:R<0?R.toFixed(O):"",title2:R<0?R.toFixed(2)+" "+m:"",value2:v<0?Math.abs(v):0,color:c?"#5c2da5":"#7c3aed"})}let C=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(C/4*-1,r));let R=Math.ceil(Math.abs(r)/C*4),O=r/R;for(d=1;d<R+1;d++){let z=O*d;y.push({value:z,label:(z/100).toFixed(2)})}}l(4,f=Math.max(C/4,f));let F=Math.ceil(f/C*4),A=f/F;for(d=0;d<F+1;d++){let R=A*d;y.push({value:R,label:(R/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:y},x:{ticks:M},points:D,link:{text:"Provided by: "+qc(i.source),url:Lc(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class W0 extends Et{constructor(e){super(),At(this,e,H0,U0,Pt,{title:1,json:2,sysinfo:3})}}function z0(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function K0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],d=[],v=[];l(5,r=l(4,f=0));let w=new Date,y=new Date;y.setDate(0),y.setHours(12);let M=(y.getHours()-y.getUTCHours())%24-s.clock_offset,g=w.getUTCHours();for(Ll(w,-M-24),m=g;m<24;m++){let C=i["i"+ct(m)],F=i["e"+ct(m)];C===void 0&&(C=0),F===void 0&&(F=0),d.push({label:ct(w.getHours())}),v.push({label:C.toFixed(1),title:C.toFixed(2)+" kWh",value:C*10,label2:F.toFixed(1),title2:F.toFixed(2)+" kWh",value2:F*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,F*10)),l(4,f=Math.max(f,C*10)),Ll(w,1)}for(m=0;m<g;m++){let C=i["i"+ct(m)],F=i["e"+ct(m)];C===void 0&&(C=0),F===void 0&&(F=0),d.push({label:ct(w.getHours())}),v.push({label:C.toFixed(1),title:C.toFixed(2)+" kWh",value:C*10,label2:F.toFixed(1),title2:F.toFixed(2)+" kWh",value2:F*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,F*10)),l(4,f=Math.max(f,C*10)),Ll(w,1)}l(5,r*=-1);let T=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(T/4*-1,r));let C=Math.ceil(Math.abs(r)/T*4),F=r/C;for(m=1;m<C+1;m++){let A=F*m;_.push({value:A,label:(A/10).toFixed(1)})}}l(4,f=Math.max(T/4,f));let E=Math.ceil(f/T*4),D=f/E;for(m=0;m<E+1;m++){let C=D*m;_.push({value:C,label:(C/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:v,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class V0 extends Et{constructor(e){super(),At(this,e,K0,z0,Pt,{title:1,json:2,sysinfo:3})}}function G0(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Y0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],d=[],v=[];l(5,r=l(4,f=0));let w=new Date,y=new Date;y.setDate(0),y.setHours(12);let M=(y.getHours()-y.getUTCHours())%24-s.clock_offset;for(Ll(w,-M),Ll(y,-M),m=w.getDate();m<=y.getDate();m++){let D=i["i"+ct(m)],C=i["e"+ct(m)];D===void 0&&(D=0),C===void 0&&(C=0),d.push({label:ct(m)}),v.push({label:D.toFixed(D<10?1:0),title:D.toFixed(2)+" kWh",value:D,label2:C.toFixed(C<10?1:0),title2:C.toFixed(2)+" kWh",value2:C,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,C)),l(4,f=Math.max(f,D))}for(m=1;m<w.getDate();m++){let D=i["i"+ct(m)],C=i["e"+ct(m)];D===void 0&&(D=0),C===void 0&&(C=0),d.push({label:ct(m)}),v.push({label:D.toFixed(D<10?1:0),title:D.toFixed(2)+" kWh",value:D,label2:C.toFixed(C<10?1:0),title2:C.toFixed(2)+" kWh",value2:C,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,C)),l(4,f=Math.max(f,D))}l(5,r*=-1);let g=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(g/4*-1,r));let D=Math.ceil(Math.abs(r)/g*4),C=r/D;for(m=1;m<D+1;m++){let F=C*m;_.push({value:F,label:F.toFixed(0)})}}l(4,f=Math.max(g/4,f));let T=Math.ceil(f/g*4),E=f/T;for(m=0;m<T+1;m++){let D=E*m;_.push({value:D,label:D.toFixed(0)})}l(0,o={title:n.replace("{0}",y.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:v,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class X0 extends Et{constructor(e){super(),At(this,e,Y0,G0,Pt,{title:1,json:2,sysinfo:3})}}function J0(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function Q0(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,_=[],d=[],v=[];i.s&&i.s.forEach((M,g)=>{var T=M.n?M.n:M.a;m=M.v,m==-127&&(m=0),d.push({label:T.slice(-4)}),v.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let w=f;r<0&&(w+=Math.abs(r));let y=w/4;for(c=0;c<5;c++)m=r+y*c,_.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:v})}},[o,n,i,f,r]}class Z0 extends Et{constructor(e){super(),At(this,e,Q0,J0,Pt,{title:1,json:2})}}function $0(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}let x0=0;function e1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,_=[],d=[],v=[];if(_.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let w=r.p[m];v.push({label:w.v.toFixed(2),value:w.v,color:s?"#5c2da5":"#7c3aed"}),d.push({label:w.d>0?ct(w.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:ct(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,w.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let w=r.t[m];if(w>=f)break;_.push({value:w,label:w})}_.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(_.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:x0,max:f,ticks:_},x:{ticks:d},points:v})}},[o,n,i,r,f]}class t1 extends Et{constructor(e){super(),At(this,e,e1,$0,Pt,{title:1,translations:2,tariffData:3})}}let ln=0,l1={data:[]};async function rs(){let e=await(await yl(ln<0?"realtime.json":"realtime.json?offset="+ln)).json();fs.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),ln>=0&&(ln+=e.size,ln<e.total?setTimeout(rs,2e3):ln=-1)}function n1(){return ln==-1}const fs=nl(l1);let hn=0,tu=0,Ki=0,Ai=0,Oo=!1;function i1(){Ai==60||Ki>hn||Ki-hn>300?(rs(),Ai=0):fs.update(t=>{if(t.lastUpdate)for(;hn>t.lastUpdate;)t.data.unshift(tu),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ai++;else t.lastUpdate=hn;return t})}function s1(t){if(tu=t.i-t.e,hn=t.u,!Oo){rs(),Oo=!0,Ki=hn;return}n1()&&i1()}function Do(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Fo(t,e,l){const n=t.slice();return n[21]=e[l],n}function o1(t){let e,l,n;return{c(){e=p("strong"),l=k(t[0]),n=k(" not available"),u(e,"class","text-sm")},m(i,s){N(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&I(l,i[0])},d(i){i&&S(e)}}}function a1(t){let e,l,n,i,s,o,f,r=t[8]&&Ro(t);return{c(){e=p("strong"),l=k(t[0]),n=k(" ("),i=k(t[12]),s=k(")"),o=h(),r&&r.c(),f=tl(),u(e,"class","text-sm")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),N(c,o,m),r&&r.m(c,m),N(c,f,m)},p(c,m){m&1&&I(l,c[0]),m&4096&&I(i,c[12]),c[8]?r?r.p(c,m):(r=Ro(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(S(e),S(o),S(f)),r&&r.d(c)}}}function Ro(t){let e,l,n,i,s,o=Ge(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Bo(Fo(t,o,m));let r=Ge(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Ho(Do(t,r,m));return{c(){e=wt("svg"),l=wt("g");for(let m=0;m<f.length;m+=1)f[m].c();n=wt("g");for(let m=0;m<c.length;m+=1)c[m].c();i=wt("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,_){N(m,e,_),a(e,l);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(l,null);a(e,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(n,null);a(e,i)},p(m,_){if(_&16646){o=Ge(m[8]);let d;for(d=0;d<o.length;d+=1){const v=Fo(m,o,d);f[d]?f[d].p(v,_):(f[d]=Bo(v),f[d].c(),f[d].m(l,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=o.length}if(_&34336){r=Ge(m[9]);let d;for(d=0;d<r.length;d+=1){const v=Do(m,r,d);c[d]?c[d].p(v,_):(c[d]=Ho(v),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}_&128&&u(i,"points",m[7]),_&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&S(e),Xt(f,m),Xt(c,m)}}}function jo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=wt("g"),l=wt("line"),n=wt("text"),s=k(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&I(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&S(e)}}}function Bo(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&jo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=jo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function Uo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=wt("g"),l=wt("text"),i=k(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){N(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&I(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&S(e)}}}function Ho(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Uo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Uo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&S(l),n&&n.d(i)}}}function r1(t){let e,l;function n(o,f){return o[11]?a1:o1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Jt(()=>t[17].call(e))},m(o,f){N(o,e,f),s.m(e,null),l=es(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:We,o:We,d(o){o&&S(e),s.d(),l()}}}function f1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;fs.subscribe(C=>{l(16,s=C)});let o=!1,f,r,c,m,_,d,v,w=function(C,F,A){return Math.ceil(_-(C-F)/(A-F)*_)-25},y=function(C){return 30+Math.ceil(C/s.size*(d-35))},M,g,T,E;function D(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=C=>{"title"in C&&l(0,n=C.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,_=parseInt(m)-50),l(6,d=c-35),l(10,T=d/s.size),l(2,r=0),l(1,f=0),s.data&&_>10&&d>100&&T>.1){l(11,o=!0);for(let A in s.data){let R=s.data[A];isNaN(R)&&(R=0),l(1,f=Math.max(Math.ceil(R/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(R/1e3)*1e3,r))}let C=f-r;l(12,E=f>2500?"kW":"W"),l(8,M=[]);for(let A=r;A<f&&(M.push({value:A,label:f>2500?(A/1e3).toFixed(1):A}),!(M.length>6));A+=C/5);l(9,g=[]);for(let A=0;A<s.size&&(g.push({value:A,label:"-"+Math.round((s.size-A)/6)+" min"}),!(g.length>12));A+=Math.round(s.size/Math.round(d/120)));let F=s.size;l(7,v=y(s.size)+","+w(0,r,f)+" "+y(1)+","+w(0,r,f));for(let A in s.data){if(F<0)break;let R=s.data[A];isNaN(R)&&(R=0),l(7,v=y(F--)+","+w(R,r,f)+" "+v)}}else l(11,o=!1)},[n,f,r,c,m,_,d,v,M,g,T,o,E,i,w,y,s,D]}class u1 extends Et{constructor(e){super(),At(this,e,f1,r1,Pt,{title:0})}}function c1(t){let e,l;return e=new un({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function m1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:_=0}=e,{l1e:d=0}=e,{l2e:v=0}=e,{l3e:w=0}=e,{maxImport:y=0}=e,{maxExport:M=0}=e,{importColorFn:g}=e,{exportColorFn:T}=e,E={};function D(C,F){return{label:Bt(C>900?C/1e3:C)+(C>900?"k":"")+i,title:C.toFixed(2)+" "+i,value:isNaN(C)?0:C,color:g(C?C/y*100:0,document.documentElement.classList.contains("dark")),label2:Bt(F>900?F/1e3:F)+(F>900?"k":"")+i,title2:F.toFixed(2)+" "+i,value2:isNaN(F)?0:F,color2:T(F?F/M*100:0)}}return t.$$set=C=>{"title"in C&&l(1,n=C.title),"unit"in C&&l(2,i=C.unit),"l1"in C&&l(3,s=C.l1),"l2"in C&&l(4,o=C.l2),"l2x"in C&&l(5,f=C.l2x),"l3"in C&&l(6,r=C.l3),"l1i"in C&&l(7,c=C.l1i),"l2i"in C&&l(8,m=C.l2i),"l3i"in C&&l(9,_=C.l3i),"l1e"in C&&l(10,d=C.l1e),"l2e"in C&&l(11,v=C.l2e),"l3e"in C&&l(12,w=C.l3e),"maxImport"in C&&l(13,y=C.maxImport),"maxExport"in C&&l(14,M=C.maxExport),"importColorFn"in C&&l(15,g=C.importColorFn),"exportColorFn"in C&&l(16,T=C.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let C=[],F=[];s&&(C.push({label:"L1"}),F.push(D(c,d))),o&&(f?(C.push({label:"L2"}),F.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(C.push({label:"L2"}),F.push(D(m,v)))),r&&(C.push({label:"L3"}),F.push(D(_,w)));let A=[];if(M){let R=M>y?4:M*4/y;A.push({value:-M,label:"-100%"}),R>=4&&A.push({value:-M/4*3,label:"-75%"}),R>=2&&A.push({value:-M/2,label:"-50%"}),R>=4&&A.push({value:-M/4,label:"-25%"})}if(A.push({value:0,label:"0%"}),y){let R=y>M?4:y*4/M;A.push({value:y/4,label:"25%"}),R>=4&&A.push({value:y/2,label:"50%"}),R>=2&&A.push({value:y/4*3,label:"75%"}),R>=4&&A.push({value:y,label:"100%"})}l(0,E={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-M,max:y,ticks:A},x:{ticks:C},points:F})}},[E,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T]}class us extends Et{constructor(e){super(),At(this,e,m1,c1,Pt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Wo(t){var g;let e,l,n,i,s,o,f=(t[0].mt?ui(t[0].mt):"-")+"",r,c,m,_=t[11][0]+"",d,v,w=t[11][1]+"",y,M;return i=new eu({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((g=t[6].common)==null?void 0:g.import)??"Import",sub:Kn(t[0].p,t[0].pc),colorFn:ss}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),y=k(w),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(T,E){N(T,e,E),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,d),a(m,v),a(m,y),M=!0},p(T,E){var C;const D={};E&1&&(D.val=T[0].i?T[0].i:0),E&1&&(D.max=T[0].im?T[0].im:15e3),E&64&&(D.label=((C=T[6].common)==null?void 0:C.import)??"Import"),E&1&&(D.sub=Kn(T[0].p,T[0].pc)),i.$set(D),(!M||E&1)&&f!==(f=(T[0].mt?ui(T[0].mt):"-")+"")&&I(r,f),(!M||E&2048)&&_!==(_=T[11][0]+"")&&I(d,_),(!M||E&2048)&&w!==(w=T[11][1]+"")&&I(y,w)},i(T){M||(x(i.$$.fragment,T),M=!0)},o(T){oe(i.$$.fragment,T),M=!1},d(T){T&&S(e),Se(i)}}}function zo(t){var y;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,_,d=t[12][1]+"",v,w;return i=new eu({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((y=t[6].common)==null?void 0:y.export)??"Export",sub:Kn(t[0].px,t[0].pc),colorFn:Wn}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),f=h(),r=p("div"),m=k(c),_=h(),v=k(d),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(M,g){N(M,e,g),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,_),a(r,v),w=!0},p(M,g){var E;const T={};g&1&&(T.val=M[0].e?M[0].e:0),g&1&&(T.max=M[0].om?M[0].om*1e3:1e4),g&64&&(T.label=((E=M[6].common)==null?void 0:E.export)??"Export"),g&1&&(T.sub=Kn(M[0].px,M[0].pc)),i.$set(T),(!w||g&4096)&&c!==(c=M[12][0]+"")&&I(m,c),(!w||g&4096)&&d!==(d=M[12][1]+"")&&I(v,d)},i(M){w||(x(i.$$.fragment,M),w=!0)},o(M){oe(i.$$.fragment,M),w=!1},d(M){M&&S(e),Se(i)}}}function Ko(t){let e,l,n=t[0].l1&&Vo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&x(n,1)):(n=Vo(i),n.c(),x(n,1),n.m(e,null)):n&&(St(),oe(n,1,1,()=>{n=null}),Nt())},i(i){l||(x(n),l=!0)},o(i){oe(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Vo(t){var n;let e,l;return e=new q0({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(x(e.$$.fragment,i),l=!0)},o(i){oe(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Go(t){let e,l,n=t[0].l1&&Yo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&x(n,1)):(n=Yo(i),n.c(),x(n,1),n.m(e,null)):n&&(St(),oe(n,1,1,()=>{n=null}),Nt())},i(i){l||(x(n),l=!0)},o(i){oe(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Yo(t){var n;let e,l;return e=new us({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:ss,exportColorFn:Wn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(x(e.$$.fragment,i),l=!0)},o(i){oe(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Xo(t){let e,l,n=t[0].l1&&Jo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&x(n,1)):(n=Jo(i),n.c(),x(n,1),n.m(e,null)):n&&(St(),oe(n,1,1,()=>{n=null}),Nt())},i(i){l||(x(n),l=!0)},o(i){oe(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Jo(t){var n;let e,l;return e=new us({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:ss,exportColorFn:Wn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(x(e.$$.fragment,i),l=!0)},o(i){oe(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function Qo(t){let e,l,n=t[0].l1&&Zo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&x(n,1)):(n=Zo(i),n.c(),x(n,1),n.m(e,null)):n&&(St(),oe(n,1,1,()=>{n=null}),Nt())},i(i){l||(x(n),l=!0)},o(i){oe(n),l=!1},d(i){i&&S(e),n&&n.d()}}}function Zo(t){var n;let e,l;return e=new us({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:Wn,exportColorFn:Wn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(x(e.$$.fragment,i),l=!0)},o(i){oe(e.$$.fragment,i),l=!1},d(i){Se(e,i)}}}function $o(t){let e,l,n;return l=new O0({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){N(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(x(l.$$.fragment,i),n=!0)},o(i){oe(l.$$.fragment,i),n=!1},d(i){i&&S(e),Se(l)}}}function xo(t){let e,l,n;return l=new B0({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){N(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(x(l.$$.fragment,i),n=!0)},o(i){oe(l.$$.fragment,i),n=!1},d(i){i&&S(e),Se(l)}}}function ea(t){var i;let e,l,n;return l=new t1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(x(l.$$.fragment,s),n=!0)},o(s){oe(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function ta(t){var i;let e,l,n;return l=new u1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(x(l.$$.fragment,s),n=!0)},o(s){oe(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function la(t){var i;let e,l,n;return l=new W0({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(x(l.$$.fragment,s),n=!0)},o(s){oe(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function na(t){var i;let e,l,n;return l=new V0({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(x(l.$$.fragment,s),n=!0)},o(s){oe(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function ia(t){var i;let e,l,n;return l=new X0({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(x(l.$$.fragment,s),n=!0)},o(s){oe(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function sa(t){var i;let e,l,n;return l=new Z0({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||(x(l.$$.fragment,s),n=!0)},o(s){oe(l.$$.fragment,s),n=!1},d(s){s&&S(e),Se(l)}}}function d1(t){let e,l=Kt(t[1].ui.i,t[0].i),n,i=Kt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Kt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Kt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Kt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),_,d=Kt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),v,w=Kt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),y,M=Kt(t[1].ui.c,t[0].ea),g,T=Kt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),E,D=Kt(t[1].ui.l,t[0].hm==1),C,F=Kt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),A,R=Kt(t[1].ui.d,t[3]),O,z=Kt(t[1].ui.m,t[4]),G,B=Kt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),W,j=l&&Wo(t),Y=i&&zo(t),X=o&&Ko(t),U=r&&Go(t),K=m&&Xo(t),$=d&&Qo(t),le=w&&$o(t),H=M&&xo(t),Z=T&&ea(t),re=D&&ta(t),ae=F&&la(t),fe=R&&na(t),ce=z&&ia(t),ee=B&&sa(t);return{c(){e=p("div"),j&&j.c(),n=h(),Y&&Y.c(),s=h(),X&&X.c(),f=h(),U&&U.c(),c=h(),K&&K.c(),_=h(),$&&$.c(),v=h(),le&&le.c(),y=h(),H&&H.c(),g=h(),Z&&Z.c(),E=h(),re&&re.c(),C=h(),ae&&ae.c(),A=h(),fe&&fe.c(),O=h(),ce&&ce.c(),G=h(),ee&&ee.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Q,J){N(Q,e,J),j&&j.m(e,null),a(e,n),Y&&Y.m(e,null),a(e,s),X&&X.m(e,null),a(e,f),U&&U.m(e,null),a(e,c),K&&K.m(e,null),a(e,_),$&&$.m(e,null),a(e,v),le&&le.m(e,null),a(e,y),H&&H.m(e,null),a(e,g),Z&&Z.m(e,null),a(e,E),re&&re.m(e,null),a(e,C),ae&&ae.m(e,null),a(e,A),fe&&fe.m(e,null),a(e,O),ce&&ce.m(e,null),a(e,G),ee&&ee.m(e,null),W=!0},p(Q,[J]){J&3&&(l=Kt(Q[1].ui.i,Q[0].i)),l?j?(j.p(Q,J),J&3&&x(j,1)):(j=Wo(Q),j.c(),x(j,1),j.m(e,n)):j&&(St(),oe(j,1,1,()=>{j=null}),Nt()),J&3&&(i=Kt(Q[1].ui.e,Q[0].om||Q[0].e>0)),i?Y?(Y.p(Q,J),J&3&&x(Y,1)):(Y=zo(Q),Y.c(),x(Y,1),Y.m(e,s)):Y&&(St(),oe(Y,1,1,()=>{Y=null}),Nt()),J&3&&(o=Kt(Q[1].ui.v,Q[0].l1&&(Q[0].l1.u>100||Q[0].l2.u>100||Q[0].l3.u>100))),o?X?(X.p(Q,J),J&3&&x(X,1)):(X=Ko(Q),X.c(),x(X,1),X.m(e,f)):X&&(St(),oe(X,1,1,()=>{X=null}),Nt()),J&3&&(r=Kt(Q[1].ui.a,Q[0].l1&&(Q[0].l1.i>.01||Q[0].l2.i>.01||Q[0].l3.i>.01))),r?U?(U.p(Q,J),J&3&&x(U,1)):(U=Go(Q),U.c(),x(U,1),U.m(e,c)):U&&(St(),oe(U,1,1,()=>{U=null}),Nt()),J&3&&(m=Kt(Q[1].ui.h,Q[0].l1&&(Q[0].l1.p>.01||Q[0].l2.p>.01||Q[0].l3.p>.01||Q[0].l1.q>.01||Q[0].l2.q>.01||Q[0].l3.q>.01))),m?K?(K.p(Q,J),J&3&&x(K,1)):(K=Xo(Q),K.c(),x(K,1),K.m(e,_)):K&&(St(),oe(K,1,1,()=>{K=null}),Nt()),J&3&&(d=Kt(Q[1].ui.f,Q[0].l1&&(Q[0].l1.f>.01||Q[0].l2.f>.01||Q[0].l3.f>.01))),d?$?($.p(Q,J),J&3&&x($,1)):($=Qo(Q),$.c(),x($,1),$.m(e,v)):$&&(St(),oe($,1,1,()=>{$=null}),Nt()),J&3&&(w=Kt(Q[1].ui.r,Q[0].ri>0||Q[0].re>0||Q[0].ric>0||Q[0].rec>0)),w?le?(le.p(Q,J),J&3&&x(le,1)):(le=$o(Q),le.c(),x(le,1),le.m(e,y)):le&&(St(),oe(le,1,1,()=>{le=null}),Nt()),J&3&&(M=Kt(Q[1].ui.c,Q[0].ea)),M?H?(H.p(Q,J),J&3&&x(H,1)):(H=xo(Q),H.c(),x(H,1),H.m(e,g)):H&&(St(),oe(H,1,1,()=>{H=null}),Nt()),J&3&&(T=Kt(Q[1].ui.t,Q[0].pr&&(Q[0].pr.startsWith("NO")||Q[0].pr.startsWith("10YNO")||Q[0].pr.startsWith("10Y1001A1001A4")))),T?Z?(Z.p(Q,J),J&3&&x(Z,1)):(Z=ea(Q),Z.c(),x(Z,1),Z.m(e,E)):Z&&(St(),oe(Z,1,1,()=>{Z=null}),Nt()),J&3&&(D=Kt(Q[1].ui.l,Q[0].hm==1)),D?re?(re.p(Q,J),J&3&&x(re,1)):(re=ta(Q),re.c(),x(re,1),re.m(e,C)):re&&(St(),oe(re,1,1,()=>{re=null}),Nt()),J&3&&(F=Kt(Q[1].ui.p,Q[0].pe&&!Number.isNaN(Q[0].p))),F?ae?(ae.p(Q,J),J&3&&x(ae,1)):(ae=la(Q),ae.c(),x(ae,1),ae.m(e,A)):ae&&(St(),oe(ae,1,1,()=>{ae=null}),Nt()),J&10&&(R=Kt(Q[1].ui.d,Q[3])),R?fe?(fe.p(Q,J),J&10&&x(fe,1)):(fe=na(Q),fe.c(),x(fe,1),fe.m(e,O)):fe&&(St(),oe(fe,1,1,()=>{fe=null}),Nt()),J&18&&(z=Kt(Q[1].ui.m,Q[4])),z?ce?(ce.p(Q,J),J&18&&x(ce,1)):(ce=ia(Q),ce.c(),x(ce,1),ce.m(e,G)):ce&&(St(),oe(ce,1,1,()=>{ce=null}),Nt()),J&35&&(B=Kt(Q[1].ui.s,Q[0].t&&Q[0].t!=-127&&Q[5].c>1)),B?ee?(ee.p(Q,J),J&35&&x(ee,1)):(ee=sa(Q),ee.c(),x(ee,1),ee.m(e,null)):ee&&(St(),oe(ee,1,1,()=>{ee=null}),Nt())},i(Q){W||(x(j),x(Y),x(X),x(U),x(K),x($),x(le),x(H),x(Z),x(re),x(ae),x(fe),x(ce),x(ee),W=!0)},o(Q){oe(j),oe(Y),oe(X),oe(U),oe(K),oe($),oe(le),oe(H),oe(Z),oe(re),oe(ae),oe(fe),oe(ce),oe(ee),W=!1},d(Q){Q&&S(e),j&&j.d(),Y&&Y.d(),X&&X.d(),U&&U.d(),K&&K.d(),$&&$.d(),le&&le.d(),H&&H.d(),Z&&Z.d(),re&&re.d(),ae&&ae.d(),fe&&fe.d(),ce&&ce.d(),ee&&ee.d()}}}function p1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,_,d,v,w,y,M;return t.$$set=g=>{"data"in g&&l(0,n=g.data),"sysinfo"in g&&l(1,i=g.sysinfo),"prices"in g&&l(2,s=g.prices),"dayPlot"in g&&l(3,o=g.dayPlot),"monthPlot"in g&&l(4,f=g.monthPlot),"temperatures"in g&&l(5,r=g.temperatures),"translations"in g&&l(6,c=g.translations),"tariffData"in g&&l(7,m=g.tariffData)},t.$$.update=()=>{var g,T,E,D,C,F,A,R,O,z,G,B,W,j,Y;t.$$.dirty&1793&&(l(11,_=rl((n==null?void 0:n.ic)*1e3,"Wh")),l(12,d=rl((n==null?void 0:n.ec)*1e3,"Wh")),((g=n==null?void 0:n.l1)==null?void 0:g.u)==0&&((T=n==null?void 0:n.l2)==null?void 0:T.u)==0&&((E=n==null?void 0:n.l3)==null?void 0:E.u)==0?l(8,w=l(9,y=l(10,M=l(13,v=!0)))):(l(8,w=((D=n==null?void 0:n.l1)==null?void 0:D.u)>0||((C=n==null?void 0:n.l1)==null?void 0:C.i)>0||((F=n==null?void 0:n.l1)==null?void 0:F.p)>0||((A=n==null?void 0:n.l1)==null?void 0:A.q)>0),l(9,y=((R=n==null?void 0:n.l2)==null?void 0:R.u)>0||((O=n==null?void 0:n.l2)==null?void 0:O.i)>0||((z=n==null?void 0:n.l2)==null?void 0:z.p)>0||((G=n==null?void 0:n.l2)==null?void 0:G.q)>0),l(10,M=((B=n==null?void 0:n.l3)==null?void 0:B.u)>0||((W=n==null?void 0:n.l3)==null?void 0:W.i)>0||((j=n==null?void 0:n.l3)==null?void 0:j.p)>0||((Y=n==null?void 0:n.l3)==null?void 0:Y.q)>0),l(13,v=w&&y&&M)))},[n,i,s,o,f,r,c,m,w,y,M,_,d,v]}class _1 extends Et{constructor(e){super(),At(this,e,p1,d1,Pt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Vi={};const gn=nl(Vi);async function lu(){Vi=await(await fetch("configuration.json")).json(),gn.set(Vi)}let Gi={};const nu=nl(Gi);async function h1(){Gi=await(await fetch("priceconfig.json")).json(),nu.set(Gi)}function oa(t){let e,l,n=t[1]&&aa(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){N(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=aa(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&S(e),n&&n.d()}}}function aa(t){let e,l;return{c(){e=p("div"),l=k(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){N(n,e,i),a(e,l)},p(n,i){i&2&&I(l,n[1])},d(n){n&&S(e)}}}function g1(t){let e,l=t[0]&&oa(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=oa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:We,o:We,d(n){n&&S(e),l&&l.d(n)}}}function b1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class cl extends Et{constructor(e){super(),At(this,e,b1,g1,Pt,{active:0,message:1})}}function ra(t,e,l){const n=t.slice();return n[1]=e[l],n}function fa(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=k("Europe/"),i=k(n),e.__value="Europe/"+t[1],te(e,e.__value)},m(s,o){N(s,e,o),a(e,l),a(e,i)},p:We,d(s){s&&S(e)}}}function v1(t){let e,l,n,i=Ge(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=fa(ra(t,i,o));return{c(){e=p("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=tl(),e.__value="GMT",te(e,e.__value)},m(o,f){N(o,e,f),N(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);N(o,n,f)},p(o,[f]){if(f&1){i=Ge(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ra(o,i,r);s[r]?s[r].p(c,f):(s[r]=fa(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:We,o:We,d(o){o&&(S(e),S(l),S(n)),Xt(s,o)}}}function k1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class w1 extends Et{constructor(e){super(),At(this,e,k1,v1,Pt,{})}}var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(M1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(P,b){var L;return typeof Object.create=="function"?L=Object.create(P):(l.prototype=P,L=new l,l.prototype=null),b&&f(!0,L,b),L}function o(P,b,L,q){var V=this;return typeof P!="string"&&(q=L,L=b,b=P,P=null),typeof b!="function"&&(q=L,L=b,b=function(){return V.apply(this,arguments)}),f(!1,b,V,q),b.prototype=s(V.prototype,L),b.prototype.constructor=b,b.class_=P||V.class_,b.super_=V,b}function f(P,b,L){L=i.call(arguments,2);for(var q,V,ne=0,ie=L.length;ne<ie;ne++){V=L[ne];for(q in V)(!P||n.call(V,q))&&(b[q]=V[q])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,_=m,d=_.extend(function(P,b,L){this.qrious=P,this.element=b,this.element.qrious=P,this.enabled=!!L},{draw:function(P){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(P){var b=this.qrious,L=b.padding||0,q=Math.floor((b.size-L*2)/P.width);return Math.max(1,q)},getOffset:function(P){var b=this.qrious,L=b.padding;if(L!=null)return L;var q=this.getModuleSize(P),V=Math.floor((b.size-q*P.width)/2);return Math.max(0,V)},render:function(P){this.enabled&&(this.resize(),this.reset(),this.draw(P))},reset:function(){},resize:function(){}}),v=d,w=v.extend({draw:function(P){var b,L,q=this.qrious,V=this.getModuleSize(P),ne=this.getOffset(P),ie=this.element.getContext("2d");for(ie.fillStyle=q.foreground,ie.globalAlpha=q.foregroundAlpha,b=0;b<P.width;b++)for(L=0;L<P.width;L++)P.buffer[L*P.width+b]&&ie.fillRect(V*b+ne,V*L+ne,V,V)},reset:function(){var P=this.qrious,b=this.element.getContext("2d"),L=P.size;b.lineWidth=1,b.clearRect(0,0,L,L),b.fillStyle=P.background,b.globalAlpha=P.backgroundAlpha,b.fillRect(0,0,L,L)},resize:function(){var P=this.element;P.width=P.height=this.qrious.size}}),y=w,M=_.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),g=M,T=_.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),E=T,D=_.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),C=D,F=_.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),A=F,R=_.extend(function(P){var b,L,q,V,ne,ie=P.value.length;for(this._badness=[],this._level=E.LEVELS[P.level],this._polynomial=[],this._value=P.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,q=(this._level-1)*4+(this._version-1)*16,V=E.BLOCKS[q++],ne=E.BLOCKS[q++],b=E.BLOCKS[q++],L=E.BLOCKS[q],q=b*(V+ne)+ne-3+(this._version<=9),!(ie<=q)););this._dataBlock=b,this._eccBlock=L,this._neccBlock1=V,this._neccBlock2=ne;var _e=this.width=17+4*this._version;this.buffer=R._createArray(_e*_e),this._ecc=R._createArray(b+(b+L)*(V+ne)+ne),this._mask=R._createArray((_e*(_e+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+_e*(_e-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ie),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(P,b){var L,q=this.buffer,V=this.width;for(q[P+V*b]=1,L=-2;L<2;L++)q[P+L+V*(b-2)]=1,q[P-2+V*(b+L+1)]=1,q[P+2+V*(b+L)]=1,q[P+L+1+V*(b+2)]=1;for(L=0;L<2;L++)this._setMask(P-1,b+L),this._setMask(P+1,b-L),this._setMask(P-L,b-1),this._setMask(P+L,b+1)},_appendData:function(P,b,L,q){var V,ne,ie,_e=this._polynomial,me=this._stringBuffer;for(ne=0;ne<q;ne++)me[L+ne]=0;for(ne=0;ne<b;ne++){if(V=C.LOG[me[P+ne]^me[L]],V!==255)for(ie=1;ie<q;ie++)me[L+ie-1]=me[L+ie]^C.EXPONENT[R._modN(V+_e[q-ie])];else for(ie=L;ie<L+q;ie++)me[ie]=me[ie+1];me[L+q-1]=V===255?0:C.EXPONENT[R._modN(V+_e[0])]}},_appendEccToData:function(){var P,b=0,L=this._dataBlock,q=this._calculateMaxLength(),V=this._eccBlock;for(P=0;P<this._neccBlock1;P++)this._appendData(b,L,q,V),b+=L,q+=V;for(P=0;P<this._neccBlock2;P++)this._appendData(b,L+1,q,V),b+=L+1,q+=V},_applyMask:function(P){var b,L,q,V,ne=this.buffer,ie=this.width;switch(P){case 0:for(V=0;V<ie;V++)for(q=0;q<ie;q++)!(q+V&1)&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 1:for(V=0;V<ie;V++)for(q=0;q<ie;q++)!(V&1)&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 2:for(V=0;V<ie;V++)for(b=0,q=0;q<ie;q++,b++)b===3&&(b=0),!b&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 3:for(L=0,V=0;V<ie;V++,L++)for(L===3&&(L=0),b=L,q=0;q<ie;q++,b++)b===3&&(b=0),!b&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 4:for(V=0;V<ie;V++)for(b=0,L=V>>1&1,q=0;q<ie;q++,b++)b===3&&(b=0,L=!L),!L&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 5:for(L=0,V=0;V<ie;V++,L++)for(L===3&&(L=0),b=0,q=0;q<ie;q++,b++)b===3&&(b=0),!((q&V&1)+!(!b|!L))&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 6:for(L=0,V=0;V<ie;V++,L++)for(L===3&&(L=0),b=0,q=0;q<ie;q++,b++)b===3&&(b=0),!((q&V&1)+(b&&b===L)&1)&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break;case 7:for(L=0,V=0;V<ie;V++,L++)for(L===3&&(L=0),b=0,q=0;q<ie;q++,b++)b===3&&(b=0),!((b&&b===L)+(q+V&1)&1)&&!this._isMasked(q,V)&&(ne[q+V*ie]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var P,b,L=this._eccBlock,q=this._polynomial;for(q[0]=1,P=0;P<L;P++){for(q[P+1]=1,b=P;b>0;b--)q[b]=q[b]?q[b-1]^C.EXPONENT[R._modN(C.LOG[q[b]]+P)]:q[b-1];q[0]=C.EXPONENT[R._modN(C.LOG[q[0]]+P)]}for(P=0;P<=L;P++)q[P]=C.LOG[q[P]]},_checkBadness:function(){var P,b,L,q,V,ne=0,ie=this._badness,_e=this.buffer,me=this.width;for(V=0;V<me-1;V++)for(q=0;q<me-1;q++)(_e[q+me*V]&&_e[q+1+me*V]&&_e[q+me*(V+1)]&&_e[q+1+me*(V+1)]||!(_e[q+me*V]||_e[q+1+me*V]||_e[q+me*(V+1)]||_e[q+1+me*(V+1)]))&&(ne+=R.N2);var ue=0;for(V=0;V<me;V++){for(L=0,ie[0]=0,P=0,q=0;q<me;q++)b=_e[q+me*V],P===b?ie[L]++:ie[++L]=1,P=b,ue+=P?1:-1;ne+=this._getBadness(L)}ue<0&&(ue=-ue);var be=0,ke=ue;for(ke+=ke<<2,ke<<=1;ke>me*me;)ke-=me*me,be++;for(ne+=be*R.N4,q=0;q<me;q++){for(L=0,ie[0]=0,P=0,V=0;V<me;V++)b=_e[q+me*V],P===b?ie[L]++:ie[++L]=1,P=b;ne+=this._getBadness(L)}return ne},_convertBitStream:function(P){var b,L,q=this._ecc,V=this._version;for(L=0;L<P;L++)q[L]=this._value.charCodeAt(L);var ne=this._stringBuffer=q.slice(),ie=this._calculateMaxLength();P>=ie-2&&(P=ie-2,V>9&&P--);var _e=P;if(V>9){for(ne[_e+2]=0,ne[_e+3]=0;_e--;)b=ne[_e],ne[_e+3]|=255&b<<4,ne[_e+2]=b>>4;ne[2]|=255&P<<4,ne[1]=P>>4,ne[0]=64|P>>12}else{for(ne[_e+1]=0,ne[_e+2]=0;_e--;)b=ne[_e],ne[_e+2]|=255&b<<4,ne[_e+1]=b>>4;ne[1]|=255&P<<4,ne[0]=64|P>>4}for(_e=P+3-(V<10);_e<ie;)ne[_e++]=236,ne[_e++]=17},_getBadness:function(P){var b,L=0,q=this._badness;for(b=0;b<=P;b++)q[b]>=5&&(L+=R.N1+q[b]-5);for(b=3;b<P-1;b+=2)q[b-2]===q[b+2]&&q[b+2]===q[b-1]&&q[b-1]===q[b+1]&&q[b-1]*3===q[b]&&(q[b-3]===0||b+3>P||q[b-3]*3>=q[b]*4||q[b+3]*3>=q[b]*4)&&(L+=R.N3);return L},_finish:function(){this._stringBuffer=this.buffer.slice();var P,b,L=0,q=3e4;for(b=0;b<8&&(this._applyMask(b),P=this._checkBadness(),P<q&&(q=P,L=b),L!==7);b++)this.buffer=this._stringBuffer.slice();L!==b&&this._applyMask(L),q=E.FINAL_FORMAT[L+(this._level-1<<3)];var V=this.buffer,ne=this.width;for(b=0;b<8;b++,q>>=1)q&1&&(V[ne-1-b+ne*8]=1,b<6?V[8+ne*b]=1:V[8+ne*(b+1)]=1);for(b=0;b<7;b++,q>>=1)q&1&&(V[8+ne*(ne-7+b)]=1,b?V[6-b+ne*8]=1:V[7+ne*8]=1)},_interleaveBlocks:function(){var P,b,L=this._dataBlock,q=this._ecc,V=this._eccBlock,ne=0,ie=this._calculateMaxLength(),_e=this._neccBlock1,me=this._neccBlock2,ue=this._stringBuffer;for(P=0;P<L;P++){for(b=0;b<_e;b++)q[ne++]=ue[P+b*L];for(b=0;b<me;b++)q[ne++]=ue[_e*L+P+b*(L+1)]}for(b=0;b<me;b++)q[ne++]=ue[_e*L+P+b*(L+1)];for(P=0;P<V;P++)for(b=0;b<_e+me;b++)q[ne++]=ue[ie+P+b*V];this._stringBuffer=q},_insertAlignments:function(){var P,b,L,q=this._version,V=this.width;if(q>1)for(P=g.BLOCK[q],L=V-7;;){for(b=V-7;b>P-3&&(this._addAlignment(b,L),!(b<P));)b-=P;if(L<=P+9)break;L-=P,this._addAlignment(6,L),this._addAlignment(L,6)}},_insertFinders:function(){var P,b,L,q,V=this.buffer,ne=this.width;for(P=0;P<3;P++){for(b=0,q=0,P===1&&(b=ne-7),P===2&&(q=ne-7),V[q+3+ne*(b+3)]=1,L=0;L<6;L++)V[q+L+ne*b]=1,V[q+ne*(b+L+1)]=1,V[q+6+ne*(b+L)]=1,V[q+L+1+ne*(b+6)]=1;for(L=1;L<5;L++)this._setMask(q+L,b+1),this._setMask(q+1,b+L+1),this._setMask(q+5,b+L),this._setMask(q+L+1,b+5);for(L=2;L<4;L++)V[q+L+ne*(b+2)]=1,V[q+2+ne*(b+L+1)]=1,V[q+4+ne*(b+L)]=1,V[q+L+1+ne*(b+4)]=1}},_insertTimingGap:function(){var P,b,L=this.width;for(b=0;b<7;b++)this._setMask(7,b),this._setMask(L-8,b),this._setMask(7,b+L-7);for(P=0;P<8;P++)this._setMask(P,7),this._setMask(P+L-8,7),this._setMask(P,L-8)},_insertTimingRowAndColumn:function(){var P,b=this.buffer,L=this.width;for(P=0;P<L-14;P++)P&1?(this._setMask(8+P,6),this._setMask(6,8+P)):(b[8+P+L*6]=1,b[6+L*(8+P)]=1)},_insertVersion:function(){var P,b,L,q,V=this.buffer,ne=this._version,ie=this.width;if(ne>6)for(P=A.BLOCK[ne-7],b=17,L=0;L<6;L++)for(q=0;q<3;q++,b--)1&(b>11?ne>>b-12:P>>b)?(V[5-L+ie*(2-q+ie-11)]=1,V[2-q+ie-11+ie*(5-L)]=1):(this._setMask(5-L,2-q+ie-11),this._setMask(2-q+ie-11,5-L))},_isMasked:function(P,b){var L=R._getMaskBit(P,b);return this._mask[L]===1},_pack:function(){var P,b,L,q=1,V=1,ne=this.width,ie=ne-1,_e=ne-1,me=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(b=0;b<me;b++)for(P=this._stringBuffer[b],L=0;L<8;L++,P<<=1){128&P&&(this.buffer[ie+ne*_e]=1);do V?ie--:(ie++,q?_e!==0?_e--:(ie-=2,q=!q,ie===6&&(ie--,_e=9)):_e!==ne-1?_e++:(ie-=2,q=!q,ie===6&&(ie--,_e-=8))),V=!V;while(this._isMasked(ie,_e))}},_reverseMask:function(){var P,b,L=this.width;for(P=0;P<9;P++)this._setMask(P,8);for(P=0;P<8;P++)this._setMask(P+L-8,8),this._setMask(8,P);for(b=0;b<7;b++)this._setMask(8,b+L-7)},_setMask:function(P,b){var L=R._getMaskBit(P,b);this._mask[L]=1},_syncMask:function(){var P,b,L=this.width;for(b=0;b<L;b++)for(P=0;P<=b;P++)this.buffer[P+L*b]&&this._setMask(P,b)}},{_createArray:function(P){var b,L=[];for(b=0;b<P;b++)L[b]=0;return L},_getMaskBit:function(P,b){var L;return P>b&&(L=P,P=b,b=L),L=b,L+=b*b,L>>=1,L+=P,L},_modN:function(P){for(;P>=255;)P-=255,P=(P>>8)+(P&255);return P},N1:3,N2:3,N3:40,N4:10}),O=R,z=v.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var P=this.element;P.width=P.height=this.qrious.size}}),G=z,B=_.extend(function(P,b,L,q){this.name=P,this.modifiable=!!b,this.defaultValue=L,this._valueTransformer=q},{transform:function(P){var b=this._valueTransformer;return typeof b=="function"?b(P,this):P}}),W=B,j=_.extend(null,{abs:function(P){return P!=null?Math.abs(P):null},hasOwn:function(P,b){return Object.prototype.hasOwnProperty.call(P,b)},noop:function(){},toUpperCase:function(P){return P!=null?P.toUpperCase():null}}),Y=j,X=_.extend(function(P){this.options={},P.forEach(function(b){this.options[b.name]=b},this)},{exists:function(P){return this.options[P]!=null},get:function(P,b){return X._get(this.options[P],b)},getAll:function(P){var b,L=this.options,q={};for(b in L)Y.hasOwn(L,b)&&(q[b]=X._get(L[b],P));return q},init:function(P,b,L){typeof L!="function"&&(L=Y.noop);var q,V;for(q in this.options)Y.hasOwn(this.options,q)&&(V=this.options[q],X._set(V,V.defaultValue,b),X._createAccessor(V,b,L));this._setAll(P,b,!0)},set:function(P,b,L){return this._set(P,b,L)},setAll:function(P,b){return this._setAll(P,b)},_set:function(P,b,L,q){var V=this.options[P];if(!V)throw new Error("Invalid option: "+P);if(!V.modifiable&&!q)throw new Error("Option cannot be modified: "+P);return X._set(V,b,L)},_setAll:function(P,b,L){if(!P)return!1;var q,V=!1;for(q in P)Y.hasOwn(P,q)&&this._set(q,P[q],b,L)&&(V=!0);return V}},{_createAccessor:function(P,b,L){var q={get:function(){return X._get(P,b)}};P.modifiable&&(q.set=function(V){X._set(P,V,b)&&L(V,P)}),Object.defineProperty(b,P.name,q)},_get:function(P,b){return b["_"+P.name]},_set:function(P,b,L){var q="_"+P.name,V=L[q],ne=P.transform(b??P.defaultValue);return L[q]=ne,ne!==V}}),U=X,K=_.extend(function(){this._services={}},{getService:function(P){var b=this._services[P];if(!b)throw new Error("Service is not being managed with name: "+P);return b},setService:function(P,b){if(this._services[P])throw new Error("Service is already managed with name: "+P);b&&(this._services[P]=b)}}),$=K,le=new U([new W("background",!0,"white"),new W("backgroundAlpha",!0,1,Y.abs),new W("element"),new W("foreground",!0,"black"),new W("foregroundAlpha",!0,1,Y.abs),new W("level",!0,"L",Y.toUpperCase),new W("mime",!0,"image/png"),new W("padding",!0,null,Y.abs),new W("size",!0,100,Y.abs),new W("value",!0,"")]),H=new $,Z=_.extend(function(P){le.init(P,this,this.update.bind(this));var b=le.get("element",this),L=H.getService("element"),q=b&&L.isCanvas(b)?b:L.createCanvas(),V=b&&L.isImage(b)?b:L.createImage();this._canvasRenderer=new y(this,q,!0),this._imageRenderer=new G(this,V,V===b),this.update()},{get:function(){return le.getAll(this)},set:function(P){le.setAll(P,this)&&this.update()},toDataURL:function(P){return this.canvas.toDataURL(P||this.mime)},update:function(){var P=new O({level:this.level,value:this.value});this._canvasRenderer.render(P),this._imageRenderer.render(P)}},{use:function(P){H.setService(P.getName(),P)}});Object.defineProperties(Z.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var re=Z,ae=re,fe=_.extend({getName:function(){}}),ce=fe,ee=ce.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(P){},isImage:function(P){}}),Q=ee,J=Q.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(P){return P instanceof HTMLCanvasElement},isImage:function(P){return P instanceof HTMLImageElement}}),he=J;ae.use(new he);var Me=ae;return Me})})(y1);const Yi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function S1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const cs=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function iu(t){return cs.find(e=>e.id===t)}function su(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Yi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=S1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function pn(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Yi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Yi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function N1(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function ua(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function ca(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function ma(t,e,l){const n=t.slice();return n[103]=e[l],n[104]=e,n[105]=l,n}function da(t,e,l){const n=t.slice();return n[106]=e[l],n[108]=l,n}function C1(t,e,l){const n=t.slice();return n[109]=e[l],n}function P1(t,e,l){const n=t.slice();return n[112]=e[l],n}function pa(t,e,l){const n=t.slice();return n[115]=e[l],n}function T1(t,e,l){const n=t.slice();return n[118]=e[l],n}function _a(t,e,l){const n=t.slice();return n[121]=e[l],n}function ha(t){var fl,Ae,de,jt,De,yt,al,_l,hl,gl,bl,vl,kl,Ol,Dl,Fl,Fe,ot,Rl,jl,Bl,Ul,Hl,Wl,zl,Kl,Vl,Gl,Yl,Xl;let e,l,n=(((Ae=(fl=t[2].conf)==null?void 0:fl.general)==null?void 0:Ae.title)??"General")+"",i,s,o,f,r,c,m,_,d,v=(((jt=(de=t[2].conf)==null?void 0:de.general)==null?void 0:jt.hostname)??"Hostname")+"",w,y,M,g,T,E,D=(((yt=(De=t[2].conf)==null?void 0:De.general)==null?void 0:yt.timezone)??"Time zone")+"",C,F,A,R,O,z,G,B=(((_l=(al=t[2].conf)==null?void 0:al.general)==null?void 0:_l.language)??((gl=(hl=t[2].conf)==null?void 0:hl.ui)==null?void 0:gl.lang)??"Language")+"",W,j,Y,X,U,K,$,le,H,Z,re=(((vl=(bl=t[2].conf)==null?void 0:bl.price)==null?void 0:vl.region)??"Price region")+"",ae,fe,ce,ee,Q,J,he,Me,P,b,L,q,V,ne,ie,_e,me,ue,be,ke,Ee,Ie,Re,Ue,Ye,Qe,Le,tt,se,Ce,lt,gt,mt,Ze,at=(((Ol=(kl=t[2].conf)==null?void 0:kl.price)==null?void 0:Ol.currency)??"Currency")+"",Ht,dt,Tt,Ct,qt,xe,pt,Pe,je,Je,Xe,et,ve=(((Fl=(Dl=t[2].conf)==null?void 0:Dl.price)==null?void 0:Fl.enabled)??"Enabled")+"",qe,Lt,bt,Be,ut=(((Rl=(ot=(Fe=t[2].conf)==null?void 0:Fe.general)==null?void 0:ot.security)==null?void 0:Rl.title)??"Security")+"",$e,It,Wt,ze,we,Te=(((Ul=(Bl=(jl=t[2].conf)==null?void 0:jl.general)==null?void 0:Bl.security)==null?void 0:Ul.none)??"None")+"",Ke,nt,st=(((zl=(Wl=(Hl=t[2].conf)==null?void 0:Hl.general)==null?void 0:Wl.security)==null?void 0:zl.conf)??"Conf")+"",_t,Vt,Ft=(((Gl=(Vl=(Kl=t[2].conf)==null?void 0:Kl.general)==null?void 0:Vl.security)==null?void 0:Gl.all)??"All")+"",Dt,il,Ot,Ve,Rt=(((Xl=(Yl=t[2].conf)==null?void 0:Yl.general)==null?void 0:Xl.context)??"Context")+"",Gt,vt,rt,Mt,zt,pe,it,He;O=new w1({});let sl=Ge(t[4]),Yt=[];for(let Oe=0;Oe<sl.length;Oe+=1)Yt[Oe]=ga(_a(t,sl,Oe));let xt=!t[3].p.t&&ba(),ul=Ge(["NOK","SEK","DKK","EUR","CHF"]),ol=[];for(let Oe=0;Oe<5;Oe+=1)ol[Oe]=A1(T1(t,ul,Oe));pt=new Ml({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[E1]},$$scope:{ctx:t}}});let Qt=t[3].p.e&&t[0].chip!="esp8266"&&va(t),Zt=t[3].g.s>0&&ka(t);return{c(){var Oe,ht;e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=p("div"),d=p("div"),w=k(v),y=p("br"),M=h(),g=p("input"),T=h(),E=p("div"),C=k(D),F=p("br"),A=h(),R=p("select"),Ne(O.$$.fragment),z=h(),G=p("div"),W=k(B),j=p("br"),Y=h(),X=p("select");for(let $t=0;$t<Yt.length;$t+=1)Yt[$t].c();U=h(),K=p("input"),$=h(),le=p("div"),H=p("div"),Z=p("div"),ae=k(re),fe=p("br"),ce=h(),ee=p("select"),Q=p("optgroup"),xt&&xt.c(),J=p("option"),J.textContent="NO1",he=p("option"),he.textContent="NO2",Me=p("option"),Me.textContent="NO3",P=p("option"),P.textContent="NO4",b=p("option"),b.textContent="NO5",L=p("optgroup"),q=p("option"),q.textContent="SE1",V=p("option"),V.textContent="SE2",ne=p("option"),ne.textContent="SE3",ie=p("option"),ie.textContent="SE4",_e=p("optgroup"),me=p("option"),me.textContent="DK1",ue=p("option"),ue.textContent="DK2",be=p("option"),be.textContent="Austria",ke=p("option"),ke.textContent="Belgium",Ee=p("option"),Ee.textContent="Czech Republic",Ie=p("option"),Ie.textContent="Estonia",Re=p("option"),Re.textContent="Finland",Ue=p("option"),Ue.textContent="France",Ye=p("option"),Ye.textContent="Germany",Qe=p("option"),Qe.textContent="Great Britain",Le=p("option"),Le.textContent="Latvia",tt=p("option"),tt.textContent="Lithuania",se=p("option"),se.textContent="Netherland",Ce=p("option"),Ce.textContent="Poland",lt=p("option"),lt.textContent="Slovenia",gt=p("option"),gt.textContent="Switzerland",mt=h(),Ze=p("div"),Ht=k(at),dt=p("br"),Tt=h(),Ct=p("select");for(let $t=0;$t<5;$t+=1)ol[$t].c();qt=h(),xe=p("div"),Ne(pt.$$.fragment),Pe=h(),je=p("div"),Je=p("label"),Xe=p("input"),et=h(),qe=k(ve),Lt=h(),Qt&&Qt.c(),bt=h(),Be=p("div"),$e=k(ut),It=p("br"),Wt=h(),ze=p("select"),we=p("option"),Ke=k(Te),nt=p("option"),_t=k(st),Vt=p("option"),Dt=k(Ft),il=h(),Zt&&Zt.c(),Ot=h(),Ve=p("div"),Gt=k(Rt),vt=p("br"),rt=h(),Mt=p("input"),u(l,"class","text-sm"),u(o,"href",Il("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(g,"name","gh"),u(g,"type","text"),u(g,"class","in-f w-full"),u(g,"pattern",di),u(R,"name","gt"),u(R,"class","in-l w-full"),t[3].g.t===void 0&&Jt(()=>t[29].call(R)),u(_,"class","flex"),u(m,"class","my-1"),u(X,"name","ulang"),u(X,"class","in-s"),t[3].u.lang===void 0&&Jt(()=>t[30].call(X)),u(G,"class","my-1"),u(K,"type","hidden"),u(K,"name","p"),K.value="true",J.__value="10YNO-1--------2",te(J,J.__value),he.__value="10YNO-2--------T",te(he,he.__value),Me.__value="10YNO-3--------J",te(Me,Me.__value),P.__value="10YNO-4--------9",te(P,P.__value),b.__value="10Y1001A1001A48H",te(b,b.__value),u(Q,"label","Norway"),q.__value="10Y1001A1001A44P",te(q,q.__value),V.__value="10Y1001A1001A45N",te(V,V.__value),ne.__value="10Y1001A1001A46L",te(ne,ne.__value),ie.__value="10Y1001A1001A47J",te(ie,ie.__value),u(L,"label","Sweden"),me.__value="10YDK-1--------W",te(me,me.__value),ue.__value="10YDK-2--------M",te(ue,ue.__value),u(_e,"label","Denmark"),be.__value="10YAT-APG------L",te(be,be.__value),ke.__value="10YBE----------2",te(ke,ke.__value),Ee.__value="10YCZ-CEPS-----N",te(Ee,Ee.__value),Ie.__value="10Y1001A1001A39I",te(Ie,Ie.__value),Re.__value="10YFI-1--------U",te(Re,Re.__value),Ue.__value="10YFR-RTE------C",te(Ue,Ue.__value),Ye.__value="10Y1001A1001A83F",te(Ye,Ye.__value),Qe.__value="10YGB----------A",te(Qe,Qe.__value),Le.__value="10YLV-1001A00074",te(Le,Le.__value),tt.__value="10YLT-1001A0008Q",te(tt,tt.__value),se.__value="10YNL----------L",te(se,se.__value),Ce.__value="10YPL-AREA-----S",te(Ce,Ce.__value),lt.__value="10YSI-ELES-----O",te(lt,lt.__value),gt.__value="10YCH-SWISSGRIDZ",te(gt,gt.__value),u(ee,"name","pr"),u(ee,"class","in-f w-full"),t[3].p.r===void 0&&Jt(()=>t[31].call(ee)),u(Z,"class","w-full"),u(Ct,"name","pc"),u(Ct,"class","in-l"),t[3].p.c===void 0&&Jt(()=>t[32].call(Ct)),u(H,"class","flex"),u(le,"class","my-1"),u(xe,"class","my-1"),u(Xe,"type","checkbox"),u(Xe,"name","pe"),Xe.__value="true",te(Xe,Xe.__value),u(Xe,"class","rounded mb-1"),u(je,"class","my-1"),we.__value=0,te(we,we.__value),nt.__value=1,te(nt,nt.__value),Vt.__value=2,te(Vt,Vt.__value),u(ze,"name","gs"),u(ze,"class","in-s"),t[3].g.s===void 0&&Jt(()=>t[35].call(ze)),u(Be,"class","my-1"),u(Mt,"name","gc"),u(Mt,"type","text"),u(Mt,"pattern",di),u(Mt,"placeholder",zt=((ht=(Oe=t[2].conf)==null?void 0:Oe.general)==null?void 0:ht.context_placeholder)??"/"),u(Mt,"class","in-s"),u(Mt,"maxlength","36"),u(Ve,"class","my-1"),u(e,"class","cnt")},m(Oe,ht){N(Oe,e,ht),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(_,d),a(d,w),a(d,y),a(d,M),a(d,g),te(g,t[3].g.h),a(_,T),a(_,E),a(E,C),a(E,F),a(E,A),a(E,R),ye(O,R,null),ft(R,t[3].g.t,!0),a(e,z),a(e,G),a(G,W),a(G,j),a(G,Y),a(G,X);for(let $t=0;$t<Yt.length;$t+=1)Yt[$t]&&Yt[$t].m(X,null);ft(X,t[3].u.lang,!0),a(e,U),a(e,K),a(e,$),a(e,le),a(le,H),a(H,Z),a(Z,ae),a(Z,fe),a(Z,ce),a(Z,ee),a(ee,Q),xt&&xt.m(Q,null),a(Q,J),a(Q,he),a(Q,Me),a(Q,P),a(Q,b),a(ee,L),a(L,q),a(L,V),a(L,ne),a(L,ie),a(ee,_e),a(_e,me),a(_e,ue),a(ee,be),a(ee,ke),a(ee,Ee),a(ee,Ie),a(ee,Re),a(ee,Ue),a(ee,Ye),a(ee,Qe),a(ee,Le),a(ee,tt),a(ee,se),a(ee,Ce),a(ee,lt),a(ee,gt),ft(ee,t[3].p.r,!0),a(H,mt),a(H,Ze),a(Ze,Ht),a(Ze,dt),a(Ze,Tt),a(Ze,Ct);for(let $t=0;$t<5;$t+=1)ol[$t]&&ol[$t].m(Ct,null);ft(Ct,t[3].p.c,!0),a(e,qt),a(e,xe),ye(pt,xe,null),a(e,Pe),a(e,je),a(je,Je),a(Je,Xe),Xe.checked=t[3].p.e,a(Je,et),a(Je,qe),a(je,Lt),Qt&&Qt.m(je,null),a(e,bt),a(e,Be),a(Be,$e),a(Be,It),a(Be,Wt),a(Be,ze),a(ze,we),a(we,Ke),a(ze,nt),a(nt,_t),a(ze,Vt),a(Vt,Dt),ft(ze,t[3].g.s,!0),a(e,il),Zt&&Zt.m(e,null),a(e,Ot),a(e,Ve),a(Ve,Gt),a(Ve,vt),a(Ve,rt),a(Ve,Mt),te(Mt,t[3].g.c),pe=!0,it||(He=[ge(g,"input",t[28]),ge(R,"change",t[29]),ge(X,"change",t[30]),ge(X,"change",t[23]),ge(ee,"change",t[31]),ge(ee,"change",t[26]),ge(Ct,"change",t[32]),ge(Xe,"change",t[33]),ge(ze,"change",t[35]),ge(Mt,"input",t[38])],it=!0)},p(Oe,ht){var Jl,Ql,wn,Mn,yn,Sn,Nn,Cn,Pn,Tn,An,En,qn,Ln,In,ds,ps,_s,hs,gs,bs,vs,ks,ws,Ms,ys,Ss,Ns,Cs,Ps,Ts,As;if((!pe||ht[0]&4)&&n!==(n=(((Ql=(Jl=Oe[2].conf)==null?void 0:Jl.general)==null?void 0:Ql.title)??"General")+"")&&I(i,n),(!pe||ht[0]&4)&&v!==(v=(((Mn=(wn=Oe[2].conf)==null?void 0:wn.general)==null?void 0:Mn.hostname)??"Hostname")+"")&&I(w,v),ht[0]&8&&g.value!==Oe[3].g.h&&te(g,Oe[3].g.h),(!pe||ht[0]&4)&&D!==(D=(((Sn=(yn=Oe[2].conf)==null?void 0:yn.general)==null?void 0:Sn.timezone)??"Time zone")+"")&&I(C,D),ht[0]&8&&ft(R,Oe[3].g.t),(!pe||ht[0]&4)&&B!==(B=(((Cn=(Nn=Oe[2].conf)==null?void 0:Nn.general)==null?void 0:Cn.language)??((Tn=(Pn=Oe[2].conf)==null?void 0:Pn.ui)==null?void 0:Tn.lang)??"Language")+"")&&I(W,B),ht[0]&16){sl=Ge(Oe[4]);let dl;for(dl=0;dl<sl.length;dl+=1){const Es=_a(Oe,sl,dl);Yt[dl]?Yt[dl].p(Es,ht):(Yt[dl]=ga(Es),Yt[dl].c(),Yt[dl].m(X,null))}for(;dl<Yt.length;dl+=1)Yt[dl].d(1);Yt.length=sl.length}ht[0]&8&&ft(X,Oe[3].u.lang),(!pe||ht[0]&4)&&re!==(re=(((En=(An=Oe[2].conf)==null?void 0:An.price)==null?void 0:En.region)??"Price region")+"")&&I(ae,re),Oe[3].p.t?xt&&(xt.d(1),xt=null):xt||(xt=ba(),xt.c(),xt.m(Q,J)),ht[0]&8&&ft(ee,Oe[3].p.r),(!pe||ht[0]&4)&&at!==(at=(((Ln=(qn=Oe[2].conf)==null?void 0:qn.price)==null?void 0:Ln.currency)??"Currency")+"")&&I(Ht,at),ht[0]&8&&ft(Ct,Oe[3].p.c);const $t={};ht[0]&4|ht[4]&1&&($t.$$scope={dirty:ht,ctx:Oe}),pt.$set($t),ht[0]&8&&(Xe.checked=Oe[3].p.e),(!pe||ht[0]&4)&&ve!==(ve=(((ds=(In=Oe[2].conf)==null?void 0:In.price)==null?void 0:ds.enabled)??"Enabled")+"")&&I(qe,ve),Oe[3].p.e&&Oe[0].chip!="esp8266"?Qt?Qt.p(Oe,ht):(Qt=va(Oe),Qt.c(),Qt.m(je,null)):Qt&&(Qt.d(1),Qt=null),(!pe||ht[0]&4)&&ut!==(ut=(((hs=(_s=(ps=Oe[2].conf)==null?void 0:ps.general)==null?void 0:_s.security)==null?void 0:hs.title)??"Security")+"")&&I($e,ut),(!pe||ht[0]&4)&&Te!==(Te=(((vs=(bs=(gs=Oe[2].conf)==null?void 0:gs.general)==null?void 0:bs.security)==null?void 0:vs.none)??"None")+"")&&I(Ke,Te),(!pe||ht[0]&4)&&st!==(st=(((Ms=(ws=(ks=Oe[2].conf)==null?void 0:ks.general)==null?void 0:ws.security)==null?void 0:Ms.conf)??"Conf")+"")&&I(_t,st),(!pe||ht[0]&4)&&Ft!==(Ft=(((Ns=(Ss=(ys=Oe[2].conf)==null?void 0:ys.general)==null?void 0:Ss.security)==null?void 0:Ns.all)??"All")+"")&&I(Dt,Ft),ht[0]&8&&ft(ze,Oe[3].g.s),Oe[3].g.s>0?Zt?Zt.p(Oe,ht):(Zt=ka(Oe),Zt.c(),Zt.m(e,Ot)):Zt&&(Zt.d(1),Zt=null),(!pe||ht[0]&4)&&Rt!==(Rt=(((Ps=(Cs=Oe[2].conf)==null?void 0:Cs.general)==null?void 0:Ps.context)??"Context")+"")&&I(Gt,Rt),(!pe||ht[0]&4&&zt!==(zt=((As=(Ts=Oe[2].conf)==null?void 0:Ts.general)==null?void 0:As.context_placeholder)??"/"))&&u(Mt,"placeholder",zt),ht[0]&8&&Mt.value!==Oe[3].g.c&&te(Mt,Oe[3].g.c)},i(Oe){pe||(x(O.$$.fragment,Oe),x(pt.$$.fragment,Oe),pe=!0)},o(Oe){oe(O.$$.fragment,Oe),oe(pt.$$.fragment,Oe),pe=!1},d(Oe){Oe&&S(e),Se(O),Xt(Yt,Oe),xt&&xt.d(),Xt(ol,Oe),Se(pt),Qt&&Qt.d(),Zt&&Zt.d(),it=!1,Ut(He)}}}function ga(t){let e,l=t[121].name+"",n,i;return{c(){e=p("option"),n=k(l),e.__value=i=t[121].code,te(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){o[0]&16&&l!==(l=s[121].name+"")&&I(n,l),o[0]&16&&i!==(i=s[121].code)&&(e.__value=i,te(e,e.__value))},d(s){s&&S(e)}}}function ba(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",te(e,e.__value),l.__value="NO2S",te(l,l.__value),n.__value="NO3S",te(n,n.__value),i.__value="NO4S",te(i,i.__value),s.__value="NO5S",te(s,s.__value)},m(o,f){N(o,e,f),N(o,l,f),N(o,n,f),N(o,i,f),N(o,s,f)},d(o){o&&(S(e),S(l),S(n),S(i),S(s))}}}function A1(t){let e;return{c(){e=p("option"),e.textContent=`${t[118]}`,e.__value=t[118],te(e,e.__value)},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function E1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=k(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&I(l,e)},d(s){s&&S(l)}}}function va(t){let e,l,n,i,s;return{c(){var o,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",di)},m(o,f){N(o,e,f),N(o,l,f),te(l,t[3].p.t),i||(s=ge(l,"input",t[34]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&8&&l.value!==o[3].p.t&&te(l,o[3].p.t)},d(o){o&&(S(e),S(l)),i=!1,s()}}}function ka(t){var M,g,T,E,D,C;let e,l=(((T=(g=(M=t[2].conf)==null?void 0:M.general)==null?void 0:g.security)==null?void 0:T.username)??"Username")+"",n,i,s,o,f,r,c=(((C=(D=(E=t[2].conf)==null?void 0:E.general)==null?void 0:D.security)==null?void 0:C.password)??"Password")+"",m,_,d,v,w,y;return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("input"),f=h(),r=p("div"),m=k(c),_=p("br"),d=h(),v=p("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",en),u(e,"class","my-1"),u(v,"name","gp"),u(v,"type","password"),u(v,"class","in-s"),u(v,"maxlength","36"),u(v,"pattern",en),u(r,"class","my-1")},m(F,A){N(F,e,A),a(e,n),a(e,i),a(e,s),a(e,o),te(o,t[3].g.u),N(F,f,A),N(F,r,A),a(r,m),a(r,_),a(r,d),a(r,v),te(v,t[3].g.p),w||(y=[ge(o,"input",t[36]),ge(v,"input",t[37])],w=!0)},p(F,A){var R,O,z,G,B,W;A[0]&4&&l!==(l=(((z=(O=(R=F[2].conf)==null?void 0:R.general)==null?void 0:O.security)==null?void 0:z.username)??"Username")+"")&&I(n,l),A[0]&8&&o.value!==F[3].g.u&&te(o,F[3].g.u),A[0]&4&&c!==(c=(((W=(B=(G=F[2].conf)==null?void 0:G.general)==null?void 0:B.security)==null?void 0:W.password)??"Password")+"")&&I(m,c),A[0]&8&&v.value!==F[3].g.p&&te(v,F[3].g.p)},d(F){F&&(S(e),S(f),S(r)),w=!1,Ut(y)}}}function wa(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T,E,D,C,F,A,R=Xa(t[3].fw.s)+"",O,z,G,B,W,j;function Y(K,$){var le,H,Z,re;return((H=(le=K[0])==null?void 0:le.upgrade)==null?void 0:H.m)===!0?I1:(re=(Z=K[0])==null?void 0:Z.upgrade)!=null&&re.n?L1:q1}let X=Y(t),U=X(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=k(`
                    Enable nightly auto-updates`),m=h(),_=p("div"),d=p("div"),v=k("Update hour"),w=p("br"),y=h(),M=p("input"),T=h(),E=p("input"),C=h(),F=p("div"),A=k("When enabled, the device checks for updates daily at "),O=k(R),z=k(" (local time) and applies them automatically if available."),G=h(),B=p("div"),U.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",te(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(M,"name","fws"),u(M,"type","number"),u(M,"min","0"),u(M,"max","23"),u(M,"class","in-s w-full"),M.disabled=g=!t[3].fw.a,u(E,"type","hidden"),u(E,"name","fwe"),E.value=D=t[3].fw.s,u(d,"class","col-span-2"),u(_,"class","my-1 grid grid-cols-2 gap-2"),u(F,"class","my-1 text-xs text-gray-500"),u(B,"class","my-1 text-xs"),u(e,"class","cnt")},m(K,$){N(K,e,$),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].fw.a,a(f,c),a(e,m),a(e,_),a(_,d),a(d,v),a(d,w),a(d,y),a(d,M),te(M,t[3].fw.s),a(d,T),a(d,E),a(e,C),a(e,F),a(F,A),a(F,O),a(F,z),a(e,G),a(e,B),U.m(B,null),W||(j=[ge(r,"change",t[39]),ge(M,"input",t[40])],W=!0)},p(K,$){$[0]&8&&(r.checked=K[3].fw.a),$[0]&8&&g!==(g=!K[3].fw.a)&&(M.disabled=g),$[0]&8&&kt(M.value)!==K[3].fw.s&&te(M,K[3].fw.s),$[0]&8&&D!==(D=K[3].fw.s)&&(E.value=D),$[0]&8&&R!==(R=Xa(K[3].fw.s)+"")&&I(O,R),X===(X=Y(K))&&U?U.p(K,$):(U.d(1),U=X(K),U&&(U.c(),U.m(B,null)))},d(K){K&&S(e),U.d(),W=!1,Ut(j)}}}function q1(t){let e;return{c(){e=k("Checking for updates…")},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function L1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=k("Latest available: "),n=k(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&I(n,l)},d(i){i&&(S(e),S(n))}}}function I1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function Ma(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T,E,D,C,F,A,R,O=Ge(t[14]),z=[];for(let G=0;G<O.length;G+=1)z[G]=ya(pa(t,O,G));return{c(){e=p("div"),l=p("strong"),l.textContent="Debug logging",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=k(`
                    Enable telnet (RemoteDebug)`),m=h(),_=p("div"),d=p("label"),v=p("input"),w=k(`
                    Enable serial log output`),y=h(),M=p("div"),g=k("Log level"),T=p("br"),E=h(),D=p("select");for(let G=0;G<z.length;G+=1)z[G].c();C=h(),F=p("div"),F.textContent="Telnet logging requires the device to be connected to the network. Leave telnet off for normal operation.",u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","d"),i.value="true",u(r,"type","checkbox"),u(r,"name","dt"),r.__value="true",te(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(v,"type","checkbox"),u(v,"name","ds"),v.__value="true",te(v,v.__value),u(v,"class","rounded mb-1"),u(_,"class","my-1"),u(D,"name","dl"),u(D,"class","in-s"),t[3].d.l===void 0&&Jt(()=>t[43].call(D)),u(M,"class","my-1"),u(F,"class","my-1 text-xs text-gray-500"),u(e,"class","cnt")},m(G,B){N(G,e,B),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].d.t,a(f,c),a(e,m),a(e,_),a(_,d),a(d,v),v.checked=t[3].d.s,a(d,w),a(e,y),a(e,M),a(M,g),a(M,T),a(M,E),a(M,D);for(let W=0;W<z.length;W+=1)z[W]&&z[W].m(D,null);ft(D,t[3].d.l,!0),a(e,C),a(e,F),A||(R=[ge(r,"change",t[41]),ge(v,"change",t[42]),ge(D,"change",t[43])],A=!0)},p(G,B){if(B[0]&8&&(r.checked=G[3].d.t),B[0]&8&&(v.checked=G[3].d.s),B[0]&16384){O=Ge(G[14]);let W;for(W=0;W<O.length;W+=1){const j=pa(G,O,W);z[W]?z[W].p(j,B):(z[W]=ya(j),z[W].c(),z[W].m(D,null))}for(;W<z.length;W+=1)z[W].d(1);z.length=O.length}B[0]&8&&ft(D,G[3].d.l)},d(G){G&&S(e),Xt(z,G),A=!1,Ut(R)}}}function ya(t){let e,l=t[115].label+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[115].value,te(e,e.__value)},m(i,s){N(i,e,s),a(e,n)},p:We,d(i){i&&S(e)}}}function Sa(t){var nt,st,_t,Vt,Ft,Dt,il,Ot,Ve,Rt,Gt,vt,rt,Mt,zt,pe,it,He,sl,Yt,xt,ul,ol,Qt,Zt,fl,Ae,de,jt;let e,l,n=(((st=(nt=t[2].conf)==null?void 0:nt.meter)==null?void 0:st.title)??"Meter")+"",i,s,o,f,r,c,m,_,d,v,w=(((Ft=(Vt=(_t=t[2].conf)==null?void 0:_t.meter)==null?void 0:Vt.preset)==null?void 0:Ft.title)??"Meter preset")+"",y,M,g,T,E,D=(((Ot=(il=(Dt=t[2].conf)==null?void 0:Dt.meter)==null?void 0:il.preset)==null?void 0:Ot.manual)??"Manual configuration")+"",C,F,A,R,O,z=(((Gt=(Rt=(Ve=t[2].conf)==null?void 0:Ve.meter)==null?void 0:Rt.comm)==null?void 0:Gt.title)??"Communication")+"",G,B,W,j,Y,X=(((Mt=(rt=(vt=t[2].conf)==null?void 0:vt.meter)==null?void 0:rt.comm)==null?void 0:Mt.passive)??"Passive")+"",U,K,$=(((it=(pe=(zt=t[2].conf)==null?void 0:zt.meter)==null?void 0:pe.comm)==null?void 0:it.pulse)??"Pulse")+"",le,H=(sl=(He=t[0])==null?void 0:He.features)==null?void 0:sl.includes("kmp"),Z,re,ae,fe=(((Yt=t[2].common)==null?void 0:Yt.voltage)??"Voltage")+"",ce,ee,Q,J,he,Me,P,b,L,q=(((ul=(xt=t[2].conf)==null?void 0:xt.meter)==null?void 0:ul.fuse)??"Main fuse")+"",V,ne,ie,_e,me,ue,be,ke,Ee,Ie=(((Qt=(ol=t[2].conf)==null?void 0:ol.meter)==null?void 0:Qt.prod)??"Production")+"",Re,Ue,Ye,Qe,Le,tt,se,Ce,lt,gt,mt,Ze,at,Ht,dt=(((fl=(Zt=t[2].conf)==null?void 0:Zt.meter)==null?void 0:fl.encrypted)??"Encrypted")+"",Tt,Ct,qt,xe,pt,Pe,je,Je=(((jt=(de=(Ae=t[2].conf)==null?void 0:Ae.meter)==null?void 0:de.multipliers)==null?void 0:jt.title)??"Multipliers")+"",Xe,et,ve,qe,Lt=Ge(cs),bt=[];for(let De=0;De<Lt.length;De+=1)bt[De]=O1(P1(t,Lt,De));let Be=t[8]&&Na(t),ut=t[9]&&Ca(t),$e=H&&Ta();function It(De,yt){return De[3].m.a===2?F1:D1}let Wt=It(t),ze=Wt(t),we=t[3].m.e.e&&Aa(t),Te=t[3].m.e.e&&Ea(t),Ke=t[3].m.m.e&&qa(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("input"),_=h(),d=p("div"),v=p("label"),y=k(w),M=h(),g=p("div"),T=p("select"),E=p("option"),C=k(D);for(let De=0;De<bt.length;De+=1)bt[De].c();F=h(),Be&&Be.c(),A=h(),ut&&ut.c(),R=h(),O=p("div"),G=k(z),B=p("br"),W=h(),j=p("select"),Y=p("option"),U=k(X),K=p("option"),le=k($),$e&&$e.c(),Z=h(),ze.c(),re=h(),ae=p("div"),ce=k(fe),ee=p("br"),Q=h(),J=p("select"),he=p("option"),he.textContent="400V (TN)",Me=p("option"),Me.textContent="230V (IT/TT)",P=h(),b=p("div"),L=p("div"),V=k(q),ne=p("br"),ie=h(),_e=p("label"),me=p("input"),ue=h(),be=p("span"),be.textContent="A",ke=h(),Ee=p("div"),Re=k(Ie),Ue=p("br"),Ye=h(),Qe=p("label"),Le=p("input"),tt=h(),se=p("span"),se.textContent="kWp",Ce=h(),lt=p("div"),lt.innerHTML="",gt=h(),mt=p("div"),Ze=p("label"),at=p("input"),Ht=h(),Tt=k(dt),Ct=h(),we&&we.c(),qt=h(),Te&&Te.c(),xe=h(),pt=p("label"),Pe=p("input"),je=h(),Xe=k(Je),et=h(),Ke&&Ke.c(),u(l,"class","text-sm"),u(o,"href",Il("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(v,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(v,"for","meter-preset-select"),E.__value="",te(E,E.__value),u(T,"id","meter-preset-select"),u(T,"class","in-s w-full"),t[8]===void 0&&Jt(()=>t[44].call(T)),u(g,"class","mt-1 flex gap-2"),u(d,"class","my-1"),Y.__value=0,te(Y,Y.__value),K.__value=2,te(K,K.__value),u(j,"name","ma"),u(j,"class","in-s"),t[3].m.a===void 0&&Jt(()=>t[46].call(j)),u(O,"class","my-1"),he.__value=2,te(he,he.__value),Me.__value=1,te(Me,Me.__value),u(J,"name","md"),u(J,"class","in-s"),t[3].m.d===void 0&&Jt(()=>t[52].call(J)),u(ae,"class","my-1"),u(me,"name","mf"),u(me,"type","number"),u(me,"min","5"),u(me,"max","65535"),u(me,"class","in-f tr w-full"),u(be,"class","in-post"),u(_e,"class","flex"),u(L,"class","mx-1"),u(Le,"name","mr"),u(Le,"type","number"),u(Le,"min","0"),u(Le,"max","65535"),u(Le,"class","in-f tr w-full"),u(se,"class","in-post"),u(Qe,"class","flex"),u(Ee,"class","mx-1"),u(b,"class","my-1 flex"),u(lt,"class","my-1"),u(at,"type","checkbox"),u(at,"name","me"),at.__value="true",te(at,at.__value),u(at,"class","rounded mb-1"),u(mt,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",te(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(De,yt){N(De,e,yt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,_),a(e,d),a(d,v),a(v,y),a(d,M),a(d,g),a(g,T),a(T,E),a(E,C);for(let al=0;al<bt.length;al+=1)bt[al]&&bt[al].m(T,null);ft(T,t[8],!0),a(g,F),Be&&Be.m(g,null),a(d,A),ut&&ut.m(d,null),a(e,R),a(e,O),a(O,G),a(O,B),a(O,W),a(O,j),a(j,Y),a(Y,U),a(j,K),a(K,le),$e&&$e.m(j,null),ft(j,t[3].m.a,!0),a(e,Z),ze.m(e,null),a(e,re),a(e,ae),a(ae,ce),a(ae,ee),a(ae,Q),a(ae,J),a(J,he),a(J,Me),ft(J,t[3].m.d,!0),a(e,P),a(e,b),a(b,L),a(L,V),a(L,ne),a(L,ie),a(L,_e),a(_e,me),te(me,t[3].m.f),a(_e,ue),a(_e,be),a(b,ke),a(b,Ee),a(Ee,Re),a(Ee,Ue),a(Ee,Ye),a(Ee,Qe),a(Qe,Le),te(Le,t[3].m.r),a(Qe,tt),a(Qe,se),a(e,Ce),a(e,lt),a(e,gt),a(e,mt),a(mt,Ze),a(Ze,at),at.checked=t[3].m.e.e,a(Ze,Ht),a(Ze,Tt),a(mt,Ct),we&&we.m(mt,null),a(e,qt),Te&&Te.m(e,null),a(e,xe),a(e,pt),a(pt,Pe),Pe.checked=t[3].m.m.e,a(pt,je),a(pt,Xe),a(e,et),Ke&&Ke.m(e,null),ve||(qe=[ge(T,"change",t[44]),ge(T,"change",t[45]),ge(j,"change",t[46]),ge(J,"change",t[52]),ge(me,"input",t[53]),ge(Le,"input",t[54]),ge(at,"change",t[55]),ge(Pe,"change",t[58])],ve=!0)},p(De,yt){var al,_l,hl,gl,bl,vl,kl,Ol,Dl,Fl,Fe,ot,Rl,jl,Bl,Ul,Hl,Wl,zl,Kl,Vl,Gl,Yl,Xl,Oe,ht,$t,Jl,Ql;yt[0]&4&&n!==(n=(((_l=(al=De[2].conf)==null?void 0:al.meter)==null?void 0:_l.title)??"Meter")+"")&&I(i,n),yt[0]&4&&w!==(w=(((bl=(gl=(hl=De[2].conf)==null?void 0:hl.meter)==null?void 0:gl.preset)==null?void 0:bl.title)??"Meter preset")+"")&&I(y,w),yt[0]&4&&D!==(D=(((Ol=(kl=(vl=De[2].conf)==null?void 0:vl.meter)==null?void 0:kl.preset)==null?void 0:Ol.manual)??"Manual configuration")+"")&&I(C,D),yt[0]&256&&ft(T,De[8]),De[8]?Be?Be.p(De,yt):(Be=Na(De),Be.c(),Be.m(g,null)):Be&&(Be.d(1),Be=null),De[9]?ut?ut.p(De,yt):(ut=Ca(De),ut.c(),ut.m(d,null)):ut&&(ut.d(1),ut=null),yt[0]&4&&z!==(z=(((Fe=(Fl=(Dl=De[2].conf)==null?void 0:Dl.meter)==null?void 0:Fl.comm)==null?void 0:Fe.title)??"Communication")+"")&&I(G,z),yt[0]&4&&X!==(X=(((jl=(Rl=(ot=De[2].conf)==null?void 0:ot.meter)==null?void 0:Rl.comm)==null?void 0:jl.passive)??"Passive")+"")&&I(U,X),yt[0]&4&&$!==($=(((Hl=(Ul=(Bl=De[2].conf)==null?void 0:Bl.meter)==null?void 0:Ul.comm)==null?void 0:Hl.pulse)??"Pulse")+"")&&I(le,$),yt[0]&1&&(H=(zl=(Wl=De[0])==null?void 0:Wl.features)==null?void 0:zl.includes("kmp")),H?$e||($e=Ta(),$e.c(),$e.m(j,null)):$e&&($e.d(1),$e=null),yt[0]&8&&ft(j,De[3].m.a),Wt===(Wt=It(De))&&ze?ze.p(De,yt):(ze.d(1),ze=Wt(De),ze&&(ze.c(),ze.m(e,re))),yt[0]&4&&fe!==(fe=(((Kl=De[2].common)==null?void 0:Kl.voltage)??"Voltage")+"")&&I(ce,fe),yt[0]&8&&ft(J,De[3].m.d),yt[0]&4&&q!==(q=(((Gl=(Vl=De[2].conf)==null?void 0:Vl.meter)==null?void 0:Gl.fuse)??"Main fuse")+"")&&I(V,q),yt[0]&8&&kt(me.value)!==De[3].m.f&&te(me,De[3].m.f),yt[0]&4&&Ie!==(Ie=(((Xl=(Yl=De[2].conf)==null?void 0:Yl.meter)==null?void 0:Xl.prod)??"Production")+"")&&I(Re,Ie),yt[0]&8&&kt(Le.value)!==De[3].m.r&&te(Le,De[3].m.r),yt[0]&8&&(at.checked=De[3].m.e.e),yt[0]&4&&dt!==(dt=(((ht=(Oe=De[2].conf)==null?void 0:Oe.meter)==null?void 0:ht.encrypted)??"Encrypted")+"")&&I(Tt,dt),De[3].m.e.e?we?we.p(De,yt):(we=Aa(De),we.c(),we.m(mt,null)):we&&(we.d(1),we=null),De[3].m.e.e?Te?Te.p(De,yt):(Te=Ea(De),Te.c(),Te.m(e,xe)):Te&&(Te.d(1),Te=null),yt[0]&8&&(Pe.checked=De[3].m.m.e),yt[0]&4&&Je!==(Je=(((Ql=(Jl=($t=De[2].conf)==null?void 0:$t.meter)==null?void 0:Jl.multipliers)==null?void 0:Ql.title)??"Multipliers")+"")&&I(Xe,Je),De[3].m.m.e?Ke?Ke.p(De,yt):(Ke=qa(De),Ke.c(),Ke.m(e,null)):Ke&&(Ke.d(1),Ke=null)},d(De){De&&S(e),Xt(bt,De),Be&&Be.d(),ut&&ut.d(),$e&&$e.d(),ze.d(),we&&we.d(),Te&&Te.d(),Ke&&Ke.d(),ve=!1,Ut(qe)}}}function O1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112].label}`,e.__value=t[112].id,te(e,e.__value)},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function Na(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){N(c,e,m),a(e,n),i||(s=ge(e,"click",t[25]),i=!0)},p(c,m){var _,d,v;m[0]&4&&l!==(l=(((v=(d=(_=c[2].conf)==null?void 0:_.meter)==null?void 0:d.preset)==null?void 0:v.clear)??"Clear")+"")&&I(n,l)},d(c){c&&S(e),i=!1,s()}}}function Ca(t){let e,l=ua(t[9])+"",n,i,s=t[9].notes&&Pa(t);return{c(){e=p("div"),n=k(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){N(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=ua(o[9])+"")&&I(n,l),o[9].notes?s?s.p(o,f):(s=Pa(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&S(e),s&&s.d()}}}function Pa(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","block")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&I(n,l)},d(i){i&&S(e)}}}function Ta(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,te(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function D1(t){var re,ae,fe,ce,ee,Q;let e,l,n=(((ae=(re=t[2].conf)==null?void 0:re.meter)==null?void 0:ae.buffer)??"Buffer size")+"",i,s,o,f=(((ce=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:ce.serial)??"Serial conf.")+"",r,c,m,_,d,v=(((Q=(ee=t[2].conf)==null?void 0:ee.meter)==null?void 0:Q.inverted)??"inverted")+"",w,y,M,g,T,E,D,C,F,A,R,O,z,G,B,W,j,Y,X,U,K,$,le,H=Ge([3,12,24,48,96,192,384,576,1152]),Z=[];for(let J=0;J<9;J+=1)Z[J]=R1(C1(t,H,J));return{c(){e=p("div"),l=p("span"),i=k(n),s=h(),o=p("span"),r=k(f),c=h(),m=p("label"),_=p("input"),d=h(),w=k(v),y=h(),M=p("div"),g=p("select"),T=p("option"),E=k("Autodetect");for(let J=0;J<9;J+=1)Z[J].c();C=h(),F=p("select"),A=p("option"),R=k("-"),z=p("option"),z.textContent="7N1",G=p("option"),G.textContent="8N1",B=p("option"),B.textContent="8N2",W=p("option"),W.textContent="7E1",j=p("option"),j.textContent="8E1",X=h(),U=p("input"),u(l,"class","float-right"),u(_,"name","mi"),_.__value="true",te(_,_.__value),u(_,"type","checkbox"),u(_,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),T.__value=0,te(T,T.__value),T.disabled=D=t[3].m.b!=0,u(g,"name","mb"),u(g,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Jt(()=>t[49].call(g)),A.__value=0,te(A,A.__value),A.disabled=O=t[3].m.b!=0,z.__value=2,te(z,z.__value),G.__value=3,te(G,G.__value),B.__value=7,te(B,B.__value),W.__value=10,te(W,W.__value),j.__value=11,te(j,j.__value),u(F,"name","mp"),u(F,"class","in-m"),F.disabled=Y=t[3].m.b==0,t[3].m.p===void 0&&Jt(()=>t[50].call(F)),u(U,"name","ms"),u(U,"type","number"),u(U,"min",64),u(U,"max",K=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:256:4096),u(U,"step",64),u(U,"class","in-l tr w-1/2"),u(M,"class","flex w-full"),u(e,"class","my-1")},m(J,he){N(J,e,he),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,_),_.checked=t[3].m.i,a(m,d),a(m,w),a(e,y),a(e,M),a(M,g),a(g,T),a(T,E);for(let Me=0;Me<9;Me+=1)Z[Me]&&Z[Me].m(g,null);ft(g,t[3].m.b,!0),a(M,C),a(M,F),a(F,A),a(A,R),a(F,z),a(F,G),a(F,B),a(F,W),a(F,j),ft(F,t[3].m.p,!0),a(M,X),a(M,U),te(U,t[3].m.s),$||(le=[ge(_,"change",t[48]),ge(g,"change",t[49]),ge(F,"change",t[50]),ge(U,"input",t[51])],$=!0)},p(J,he){var Me,P,b,L,q,V;he[0]&4&&n!==(n=(((P=(Me=J[2].conf)==null?void 0:Me.meter)==null?void 0:P.buffer)??"Buffer size")+"")&&I(i,n),he[0]&4&&f!==(f=(((L=(b=J[2].conf)==null?void 0:b.meter)==null?void 0:L.serial)??"Serial conf.")+"")&&I(r,f),he[0]&8&&(_.checked=J[3].m.i),he[0]&4&&v!==(v=(((V=(q=J[2].conf)==null?void 0:q.meter)==null?void 0:V.inverted)??"inverted")+"")&&I(w,v),he[0]&8&&D!==(D=J[3].m.b!=0)&&(T.disabled=D),he[0]&8&&ft(g,J[3].m.b),he[0]&8&&O!==(O=J[3].m.b!=0)&&(A.disabled=O),he[0]&8&&Y!==(Y=J[3].m.b==0)&&(F.disabled=Y),he[0]&8&&ft(F,J[3].m.p),he[0]&9&&K!==(K=J[0].chip=="esp8266"?J[3].i.h.p==3||J[3].i.h.p==113?512:256:4096)&&u(U,"max",K),he[0]&8&&kt(U.value)!==J[3].m.s&&te(U,J[3].m.s)},d(J){J&&S(e),Xt(Z,J),$=!1,Ut(le)}}}function F1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=p("div"),l=p("span"),i=k(n),s=h(),o=p("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(_,d){N(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o),te(o,t[3].m.b),f||(r=ge(o,"input",t[47]),f=!0)},p(_,d){var v,w;d[0]&4&&n!==(n=(((w=(v=_[2].conf)==null?void 0:v.meter)==null?void 0:w.pulses)??"Pulses per kWh")+"")&&I(i,n),d[0]&8&&kt(o.value)!==_[3].m.b&&te(o,_[3].m.b)},d(_){_&&S(e),f=!1,r()}}}function R1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109]*100}`,e.__value=t[109]*100,te(e,e.__value)},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function Aa(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Rf)},m(s,o){N(s,e,o),N(s,l,o),te(l,t[3].m.e.k),n||(i=ge(l,"input",t[56]),n=!0)},p(s,o){o[0]&8&&l.value!==s[3].m.e.k&&te(l,s[3].m.e.k)},d(s){s&&(S(e),S(l)),n=!1,i()}}}function Ea(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Rf),u(e,"class","my-1")},m(_,d){N(_,e,d),a(e,n),a(e,i),a(e,s),a(e,o),te(o,t[3].m.e.a),f||(r=ge(o,"input",t[57]),f=!0)},p(_,d){var v,w;d[0]&4&&l!==(l=(((w=(v=_[2].conf)==null?void 0:v.meter)==null?void 0:w.authkey)??"Authentication key")+"")&&I(n,l),d[0]&8&&o.value!==_[3].m.e.a&&te(o,_[3].m.e.a)},d(_){_&&S(e),f=!1,r()}}}function qa(t){var Y,X,U,K,$,le,H,Z,re,ae,fe,ce;let e,l,n=(((U=(X=(Y=t[2].conf)==null?void 0:Y.meter)==null?void 0:X.multipliers)==null?void 0:U.watt)??"Watt")+"",i,s,o,f,r,c,m=(((le=($=(K=t[2].conf)==null?void 0:K.meter)==null?void 0:$.multipliers)==null?void 0:le.volt)??"Volt")+"",_,d,v,w,y,M,g=(((re=(Z=(H=t[2].conf)==null?void 0:H.meter)==null?void 0:Z.multipliers)==null?void 0:re.amp)??"Amp")+"",T,E,D,C,F,A,R=(((ce=(fe=(ae=t[2].conf)==null?void 0:ae.meter)==null?void 0:fe.multipliers)==null?void 0:ce.kwh)??"kWh")+"",O,z,G,B,W,j;return{c(){e=p("div"),l=p("div"),i=k(n),s=p("br"),o=h(),f=p("input"),r=h(),c=p("div"),_=k(m),d=p("br"),v=h(),w=p("input"),y=h(),M=p("div"),T=k(g),E=p("br"),D=h(),C=p("input"),F=h(),A=p("div"),O=k(R),z=p("br"),G=h(),B=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(w,"name","mmv"),u(w,"type","number"),u(w,"min","0.00"),u(w,"max","1000"),u(w,"step","0.001"),u(w,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(C,"name","mma"),u(C,"type","number"),u(C,"min","0.00"),u(C,"max","1000"),u(C,"step","0.001"),u(C,"class","in-m tr w-full"),u(M,"class","w-1/4"),u(B,"name","mmc"),u(B,"type","number"),u(B,"min","0.00"),u(B,"max","1000"),u(B,"step","0.001"),u(B,"class","in-l tr w-full"),u(A,"class","w-1/4"),u(e,"class","flex my-1")},m(ee,Q){N(ee,e,Q),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),te(f,t[3].m.m.w),a(e,r),a(e,c),a(c,_),a(c,d),a(c,v),a(c,w),te(w,t[3].m.m.v),a(e,y),a(e,M),a(M,T),a(M,E),a(M,D),a(M,C),te(C,t[3].m.m.a),a(e,F),a(e,A),a(A,O),a(A,z),a(A,G),a(A,B),te(B,t[3].m.m.c),W||(j=[ge(f,"input",t[59]),ge(w,"input",t[60]),ge(C,"input",t[61]),ge(B,"input",t[62])],W=!0)},p(ee,Q){var J,he,Me,P,b,L,q,V,ne,ie,_e,me;Q[0]&4&&n!==(n=(((Me=(he=(J=ee[2].conf)==null?void 0:J.meter)==null?void 0:he.multipliers)==null?void 0:Me.watt)??"Watt")+"")&&I(i,n),Q[0]&8&&kt(f.value)!==ee[3].m.m.w&&te(f,ee[3].m.m.w),Q[0]&4&&m!==(m=(((L=(b=(P=ee[2].conf)==null?void 0:P.meter)==null?void 0:b.multipliers)==null?void 0:L.volt)??"Volt")+"")&&I(_,m),Q[0]&8&&kt(w.value)!==ee[3].m.m.v&&te(w,ee[3].m.m.v),Q[0]&4&&g!==(g=(((ne=(V=(q=ee[2].conf)==null?void 0:q.meter)==null?void 0:V.multipliers)==null?void 0:ne.amp)??"Amp")+"")&&I(T,g),Q[0]&8&&kt(C.value)!==ee[3].m.m.a&&te(C,ee[3].m.m.a),Q[0]&4&&R!==(R=(((me=(_e=(ie=ee[2].conf)==null?void 0:ie.meter)==null?void 0:_e.multipliers)==null?void 0:me.kwh)??"kWh")+"")&&I(O,R),Q[0]&8&&kt(B.value)!==ee[3].m.m.c&&te(B,ee[3].m.m.c)},d(ee){ee&&S(e),W=!1,Ut(j)}}}function La(t){var _,d;let e,l,n=(((d=(_=t[2].conf)==null?void 0:_.connection)==null?void 0:d.title)??"Connection")+"",i,s,o,f,r,c,m=(t[3].n.c==1||t[3].n.c==2)&&Ia(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Il("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(v,w){N(v,e,w),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(v,w){var y,M;w[0]&4&&n!==(n=(((M=(y=v[2].conf)==null?void 0:y.connection)==null?void 0:M.title)??"Connection")+"")&&I(i,n),v[3].n.c==1||v[3].n.c==2?m?m.p(v,w):(m=Ia(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(v){v&&S(e),m&&m.d()}}}function Ia(t){var be,ke,Ee,Ie,Re,Ue,Ye,Qe,Le,tt,se,Ce,lt,gt,mt,Ze,at,Ht,dt,Tt,Ct,qt,xe,pt;let e,l=(((ke=(be=t[2].conf)==null?void 0:be.connection)==null?void 0:ke.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((Ie=(Ee=t[2].conf)==null?void 0:Ee.connection)==null?void 0:Ie.psk)??"Password")+"",_,d,v,w,y,M,g,T=(((Ye=(Ue=(Re=t[2].conf)==null?void 0:Re.connection)==null?void 0:Ue.ps)==null?void 0:Ye.title)??"Power saving")+"",E,D,C,F,A,R=(((tt=(Le=(Qe=t[2].conf)==null?void 0:Qe.connection)==null?void 0:Le.ps)==null?void 0:tt.default)??"Default")+"",O,z,G=(((lt=(Ce=(se=t[2].conf)==null?void 0:se.connection)==null?void 0:Ce.ps)==null?void 0:lt.off)??"Off")+"",B,W,j=(((Ze=(mt=(gt=t[2].conf)==null?void 0:gt.connection)==null?void 0:mt.ps)==null?void 0:Ze.min)??"Min")+"",Y,X,U=(((dt=(Ht=(at=t[2].conf)==null?void 0:at.connection)==null?void 0:Ht.ps)==null?void 0:dt.max)??"Max")+"",K,$,le,H=(((Ct=(Tt=t[2].conf)==null?void 0:Tt.connection)==null?void 0:Ct.pwr)??"Power")+"",Z,re,ae,fe,ce,ee,Q,J,he,Me,P,b,L=(((xe=(qt=t[2].conf)==null?void 0:qt.connection)==null?void 0:xe.tick_11b)??"802.11b")+"",q,V,ne,ie=((pt=t[5])==null?void 0:pt.c)==-1&&Oa(t);function _e(Pe,je){var Je,Xe,et;if((Xe=(Je=Pe[5])==null?void 0:Je.n)!=null&&Xe.length)return B1;if(((et=Pe[5])==null?void 0:et.c)!=-1)return j1}let me=_e(t),ue=me&&me(t);return{c(){e=p("div"),n=k(l),i=h(),s=p("br"),o=h(),ie&&ie.c(),f=h(),ue&&ue.c(),r=h(),c=p("div"),_=k(m),d=p("br"),v=h(),w=p("input"),y=h(),M=p("div"),g=p("div"),E=k(T),D=p("br"),C=h(),F=p("select"),A=p("option"),O=k(R),z=p("option"),B=k(G),W=p("option"),Y=k(j),X=p("option"),K=k(U),$=h(),le=p("div"),Z=k(H),re=p("br"),ae=h(),fe=p("div"),ce=p("input"),ee=h(),Q=p("span"),Q.textContent="dBm",J=h(),he=p("div"),Me=p("label"),P=p("input"),b=h(),q=k(L),u(e,"class","my-1"),u(w,"name","wp"),u(w,"type","password"),u(w,"class","in-s"),u(w,"pattern",mi),u(c,"class","my-1"),A.__value=255,te(A,A.__value),z.__value=0,te(z,z.__value),W.__value=1,te(W,W.__value),X.__value=2,te(X,X.__value),u(F,"name","wz"),u(F,"class","in-s"),t[3].w.z===void 0&&Jt(()=>t[66].call(F)),u(g,"class","w-1/2"),u(ce,"name","ww"),u(ce,"type","number"),u(ce,"min","0"),u(ce,"max","20.5"),u(ce,"step","0.5"),u(ce,"class","in-f tr w-full"),u(Q,"class","in-post"),u(fe,"class","flex"),u(le,"class","ml-2 w-1/2"),u(M,"class","my-1 flex"),u(P,"type","checkbox"),u(P,"name","wb"),P.__value="true",te(P,P.__value),u(P,"class","rounded mb-1"),u(he,"class","my-3")},m(Pe,je){N(Pe,e,je),a(e,n),a(e,i),a(e,s),a(e,o),ie&&ie.m(e,null),a(e,f),ue&&ue.m(e,null),N(Pe,r,je),N(Pe,c,je),a(c,_),a(c,d),a(c,v),a(c,w),te(w,t[3].w.p),N(Pe,y,je),N(Pe,M,je),a(M,g),a(g,E),a(g,D),a(g,C),a(g,F),a(F,A),a(A,O),a(F,z),a(z,B),a(F,W),a(W,Y),a(F,X),a(X,K),ft(F,t[3].w.z,!0),a(M,$),a(M,le),a(le,Z),a(le,re),a(le,ae),a(le,fe),a(fe,ce),te(ce,t[3].w.w),a(fe,ee),a(fe,Q),N(Pe,J,je),N(Pe,he,je),a(he,Me),a(Me,P),P.checked=t[3].w.b,a(Me,b),a(Me,q),V||(ne=[ge(w,"input",t[65]),ge(F,"change",t[66]),ge(ce,"input",t[67]),ge(P,"change",t[68])],V=!0)},p(Pe,je){var Je,Xe,et,ve,qe,Lt,bt,Be,ut,$e,It,Wt,ze,we,Te,Ke,nt,st,_t,Vt,Ft,Dt,il,Ot;je[0]&4&&l!==(l=(((Xe=(Je=Pe[2].conf)==null?void 0:Je.connection)==null?void 0:Xe.ssid)??"Network name (SSID)")+"")&&I(n,l),((et=Pe[5])==null?void 0:et.c)==-1?ie?ie.p(Pe,je):(ie=Oa(Pe),ie.c(),ie.m(e,f)):ie&&(ie.d(1),ie=null),me===(me=_e(Pe))&&ue?ue.p(Pe,je):(ue&&ue.d(1),ue=me&&me(Pe),ue&&(ue.c(),ue.m(e,null))),je[0]&4&&m!==(m=(((qe=(ve=Pe[2].conf)==null?void 0:ve.connection)==null?void 0:qe.psk)??"Password")+"")&&I(_,m),je[0]&8&&w.value!==Pe[3].w.p&&te(w,Pe[3].w.p),je[0]&4&&T!==(T=(((Be=(bt=(Lt=Pe[2].conf)==null?void 0:Lt.connection)==null?void 0:bt.ps)==null?void 0:Be.title)??"Power saving")+"")&&I(E,T),je[0]&4&&R!==(R=(((It=($e=(ut=Pe[2].conf)==null?void 0:ut.connection)==null?void 0:$e.ps)==null?void 0:It.default)??"Default")+"")&&I(O,R),je[0]&4&&G!==(G=(((we=(ze=(Wt=Pe[2].conf)==null?void 0:Wt.connection)==null?void 0:ze.ps)==null?void 0:we.off)??"Off")+"")&&I(B,G),je[0]&4&&j!==(j=(((nt=(Ke=(Te=Pe[2].conf)==null?void 0:Te.connection)==null?void 0:Ke.ps)==null?void 0:nt.min)??"Min")+"")&&I(Y,j),je[0]&4&&U!==(U=(((Vt=(_t=(st=Pe[2].conf)==null?void 0:st.connection)==null?void 0:_t.ps)==null?void 0:Vt.max)??"Max")+"")&&I(K,U),je[0]&8&&ft(F,Pe[3].w.z),je[0]&4&&H!==(H=(((Dt=(Ft=Pe[2].conf)==null?void 0:Ft.connection)==null?void 0:Dt.pwr)??"Power")+"")&&I(Z,H),je[0]&8&&kt(ce.value)!==Pe[3].w.w&&te(ce,Pe[3].w.w),je[0]&8&&(P.checked=Pe[3].w.b),je[0]&4&&L!==(L=(((Ot=(il=Pe[2].conf)==null?void 0:il.connection)==null?void 0:Ot.tick_11b)??"802.11b")+"")&&I(q,L)},d(Pe){Pe&&(S(e),S(r),S(c),S(y),S(M),S(J),S(he)),ie&&ie.d(),ue&&ue.d(),V=!1,Ut(ne)}}}function Oa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&I(n,l)},d(o){o&&S(e)}}}function j1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&I(n,l)},d(o){o&&S(e)}}}function B1(t){let e,l=[],n=new Map,i=Ge(t[5].n);const s=o=>o[106].s??o[108];for(let o=0;o<i.length;o+=1){let f=da(t,i,o),r=s(f);n.set(r,l[o]=Fa(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){N(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9260&&(i=Ge(o[5].n),l=cf(l,f,s,1,o,i,n,e,uf,Fa,null,da))},d(o){o&&S(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Da(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&I(n,l)},d(o){o&&S(e)}}}function Fa(t,e){var B,W,j,Y,X;let l,n,i,s,o=!1,f,r,c,m=(e[106].s||(((W=(B=e[2].conf)==null?void 0:B.connection)==null?void 0:W.hidden_ssid)??"Hidden network"))+"",_,d,v,w=(((j=e[10][e[108]])==null?void 0:j.title)??((X=(Y=e[2].conf)==null?void 0:Y.connection)==null?void 0:X.wifi_offline)??"Signal unavailable")+"",y,M,g,T,E,D,C,F,A,R,O,z,G=e[3].w.s===e[106].s&&Da(e);return R=of(e[64][0]),{key:t,first:null,c(){var U,K,$;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),c=p("span"),_=k(m),d=h(),v=p("span"),y=k(w),M=h(),g=p("div"),T=p("img"),F=h(),G&&G.c(),A=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[106].s,te(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(v,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(T,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),rn(T.src,E=((U=e[10][e[108]])==null?void 0:U.icon)??e[13].off)||u(T,"src",E),u(T,"alt",D=((K=e[10][e[108]])==null?void 0:K.title)??"Wi-Fi offline"),u(T,"title",C=(($=e[10][e[108]])==null?void 0:$.title)??"Wi-Fi offline"),u(g,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),R.p(i),this.first=l},m(U,K){N(U,l,K),a(l,n),a(n,i),i.checked=i.__value===e[3].w.s,a(n,f),a(n,r),a(r,c),a(c,_),a(r,d),a(r,v),a(v,y),a(l,M),a(l,g),a(g,T),a(g,F),G&&G.m(g,null),a(l,A),O||(z=ge(i,"change",e[63]),O=!0)},p(U,K){var $,le,H,Z,re,ae,fe,ce;e=U,K[0]&32&&s!==(s=e[106].s)&&(i.__value=s,te(i,i.__value),o=!0),(o||K[0]&40)&&(i.checked=i.__value===e[3].w.s),K[0]&36&&m!==(m=(e[106].s||(((le=($=e[2].conf)==null?void 0:$.connection)==null?void 0:le.hidden_ssid)??"Hidden network"))+"")&&I(_,m),K[0]&1060&&w!==(w=(((H=e[10][e[108]])==null?void 0:H.title)??((re=(Z=e[2].conf)==null?void 0:Z.connection)==null?void 0:re.wifi_offline)??"Signal unavailable")+"")&&I(y,w),K[0]&1056&&!rn(T.src,E=((ae=e[10][e[108]])==null?void 0:ae.icon)??e[13].off)&&u(T,"src",E),K[0]&1056&&D!==(D=((fe=e[10][e[108]])==null?void 0:fe.title)??"Wi-Fi offline")&&u(T,"alt",D),K[0]&1056&&C!==(C=((ce=e[10][e[108]])==null?void 0:ce.title)??"Wi-Fi offline")&&u(T,"title",C),e[3].w.s===e[106].s?G?G.p(e,K):(G=Da(e),G.c(),G.m(g,null)):G&&(G.d(1),G=null)},d(U){U&&S(l),G&&G.d(),R.r(),O=!1,z()}}}function Ra(t){var Mt,zt,pe,it,He,sl,Yt,xt,ul,ol,Qt,Zt,fl,Ae,de,jt,De,yt,al,_l,hl,gl,bl,vl,kl,Ol,Dl,Fl;let e,l,n=(((zt=(Mt=t[2].conf)==null?void 0:Mt.mqtt)==null?void 0:zt.title)??"MQTT")+"",i,s,o,f,r,c,m,_=(((it=(pe=t[2].conf)==null?void 0:pe.mqtt)==null?void 0:it.server)??"Server")+"",d,v,w,y,M,g,T,E,D,C,F,A,R=(((sl=(He=t[2].conf)==null?void 0:He.mqtt)==null?void 0:sl.user)??"Username")+"",O,z,G,B,W,j,Y=(((xt=(Yt=t[2].conf)==null?void 0:Yt.mqtt)==null?void 0:xt.pass)??"Password")+"",X,U,K,$,le,H,Z,re=(((ol=(ul=t[2].conf)==null?void 0:ul.mqtt)==null?void 0:ol.id)??"Client ID")+"",ae,fe,ce,ee,Q,J,he,Me=(((Zt=(Qt=t[2].conf)==null?void 0:Qt.mqtt)==null?void 0:Zt.payload)??"Payload")+"",P,b,L,q,V,ne,ie,_e,me,ue,be,ke,Ee,Ie,Re=(((Ae=(fl=t[2].conf)==null?void 0:fl.mqtt)==null?void 0:Ae.publish)??"Publish topic")+"",Ue,Ye,Qe,Le,tt,se,Ce=(((jt=(de=t[2].conf)==null?void 0:de.mqtt)==null?void 0:jt.subscribe)??"Subscribe topic")+"",lt,gt,mt,Ze,at,Ht,dt,Tt=(((yt=(De=t[2].conf)==null?void 0:De.mqtt)==null?void 0:yt.update)??"Update method")+"",Ct,qt,xe,pt=(((_l=(al=t[2].conf)==null?void 0:al.mqtt)==null?void 0:_l.interval)??"Interval")+"",Pe,je,Je,Xe,et,ve=(((gl=(hl=t[2].conf)==null?void 0:hl.mqtt)==null?void 0:gl.realtime)??"Real time")+"",qe,Lt,bt=(((vl=(bl=t[2].conf)==null?void 0:bl.mqtt)==null?void 0:vl.interval)??"Interval")+"",Be,ut,$e,It,Wt,ze,we=(((Ol=(kl=t[2].conf)==null?void 0:kl.mqtt)==null?void 0:Ol.timeout)??"Timeout")+"",Te,Ke,nt,st=(((Fl=(Dl=t[2].conf)==null?void 0:Dl.mqtt)==null?void 0:Fl.keepalive)??"Keep-alive")+"",_t,Vt,Ft,Dt,il,Ot,Ve,Rt,Gt,vt=t[0].chip!="esp8266"&&ja(t),rt=t[3].q.s.e&&Ba(t);return{c(){var Fe,ot;e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=k(_),v=h(),vt&&vt.c(),w=h(),y=p("br"),M=h(),g=p("div"),T=p("input"),E=h(),D=p("input"),C=h(),rt&&rt.c(),F=h(),A=p("div"),O=k(R),z=p("br"),G=h(),B=p("input"),W=h(),j=p("div"),X=k(Y),U=p("br"),K=h(),$=p("input"),le=h(),H=p("div"),Z=p("div"),ae=k(re),fe=p("br"),ce=h(),ee=p("input"),J=h(),he=p("div"),P=k(Me),b=p("br"),L=h(),q=p("select"),V=p("option"),V.textContent="Raw (minimal)",ne=p("option"),ne.textContent="Raw (full)",ie=p("option"),ie.textContent="Domoticz",_e=p("option"),_e.textContent="Home-Assistant",me=p("option"),me.textContent="JSON (classic)",ue=p("option"),ue.textContent="JSON (multi topic)",be=p("option"),be.textContent="JSON (flat)",ke=p("option"),ke.textContent="HEX dump",Ee=h(),Ie=p("div"),Ue=k(Re),Ye=p("br"),Qe=h(),Le=p("input"),tt=h(),se=p("div"),lt=k(Ce),gt=p("br"),mt=h(),Ze=p("input"),Ht=h(),dt=p("div"),Ct=k(Tt),qt=h(),xe=p("span"),Pe=k(pt),je=h(),Je=p("div"),Xe=p("select"),et=p("option"),qe=k(ve),Lt=p("option"),Be=k(bt),ut=h(),$e=p("input"),Wt=h(),ze=p("div"),Te=k(we),Ke=h(),nt=p("span"),_t=k(st),Vt=h(),Ft=p("div"),Dt=p("input"),il=h(),Ot=p("input"),u(l,"class","text-sm"),u(o,"href",Il("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(T,"name","qh"),u(T,"type","text"),u(T,"class","in-f w-2/3"),u(T,"pattern",en),u(D,"name","qp"),u(D,"type","number"),u(D,"min","1024"),u(D,"max","65535"),u(D,"class","in-l tr w-1/3"),u(g,"class","flex"),u(m,"class","my-1"),u(B,"name","qu"),u(B,"type","text"),u(B,"class","in-s"),u(B,"pattern",mi),u(A,"class","my-1"),u($,"name","qa"),u($,"type","password"),u($,"class","in-s"),u($,"pattern",mi),u(j,"class","my-1"),u(ee,"name","qc"),u(ee,"type","text"),u(ee,"class","in-f w-full"),ee.required=Q=t[3].q.h,u(ee,"pattern",di),V.__value=1,te(V,V.__value),ne.__value=2,te(ne,ne.__value),ie.__value=3,te(ie,ie.__value),_e.__value=4,te(_e,_e.__value),me.__value=0,te(me,me.__value),ue.__value=5,te(ue,ue.__value),be.__value=6,te(be,be.__value),ke.__value=255,te(ke,ke.__value),u(q,"name","qm"),u(q,"class","in-l"),t[3].q.m===void 0&&Jt(()=>t[75].call(q)),u(H,"class","my-1 flex"),u(Le,"name","qb"),u(Le,"type","text"),u(Le,"class","in-s"),u(Le,"pattern",en),u(Ie,"class","my-1"),u(Ze,"name","qr"),u(Ze,"type","text"),u(Ze,"class","in-s"),u(Ze,"pattern",en),u(Ze,"placeholder",at=t[3].q.b+"/command"),u(se,"class","my-1"),u(xe,"class","float-right"),et.__value=0,te(et,et.__value),Lt.__value=1,te(Lt,Lt.__value),u(Xe,"name","qt"),u(Xe,"class","in-f w-1/2"),t[3].q.t===void 0&&Jt(()=>t[78].call(Xe)),u($e,"name","qd"),u($e,"type","number"),u($e,"min","1"),u($e,"max","3600"),u($e,"class","in-l tr w-1/2"),$e.disabled=It=((ot=(Fe=t[3])==null?void 0:Fe.q)==null?void 0:ot.t)!=1,u(Je,"class","flex"),u(dt,"class","my-1"),u(nt,"class","float-right"),u(Dt,"name","qi"),u(Dt,"type","number"),u(Dt,"min","500"),u(Dt,"max","10000"),u(Dt,"class","in-f tr w-1/2"),u(Ot,"name","qk"),u(Ot,"type","number"),u(Ot,"min","5"),u(Ot,"max","180"),u(Ot,"class","in-l tr w-1/2"),u(Ft,"class","flex"),u(ze,"class","my-1"),u(e,"class","cnt")},m(Fe,ot){N(Fe,e,ot),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,v),vt&&vt.m(m,null),a(m,w),a(m,y),a(m,M),a(m,g),a(g,T),te(T,t[3].q.h),a(g,E),a(g,D),te(D,t[3].q.p),a(e,C),rt&&rt.m(e,null),a(e,F),a(e,A),a(A,O),a(A,z),a(A,G),a(A,B),te(B,t[3].q.u),a(e,W),a(e,j),a(j,X),a(j,U),a(j,K),a(j,$),te($,t[3].q.a),a(e,le),a(e,H),a(H,Z),a(Z,ae),a(Z,fe),a(Z,ce),a(Z,ee),te(ee,t[3].q.c),a(H,J),a(H,he),a(he,P),a(he,b),a(he,L),a(he,q),a(q,V),a(q,ne),a(q,ie),a(q,_e),a(q,me),a(q,ue),a(q,be),a(q,ke),ft(q,t[3].q.m,!0),a(e,Ee),a(e,Ie),a(Ie,Ue),a(Ie,Ye),a(Ie,Qe),a(Ie,Le),te(Le,t[3].q.b),a(e,tt),a(e,se),a(se,lt),a(se,gt),a(se,mt),a(se,Ze),te(Ze,t[3].q.r),a(e,Ht),a(e,dt),a(dt,Ct),a(dt,qt),a(dt,xe),a(xe,Pe),a(dt,je),a(dt,Je),a(Je,Xe),a(Xe,et),a(et,qe),a(Xe,Lt),a(Lt,Be),ft(Xe,t[3].q.t,!0),a(Je,ut),a(Je,$e),te($e,t[3].q.d),a(e,Wt),a(e,ze),a(ze,Te),a(ze,Ke),a(ze,nt),a(nt,_t),a(ze,Vt),a(ze,Ft),a(Ft,Dt),te(Dt,t[3].q.i),a(Ft,il),a(Ft,Ot),te(Ot,t[3].q.k),Ve=!0,Rt||(Gt=[ge(T,"input",t[70]),ge(D,"input",t[71]),ge(B,"input",t[72]),ge($,"input",t[73]),ge(ee,"input",t[74]),ge(q,"change",t[75]),ge(Le,"input",t[76]),ge(Ze,"input",t[77]),ge(Xe,"change",t[78]),ge($e,"input",t[79]),ge(Dt,"input",t[80]),ge(Ot,"input",t[81])],Rt=!0)},p(Fe,ot){var Rl,jl,Bl,Ul,Hl,Wl,zl,Kl,Vl,Gl,Yl,Xl,Oe,ht,$t,Jl,Ql,wn,Mn,yn,Sn,Nn,Cn,Pn,Tn,An,En,qn,Ln,In;(!Ve||ot[0]&4)&&n!==(n=(((jl=(Rl=Fe[2].conf)==null?void 0:Rl.mqtt)==null?void 0:jl.title)??"MQTT")+"")&&I(i,n),(!Ve||ot[0]&4)&&_!==(_=(((Ul=(Bl=Fe[2].conf)==null?void 0:Bl.mqtt)==null?void 0:Ul.server)??"Server")+"")&&I(d,_),Fe[0].chip!="esp8266"?vt?vt.p(Fe,ot):(vt=ja(Fe),vt.c(),vt.m(m,w)):vt&&(vt.d(1),vt=null),ot[0]&8&&T.value!==Fe[3].q.h&&te(T,Fe[3].q.h),ot[0]&8&&kt(D.value)!==Fe[3].q.p&&te(D,Fe[3].q.p),Fe[3].q.s.e?rt?(rt.p(Fe,ot),ot[0]&8&&x(rt,1)):(rt=Ba(Fe),rt.c(),x(rt,1),rt.m(e,F)):rt&&(St(),oe(rt,1,1,()=>{rt=null}),Nt()),(!Ve||ot[0]&4)&&R!==(R=(((Wl=(Hl=Fe[2].conf)==null?void 0:Hl.mqtt)==null?void 0:Wl.user)??"Username")+"")&&I(O,R),ot[0]&8&&B.value!==Fe[3].q.u&&te(B,Fe[3].q.u),(!Ve||ot[0]&4)&&Y!==(Y=(((Kl=(zl=Fe[2].conf)==null?void 0:zl.mqtt)==null?void 0:Kl.pass)??"Password")+"")&&I(X,Y),ot[0]&8&&$.value!==Fe[3].q.a&&te($,Fe[3].q.a),(!Ve||ot[0]&4)&&re!==(re=(((Gl=(Vl=Fe[2].conf)==null?void 0:Vl.mqtt)==null?void 0:Gl.id)??"Client ID")+"")&&I(ae,re),(!Ve||ot[0]&8&&Q!==(Q=Fe[3].q.h))&&(ee.required=Q),ot[0]&8&&ee.value!==Fe[3].q.c&&te(ee,Fe[3].q.c),(!Ve||ot[0]&4)&&Me!==(Me=(((Xl=(Yl=Fe[2].conf)==null?void 0:Yl.mqtt)==null?void 0:Xl.payload)??"Payload")+"")&&I(P,Me),ot[0]&8&&ft(q,Fe[3].q.m),(!Ve||ot[0]&4)&&Re!==(Re=(((ht=(Oe=Fe[2].conf)==null?void 0:Oe.mqtt)==null?void 0:ht.publish)??"Publish topic")+"")&&I(Ue,Re),ot[0]&8&&Le.value!==Fe[3].q.b&&te(Le,Fe[3].q.b),(!Ve||ot[0]&4)&&Ce!==(Ce=(((Jl=($t=Fe[2].conf)==null?void 0:$t.mqtt)==null?void 0:Jl.subscribe)??"Subscribe topic")+"")&&I(lt,Ce),(!Ve||ot[0]&8&&at!==(at=Fe[3].q.b+"/command"))&&u(Ze,"placeholder",at),ot[0]&8&&Ze.value!==Fe[3].q.r&&te(Ze,Fe[3].q.r),(!Ve||ot[0]&4)&&Tt!==(Tt=(((wn=(Ql=Fe[2].conf)==null?void 0:Ql.mqtt)==null?void 0:wn.update)??"Update method")+"")&&I(Ct,Tt),(!Ve||ot[0]&4)&&pt!==(pt=(((yn=(Mn=Fe[2].conf)==null?void 0:Mn.mqtt)==null?void 0:yn.interval)??"Interval")+"")&&I(Pe,pt),(!Ve||ot[0]&4)&&ve!==(ve=(((Nn=(Sn=Fe[2].conf)==null?void 0:Sn.mqtt)==null?void 0:Nn.realtime)??"Real time")+"")&&I(qe,ve),(!Ve||ot[0]&4)&&bt!==(bt=(((Pn=(Cn=Fe[2].conf)==null?void 0:Cn.mqtt)==null?void 0:Pn.interval)??"Interval")+"")&&I(Be,bt),ot[0]&8&&ft(Xe,Fe[3].q.t),(!Ve||ot[0]&8&&It!==(It=((An=(Tn=Fe[3])==null?void 0:Tn.q)==null?void 0:An.t)!=1))&&($e.disabled=It),ot[0]&8&&kt($e.value)!==Fe[3].q.d&&te($e,Fe[3].q.d),(!Ve||ot[0]&4)&&we!==(we=(((qn=(En=Fe[2].conf)==null?void 0:En.mqtt)==null?void 0:qn.timeout)??"Timeout")+"")&&I(Te,we),(!Ve||ot[0]&4)&&st!==(st=(((In=(Ln=Fe[2].conf)==null?void 0:Ln.mqtt)==null?void 0:In.keepalive)??"Keep-alive")+"")&&I(_t,st),ot[0]&8&&kt(Dt.value)!==Fe[3].q.i&&te(Dt,Fe[3].q.i),ot[0]&8&&kt(Ot.value)!==Fe[3].q.k&&te(Ot,Fe[3].q.k)},i(Fe){Ve||(x(rt),Ve=!0)},o(Fe){oe(rt),Ve=!1},d(Fe){Fe&&S(e),vt&&vt.d(),rt&&rt.d(),Rt=!1,Ut(Gt)}}}function ja(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=k(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",te(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){N(o,e,f),a(e,l),l.checked=t[3].q.s.e,a(e,n),i||(s=[ge(l,"change",t[69]),ge(l,"change",t[22])],i=!0)},p(o,f){f[0]&8&&(l.checked=o[3].q.s.e)},d(o){o&&S(e),i=!1,Ut(s)}}}function Ba(t){let e,l,n,i,s,o,f,r,c,m,_,d,v;const w=[H1,U1],y=[];function M(A,R){return A[3].q.s.c?0:1}n=M(t),i=y[n]=w[n](t);const g=[V1,K1],T=[];function E(A,R){return A[3].q.s.r?0:1}f=E(t),r=T[f]=g[f](t);const D=[J1,X1],C=[];function F(A,R){return A[3].q.s.k?0:1}return _=F(t),d=C[_]=D[_](t),{c(){e=p("div"),l=p("span"),i.c(),s=h(),o=p("span"),r.c(),c=h(),m=p("span"),d.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(A,R){N(A,e,R),a(e,l),y[n].m(l,null),a(e,s),a(e,o),T[f].m(o,null),a(e,c),a(e,m),C[_].m(m,null),v=!0},p(A,R){let O=n;n=M(A),n===O?y[n].p(A,R):(St(),oe(y[O],1,1,()=>{y[O]=null}),Nt(),i=y[n],i?i.p(A,R):(i=y[n]=w[n](A),i.c()),x(i,1),i.m(l,null));let z=f;f=E(A),f===z?T[f].p(A,R):(St(),oe(T[z],1,1,()=>{T[z]=null}),Nt(),r=T[f],r?r.p(A,R):(r=T[f]=g[f](A),r.c()),x(r,1),r.m(o,null));let G=_;_=F(A),_===G?C[_].p(A,R):(St(),oe(C[G],1,1,()=>{C[G]=null}),Nt(),d=C[_],d?d.p(A,R):(d=C[_]=D[_](A),d.c()),x(d,1),d.m(m,null))},i(A){v||(x(i),x(r),x(d),v=!0)},o(A){oe(i),oe(r),oe(d),v=!1},d(A){A&&S(e),y[n].d(),T[f].d(),C[_].d()}}}function U1(t){let e,l;return e=new Ml({props:{to:"/mqtt-ca",$$slots:{default:[W1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function H1(t){let e,l,n,i,s,o,f;return l=new Ml({props:{to:"/mqtt-ca",$$slots:{default:[z1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(f=[ge(i,"click",t[19]),ge(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(x(l.$$.fragment,r),s=!0)},o(r){oe(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),Se(l),o=!1,Ut(f)}}}function W1(t){var n,i,s,o;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,v;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((v=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:v.title_ca)??""),e.$set(c)},i(f){l||(x(e.$$.fragment,f),l=!0)},o(f){oe(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function z1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=k(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&I(l,e)},d(s){s&&S(l)}}}function K1(t){let e,l;return e=new Ml({props:{to:"/mqtt-cert",$$slots:{default:[G1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function V1(t){let e,l,n,i,s,o,f;return l=new Ml({props:{to:"/mqtt-cert",$$slots:{default:[Y1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(f=[ge(i,"click",t[20]),ge(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(x(l.$$.fragment,r),s=!0)},o(r){oe(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),Se(l),o=!1,Ut(f)}}}function G1(t){var n,i,s,o;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,v;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((v=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:v.title_crt)??""),e.$set(c)},i(f){l||(x(e.$$.fragment,f),l=!0)},o(f){oe(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function Y1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=k(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&I(l,e)},d(s){s&&S(l)}}}function X1(t){let e,l;return e=new Ml({props:{to:"/mqtt-key",$$slots:{default:[Q1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function J1(t){let e,l,n,i,s,o,f;return l=new Ml({props:{to:"/mqtt-key",$$slots:{default:[Z1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(f=[ge(i,"click",t[21]),ge(i,"keypress",t[21])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(x(l.$$.fragment,r),s=!0)},o(r){oe(l.$$.fragment,r),s=!1},d(r){r&&(S(e),S(n),S(i)),Se(l),o=!1,Ut(f)}}}function Q1(t){var n,i,s,o;let e,l;return e=new Vn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,v;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((v=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:v.title_key)??""),e.$set(c)},i(f){l||(x(e.$$.fragment,f),l=!0)},o(f){oe(e.$$.fragment,f),l=!1},d(f){Se(e,f)}}}function Z1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=k(e)},m(s,o){N(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&I(l,e)},d(s){s&&S(l)}}}function Ua(t){var H,Z,re,ae,fe,ce,ee,Q,J,he,Me,P;let e,l,n=(((re=(Z=(H=t[2].conf)==null?void 0:H.mqtt)==null?void 0:Z.domoticz)==null?void 0:re.title)??"Domoticz")+"",i,s,o,f,r,c,m,_,d=(((ce=(fe=(ae=t[2].conf)==null?void 0:ae.mqtt)==null?void 0:fe.domoticz)==null?void 0:ce.eidx)??"Electricity IDX")+"",v,w,y,M,g,T,E=(((J=(Q=(ee=t[2].conf)==null?void 0:ee.mqtt)==null?void 0:Q.domoticz)==null?void 0:J.cidx)??"Current IDX")+"",D,C,F,A,R,O,z=(((P=(Me=(he=t[2].conf)==null?void 0:he.mqtt)==null?void 0:Me.domoticz)==null?void 0:P.vidx)??"Voltage IDX")+"",G,B,W,j,Y,X,U,K,$,le;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=p("div"),v=k(d),w=p("br"),y=h(),M=p("input"),g=h(),T=p("div"),D=k(E),C=p("br"),F=h(),A=p("input"),R=h(),O=p("div"),G=k(z),B=k(`: L1, L2 & L3
                    `),W=p("div"),j=p("input"),Y=h(),X=p("input"),U=h(),K=p("input"),u(l,"class","text-sm"),u(o,"href",Il("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(M,"name","oe"),u(M,"type","text"),u(M,"class","in-f tr w-full"),u(M,"pattern",On),u(_,"class","w-1/2"),u(A,"name","oc"),u(A,"type","text"),u(A,"class","in-l tr w-full"),u(A,"pattern",On),u(T,"class","w-1/2"),u(m,"class","my-1 flex"),u(j,"name","ou1"),u(j,"type","text"),u(j,"class","in-f tr w-1/3"),u(j,"pattern",On),u(X,"name","ou2"),u(X,"type","text"),u(X,"class","in-m tr w-1/3"),u(X,"pattern",On),u(K,"name","ou3"),u(K,"type","text"),u(K,"class","in-l tr w-1/3"),u(K,"pattern",On),u(W,"class","flex"),u(O,"class","my-1"),u(e,"class","cnt")},m(b,L){N(b,e,L),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(_,v),a(_,w),a(_,y),a(_,M),te(M,t[3].o.e),a(m,g),a(m,T),a(T,D),a(T,C),a(T,F),a(T,A),te(A,t[3].o.c),a(e,R),a(e,O),a(O,G),a(O,B),a(O,W),a(W,j),te(j,t[3].o.u1),a(W,Y),a(W,X),te(X,t[3].o.u2),a(W,U),a(W,K),te(K,t[3].o.u3),$||(le=[ge(M,"input",t[82]),ge(A,"input",t[83]),ge(j,"input",t[84]),ge(X,"input",t[85]),ge(K,"input",t[86])],$=!0)},p(b,L){var q,V,ne,ie,_e,me,ue,be,ke,Ee,Ie,Re;L[0]&4&&n!==(n=(((ne=(V=(q=b[2].conf)==null?void 0:q.mqtt)==null?void 0:V.domoticz)==null?void 0:ne.title)??"Domoticz")+"")&&I(i,n),L[0]&4&&d!==(d=(((me=(_e=(ie=b[2].conf)==null?void 0:ie.mqtt)==null?void 0:_e.domoticz)==null?void 0:me.eidx)??"Electricity IDX")+"")&&I(v,d),L[0]&8&&M.value!==b[3].o.e&&te(M,b[3].o.e),L[0]&4&&E!==(E=(((ke=(be=(ue=b[2].conf)==null?void 0:ue.mqtt)==null?void 0:be.domoticz)==null?void 0:ke.cidx)??"Current IDX")+"")&&I(D,E),L[0]&8&&A.value!==b[3].o.c&&te(A,b[3].o.c),L[0]&4&&z!==(z=(((Re=(Ie=(Ee=b[2].conf)==null?void 0:Ee.mqtt)==null?void 0:Ie.domoticz)==null?void 0:Re.vidx)??"Voltage IDX")+"")&&I(G,z),L[0]&8&&j.value!==b[3].o.u1&&te(j,b[3].o.u1),L[0]&8&&X.value!==b[3].o.u2&&te(X,b[3].o.u2),L[0]&8&&K.value!==b[3].o.u3&&te(K,b[3].o.u3)},d(b){b&&S(e),$=!1,Ut(le)}}}function Ha(t){var U,K,$,le,H,Z,re,ae,fe,ce,ee,Q;let e,l,n=((($=(K=(U=t[2].conf)==null?void 0:U.mqtt)==null?void 0:K.ha)==null?void 0:$.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,_=(((Z=(H=(le=t[2].conf)==null?void 0:le.mqtt)==null?void 0:H.ha)==null?void 0:Z.discovery)??"Discovery topic prefix")+"",d,v,w,y,M,g,T=(((fe=(ae=(re=t[2].conf)==null?void 0:re.mqtt)==null?void 0:ae.ha)==null?void 0:fe.hostname)??"Hostname for URL")+"",E,D,C,F,A,R,O,z=(((Q=(ee=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:ee.ha)==null?void 0:Q.tag)??"Name tag")+"",G,B,W,j,Y,X;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=k(_),v=p("br"),w=h(),y=p("input"),M=h(),g=p("div"),E=k(T),D=p("br"),C=h(),F=p("input"),R=h(),O=p("div"),G=k(z),B=p("br"),W=h(),j=p("input"),u(l,"class","text-sm"),u(o,"href",Il("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(y,"name","ht"),u(y,"type","text"),u(y,"class","in-s"),u(y,"placeholder","homeassistant"),u(y,"pattern",en),u(m,"class","my-1"),u(F,"name","hh"),u(F,"type","text"),u(F,"class","in-s"),u(F,"placeholder",A=t[3].g.h+".local"),u(F,"pattern",en),u(g,"class","my-1"),u(j,"name","hn"),u(j,"type","text"),u(j,"class","in-s"),u(j,"pattern",en),u(O,"class","my-1"),u(e,"class","cnt")},m(J,he){N(J,e,he),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,v),a(m,w),a(m,y),te(y,t[3].h.t),a(e,M),a(e,g),a(g,E),a(g,D),a(g,C),a(g,F),te(F,t[3].h.h),a(e,R),a(e,O),a(O,G),a(O,B),a(O,W),a(O,j),te(j,t[3].h.n),Y||(X=[ge(y,"input",t[87]),ge(F,"input",t[88]),ge(j,"input",t[89])],Y=!0)},p(J,he){var Me,P,b,L,q,V,ne,ie,_e,me,ue,be;he[0]&4&&n!==(n=(((b=(P=(Me=J[2].conf)==null?void 0:Me.mqtt)==null?void 0:P.ha)==null?void 0:b.title)??"Home-Assistant")+"")&&I(i,n),he[0]&4&&_!==(_=(((V=(q=(L=J[2].conf)==null?void 0:L.mqtt)==null?void 0:q.ha)==null?void 0:V.discovery)??"Discovery topic prefix")+"")&&I(d,_),he[0]&8&&y.value!==J[3].h.t&&te(y,J[3].h.t),he[0]&4&&T!==(T=(((_e=(ie=(ne=J[2].conf)==null?void 0:ne.mqtt)==null?void 0:ie.ha)==null?void 0:_e.hostname)??"Hostname for URL")+"")&&I(E,T),he[0]&8&&A!==(A=J[3].g.h+".local")&&u(F,"placeholder",A),he[0]&8&&F.value!==J[3].h.h&&te(F,J[3].h.h),he[0]&4&&z!==(z=(((be=(ue=(me=J[2].conf)==null?void 0:me.mqtt)==null?void 0:ue.ha)==null?void 0:be.tag)??"Name tag")+"")&&I(G,z),he[0]&8&&j.value!==J[3].h.n&&te(j,J[3].h.n)},d(J){J&&S(e),Y=!1,Ut(X)}}}function Wa(t){var z,G,B,W,j;let e,l,n=(((G=(z=t[2].conf)==null?void 0:z.thresholds)==null?void 0:G.title)??"Thresholds")+"",i,s,o,f,r,c,m,_,d,v,w=(((W=(B=t[2].conf)==null?void 0:B.thresholds)==null?void 0:W.avg)??"Average of")+"",y,M,g,T,E,D=(((j=t[2].common)==null?void 0:j.hours)??"hours")+"",C,F,A,R=Ge({length:9}),O=[];for(let Y=0;Y<R.length;Y+=1)O[Y]=za(ma(t,R,Y));return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let Y=0;Y<O.length;Y+=1)O[Y].c();_=h(),d=p("label"),v=p("span"),y=k(w),M=h(),g=p("input"),T=h(),E=p("span"),C=k(D),u(l,"class","text-sm"),u(o,"href",Il("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(v,"class","in-pre"),u(g,"name","th"),u(g,"type","number"),u(g,"min","0"),u(g,"max","255"),u(g,"class","in-txt tr w-full"),u(E,"class","in-post"),u(d,"class","flex m-1"),u(e,"class","cnt")},m(Y,X){N(Y,e,X),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let U=0;U<O.length;U+=1)O[U]&&O[U].m(m,null);a(e,_),a(e,d),a(d,v),a(v,y),a(d,M),a(d,g),te(g,t[3].t.h),a(d,T),a(d,E),a(E,C),F||(A=ge(g,"input",t[91]),F=!0)},p(Y,X){var U,K,$,le,H;if(X[0]&4&&n!==(n=(((K=(U=Y[2].conf)==null?void 0:U.thresholds)==null?void 0:K.title)??"Thresholds")+"")&&I(i,n),X[0]&8){R=Ge({length:9});let Z;for(Z=0;Z<R.length;Z+=1){const re=ma(Y,R,Z);O[Z]?O[Z].p(re,X):(O[Z]=za(re),O[Z].c(),O[Z].m(m,null))}for(;Z<O.length;Z+=1)O[Z].d(1);O.length=R.length}X[0]&4&&w!==(w=(((le=($=Y[2].conf)==null?void 0:$.thresholds)==null?void 0:le.avg)??"Average of")+"")&&I(y,w),X[0]&8&&kt(g.value)!==Y[3].t.h&&te(g,Y[3].t.h),X[0]&4&&D!==(D=(((H=Y[2].common)==null?void 0:H.hours)??"hours")+"")&&I(C,D)},d(Y){Y&&S(e),Xt(O,Y),F=!1,A()}}}function za(t){let e,l,n,i,s,o,f,r,c;function m(){t[90].call(i,t[105])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[105]+1}`,n=h(),i=p("input"),s=h(),o=p("span"),o.textContent="kWh",f=h(),u(l,"class","in-pre"),u(i,"name","t"+t[105]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(_,d){N(_,e,d),a(e,l),a(e,n),a(e,i),te(i,t[3].t.t[t[105]]),a(e,s),a(e,o),a(e,f),r||(c=ge(i,"input",m),r=!0)},p(_,d){t=_,d[0]&8&&kt(i.value)!==t[3].t.t[t[105]]&&te(i,t[3].t.t[t[105]])},d(_){_&&S(e),r=!1,c()}}}function Ka(t){var v,w;let e,l,n=(((w=(v=t[2].conf)==null?void 0:v.ui)==null?void 0:w.title)??"User interface")+"",i,s,o,f,r,c,m,_=Ge(t[15]),d=[];for(let y=0;y<_.length;y+=1)d[y]=Va(ca(t,_,y));return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let y=0;y<d.length;y+=1)d[y].c();u(l,"class","text-sm"),u(o,"href",Il("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(y,M){N(y,e,M),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(m,null)},p(y,M){var g,T;if(M[0]&4&&n!==(n=(((T=(g=y[2].conf)==null?void 0:g.ui)==null?void 0:T.title)??"User interface")+"")&&I(i,n),M[0]&32780){_=Ge(y[15]);let E;for(E=0;E<_.length;E+=1){const D=ca(y,_,E);d[E]?d[E].p(D,M):(d[E]=Va(D),d[E].c(),d[E].m(m,null))}for(;E<d.length;E+=1)d[E].d(1);d.length=_.length}},d(y){y&&S(e),Xt(d,y)}}}function Va(t){var D,C,F,A,R,O,z,G;let e,l=(((C=(D=t[2].conf)==null?void 0:D.ui)==null?void 0:C[t[100].key])??t[100].name)+"",n,i,s,o,f,r=(((A=(F=t[2].conf)==null?void 0:F.ui)==null?void 0:A.disabled)??"Disabled")+"",c,m,_=(((O=(R=t[2].conf)==null?void 0:R.ui)==null?void 0:O.enabled)??"Enabled")+"",d,v,w=(((G=(z=t[2].conf)==null?void 0:z.ui)==null?void 0:G.auto)??"Auto")+"",y,M,g,T;function E(){t[92].call(o,t[100])}return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("select"),f=p("option"),c=k(r),m=p("option"),d=k(_),v=p("option"),y=k(w),M=h(),f.__value=0,te(f,f.__value),m.__value=1,te(m,m.__value),v.__value=2,te(v,v.__value),u(o,"name","u"+t[100].key),u(o,"class","in-s"),t[3].u[t[100].key]===void 0&&Jt(E),u(e,"class","w-1/2")},m(B,W){N(B,e,W),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,d),a(o,v),a(v,y),ft(o,t[3].u[t[100].key],!0),a(e,M),g||(T=ge(o,"change",E),g=!0)},p(B,W){var j,Y,X,U,K,$,le,H;t=B,W[0]&4&&l!==(l=(((Y=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:Y[t[100].key])??t[100].name)+"")&&I(n,l),W[0]&4&&r!==(r=(((U=(X=t[2].conf)==null?void 0:X.ui)==null?void 0:U.disabled)??"Disabled")+"")&&I(c,r),W[0]&4&&_!==(_=((($=(K=t[2].conf)==null?void 0:K.ui)==null?void 0:$.enabled)??"Enabled")+"")&&I(d,_),W[0]&4&&w!==(w=(((H=(le=t[2].conf)==null?void 0:le.ui)==null?void 0:H.auto)??"Auto")+"")&&I(y,w),W[0]&32776&&ft(o,t[3].u[t[100].key])},d(B){B&&S(e),g=!1,T()}}}function Ga(t){var d,v;let e,l,n=(((d=t[2].conf)==null?void 0:d.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((v=t[2].btn)==null?void 0:v.reboot)??"Reboot")+"",c,m,_;return{c(){e=p("div"),l=p("button"),i=k(n),s=h(),o=p("div"),f=p("button"),c=k(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(w,y){N(w,e,y),a(e,l),a(l,i),N(w,s,y),N(w,o,y),a(o,f),a(f,c),m||(_=[ge(l,"click",t[16]),ge(f,"click",t[18])],m=!0)},p(w,y){var M,g;y[0]&4&&n!==(n=(((M=w[2].conf)==null?void 0:M.btn_reset)??"Factory reset")+"")&&I(i,n),y[0]&4&&r!==(r=(((g=w[2].btn)==null?void 0:g.reboot)??"Reboot")+"")&&I(c,r)},d(w){w&&(S(e),S(s),S(o)),m=!1,Ut(_)}}}function Ya(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=k(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){N(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&I(i,n)},d(o){o&&S(e)}}}function $1(t){var re,ae,fe,ce,ee,Q,J,he,Me,P,b,L,q,V,ne,ie,_e,me,ue,be,ke,Ee,Ie,Re,Ue,Ye,Qe,Le,tt;let e,l,n,i,s,o,f,r,c,m,_=((fe=(ae=(re=t[3])==null?void 0:re.p)==null?void 0:ae.r)==null?void 0:fe.startsWith("NO"))||((Q=(ee=(ce=t[3])==null?void 0:ce.p)==null?void 0:ee.r)==null?void 0:Q.startsWith("10YNO"))||((Me=(he=(J=t[3])==null?void 0:J.p)==null?void 0:he.r)==null?void 0:Me.startsWith("10Y1001A1001A4")),d,v,w,y,M,g,T,E,D,C,F,A,R,O,z,G=((P=t[3])==null?void 0:P.g)&&ha(t),B=((b=t[3])==null?void 0:b.fw)&&wa(t),W=((L=t[3])==null?void 0:L.d)&&Ma(t),j=((q=t[3])==null?void 0:q.m)&&Sa(t),Y=((V=t[3])==null?void 0:V.w)&&La(t),X=((ne=t[3])==null?void 0:ne.q)&&Ra(t),U=((_e=(ie=t[3])==null?void 0:ie.q)==null?void 0:_e.m)==3&&Ua(t),K=((ue=(me=t[3])==null?void 0:me.q)==null?void 0:ue.m)==4&&Ha(t),$=_&&Wa(t),le=((be=t[3])==null?void 0:be.u)&&Ka(t),H=((ke=t[1])==null?void 0:ke.a)&&Ga(t),Z=t[3]&&Ya(t);return g=new cl({props:{active:t[6],message:((Ie=(Ee=t[2].conf)==null?void 0:Ee.mask)==null?void 0:Ie.loading)??"Loading"}}),E=new cl({props:{active:t[7],message:((Ue=(Re=t[2].conf)==null?void 0:Re.mask)==null?void 0:Ue.saving)??"Saving"}}),C=new cl({props:{active:t[11],message:((Qe=(Ye=t[2].conf)==null?void 0:Ye.mask)==null?void 0:Qe.reset)??"Factory reset"}}),A=new cl({props:{active:t[12],message:((tt=(Le=t[2].conf)==null?void 0:Le.mask)==null?void 0:tt.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),G&&G.c(),n=h(),B&&B.c(),i=h(),W&&W.c(),s=h(),j&&j.c(),o=h(),Y&&Y.c(),f=h(),X&&X.c(),r=h(),U&&U.c(),c=h(),K&&K.c(),m=h(),$&&$.c(),d=h(),le&&le.c(),v=h(),w=p("div"),H&&H.c(),y=h(),Z&&Z.c(),M=h(),Ne(g.$$.fragment),T=h(),Ne(E.$$.fragment),D=h(),Ne(C.$$.fragment),F=h(),Ne(A.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(w,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(se,Ce){N(se,e,Ce),a(e,l),G&&G.m(l,null),a(l,n),B&&B.m(l,null),a(l,i),W&&W.m(l,null),a(l,s),j&&j.m(l,null),a(l,o),Y&&Y.m(l,null),a(l,f),X&&X.m(l,null),a(l,r),U&&U.m(l,null),a(l,c),K&&K.m(l,null),a(l,m),$&&$.m(l,null),a(l,d),le&&le.m(l,null),a(e,v),a(e,w),H&&H.m(w,null),a(w,y),Z&&Z.m(w,null),N(se,M,Ce),ye(g,se,Ce),N(se,T,Ce),ye(E,se,Ce),N(se,D,Ce),ye(C,se,Ce),N(se,F,Ce),ye(A,se,Ce),R=!0,O||(z=ge(e,"submit",Gn(t[17])),O=!0)},p(se,Ce){var at,Ht,dt,Tt,Ct,qt,xe,pt,Pe,je,Je,Xe,et,ve,qe,Lt,bt,Be,ut,$e,It,Wt,ze,we,Te,Ke,nt,st,_t;(at=se[3])!=null&&at.g?G?(G.p(se,Ce),Ce[0]&8&&x(G,1)):(G=ha(se),G.c(),x(G,1),G.m(l,n)):G&&(St(),oe(G,1,1,()=>{G=null}),Nt()),(Ht=se[3])!=null&&Ht.fw?B?B.p(se,Ce):(B=wa(se),B.c(),B.m(l,i)):B&&(B.d(1),B=null),(dt=se[3])!=null&&dt.d?W?W.p(se,Ce):(W=Ma(se),W.c(),W.m(l,s)):W&&(W.d(1),W=null),(Tt=se[3])!=null&&Tt.m?j?j.p(se,Ce):(j=Sa(se),j.c(),j.m(l,o)):j&&(j.d(1),j=null),(Ct=se[3])!=null&&Ct.w?Y?Y.p(se,Ce):(Y=La(se),Y.c(),Y.m(l,f)):Y&&(Y.d(1),Y=null),(qt=se[3])!=null&&qt.q?X?(X.p(se,Ce),Ce[0]&8&&x(X,1)):(X=Ra(se),X.c(),x(X,1),X.m(l,r)):X&&(St(),oe(X,1,1,()=>{X=null}),Nt()),((pt=(xe=se[3])==null?void 0:xe.q)==null?void 0:pt.m)==3?U?U.p(se,Ce):(U=Ua(se),U.c(),U.m(l,c)):U&&(U.d(1),U=null),((je=(Pe=se[3])==null?void 0:Pe.q)==null?void 0:je.m)==4?K?K.p(se,Ce):(K=Ha(se),K.c(),K.m(l,m)):K&&(K.d(1),K=null),Ce[0]&8&&(_=((et=(Xe=(Je=se[3])==null?void 0:Je.p)==null?void 0:Xe.r)==null?void 0:et.startsWith("NO"))||((Lt=(qe=(ve=se[3])==null?void 0:ve.p)==null?void 0:qe.r)==null?void 0:Lt.startsWith("10YNO"))||((ut=(Be=(bt=se[3])==null?void 0:bt.p)==null?void 0:Be.r)==null?void 0:ut.startsWith("10Y1001A1001A4"))),_?$?$.p(se,Ce):($=Wa(se),$.c(),$.m(l,d)):$&&($.d(1),$=null),($e=se[3])!=null&&$e.u?le?le.p(se,Ce):(le=Ka(se),le.c(),le.m(l,null)):le&&(le.d(1),le=null),(It=se[1])!=null&&It.a?H?H.p(se,Ce):(H=Ga(se),H.c(),H.m(w,y)):H&&(H.d(1),H=null),se[3]?Z?Z.p(se,Ce):(Z=Ya(se),Z.c(),Z.m(w,null)):Z&&(Z.d(1),Z=null);const lt={};Ce[0]&64&&(lt.active=se[6]),Ce[0]&4&&(lt.message=((ze=(Wt=se[2].conf)==null?void 0:Wt.mask)==null?void 0:ze.loading)??"Loading"),g.$set(lt);const gt={};Ce[0]&128&&(gt.active=se[7]),Ce[0]&4&&(gt.message=((Te=(we=se[2].conf)==null?void 0:we.mask)==null?void 0:Te.saving)??"Saving"),E.$set(gt);const mt={};Ce[0]&2048&&(mt.active=se[11]),Ce[0]&4&&(mt.message=((nt=(Ke=se[2].conf)==null?void 0:Ke.mask)==null?void 0:nt.reset)??"Factory reset"),C.$set(mt);const Ze={};Ce[0]&4096&&(Ze.active=se[12]),Ce[0]&4&&(Ze.message=((_t=(st=se[2].conf)==null?void 0:st.mask)==null?void 0:_t.reset_done)??"Done"),A.$set(Ze)},i(se){R||(x(G),x(X),x(g.$$.fragment,se),x(E.$$.fragment,se),x(C.$$.fragment,se),x(A.$$.fragment,se),R=!0)},o(se){oe(G),oe(X),oe(g.$$.fragment,se),oe(E.$$.fragment,se),oe(C.$$.fragment,se),oe(A.$$.fragment,se),R=!1},d(se){se&&(S(e),S(M),S(T),S(D),S(F)),G&&G.d(),B&&B.d(),W&&W.d(),j&&j.d(),Y&&Y.d(),X&&X.d(),U&&U.d(),K&&K.d(),$&&$.d(),le&&le.d(),H&&H.d(),Z&&Z.d(),Se(g,se),Se(E,se),Se(C,se),Se(A,se),O=!1,z()}}}async function x1(){await(await fetch("reboot",{method:"POST"})).json()}function Xa(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function em(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:Qf,medium:Jf,low:Xf,off:Zf};o.off;let f={};Sl.subscribe(we=>{l(2,f=we)});const r=[{value:0,label:"Verbose"},{value:1,label:"Debug"},{value:2,label:"Info"},{value:3,label:"Warning"},{value:4,label:"Error"},{value:5,label:"Silent"}];let c=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],m=!0,_=!1,d,v=[],w="",y=null;gn.subscribe(we=>{var Te,Ke,nt,st;if(we.version){(Te=we==null?void 0:we.c)==null||Te.e,l(3,d=we),l(6,m=!1);const _t=((Ke=f.consent)==null?void 0:Ke.load_from_server)??"Load from server";l(4,v=[{code:"no",name:"Norsk"},{code:"en",name:"English"}]),d!=null&&d.fw?l(3,d.fw={a:!!d.fw.a,s:Number(d.fw.s??2),e:Number(d.fw.e??3)},d):l(3,d={...d,fw:{a:!1,s:2,e:3}}),d!=null&&d.fw&&l(3,d.fw.e=Number(d.fw.s??d.fw.e??2),d),d!=null&&d.d?l(3,d.d={s:d.d.s===!0||d.d.s==="true",t:d.d.t===!0||d.d.t==="true",l:Number(d.d.l??4)},d):l(3,d={...d,d:{s:!1,t:!1,l:4}}),(nt=d==null?void 0:d.u)!=null&&nt.lang&&!v.find(Vt=>Vt.code===d.u.lang)&&v.push({code:d.u.lang,name:((st=f.language)==null?void 0:st.name)??"Unknown"}),v.push({code:"hub",name:_t})}}),lu();let M={},g=[];Yf.subscribe(we=>{var Te;for(let Ke=0;Ke<we.n.length&&we.n[Ke].s!=((Te=d==null?void 0:d.w)==null?void 0:Te.s);Ke++);l(5,M=we)});let T=!1,E=!1;async function D(){if(confirm("Factory reset?")){l(11,T=!0);const we=new URLSearchParams;we.append("perform","true");let Ke=await(await fetch("reset",{method:"POST",body:we})).json();l(11,T=!1),l(12,E=Ke.success)}}async function C(we){l(7,_=!0);const Te=new FormData(we.target),Ke=new URLSearchParams;for(let _t of Te){const[Vt,Ft]=_t;Ke.append(Vt,Ft)}let st=await(await fetch("save",{method:"POST",body:Ke})).json();ml.update(_t=>(_t.hostname=Te.get("gh"),_t.usrcfg=st.success,_t.booting=st.reboot,Te.get("nm")=="static"&&(_t.net.ip=Te.get("ni"),_t.net.mask=Te.get("nu"),_t.net.gw=Te.get("ng"),_t.net.dns1=Te.get("nd")),_t.ui=d.u,_t)),l(7,_=!1),vi(n)}const F=function(){confirm("Reboot?")&&(ml.update(we=>(we.booting=!0,we)),x1())};async function A(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),gn.update(Te=>(Te.q.s.c=!1,Te)))}async function R(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),gn.update(Te=>(Te.q.s.r=!1,Te)))}async function O(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),gn.update(Te=>(Te.q.s.k=!1,Te)))}const z=function(){d.q.s.e?d.q.p==1883&&l(3,d.q.p=8883,d):d.q.p==8883&&l(3,d.q.p=1883,d)};async function G(){if(d.u.lang=="hub"){const we=await yl("http://hub.amsleser.no/hub/language/list.json");l(4,v=await we.json()),l(3,d.u.lang=f.language.code,d);return}d.u.lang&&await _i(d.u.lang)}function B(we){l(8,w=we);const Te=iu(we);if(l(9,y=Te??null),!Te||!(d!=null&&d.m))return;const Ke=pn(d.m),nt=su(Ke,Te),st=N1(d.m,nt);l(3,d={...d,m:st})}function W(){l(8,w=""),l(9,y=null)}async function j(){l(3,d.p.e=!0,d)}const Y=window||global;Y.bindToCloud=function(){console.log("BIND CALLED")};const X=[[]];function U(){d.g.h=this.value,l(3,d)}function K(){d.g.t=ll(this),l(3,d)}function $(){d.u.lang=ll(this),l(3,d)}function le(){d.p.r=ll(this),l(3,d)}function H(){d.p.c=ll(this),l(3,d)}function Z(){d.p.e=this.checked,l(3,d)}function re(){d.p.t=this.value,l(3,d)}function ae(){d.g.s=ll(this),l(3,d)}function fe(){d.g.u=this.value,l(3,d)}function ce(){d.g.p=this.value,l(3,d)}function ee(){d.g.c=this.value,l(3,d)}function Q(){d.fw.a=this.checked,l(3,d)}function J(){d.fw.s=kt(this.value),l(3,d)}function he(){d.d.t=this.checked,l(3,d)}function Me(){d.d.s=this.checked,l(3,d)}function P(){d.d.l=ll(this),l(3,d)}function b(){w=ll(this),l(8,w)}const L=we=>B(we.target.value);function q(){d.m.a=ll(this),l(3,d)}function V(){d.m.b=kt(this.value),l(3,d)}function ne(){d.m.i=this.checked,l(3,d)}function ie(){d.m.b=ll(this),l(3,d)}function _e(){d.m.p=ll(this),l(3,d)}function me(){d.m.s=kt(this.value),l(3,d)}function ue(){d.m.d=ll(this),l(3,d)}function be(){d.m.f=kt(this.value),l(3,d)}function ke(){d.m.r=kt(this.value),l(3,d)}function Ee(){d.m.e.e=this.checked,l(3,d)}function Ie(){d.m.e.k=this.value,l(3,d)}function Re(){d.m.e.a=this.value,l(3,d)}function Ue(){d.m.m.e=this.checked,l(3,d)}function Ye(){d.m.m.w=kt(this.value),l(3,d)}function Qe(){d.m.m.v=kt(this.value),l(3,d)}function Le(){d.m.m.a=kt(this.value),l(3,d)}function tt(){d.m.m.c=kt(this.value),l(3,d)}function se(){d.w.s=this.__value,l(3,d)}function Ce(){d.w.p=this.value,l(3,d)}function lt(){d.w.z=ll(this),l(3,d)}function gt(){d.w.w=kt(this.value),l(3,d)}function mt(){d.w.b=this.checked,l(3,d)}function Ze(){d.q.s.e=this.checked,l(3,d)}function at(){d.q.h=this.value,l(3,d)}function Ht(){d.q.p=kt(this.value),l(3,d)}function dt(){d.q.u=this.value,l(3,d)}function Tt(){d.q.a=this.value,l(3,d)}function Ct(){d.q.c=this.value,l(3,d)}function qt(){d.q.m=ll(this),l(3,d)}function xe(){d.q.b=this.value,l(3,d)}function pt(){d.q.r=this.value,l(3,d)}function Pe(){d.q.t=ll(this),l(3,d)}function je(){d.q.d=kt(this.value),l(3,d)}function Je(){d.q.i=kt(this.value),l(3,d)}function Xe(){d.q.k=kt(this.value),l(3,d)}function et(){d.o.e=this.value,l(3,d)}function ve(){d.o.c=this.value,l(3,d)}function qe(){d.o.u1=this.value,l(3,d)}function Lt(){d.o.u2=this.value,l(3,d)}function bt(){d.o.u3=this.value,l(3,d)}function Be(){d.h.t=this.value,l(3,d)}function ut(){d.h.h=this.value,l(3,d)}function $e(){d.h.n=this.value,l(3,d)}function It(we){d.t.t[we]=kt(this.value),l(3,d)}function Wt(){d.t.h=kt(this.value),l(3,d)}function ze(we){d.u[we.key]=ll(this),l(3,d)}return t.$$set=we=>{"basepath"in we&&l(27,n=we.basepath),"sysinfo"in we&&l(0,i=we.sysinfo),"data"in we&&l(1,s=we.data)},t.$$.update=()=>{var we;if(t.$$.dirty[0]&8&&d!=null&&d.fw&&l(3,d.fw.e=Number(d.fw.s??0),d),t.$$.dirty[0]&20&&v.length){const Te=((we=f.consent)==null?void 0:we.load_from_server)??"Load from server";v.some(nt=>nt.code==="hub")?v.find(st=>st.code==="hub"&&st.name!==Te)&&l(4,v=v.map(st=>st.code==="hub"?{...st,name:Te}:st)):l(4,v=[...v,{code:"hub",name:Te}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Te,label:Ke}=zn(s==null?void 0:s.r);o[Te]??o.off}t.$$.dirty[0]&32&&l(10,g=Array.isArray(M==null?void 0:M.n)?M.n.map(Te=>{const{level:Ke,label:nt}=zn(Te==null?void 0:Te.r);return{icon:o[Ke]??o.off,title:nt}}):[])},[i,s,f,d,v,M,m,_,w,y,g,T,E,o,r,c,D,C,F,A,R,O,z,G,B,W,j,n,U,K,$,le,H,Z,re,ae,fe,ce,ee,Q,J,he,Me,P,b,L,q,V,ne,ie,_e,me,ue,be,ke,Ee,Ie,Re,Ue,Ye,Qe,Le,tt,se,X,Ce,lt,gt,mt,Ze,at,Ht,dt,Tt,Ct,qt,xe,pt,Pe,je,Je,Xe,et,ve,qe,Lt,bt,Be,ut,$e,It,Wt,ze]}class tm extends Et{constructor(e){super(),At(this,e,em,$1,Pt,{basepath:27,sysinfo:0,data:1},null,[-1,-1,-1,-1,-1])}}function Ja(t,e,l){const n=t.slice();return n[21]=e[l],n}function Qa(t){let e,l=t[1].cpu+"",n,i;return{c(){e=k("("),n=k(l),i=k("MHz)")},m(s,o){N(s,e,o),N(s,n,o),N(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&I(n,l)},d(s){s&&(S(e),S(n),S(i))}}}function Za(t){var X,U,K,$,le,H,Z,re;let e,l=(((U=(X=t[3].status)==null?void 0:X.device)==null?void 0:U.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=((($=(K=t[3].status)==null?void 0:K.device)==null?void 0:$.last_boot)??"Last boot")+"",m,_,d,v,w,y,M=(((H=(le=t[3].status)==null?void 0:le.device)==null?void 0:H.reason)??"Reason")+"",g,T,E=(((re=(Z=t[3][Ks(t[1].chip)])==null?void 0:Z.reason)==null?void 0:re[t[1].boot_reason])??t[1].boot_reason)+"",D,C,F=t[1].boot_reason+"",A,R,O=t[1].ex_cause+"",z,G,B;const W=[nm,lm],j=[];function Y(ae,fe){return ae[0].u>0?0:1}return d=Y(t),v=j[d]=W[d](t),{c(){e=p("div"),n=k(l),i=k(": "),o=k(s),f=h(),r=p("div"),m=k(c),_=k(`:
            `),v.c(),w=h(),y=p("div"),g=k(M),T=k(": "),D=k(E),C=k(" ("),A=k(F),R=k("/"),z=k(O),G=k(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(y,"class","my-2")},m(ae,fe){N(ae,e,fe),a(e,n),a(e,i),a(e,o),N(ae,f,fe),N(ae,r,fe),a(r,m),a(r,_),j[d].m(r,null),N(ae,w,fe),N(ae,y,fe),a(y,g),a(y,T),a(y,D),a(y,C),a(y,A),a(y,R),a(y,z),a(y,G),B=!0},p(ae,fe){var ee,Q,J,he,Me,P,b,L;(!B||fe&8)&&l!==(l=(((Q=(ee=ae[3].status)==null?void 0:ee.device)==null?void 0:Q.apmac)??"AP MAC")+"")&&I(n,l),(!B||fe&2)&&s!==(s=ae[1].apmac+"")&&I(o,s),(!B||fe&8)&&c!==(c=(((he=(J=ae[3].status)==null?void 0:J.device)==null?void 0:he.last_boot)??"Last boot")+"")&&I(m,c);let ce=d;d=Y(ae),d===ce?j[d].p(ae,fe):(St(),oe(j[ce],1,1,()=>{j[ce]=null}),Nt(),v=j[d],v?v.p(ae,fe):(v=j[d]=W[d](ae),v.c()),x(v,1),v.m(r,null)),(!B||fe&8)&&M!==(M=(((P=(Me=ae[3].status)==null?void 0:Me.device)==null?void 0:P.reason)??"Reason")+"")&&I(g,M),(!B||fe&10)&&E!==(E=(((L=(b=ae[3][Ks(ae[1].chip)])==null?void 0:b.reason)==null?void 0:L[ae[1].boot_reason])??ae[1].boot_reason)+"")&&I(D,E),(!B||fe&2)&&F!==(F=ae[1].boot_reason+"")&&I(A,F),(!B||fe&2)&&O!==(O=ae[1].ex_cause+"")&&I(z,O)},i(ae){B||(x(v),B=!0)},o(ae){oe(v),B=!1},d(ae){ae&&(S(e),S(f),S(r),S(w),S(y)),j[d].d()}}}function lm(t){let e;return{c(){e=k("-")},m(l,n){N(l,e,n)},p:We,i:We,o:We,d(l){l&&S(e)}}}function nm(t){let e,l;return e=new xf({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function $a(t){var f;let e,l,n=(((f=t[3].btn)==null?void 0:f.reboot)??"Reboot")+"",i,s,o;return{c(){e=p("div"),l=p("button"),i=k(n),u(l,"class","btn-yellow-sm"),u(e,"class","my-2")},m(r,c){N(r,e,c),a(e,l),a(l,i),s||(o=ge(l,"click",t[11]),s=!0)},p(r,c){var m;c&8&&n!==(n=(((m=r[3].btn)==null?void 0:m.reboot)??"Reboot")+"")&&I(i,n)},d(r){r&&S(e),s=!1,o()}}}function xa(t){var z,G,B,W,j,Y,X,U;let e,l,n=(((G=(z=t[3].status)==null?void 0:z.meter)==null?void 0:G.title)??"Meter")+"",i,s,o,f=(((W=(B=t[3].status)==null?void 0:B.meter)==null?void 0:W.manufacturer)??"Manufacturer")+"",r,c,m=ui(t[1].meter.mfg)+"",_,d,v,w=(((Y=(j=t[3].status)==null?void 0:j.meter)==null?void 0:Y.model)??"Model")+"",y,M,g=(t[1].meter.model?t[1].meter.model:"unknown")+"",T,E,D,C=(((U=(X=t[3].status)==null?void 0:X.meter)==null?void 0:U.id)??"ID")+"",F,A,R=(t[1].meter.id?t[1].meter.id:"unknown")+"",O;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),r=k(f),c=k(": "),_=k(m),d=h(),v=p("div"),y=k(w),M=k(": "),T=k(g),E=h(),D=p("div"),F=k(C),A=k(": "),O=k(R),u(l,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u(D,"class","my-2"),u(e,"class","cnt")},m(K,$){N(K,e,$),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,_),a(e,d),a(e,v),a(v,y),a(v,M),a(v,T),a(e,E),a(e,D),a(D,F),a(D,A),a(D,O)},p(K,$){var le,H,Z,re,ae,fe,ce,ee;$&8&&n!==(n=(((H=(le=K[3].status)==null?void 0:le.meter)==null?void 0:H.title)??"Meter")+"")&&I(i,n),$&8&&f!==(f=(((re=(Z=K[3].status)==null?void 0:Z.meter)==null?void 0:re.manufacturer)??"Manufacturer")+"")&&I(r,f),$&2&&m!==(m=ui(K[1].meter.mfg)+"")&&I(_,m),$&8&&w!==(w=(((fe=(ae=K[3].status)==null?void 0:ae.meter)==null?void 0:fe.model)??"Model")+"")&&I(y,w),$&2&&g!==(g=(K[1].meter.model?K[1].meter.model:"unknown")+"")&&I(T,g),$&8&&C!==(C=(((ee=(ce=K[3].status)==null?void 0:ce.meter)==null?void 0:ee.id)??"ID")+"")&&I(F,C),$&2&&R!==(R=(K[1].meter.id?K[1].meter.id:"unknown")+"")&&I(O,R)},d(K){K&&S(e)}}}function er(t){var U,K,$,le,H,Z,re,ae;let e,l,n=(((K=(U=t[3].status)==null?void 0:U.network)==null?void 0:K.title)??"Network")+"",i,s,o,f=(((le=($=t[3].conf)==null?void 0:$.network)==null?void 0:le.ip)??"IP")+"",r,c,m=t[1].net.ip+"",_,d,v,w=(((Z=(H=t[3].conf)==null?void 0:H.network)==null?void 0:Z.mask)??"Mask")+"",y,M,g=t[1].net.mask+"",T,E,D,C=(((ae=(re=t[3].conf)==null?void 0:re.network)==null?void 0:ae.gw)??"Gateway")+"",F,A,R=t[1].net.gw+"",O,z,G,B,W,j=t[1].net.dns1&&tr(t),Y=t[1].net.dns2&&lr(t),X=t[1].net.ipv6&&nr(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),r=k(f),c=k(": "),_=k(m),d=h(),v=p("div"),y=k(w),M=k(": "),T=k(g),E=h(),D=p("div"),F=k(C),A=k(": "),O=k(R),z=h(),G=p("div"),j&&j.c(),B=h(),Y&&Y.c(),W=h(),X&&X.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u(D,"class","my-2"),u(G,"class","my-2"),u(e,"class","cnt")},m(fe,ce){N(fe,e,ce),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,_),a(e,d),a(e,v),a(v,y),a(v,M),a(v,T),a(e,E),a(e,D),a(D,F),a(D,A),a(D,O),a(e,z),a(e,G),j&&j.m(G,null),a(G,B),Y&&Y.m(G,null),a(e,W),X&&X.m(e,null)},p(fe,ce){var ee,Q,J,he,Me,P,b,L;ce&8&&n!==(n=(((Q=(ee=fe[3].status)==null?void 0:ee.network)==null?void 0:Q.title)??"Network")+"")&&I(i,n),ce&8&&f!==(f=(((he=(J=fe[3].conf)==null?void 0:J.network)==null?void 0:he.ip)??"IP")+"")&&I(r,f),ce&2&&m!==(m=fe[1].net.ip+"")&&I(_,m),ce&8&&w!==(w=(((P=(Me=fe[3].conf)==null?void 0:Me.network)==null?void 0:P.mask)??"Mask")+"")&&I(y,w),ce&2&&g!==(g=fe[1].net.mask+"")&&I(T,g),ce&8&&C!==(C=(((L=(b=fe[3].conf)==null?void 0:b.network)==null?void 0:L.gw)??"Gateway")+"")&&I(F,C),ce&2&&R!==(R=fe[1].net.gw+"")&&I(O,R),fe[1].net.dns1?j?j.p(fe,ce):(j=tr(fe),j.c(),j.m(G,B)):j&&(j.d(1),j=null),fe[1].net.dns2?Y?Y.p(fe,ce):(Y=lr(fe),Y.c(),Y.m(G,null)):Y&&(Y.d(1),Y=null),fe[1].net.ipv6?X?X.p(fe,ce):(X=nr(fe),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},d(fe){fe&&S(e),j&&j.d(),Y&&Y.d(),X&&X.d()}}}function tr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=k(e),n=k(": "),s=k(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,_;c&8&&e!==(e=(((_=(m=r[3].conf)==null?void 0:m.network)==null?void 0:_.dns)??"DNS")+"")&&I(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&I(s,i)},d(r){r&&(S(l),S(n),S(s))}}}function lr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=k(e),n=k(": "),s=k(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,_;c&8&&e!==(e=(((_=(m=r[3].conf)==null?void 0:m.network)==null?void 0:_.dns)??"DNS")+"")&&I(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&I(s,i)},d(r){r&&(S(l),S(n),S(s))}}}function nr(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&ir(t),m=t[1].net.dns2v6&&sr(t);return{c(){e=p("div"),l=k("IPv6: "),n=p("span"),s=k(i),o=h(),f=p("div"),c&&c.c(),r=h(),m&&m.c(),xl(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(_,d){N(_,e,d),a(e,l),a(e,n),a(n,s),N(_,o,d),N(_,f,d),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(_,d){d&2&&i!==(i=_[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&I(s,i),_[1].net.dns1v6?c?c.p(_,d):(c=ir(_),c.c(),c.m(f,r)):c&&(c.d(1),c=null),_[1].net.dns2v6?m?m.p(_,d):(m=sr(_),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(_){_&&(S(e),S(o),S(f)),c&&c.d(),m&&m.d()}}}function ir(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=k("DNSv6: "),l=p("span"),i=k(n),xl(l,"font-size","14px")},m(s,o){N(s,e,o),N(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&I(i,n)},d(s){s&&(S(e),S(l))}}}function sr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=k("DNSv6: "),l=p("span"),i=k(n),xl(l,"font-size","14px")},m(s,o){N(s,e,o),N(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&I(i,n)},d(s){s&&(S(e),S(l))}}}function or(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","my-2 text-green-600")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&I(n,l)},d(o){o&&S(e)}}}function ar(t){var r,c,m,_;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((_=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:_[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=k(n),s=h(),f=k(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(d,v){N(d,e,v),a(e,l),a(l,i),a(l,s),a(l,f)},p(d,v){var w,y,M,g;v&10&&n!==(n=(((y=(w=d[3].status)==null?void 0:w.firmware)==null?void 0:y.failed)??"Upgrade from {0} to {1} failed").replace("{0}",d[1].upgrade.f).replace("{1}",d[1].upgrade.t)+"")&&I(i,n),v&10&&o!==(o=(((g=(M=d[3].errors)==null?void 0:M.upgrade)==null?void 0:g[d[1].upgrade.e])??d[1].upgrade.e)+"")&&I(f,o)},d(d){d&&S(e)}}}function rr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=k("Last HTTP status: "),s=k(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){N(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&I(s,i)},d(o){o&&S(e)}}}function fr(t){var w,y;let e,l=(((y=(w=t[3].status)==null?void 0:w.firmware)==null?void 0:y.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,_,d=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&ur(t),v=t[1].fwconsent===2&&cr(t);return{c(){e=p("div"),n=k(l),i=k(`: 
                `),s=p("a"),f=k(o),c=h(),d&&d.c(),m=h(),v&&v.c(),_=tl(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(M,g){N(M,e,g),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),d&&d.m(e,null),N(M,m,g),v&&v.m(M,g),N(M,_,g)},p(M,g){var T,E;g&8&&l!==(l=(((E=(T=M[3].status)==null?void 0:T.firmware)==null?void 0:E.latest)??"Latest")+"")&&I(n,l),g&2&&o!==(o=M[1].upgrade.n+"")&&I(f,o),g&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+M[1].upgrade.n)&&u(s,"href",r),(M[1].security==0||M[0].a)&&M[1].fwconsent===1&&M[1].upgrade.n&&M[1].upgrade.n!=M[1].version?d?d.p(M,g):(d=ur(M),d.c(),d.m(e,null)):d&&(d.d(1),d=null),M[1].fwconsent===2?v?v.p(M,g):(v=cr(M),v.c(),v.m(_.parentNode,_)):v&&(v.d(1),v=null)},d(M){M&&(S(e),S(m),S(_)),d&&d.d(),v&&v.d(M)}}}function ur(t){let e,l,n,i,s;return{c(){var o,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){N(o,e,f),a(e,l),i||(s=ge(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&S(e),i=!1,s()}}}function cr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=k(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){N(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&I(i,n)},d(f){f&&S(e)}}}function mr(t){let e,l=Xs(ci(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=Xs(ci(i[1].chip,i[1].board))+"")&&I(n,l)},d(i){i&&S(e)}}}function dr(t){let e,l,n,i,s,o;function f(m,_){return m[5].length==0?sm:im}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=h(),c.c(),xl(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,_){N(m,e,_),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[ge(n,"change",t[14]),ge(l,"submit",t[16])],s=!0)},p(m,_){r===(r=f(m))&&c?c.p(m,_):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&S(e),t[13](null),c.d(),s=!1,Ut(o)}}}function im(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=k(e),n=h(),i=p("button"),o=k(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&I(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&I(o,s)},d(r){r&&(S(l),S(n),S(i))}}}function sm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){N(r,e,c),a(e,n),i||(s=ge(e,"click",t[15]),i=!0)},p(r,c){var m,_;c&8&&l!==(l=(((_=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:_.btn_select_file)??"Select file")+"")&&I(n,l)},d(r){r&&S(e),i=!1,s()}}}function pr(t){var Y,X,U,K,$,le;let e,l,n=(((X=(Y=t[3].status)==null?void 0:Y.backup)==null?void 0:X.title)??"Backup")+"",i,s,o,f,r,c,m,_,d=(((K=(U=t[3].status)==null?void 0:U.backup)==null?void 0:K.secrets)??"Include secrets")+"",v,w,y,M=(((le=($=t[3].status)==null?void 0:$.backup)==null?void 0:le.secrets_desc)??"")+"",g,T,E,D,C,F,A,R,O=Ge(t[9]),z=[];for(let H=0;H<O.length;H+=1)z[H]=_r(Ja(t,O,H));let G=t[2].length==0&&hr(t);function B(H,Z){return H[2].length==0?am:om}let W=B(t),j=W(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("form"),f=p("div");for(let H=0;H<z.length;H+=1)z[H].c();r=h(),c=p("label"),m=p("input"),_=h(),v=k(d),w=p("br"),y=p("small"),g=k(M),T=h(),G&&G.c(),E=h(),D=p("form"),C=p("input"),F=h(),j.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),xl(C,"display","none"),u(C,"name","file"),u(C,"type","file"),u(C,"accept",".cfg"),u(D,"autocomplete","off"),u(e,"class","cnt")},m(H,Z){N(H,e,Z),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let re=0;re<z.length;re+=1)z[re]&&z[re].m(f,null);a(f,r),a(f,c),a(c,m),a(c,_),a(c,v),a(c,w),a(c,y),a(y,g),a(o,T),G&&G.m(o,null),a(e,E),a(e,D),a(D,C),t[17](C),a(D,F),j.m(D,null),A||(R=[ge(C,"change",t[18]),ge(D,"submit",Gn(t[12]))],A=!0)},p(H,Z){var re,ae,fe,ce,ee,Q;if(Z&8&&n!==(n=(((ae=(re=H[3].status)==null?void 0:re.backup)==null?void 0:ae.title)??"Backup")+"")&&I(i,n),Z&520){O=Ge(H[9]);let J;for(J=0;J<O.length;J+=1){const he=Ja(H,O,J);z[J]?z[J].p(he,Z):(z[J]=_r(he),z[J].c(),z[J].m(f,r))}for(;J<z.length;J+=1)z[J].d(1);z.length=O.length}Z&8&&d!==(d=(((ce=(fe=H[3].status)==null?void 0:fe.backup)==null?void 0:ce.secrets)??"Include secrets")+"")&&I(v,d),Z&8&&M!==(M=(((Q=(ee=H[3].status)==null?void 0:ee.backup)==null?void 0:Q.secrets_desc)??"")+"")&&I(g,M),H[2].length==0?G?G.p(H,Z):(G=hr(H),G.c(),G.m(o,null)):G&&(G.d(1),G=null),W===(W=B(H))&&j?j.p(H,Z):(j.d(1),j=W(H),j&&(j.c(),j.m(D,null)))},d(H){H&&S(e),Xt(z,H),G&&G.d(),t[17](null),j.d(),A=!1,Ut(R)}}}function _r(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=h(),s=k(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,_;c&8&&i!==(i=(((_=(m=r[3].status)==null?void 0:m.backup)==null?void 0:_[r[21].key])??r[21].name)+"")&&I(s,i)},d(r){r&&S(e)}}}function hr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=k(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){N(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&I(n,l)},d(o){o&&S(e)}}}function om(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=k(e),n=h(),i=p("button"),o=k(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&I(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&I(o,s)},d(r){r&&(S(l),S(n),S(i))}}}function am(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){N(r,e,c),a(e,n),i||(s=ge(e,"click",t[19]),i=!0)},p(r,c){var m,_;c&8&&l!==(l=(((_=(m=r[3].status)==null?void 0:m.backup)==null?void 0:_.btn_select_file)??"Select file")+"")&&I(n,l)},d(r){r&&S(e),i=!1,s()}}}function rm(t){var Ce,lt,gt,mt,Ze,at,Ht,dt,Tt,Ct,qt,xe,pt,Pe,je,Je,Xe,et;let e,l,n,i=(((Ce=t[3].status)==null?void 0:Ce.device.title)??"Device")+"",s,o,f,r=(((gt=(lt=t[3].status)==null?void 0:lt.device)==null?void 0:gt.chip)??"Chip")+"",c,m,_=t[1].chip+"",d,v,w,y,M=(((Ze=(mt=t[3].status)==null?void 0:mt.device)==null?void 0:Ze.device)??"Device")+"",g,T,E=ci(t[1].chip,t[1].board)+"",D,C,F,A=(((Ht=(at=t[3].status)==null?void 0:at.device)==null?void 0:Ht.mac)??"MAC")+"",R,O,z=t[1].mac+"",G,B,W,j,Y,X,U,K,$=(((Tt=(dt=t[3].status)==null?void 0:dt.firmware)==null?void 0:Tt.title)??"Firmware")+"",le,H,Z,re=(((qt=(Ct=t[3].status)==null?void 0:Ct.firmware)==null?void 0:qt.installed)??"Installed")+"",ae,fe,ce=t[1].version+"",ee,Q,J,he,Me,P,b=(t[1].security==0||t[0].a)&&Bn(t[1].board),L,q,V,ne,ie,_e,me,ue=t[1].cpu&&Qa(t),be=t[1].apmac&&t[1].apmac!=t[1].mac&&Za(t),ke=((xe=t[0])==null?void 0:xe.a)&&$a(t),Ee=t[1].meter&&xa(t),Ie=t[1].net&&er(t),Re=((pt=t[1].upgrade)==null?void 0:pt.m)===!0&&or(t),Ue=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&ar(t),Ye=((Pe=t[1].upgrade)==null?void 0:Pe.x)!==void 0&&t[1].upgrade.x!==-1&&rr(t),Qe=t[1].upgrade.n&&fr(t),Le=b&&mr(t),tt=(t[1].security==0||t[0].a)&&dr(t),se=(t[1].security==0||t[0].a)&&pr(t);return ne=new cl({props:{active:t[6],message:((Je=(je=t[3].status)==null?void 0:je.mask)==null?void 0:Je.firmware)??"Uploading"}}),_e=new cl({props:{active:t[8],message:((et=(Xe=t[3].status)==null?void 0:Xe.mask)==null?void 0:et.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=k(i),o=h(),f=p("div"),c=k(r),m=k(": "),d=k(_),v=h(),ue&&ue.c(),w=h(),y=p("div"),g=k(M),T=k(": "),D=k(E),C=h(),F=p("div"),R=k(A),O=k(": "),G=k(z),B=h(),be&&be.c(),W=h(),ke&&ke.c(),j=h(),Ee&&Ee.c(),Y=h(),Ie&&Ie.c(),X=h(),U=p("div"),K=p("strong"),le=k($),H=h(),Z=p("div"),ae=k(re),fe=k(": "),ee=k(ce),Q=h(),Re&&Re.c(),J=h(),Ue&&Ue.c(),he=h(),Ye&&Ye.c(),Me=h(),Qe&&Qe.c(),P=h(),Le&&Le.c(),L=h(),tt&&tt.c(),q=h(),se&&se.c(),V=h(),Ne(ne.$$.fragment),ie=h(),Ne(_e.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(y,"class","my-2"),u(F,"class","my-2"),u(l,"class","cnt"),u(K,"class","text-sm"),u(Z,"class","my-2"),u(U,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ve,qe){N(ve,e,qe),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,d),a(f,v),ue&&ue.m(f,null),a(l,w),a(l,y),a(y,g),a(y,T),a(y,D),a(l,C),a(l,F),a(F,R),a(F,O),a(F,G),a(l,B),be&&be.m(l,null),a(l,W),ke&&ke.m(l,null),a(e,j),Ee&&Ee.m(e,null),a(e,Y),Ie&&Ie.m(e,null),a(e,X),a(e,U),a(U,K),a(K,le),a(U,H),a(U,Z),a(Z,ae),a(Z,fe),a(Z,ee),a(U,Q),Re&&Re.m(U,null),a(U,J),Ue&&Ue.m(U,null),a(U,he),Ye&&Ye.m(U,null),a(U,Me),Qe&&Qe.m(U,null),a(U,P),Le&&Le.m(U,null),a(U,L),tt&&tt.m(U,null),a(e,q),se&&se.m(e,null),N(ve,V,qe),ye(ne,ve,qe),N(ve,ie,qe),ye(_e,ve,qe),me=!0},p(ve,[qe]){var Be,ut,$e,It,Wt,ze,we,Te,Ke,nt,st,_t,Vt,Ft,Dt,il,Ot,Ve;(!me||qe&8)&&i!==(i=(((Be=ve[3].status)==null?void 0:Be.device.title)??"Device")+"")&&I(s,i),(!me||qe&8)&&r!==(r=((($e=(ut=ve[3].status)==null?void 0:ut.device)==null?void 0:$e.chip)??"Chip")+"")&&I(c,r),(!me||qe&2)&&_!==(_=ve[1].chip+"")&&I(d,_),ve[1].cpu?ue?ue.p(ve,qe):(ue=Qa(ve),ue.c(),ue.m(f,null)):ue&&(ue.d(1),ue=null),(!me||qe&8)&&M!==(M=(((Wt=(It=ve[3].status)==null?void 0:It.device)==null?void 0:Wt.device)??"Device")+"")&&I(g,M),(!me||qe&2)&&E!==(E=ci(ve[1].chip,ve[1].board)+"")&&I(D,E),(!me||qe&8)&&A!==(A=(((we=(ze=ve[3].status)==null?void 0:ze.device)==null?void 0:we.mac)??"MAC")+"")&&I(R,A),(!me||qe&2)&&z!==(z=ve[1].mac+"")&&I(G,z),ve[1].apmac&&ve[1].apmac!=ve[1].mac?be?(be.p(ve,qe),qe&2&&x(be,1)):(be=Za(ve),be.c(),x(be,1),be.m(l,W)):be&&(St(),oe(be,1,1,()=>{be=null}),Nt()),(Te=ve[0])!=null&&Te.a?ke?ke.p(ve,qe):(ke=$a(ve),ke.c(),ke.m(l,null)):ke&&(ke.d(1),ke=null),ve[1].meter?Ee?Ee.p(ve,qe):(Ee=xa(ve),Ee.c(),Ee.m(e,Y)):Ee&&(Ee.d(1),Ee=null),ve[1].net?Ie?Ie.p(ve,qe):(Ie=er(ve),Ie.c(),Ie.m(e,X)):Ie&&(Ie.d(1),Ie=null),(!me||qe&8)&&$!==($=(((nt=(Ke=ve[3].status)==null?void 0:Ke.firmware)==null?void 0:nt.title)??"Firmware")+"")&&I(le,$),(!me||qe&8)&&re!==(re=(((_t=(st=ve[3].status)==null?void 0:st.firmware)==null?void 0:_t.installed)??"Installed")+"")&&I(ae,re),(!me||qe&2)&&ce!==(ce=ve[1].version+"")&&I(ee,ce),((Vt=ve[1].upgrade)==null?void 0:Vt.m)===!0?Re?Re.p(ve,qe):(Re=or(ve),Re.c(),Re.m(U,J)):Re&&(Re.d(1),Re=null),ve[1].upgrade.t&&ve[1].upgrade.t!=ve[1].version&&ve[1].upgrade.e!=0&&ve[1].upgrade.e!=123?Ue?Ue.p(ve,qe):(Ue=ar(ve),Ue.c(),Ue.m(U,he)):Ue&&(Ue.d(1),Ue=null),((Ft=ve[1].upgrade)==null?void 0:Ft.x)!==void 0&&ve[1].upgrade.x!==-1?Ye?Ye.p(ve,qe):(Ye=rr(ve),Ye.c(),Ye.m(U,Me)):Ye&&(Ye.d(1),Ye=null),ve[1].upgrade.n?Qe?Qe.p(ve,qe):(Qe=fr(ve),Qe.c(),Qe.m(U,P)):Qe&&(Qe.d(1),Qe=null),qe&3&&(b=(ve[1].security==0||ve[0].a)&&Bn(ve[1].board)),b?Le?Le.p(ve,qe):(Le=mr(ve),Le.c(),Le.m(U,L)):Le&&(Le.d(1),Le=null),ve[1].security==0||ve[0].a?tt?tt.p(ve,qe):(tt=dr(ve),tt.c(),tt.m(U,null)):tt&&(tt.d(1),tt=null),ve[1].security==0||ve[0].a?se?se.p(ve,qe):(se=pr(ve),se.c(),se.m(e,null)):se&&(se.d(1),se=null);const Lt={};qe&64&&(Lt.active=ve[6]),qe&8&&(Lt.message=((il=(Dt=ve[3].status)==null?void 0:Dt.mask)==null?void 0:il.firmware)??"Uploading"),ne.$set(Lt);const bt={};qe&256&&(bt.active=ve[8]),qe&8&&(bt.message=((Ve=(Ot=ve[3].status)==null?void 0:Ot.mask)==null?void 0:Ve.config)??"Uploading"),_e.$set(bt)},i(ve){me||(x(be),x(ne.$$.fragment,ve),x(_e.$$.fragment,ve),me=!0)},o(ve){oe(be),oe(ne.$$.fragment,ve),oe(_e.$$.fragment,ve),me=!1},d(ve){ve&&(S(e),S(V),S(ie)),ue&&ue.d(),be&&be.d(),ke&&ke.d(),Ee&&Ee.d(),Ie&&Ie.d(),Re&&Re.d(),Ue&&Ue.d(),Ye&&Ye.d(),Qe&&Qe.d(),Le&&Le.d(),tt&&tt.d(),se&&se.d(),Se(ne,ve),Se(_e,ve)}}}async function fm(){await(await fetch("reboot",{method:"POST"})).json()}function um(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Sl.subscribe(R=>{l(3,o=R)});function f(){var R;confirm((((R=o.header)==null?void 0:R.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&($f(i.upgrade.n),ml.update(O=>(O.upgrade.t=i.upgrade.n,O.upgrade.p=0,O.upgrading=!0,O)))}const r=function(){var R;confirm(((R=o.device)==null?void 0:R.reboot_confirm)??"Reboot?")&&(ml.update(O=>(O.booting=!0,O)),fm())};let c,m=[],_=!1,d,v=[],w=!1;ki();let y={hostname:"",ip:""};function M(R){l(8,w=!0);const O=new FormData;O.append("file",v[0]),fetch("configfile",{method:"POST",body:O}).then(z=>z.json()).then(z=>{ml.update(G=>(y&&y.hostname&&(G.hostname=y.hostname),G.booting=z.reboot,y&&y.ip&&(G.net.ip=y.ip),setTimeout(an,5e3,i),G))}).catch(z=>{console.error("Error:",z),setTimeout(an,5e3,i)})}function g(R){ri[R?"unshift":"push"](()=>{c=R,l(4,c)})}function T(){m=this.files,l(5,m)}const E=()=>{c.click()},D=()=>l(6,_=!0);function C(R){ri[R?"unshift":"push"](()=>{d=R,l(7,d)})}function F(){v=this.files,l(2,v)}const A=()=>{d.click()};return t.$$set=R=>{"data"in R&&l(0,n=R.data),"sysinfo"in R&&l(1,i=R.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&v.length==1){let R=v[0],O=new FileReader,z=G=>{let B=G.target.result.split(`
`);for(let W in B){let j=B[W];j.startsWith("hostname ")?y.hostname=j.split(" ")[1]:j.startsWith("ip ")&&(y.ip=j.split(" ")[1])}};O.onload=z,O.readAsText(R)}},[n,i,v,o,c,m,_,d,w,s,f,r,M,g,T,E,D,C,F,A]}class cm extends Et{constructor(e){super(),At(this,e,um,rm,Pt,{data:0,sysinfo:1})}}const mm="/wifi-low.svg",dm="/wifi-medium.svg",pm="/wifi-high.svg",_m="/wifi-off.svg",hm={aidon:[/^7359\d+$/,/^6442\d+$/,/^6490\d+$/,/^6492\d+$/],kaifa:[/^MA105\w*$/,/^MA304\w*$/,/^MA309\w*$/],kamstrup:[/^OMNIA\w*$/,/^6841\d+$/,/^MULTICAL\w*$/]},gm={high_baud_inverted:{baud:115200,parity:"8N1",invert:!0,likelyPresets:["aidon-rj12"]},standard_han_2400:{baud:2400,parity:"8E1",invert:!1,likelyPresets:["aidon-rj45-han","kaifa-rj45"]},kamstrup_signature:{baud:9600,parity:"8N2",invert:!1,likelyPresets:["kamstrup-han"]}};function bm(t){var l;const e={meterType:null,distributionSystem:null,hasL2:!1,hasL3:!1,confidence:0,indicators:[]};return!t||typeof t!="object"||(typeof t.mt=="number"&&t.mt>0&&(e.meterType=t.mt,e.confidence+=40,e.indicators.push(`Meter type explicitly set to ${t.mt}`)),typeof t.ds=="number"&&(e.distributionSystem=t.ds,e.confidence+=20,e.indicators.push(`Distribution system: ${t.ds}`)),t.l2&&typeof t.l2=="object"&&((t.l2.u>0||t.l2.i>0||t.l2.p!==0)&&(e.hasL2=!0,e.confidence+=15,e.indicators.push("L2 phase data detected")),t.l2.e!==void 0&&e.indicators.push(`L2 presence indicator: ${t.l2.e}`)),t.l3&&typeof t.l3=="object"&&(t.l3.u>0||t.l3.i>0||t.l3.p!==0)&&(e.hasL3=!0,e.confidence+=15,e.indicators.push("L3 phase data detected")),typeof t.hm=="number"&&(t.hm>0?(e.confidence+=10,e.indicators.push(`HAN communication active (status: ${t.hm})`)):e.indicators.push(`HAN communication issues (status: ${t.hm})`)),t.ic===0&&t.ec===0&&((l=t.l1)==null?void 0:l.u)===0&&e.indicators.push("Possible encrypted or unconfigured meter")),e}function vm(t){return{1:{manufacturer:"Aidon",model:"6442",presets:["aidon-rj45-han"]},2:{manufacturer:"Aidon",model:"6492",presets:["aidon-rj45-han"]},7:{manufacturer:"Aidon",model:"6490",presets:["aidon-rj12"]},3:{manufacturer:"Kaifa",model:"MA105",presets:["kaifa-rj45"]},4:{manufacturer:"Kaifa",model:"MA304",presets:["kaifa-rj45"]},9:{manufacturer:"Kaifa",model:"MA309",presets:["kaifa-rj45"]},5:{manufacturer:"Kamstrup",model:"OMNIA",presets:["kamstrup-han"]},8:{manufacturer:"Kamstrup",model:"Multical",presets:["kamstrup-han"]},6:{manufacturer:"Landis+Gyr",model:"E350",presets:["lng-rj45"]},10:{manufacturer:"Generic",model:"HAN-port",presets:["aidon-rj45-han","kaifa-rj45"]},11:{manufacturer:"Generic",model:"M-Bus",presets:["mbus-serial"]}}[t]||{manufacturer:"Unknown",model:`Type ${t}`,presets:[]}}function km(t,e,l=null){const n={confidence:0,suggestedPresets:[],detectedManufacturer:null,detectedModel:null,reasoning:[]},i=(t==null?void 0:t.meterId)||"",s=(t==null?void 0:t.meterModel)||"";if(l){const o=bm(l);if(o.meterType){const f=vm(o.meterType);n.detectedManufacturer=f.manufacturer,n.detectedModel=f.model,n.suggestedPresets.push(...f.presets),n.confidence+=50,n.reasoning.push(`Live data indicates ${f.manufacturer} ${f.model} (type ${o.meterType})`)}n.reasoning.push(...o.indicators),n.confidence+=Math.min(o.confidence,30)}for(const[o,f]of Object.entries(hm))for(const r of f)if(r.test(i)){if(!n.detectedManufacturer)n.detectedManufacturer=o,n.confidence+=30;else if(n.detectedManufacturer.toLowerCase()===o){n.confidence+=15,n.reasoning.push(`Meter ID "${i}" confirms ${o} detection`);continue}n.reasoning.push(`Meter ID "${i}" matches ${o} pattern`);const c=cs.filter(m=>m.manufacturer.toLowerCase().includes(o));n.suggestedPresets.push(...c.map(m=>m.id));break}if(e){for(const[o,f]of Object.entries(gm))if(e.baud===f.baud&&e.parity===f.parity&&e.invert===f.invert){n.confidence+=25,n.reasoning.push(`Communication pattern matches ${o}`),n.suggestedPresets.push(...f.likelyPresets);break}}if(s){n.detectedModel||(n.detectedModel=s),n.confidence+=15,n.reasoning.push(`Detected meter model: ${s}`);const o=s.toLowerCase();o.includes("aidon")?n.suggestedPresets.push("aidon-rj45-han"):o.includes("kaifa")||o.includes("ma105")||o.includes("ma304")?n.suggestedPresets.push("kaifa-rj45"):(o.includes("kamstrup")||o.includes("omnia"))&&n.suggestedPresets.push("kamstrup-han")}return n.suggestedPresets=[...new Set(n.suggestedPresets)],n.confidence<50&&e&&e.baud===2400&&e.parity==="8E1"&&(n.suggestedPresets.push("kaifa-rj45","aidon-rj45-han"),n.reasoning.push("Added common HAN-port presets as fallback")),n}const ou="/neas_logo_green.svg";function gr(t,e,l){const n=t.slice();return n[30]=e[l],n}function br(t,e,l){const n=t.slice();return n[33]=e[l],n}function vr(t,e,l){const n=t.slice();return n[36]=e[l],n[38]=l,n}function kr(t){var f,r;let e,l,n,i,s=(((r=(f=t[3].conf)==null?void 0:f.connection)==null?void 0:r.searching)??"Søker etter nettverk...")+"",o;return{c(){e=p("div"),l=p("div"),n=h(),i=p("span"),o=k(s),u(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-neas-green mr-3"),u(i,"class","text-sm font-medium"),u(e,"class","flex items-center justify-center py-8 text-black dark:text-black")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(e,i),a(i,o)},p(c,m){var _,d;m[0]&8&&s!==(s=(((d=(_=c[3].conf)==null?void 0:_.connection)==null?void 0:d.searching)??"Søker etter nettverk...")+"")&&I(o,s)},d(c){c&&S(e)}}}function wm(t){var r,c;let e,l,n,i,s,o=(((c=(r=t[3].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"Ingen nettverk funnet")+"",f;return{c(){e=p("div"),l=wt("svg"),n=wt("path"),i=h(),s=p("p"),f=k(o),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"stroke-width","2"),u(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),u(l,"class","mb-3 opacity-100"),u(l,"fill","none"),u(l,"stroke","currentColor"),u(l,"viewBox","0 0 24 24"),u(s,"class","text-sm font-medium"),u(e,"class","text-center py-8 text-neas-green dark:text-neas-green")},m(m,_){N(m,e,_),a(e,l),a(l,n),a(e,i),a(e,s),a(s,f)},p(m,_){var d,v;_[0]&8&&o!==(o=(((v=(d=m[3].conf)==null?void 0:d.connection)==null?void 0:v.no_networks)??"Ingen nettverk funnet")+"")&&I(f,o)},d(m){m&&S(e)}}}function Mm(t){let e,l=[],n=new Map,i=Ge(t[2].n);const s=o=>o[36].s??o[38];for(let o=0;o<i.length;o+=1){let f=vr(t,i,o),r=s(f);n.set(r,l[o]=wr(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","space-y-3 max-h overflow-y-auto")},m(o,f){N(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&908&&(i=Ge(o[2].n),l=cf(l,f,s,1,o,i,n,e,uf,wr,null,vr))},d(o){o&&S(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function wr(t,e){var C,F;let l,n,i,s,o=!1,f,r,c=(e[36].s||(((F=(C=e[3].conf)==null?void 0:C.connection)==null?void 0:F.hidden_ssid)??"Skjult nettverk"))+"",m,_,d,v,w,y,M,g,T,E,D;return T=of(e[15][0]),{key:t,first:null,c(){var A,R,O,z,G;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),m=k(c),_=h(),d=p("div"),v=p("img"),g=h(),u(i,"type","radio"),u(i,"class","sr-only"),u(i,"name","ss"),i.__value=s=e[36].s,te(i,i.__value),i.required=au==1,u(r,"class","min-w-0 flex-1 text-neas-green dark:text-neas-green font-medium truncate"),u(n,"class","flex items-center gap-3 flex-1 min-w-0"),u(v,"class","h-10 w-10"),rn(v.src,w=((A=e[7][e[38]])==null?void 0:A.icon)??e[9].off)||u(v,"src",w),u(v,"alt",y=((R=e[7][e[38]])==null?void 0:R.title)??"Wi-Fi frakoblet"),u(v,"title",M=((O=e[7][e[38]])==null?void 0:O.rssi)!=null?`${((z=e[7][e[38]])==null?void 0:z.title)??"Wi-Fi frakoblet"} (${e[7][e[38]].rssi} dBm)`:((G=e[7][e[38]])==null?void 0:G.title)??"Wi-Fi frakoblet"),u(d,"class","flex items-center gap-3 flex-shrink-0"),u(l,"class","group flex items-center justify-between gap-4 rounded-2xl border-2 border-transparent bg-neas-gray px-5 py-4 shadow-sm transition hover:border-neas-lightgreen-70 hover:bg-white dark:bg-neas-gray dark:hover:bg-neas-lightgreen-70 cursor-pointer"),Zl(l,"border-neas-green",e[8]===e[36].s),Zl(l,"border-transparent",e[8]!==e[36].s),Zl(l,"bg-white",e[8]===e[36].s),Zl(l,"shadow-lg",e[8]===e[36].s),T.p(i),this.first=l},m(A,R){N(A,l,R),a(l,n),a(n,i),i.checked=i.__value===e[8],a(n,f),a(n,r),a(r,m),a(l,_),a(l,d),a(d,v),a(l,g),E||(D=ge(i,"change",e[14]),E=!0)},p(A,R){var O,z,G,B,W,j,Y;e=A,R[0]&4&&s!==(s=e[36].s)&&(i.__value=s,te(i,i.__value),o=!0),(o||R[0]&260)&&(i.checked=i.__value===e[8]),R[0]&12&&c!==(c=(e[36].s||(((z=(O=e[3].conf)==null?void 0:O.connection)==null?void 0:z.hidden_ssid)??"Skjult nettverk"))+"")&&I(m,c),R[0]&132&&!rn(v.src,w=((G=e[7][e[38]])==null?void 0:G.icon)??e[9].off)&&u(v,"src",w),R[0]&132&&y!==(y=((B=e[7][e[38]])==null?void 0:B.title)??"Wi-Fi frakoblet")&&u(v,"alt",y),R[0]&132&&M!==(M=((W=e[7][e[38]])==null?void 0:W.rssi)!=null?`${((j=e[7][e[38]])==null?void 0:j.title)??"Wi-Fi frakoblet"} (${e[7][e[38]].rssi} dBm)`:((Y=e[7][e[38]])==null?void 0:Y.title)??"Wi-Fi frakoblet")&&u(v,"title",M),R[0]&260&&Zl(l,"border-neas-green",e[8]===e[36].s),R[0]&260&&Zl(l,"border-transparent",e[8]!==e[36].s),R[0]&260&&Zl(l,"bg-white",e[8]===e[36].s),R[0]&260&&Zl(l,"shadow-lg",e[8]===e[36].s)},d(A){A&&S(l),T.r(),E=!1,D()}}}function Mr(t){var W;let e,l,n,i,s,o,f,r,c,m=(t[4].detectedManufacturer||"ukjent")+"",_,d,v,w=t[4].confidence+"",y,M,g,T,E,D,C,F,A,R,O,z=t[4].detectedModel&&yr(t),G=((W=t[0])==null?void 0:W.mt)&&Sr(t),B=t[4].reasoning.length>0&&Pr(t);return{c(){e=p("div"),l=p("div"),n=p("div"),n.innerHTML='<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',i=h(),s=p("div"),o=p("h3"),o.textContent="Måler oppdaget automatisk!",f=h(),r=p("p"),c=k("Vi har oppdaget en "),_=k(m),d=k(` måler
                                `),z&&z.c(),v=k(`
                                med `),y=k(w),M=k(`%
                                sikkerhet.`),g=h(),G&&G.c(),T=h(),B&&B.c(),E=h(),D=p("div"),C=p("button"),C.textContent="Bruk anbefalte innstillinger",F=h(),A=p("button"),A.textContent="Avvis",u(n,"class","flex-shrink-0"),u(o,"class","text-sm font-medium text-green-800 mb-2"),u(r,"class","text-sm text-green-700 mb-3"),u(C,"type","button"),u(C,"class","bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(A,"type","button"),u(A,"class","bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium py-2 px-4 rounded-full transition-colors"),u(D,"class","flex gap-2"),u(s,"class","flex-1"),u(l,"class","flex items-start gap-3"),u(e,"class","mb-6 rounded-2xl bg-green-50 border border-green-200 p-5 shadow-sm")},m(j,Y){N(j,e,Y),a(e,l),a(l,n),a(l,i),a(l,s),a(s,o),a(s,f),a(s,r),a(r,c),a(r,_),a(r,d),z&&z.m(r,null),a(r,v),a(r,y),a(r,M),a(s,g),G&&G.m(s,null),a(s,T),B&&B.m(s,null),a(s,E),a(s,D),a(D,C),a(D,F),a(D,A),R||(O=[ge(C,"click",t[10]),ge(A,"click",t[11])],R=!0)},p(j,Y){var X;Y[0]&16&&m!==(m=(j[4].detectedManufacturer||"ukjent")+"")&&I(_,m),j[4].detectedModel?z?z.p(j,Y):(z=yr(j),z.c(),z.m(r,v)):z&&(z.d(1),z=null),Y[0]&16&&w!==(w=j[4].confidence+"")&&I(y,w),(X=j[0])!=null&&X.mt?G?G.p(j,Y):(G=Sr(j),G.c(),G.m(s,T)):G&&(G.d(1),G=null),j[4].reasoning.length>0?B?B.p(j,Y):(B=Pr(j),B.c(),B.m(s,E)):B&&(B.d(1),B=null)},d(j){j&&S(e),z&&z.d(),G&&G.d(),B&&B.d(),R=!1,Ut(O)}}}function yr(t){let e,l=t[4].detectedModel+"",n,i;return{c(){e=k("(modell: "),n=k(l),i=k(")")},m(s,o){N(s,e,o),N(s,n,o),N(s,i,o)},p(s,o){o[0]&16&&l!==(l=s[4].detectedModel+"")&&I(n,l)},d(s){s&&(S(e),S(n),S(i))}}}function Sr(t){var c,m;let e,l,n=t[0].mt+"",i,s,o,f=((c=t[0])==null?void 0:c.ds)&&Nr(t),r=((m=t[0])==null?void 0:m.hm)!==void 0&&Cr(t);return{c(){e=p("p"),l=k("Målertype fra payload: "),i=k(n),s=h(),f&&f.c(),o=h(),r&&r.c(),u(e,"class","text-xs text-green-600 mb-2")},m(_,d){N(_,e,d),a(e,l),a(e,i),a(e,s),f&&f.m(e,null),a(e,o),r&&r.m(e,null)},p(_,d){var v,w;d[0]&1&&n!==(n=_[0].mt+"")&&I(i,n),(v=_[0])!=null&&v.ds?f?f.p(_,d):(f=Nr(_),f.c(),f.m(e,o)):f&&(f.d(1),f=null),((w=_[0])==null?void 0:w.hm)!==void 0?r?r.p(_,d):(r=Cr(_),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(_){_&&S(e),f&&f.d(),r&&r.d()}}}function Nr(t){let e,l=t[0].ds+"",n;return{c(){e=k("| Distribusjonssystem: "),n=k(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].ds+"")&&I(n,l)},d(i){i&&(S(e),S(n))}}}function Cr(t){let e,l=t[0].hm+"",n;return{c(){e=k("| HAN-status: "),n=k(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].hm+"")&&I(n,l)},d(i){i&&(S(e),S(n))}}}function Pr(t){let e,l,n,i,s=Ge(t[4].reasoning),o=[];for(let f=0;f<s.length;f+=1)o[f]=Tr(br(t,s,f));return{c(){e=p("details"),l=p("summary"),l.textContent="Vis detaljer",n=h(),i=p("ul");for(let f=0;f<o.length;f+=1)o[f].c();u(l,"class","cursor-pointer hover:text-green-800"),u(i,"class","mt-2 space-y-1 pl-4"),u(e,"class","text-xs text-green-600 mb-3")},m(f,r){N(f,e,r),a(e,l),a(e,n),a(e,i);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null)},p(f,r){if(r[0]&16){s=Ge(f[4].reasoning);let c;for(c=0;c<s.length;c+=1){const m=br(f,s,c);o[c]?o[c].p(m,r):(o[c]=Tr(m),o[c].c(),o[c].m(i,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(f){f&&S(e),Xt(o,f)}}}function Tr(t){let e,l,n=t[33]+"",i;return{c(){e=p("li"),l=k("• "),i=k(n)},m(s,o){N(s,e,o),a(e,l),a(e,i)},p(s,o){o[0]&16&&n!==(n=s[33]+"")&&I(i,n)},d(s){s&&S(e)}}}function Ar(t){var T,E,D,C;let e,l,n,i,s,o,f,r=(((E=(T=t[3].setup)==null?void 0:T.reconnect)==null?void 0:E.title)??"Oppsett fullført!")+"",c,m,_,d=(((C=(D=t[3].setup)==null?void 0:D.reconnect)==null?void 0:C.info)??"Enheten starter på nytt og prøver å koble til på følgende adresser:")+"",v,w,y,M=Ge(t[6]),g=[];for(let F=0;F<M.length;F+=1)g[F]=Er(gr(t,M,F));return{c(){e=p("div"),l=p("div"),n=wt("svg"),i=wt("path"),s=h(),o=p("div"),f=p("h4"),c=k(r),m=h(),_=p("p"),v=k(d),w=h(),y=p("div");for(let F=0;F<g.length;F+=1)g[F].c();u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(i,"stroke-width","2"),u(i,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),u(n,"class","w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-3 flex-shrink-0"),u(n,"fill","none"),u(n,"stroke","currentColor"),u(n,"viewBox","0 0 24 24"),u(f,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),u(_,"class","text-sm text-green-700 dark:text-green-300 mb-3"),u(y,"class","space-y-1"),u(l,"class","flex items-start"),u(e,"class","mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg")},m(F,A){N(F,e,A),a(e,l),a(l,n),a(n,i),a(l,s),a(l,o),a(o,f),a(f,c),a(o,m),a(o,_),a(_,v),a(o,w),a(o,y);for(let R=0;R<g.length;R+=1)g[R]&&g[R].m(y,null)},p(F,A){var R,O,z,G;if(A[0]&8&&r!==(r=(((O=(R=F[3].setup)==null?void 0:R.reconnect)==null?void 0:O.title)??"Oppsett fullført!")+"")&&I(c,r),A[0]&8&&d!==(d=(((G=(z=F[3].setup)==null?void 0:z.reconnect)==null?void 0:G.info)??"Enheten starter på nytt og prøver å koble til på følgende adresser:")+"")&&I(v,d),A[0]&64){M=Ge(F[6]);let B;for(B=0;B<M.length;B+=1){const W=gr(F,M,B);g[B]?g[B].p(W,A):(g[B]=Er(W),g[B].c(),g[B].m(y,null))}for(;B<g.length;B+=1)g[B].d(1);g.length=M.length}},d(F){F&&S(e),Xt(g,F)}}}function Er(t){let e,l,n=(t[30].startsWith("http://")||t[30].startsWith("https://")?t[30]:`http://${t[30]}`)+"",i,s;return{c(){e=p("div"),l=p("code"),i=k(n),s=h(),u(l,"class","text-xs bg-green-100 dark:bg-green-800/50 text-green-800 dark:text-green-200 px-2 py-1 rounded font-mono"),u(e,"class","flex items-center")},m(o,f){N(o,e,f),a(e,l),a(l,i),a(e,s)},p(o,f){f[0]&64&&n!==(n=(o[30].startsWith("http://")||o[30].startsWith("https://")?o[30]:`http://${o[30]}`)+"")&&I(i,n)},d(o){o&&S(e)}}}function ym(t){var Ee,Ie,Re,Ue,Ye,Qe,Le,tt;let e,l,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T,E,D,C,F=(((Ee=t[3].setup)==null?void 0:Ee.title)??"WiFi-oppsett")+"",A,R,O,z=(((Ie=t[3].setup)==null?void 0:Ie.subtitle)??"Koble enheten til internett")+"",G,B,W,j,Y,X=(((Ue=(Re=t[3].conf)==null?void 0:Re.connection)==null?void 0:Ue.ssid)??"Velg nettverk")+"",U,K,$,le,H,Z,re=(((Qe=(Ye=t[3].conf)==null?void 0:Ye.connection)==null?void 0:Qe.psk)??"WiFi-passord")+"",ae,fe,ce,ee,Q,J,he,Me,P,b,L,q,V,ne,ie=((Le=t[2])==null?void 0:Le.c)==-1&&kr(t);function _e(se,Ce){var lt,gt,mt;if((gt=(lt=se[2])==null?void 0:lt.n)!=null&&gt.length)return Mm;if(((mt=se[2])==null?void 0:mt.c)!=-1)return wm}let me=_e(t),ue=me&&me(t),be=t[1]&&t[4]&&Mr(t),ke=t[6].length&&Ar(t);return L=new cl({props:{active:t[5],message:((tt=t[3].setup)==null?void 0:tt.mask)??"Kobler til..."}}),{c(){var se,Ce;e=p("div"),l=p("div"),l.innerHTML=`<img alt="Neas logo" src="${ou}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${as}" class="w-36 h-auto hidden sm:block"/>`,n=h(),i=p("div"),s=p("form"),o=p("input"),f=h(),r=p("input"),c=h(),m=p("input"),_=h(),d=p("input"),v=h(),w=p("input"),y=h(),M=p("input"),g=h(),T=p("input"),E=h(),D=p("div"),C=p("h1"),A=k(F),R=h(),O=p("p"),G=k(z),B=h(),W=p("div"),j=p("div"),Y=p("span"),U=k(X),K=h(),ie&&ie.c(),$=h(),ue&&ue.c(),le=h(),H=p("div"),Z=p("label"),ae=k(re),fe=h(),ce=p("input"),Q=h(),be&&be.c(),J=h(),he=p("div"),Me=p("button"),Me.textContent="Koble til og fortsett",P=h(),ke&&ke.c(),b=h(),Ne(L.$$.fragment),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(o,"type","hidden"),u(o,"name","s"),o.value="true",u(r,"type","hidden"),u(r,"name","fw"),r.value="true",u(m,"type","hidden"),u(m,"name","sf"),m.value="1",u(d,"type","hidden"),u(d,"name","ulang"),d.value="no",u(w,"type","hidden"),u(w,"name","fwa"),w.value="true",u(M,"type","hidden"),u(M,"name","fws"),M.value="2",u(T,"type","hidden"),u(T,"name","fwe"),T.value="2",u(C,"class","text-2xl font-semibold text-neas-green mb-2"),u(O,"class","text-sm text-black"),u(D,"class","text-center mb-8"),u(Y,"class","block text-sm font-medium text-neas-green dark:text-neas-green"),u(j,"class","flex items-center justify-between mb-3"),u(W,"class","mb-6"),u(Z,"for","wifi-password"),u(Z,"class","block text-sm font-medium text-neas-green dark:text-neas-green mb-2"),u(ce,"id","wifi-password"),u(ce,"name","sp"),u(ce,"type","password"),u(ce,"pattern",mi),u(ce,"class","w-full px-4 py-3 rounded-xl bg-neas-gray dark:bg-neas-gray text-neas-green dark:text-neas-green border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-neas-green focus:border-neas-green transition-colors shadow-sm"),u(ce,"placeholder",ee=((Ce=(se=t[3].conf)==null?void 0:se.connection)==null?void 0:Ce.password_placeholder)??"Skriv inn WiFi-passord"),u(ce,"autocomplete","off"),ce.required=au==2,u(H,"class","mb-6"),u(Me,"type","submit"),u(Me,"class","w-full bg-neas-green hover:bg-neas-green-90 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(he,"class","text-center"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(se,Ce){N(se,e,Ce),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,f),a(s,r),a(s,c),a(s,m),a(s,_),a(s,d),a(s,v),a(s,w),a(s,y),a(s,M),a(s,g),a(s,T),a(s,E),a(s,D),a(D,C),a(C,A),a(D,R),a(D,O),a(O,G),a(s,B),a(s,W),a(W,j),a(j,Y),a(Y,U),a(W,K),ie&&ie.m(W,null),a(W,$),ue&&ue.m(W,null),a(s,le),a(s,H),a(H,Z),a(Z,ae),a(H,fe),a(H,ce),a(s,Q),be&&be.m(s,null),a(s,J),a(s,he),a(he,Me),a(s,P),ke&&ke.m(s,null),N(se,b,Ce),ye(L,se,Ce),q=!0,V||(ne=ge(s,"submit",Gn(t[12])),V=!0)},p(se,Ce){var gt,mt,Ze,at,Ht,dt,Tt,Ct,qt,xe;(!q||Ce[0]&8)&&F!==(F=(((gt=se[3].setup)==null?void 0:gt.title)??"WiFi-oppsett")+"")&&I(A,F),(!q||Ce[0]&8)&&z!==(z=(((mt=se[3].setup)==null?void 0:mt.subtitle)??"Koble enheten til internett")+"")&&I(G,z),(!q||Ce[0]&8)&&X!==(X=(((at=(Ze=se[3].conf)==null?void 0:Ze.connection)==null?void 0:at.ssid)??"Velg nettverk")+"")&&I(U,X),((Ht=se[2])==null?void 0:Ht.c)==-1?ie?ie.p(se,Ce):(ie=kr(se),ie.c(),ie.m(W,$)):ie&&(ie.d(1),ie=null),me===(me=_e(se))&&ue?ue.p(se,Ce):(ue&&ue.d(1),ue=me&&me(se),ue&&(ue.c(),ue.m(W,null))),(!q||Ce[0]&8)&&re!==(re=(((Tt=(dt=se[3].conf)==null?void 0:dt.connection)==null?void 0:Tt.psk)??"WiFi-passord")+"")&&I(ae,re),(!q||Ce[0]&8&&ee!==(ee=((qt=(Ct=se[3].conf)==null?void 0:Ct.connection)==null?void 0:qt.password_placeholder)??"Skriv inn WiFi-passord"))&&u(ce,"placeholder",ee),se[1]&&se[4]?be?be.p(se,Ce):(be=Mr(se),be.c(),be.m(s,J)):be&&(be.d(1),be=null),se[6].length?ke?ke.p(se,Ce):(ke=Ar(se),ke.c(),ke.m(s,null)):ke&&(ke.d(1),ke=null);const lt={};Ce[0]&32&&(lt.active=se[5]),Ce[0]&8&&(lt.message=((xe=se[3].setup)==null?void 0:xe.mask)??"Kobler til..."),L.$set(lt)},i(se){q||(x(L.$$.fragment,se),q=!0)},o(se){oe(L.$$.fragment,se),q=!1},d(se){se&&(S(e),S(b)),ie&&ie.d(),ue&&ue.d(),be&&be.d(),ke&&ke.d(),Se(L,se),V=!1,ne()}}}let au=1;function Sm(t){return{2:"7N1",3:"8N1",7:"8N2",10:"7E1",11:"8E1"}[t]||"8E1"}function Nm(t,e,l){const n={high:pm,medium:dm,low:mm,off:_m};n.off;let i={};Sl.subscribe(B=>{l(3,i=B)});let s,o,f=!1,r=null,c=!1;const m=gn.subscribe(B=>{s=B,B!=null&&B.m&&!f&&(o=pn(B.m),f=!0)});hi(()=>{lu(),setTimeout(()=>{v()},3e3)}),gi(()=>{typeof m=="function"&&m()});function _(){!f&&(s!=null&&s.m)&&(o=pn(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=pn(s.m))}function d(B){_();const W=iu(B);W?o=su(o,W):s!=null&&s.m&&(o=pn(s.m))}function v(){if(!E)return;const B={meterId:E.id||"",meterModel:E.model||""},W=s!=null&&s.m?{baud:s.m.b||0,parity:Sm(s.m.p||0),invert:s.m.i||!1}:null;l(4,r=km(B,W,E)),r.confidence>50&&r.suggestedPresets.length>0&&l(1,c=!0)}function w(){if(r&&r.suggestedPresets.length>0){const B=r.suggestedPresets[0];d(B),l(1,c=!1)}}function y(){l(1,c=!1)}function M(){var j,Y,X,U,K,$,le,H,Z,re,ae;_();const B=o??pn(s==null?void 0:s.m);if(!B)return null;const W=(s==null?void 0:s.m)??{};return{source:B.source??W.o??1,parser:B.parser??W.a??0,baud:B.baud??W.b??0,parity:B.parity??W.p??3,invert:B.invert??W.i??!1,distributionSystem:B.distributionSystem??W.d??2,mainFuse:B.mainFuse??W.f??0,production:B.production??W.r??0,buffer:B.buffer??W.s??256,encrypted:B.encrypted??((j=W==null?void 0:W.e)==null?void 0:j.e)??!1,encryptionKey:B.encryptionKey??((Y=W==null?void 0:W.e)==null?void 0:Y.k)??"",authenticationKey:B.authenticationKey??((X=W==null?void 0:W.e)==null?void 0:X.a)??"",multipliers:{watt:((U=B.multipliers)==null?void 0:U.watt)??((K=W==null?void 0:W.m)==null?void 0:K.w)??1,volt:(($=B.multipliers)==null?void 0:$.volt)??((le=W==null?void 0:W.m)==null?void 0:le.v)??1,amp:((H=B.multipliers)==null?void 0:H.amp)??((Z=W==null?void 0:W.m)==null?void 0:Z.a)??1,kwh:((re=B.multipliers)==null?void 0:re.kwh)??((ae=W==null?void 0:W.m)==null?void 0:ae.c)??1}}}let g={};Yf.subscribe(B=>{l(2,g=B)});let{sysinfo:T={}}=e,{data:E={}}=e,D=!1,C=[],F=[],A="";function R(B){ml.update(W=>(W.trying=B,W))}async function O(B){var J,he,Me,P;l(5,D=!0);const W=new FormData(B.target),j=new URLSearchParams;for(let b of W){const[L,q]=b;j.append(L,typeof q=="string"?q:String(q))}const Y=M();Y&&(j.set("m","true"),j.set("mo",String(Y.source??1)),j.set("ma",String(Y.parser??0)),j.set("mb",String(Y.baud??0)),j.set("mp",String(Y.parity??3)),j.set("mi",Y.invert?"true":"false"),j.set("md",String(Y.distributionSystem??2)),j.set("mf",String(Y.mainFuse??0)),j.set("mr",String(Y.production??0)),j.set("ms",String(Y.buffer??256)),Y.encrypted&&(j.set("me","true"),j.set("mek",Y.encryptionKey??""),j.set("mea",Y.authenticationKey??"")),j.set("mmw",String(((J=Y.multipliers)==null?void 0:J.watt)??1)),j.set("mmv",String(((he=Y.multipliers)==null?void 0:he.volt)??1)),j.set("mma",String(((Me=Y.multipliers)==null?void 0:Me.amp)??1)),j.set("mmc",String(((P=Y.multipliers)==null?void 0:P.kwh)??1))),j.set("fwa","true"),j.set("fws",j.get("fws")??"2"),j.set("fwe",j.get("fwe")??j.get("fws")??"2"),j.set("sf","1"),j.set("ulang","no");let U=await(await fetch("save",{method:"POST",body:j})).json();l(5,D=!1);const K=String(W.get("sh")??"").trim(),le=(typeof U.message=="string"?U.message:"").split("|").map(b=>b.trim()),H=le[0]??"",Z=le[1]??"",re=le[2]??"",ae=H||K||T.hostname||(T!=null&&T.chipId?`ams-${T.chipId}`:"ams-reader"),fe=Z||(ae&&ae.indexOf(".")===-1&&ae.indexOf(":")===-1?`${ae}.local`:ae),ce=re,ee=Array.from(new Set([ce,ae,fe].filter(b=>b&&b.length>0)));l(6,C=U.reboot?[...ee]:[]),ml.update(b=>{b.net||(b.net={});const L=ae||b.hostname||K;return b.hostname=L,(!b.upgrade||typeof b.upgrade!="object")&&(b.upgrade={x:-1,e:0,f:null,t:null,m:!1}),b.upgrade.auto=!0,b.fwconsent=1,(!b.ui||typeof b.ui!="object")&&(b.ui={}),b.ui.lang="no",re&&(b.net.ip=re),b.targets=[...ee],b.usrcfg=U.success,b.booting=U.reboot,b});const Q=$l(ml);l(13,T=Q),U.reboot&&setTimeout(()=>an(Q,R),5e3)}const z=[[]];function G(){A=this.__value,l(8,A)}return t.$$set=B=>{"sysinfo"in B&&l(13,T=B.sysinfo),"data"in B&&l(0,E=B.data)},t.$$.update=()=>{if(t.$$.dirty[0]&3&&E&&E.mt!==void 0&&!c&&setTimeout(()=>v(),500),t.$$.dirty[0]&1){const{level:B,label:W}=zn(E==null?void 0:E.r);n[B]??n.off}t.$$.dirty[0]&4&&l(7,F=Array.isArray(g==null?void 0:g.n)?g.n.map(B=>{const{level:W,label:j}=zn(B==null?void 0:B.r);return{icon:n[W]??n.off,title:j,rssi:typeof(B==null?void 0:B.r)>"u"?null:B.r}}):[])},[E,c,g,i,r,D,C,F,A,n,w,y,O,T,G,z]}class Cm extends Et{constructor(e){super(),At(this,e,Nm,ym,Pt,{sysinfo:13,data:0},null,[-1,-1])}}function Pm(t){let e;return{c(){e=k("Kopier til utklippstavlen")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Tm(t){let e;return{c(){e=k("Kopier mislyktes")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Am(t){let e;return{c(){e=k("Kopiert!")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Em(t){let e;return{c(){e=k("Kopierer…")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function qm(t){let e;return{c(){e=k("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Lm(t){let e;return{c(){e=k("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Im(t){let e;return{c(){e=k("Lim adressen inn i nettleserens adresselinje.")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function qr(t){let e;return{c(){e=p("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",u(e,"class","text-xs text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Lr(t){let e;return{c(){e=p("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",u(e,"class","text-xs text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Om(t){let e;return{c(){e=p("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker.",u(e,"class","text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Dm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",u(e,"class","list-decimal space-y-1 pl-5 text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Fm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",u(e,"class","list-decimal space-y-1 pl-5 text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Rm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",u(e,"class","list-decimal space-y-1 pl-5 text-sm text-black")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function Ir(t){let e;return{c(){e=p("div"),e.innerHTML='<p class="font-medium text-neas-green mb-3">Tips når du lukker vinduet</p> <p class="text-sm text-black">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',u(e,"class","rounded-2xl bg-neas-gray p-5 shadow-sm")},m(l,n){N(l,e,n)},d(l){l&&S(e)}}}function jm(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T,E,D,C,F,A,R,O,z,G,B,W,j,Y,X;function U(J,he){return J[5]==="pending"?Em:J[5]==="success"?Am:J[5]==="error"?Tm:Pm}let K=U(t),$=K(t);function le(J,he){return J[5]==="success"?Im:J[5]==="error"?Lm:qm}let H=le(t),Z=H(t),re=t[7]&&!t[8]&&qr(),ae=t[8]&&Lr();function fe(J,he){return J[2]?Rm:J[3]?Fm:J[4]?Dm:Om}let ce=fe(t),ee=ce(t),Q=t[1]&&t[6]&&Ir();return{c(){e=p("div"),l=p("div"),l.innerHTML=`<img alt="Neas logo" src="${ou}" class="w-36 h-auto sm:hidden"/> <img alt="Neas logo" src="${as}" class="w-36 h-auto hidden sm:block"/>`,n=h(),i=p("div"),s=p("div"),s.innerHTML='<h1 class="text-2xl font-semibold text-neas-green mb-2">Gå til oppsettet i nettleseren din</h1> <p class="text-sm text-black">Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.</p>',o=h(),f=p("div"),r=p("div"),c=p("p"),c.textContent="1. Kopier adressen",m=h(),_=p("p"),d=k("Adressen er "),v=p("code"),w=k(t[0]),y=k(" og virker mens du er tilkoblet "),M=p("strong"),M.textContent="NEAS-WATTUP",g=k("."),T=h(),E=p("div"),D=p("button"),$.c(),C=h(),F=p("span"),Z.c(),A=h(),re&&re.c(),R=h(),ae&&ae.c(),O=h(),z=p("div"),G=p("p"),G.textContent="2. Åpne den i nettleseren",B=h(),W=p("div"),ee.c(),j=h(),Q&&Q.c(),u(l,"class","mb-4 sm:mb-8 mt-8 sm:mt-0"),u(s,"class","text-center mb-8"),u(c,"class","font-medium text-neas-green mb-3"),u(v,"class","rounded bg-white px-2 py-1 font-mono text-sm text-neas-green shadow-sm"),u(_,"class","text-sm text-black mb-3"),u(D,"class","bg-neas-green hover:bg-neas-green-90 text-white font-medium py-2 px-4 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-neas-green focus:ring-offset-2"),u(F,"class","text-xs text-black"),u(E,"class","flex flex-wrap items-center gap-3"),u(r,"class","rounded-2xl bg-neas-gray p-5 shadow-sm"),u(G,"class","font-medium text-neas-green mb-3"),u(W,"class","space-y-2"),u(z,"class","rounded-2xl bg-neas-gray p-5 shadow-sm"),u(f,"class","space-y-6"),u(i,"class","bg-white dark:white border-0 sm:border sm:border-neas-lightgreen-30 shadow-none sm:shadow-xl sm:shadow-black/10 rounded-none sm:rounded-3xl max-w-none sm:max-w-md w-full flex-1 sm:flex-none p-6 sm:p-8"),u(e,"class","min-h-screen bg-white sm:bg-neas-green flex flex-col items-center p-0 sm:p-4")},m(J,he){N(J,e,he),a(e,l),a(e,n),a(e,i),a(i,s),a(i,o),a(i,f),a(f,r),a(r,c),a(r,m),a(r,_),a(_,d),a(_,v),a(v,w),a(_,y),a(_,M),a(_,g),a(r,T),a(r,E),a(E,D),$.m(D,null),a(E,C),a(E,F),Z.m(F,null),a(E,A),re&&re.m(E,null),a(E,R),ae&&ae.m(E,null),a(f,O),a(f,z),a(z,G),a(z,B),a(z,W),ee.m(W,null),a(f,j),Q&&Q.m(f,null),Y||(X=ge(D,"click",t[9]),Y=!0)},p(J,[he]){he&1&&I(w,J[0]),K!==(K=U(J))&&($.d(1),$=K(J),$&&($.c(),$.m(D,null))),H!==(H=le(J))&&(Z.d(1),Z=H(J),Z&&(Z.c(),Z.m(F,null))),J[7]&&!J[8]?re||(re=qr(),re.c(),re.m(E,R)):re&&(re.d(1),re=null),J[8]?ae||(ae=Lr(),ae.c(),ae.m(E,null)):ae&&(ae.d(1),ae=null),ce!==(ce=fe(J))&&(ee.d(1),ee=ce(J),ee&&(ee.c(),ee.m(W,null))),J[1]&&J[6]?Q||(Q=Ir(),Q.c(),Q.m(f,null)):Q&&(Q.d(1),Q=null)},i:We,o:We,d(J){J&&S(e),$.d(),Z.d(),re&&re.d(),ae&&ae.d(),ee.d(),Q&&Q.d(),Y=!1,X()}}}function Bm(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,f=!1,r=!1,c="idle",m=!1,_=!1,d=!1;hi(()=>{l(0,i=v()),w()}),gi(()=>{});function v(){const g="http://192.168.4.1/setup";try{const T=new URL(n||"/",window.location.href);return new URL("./setup",T).href}catch{return g}}function w(){if(typeof navigator>"u")return!1;const g=navigator.userAgent||"",T=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(g)&&!window.MSStream),l(3,f=/Macintosh|Mac OS X/.test(g)),l(4,r=/Android/.test(g)),l(1,s=T.some(E=>E.test(g))),l(2,o=s&&o),l(3,f=s&&f&&!o),l(4,r=s&&r),s}async function y(g){var E,D;(E=g==null?void 0:g.preventDefault)==null||E.call(g),l(5,c="pending");const T=()=>{try{const C=document.createElement("textarea");C.value=i,C.setAttribute("readonly",""),C.style.position="absolute",C.style.left="-9999px",document.body.appendChild(C),C.select();const F=document.execCommand("copy");return document.body.removeChild(C),F}catch{return!1}};try{(D=navigator.clipboard)!=null&&D.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):T()?l(5,c="success"):l(5,c="error")}catch{T()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(M(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function M(){if(!s||_)return;l(7,_=!0);let g=!1;try{window.close(),g=window.closed}catch{g=!1}if(!g)try{window.open("","_self"),window.close(),g=window.closed}catch{g=!1}if(g){l(8,d=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,d=!0)},400)}return t.$$set=g=>{"basepath"in g&&l(10,n=g.basepath)},[i,s,o,f,r,c,m,_,d,y,n]}class Um extends Et{constructor(e){super(),At(this,e,Bm,jm,Pt,{basepath:10})}}function Hm(t){var z,G,B,W;let e,l,n,i=(((z=t[2].upload)==null?void 0:z.title)??"Upload")+"",s,o,f,r,c,m=(((G=t[2].upload)==null?void 0:G.desc)??"")+"",_,d,v,w,y,M,g,T,E=(((B=t[2].btn)==null?void 0:B.upload)??"Upload")+"",D,C,F,A,R,O;return F=new cl({props:{active:t[3],message:((W=t[2].upload)==null?void 0:W.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=k(i),o=h(),f=k(t[1]),r=h(),c=p("p"),_=k(m),d=h(),v=p("form"),w=p("input"),y=h(),M=p("div"),g=p("button"),T=p("p"),D=k(E),C=h(),Ne(F.$$.fragment),u(c,"class","mb-4"),u(w,"name","file"),u(w,"type","file"),u(T,"class","mb-4"),u(g,"type","submit"),u(g,"class","btn-pri"),u(M,"class","w-full text-right mt-4"),u(v,"action",t[0]),u(v,"enctype","multipart/form-data"),u(v,"method","post"),u(v,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(j,Y){N(j,e,Y),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,_),a(l,d),a(l,v),a(v,w),a(v,y),a(v,M),a(M,g),a(g,T),a(T,D),N(j,C,Y),ye(F,j,Y),A=!0,R||(O=ge(v,"submit",t[4]),R=!0)},p(j,[Y]){var U,K,$,le;(!A||Y&4)&&i!==(i=(((U=j[2].upload)==null?void 0:U.title)??"Upload")+"")&&I(s,i),(!A||Y&2)&&I(f,j[1]),(!A||Y&4)&&m!==(m=(((K=j[2].upload)==null?void 0:K.desc)??"")+"")&&I(_,m),(!A||Y&4)&&E!==(E=((($=j[2].btn)==null?void 0:$.upload)??"Upload")+"")&&I(D,E),(!A||Y&1)&&u(v,"action",j[0]);const X={};Y&8&&(X.active=j[3]),Y&4&&(X.message=((le=j[2].upload)==null?void 0:le.mask)??"Uploading"),F.$set(X)},i(j){A||(x(F.$$.fragment,j),A=!0)},o(j){oe(F.$$.fragment,j),A=!1},d(j){j&&(S(e),S(C)),Se(F,j),R=!1,O()}}}function Wm(t,e,l){let{action:n}=e,{title:i}=e,s={};Sl.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class ms extends Et{constructor(e){super(),At(this,e,Wm,Hm,Pt,{action:0,title:1})}}function Or(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Dr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function zm(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Fr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Km(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Rr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function jr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Br(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Ur(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Hr(t){let e,l=Ge(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=Xr(Or(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=tl()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);N(i,e,s)},p(i,s){if(s[0]&1875){l=Ge(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Or(i,l,o);n[o]?n[o].p(f,s):(n[o]=Xr(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&S(e),Xt(n,i)}}}function Wr(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function zr(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function Kr(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function Vr(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=ge(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&S(e),s=!1,o()}}}function Vm(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,te(e,e.__value)},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function Gr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[35]+1,te(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&I(n,l)},d(s){s&&S(e)}}}function Gm(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,te(e,e.__value)},m(l,n){N(l,e,n)},p:We,d(l){l&&S(e)}}}function Yr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ct(t[35]+1))+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[35]+1,te(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ct(s[35]+1))+"")&&I(n,l)},d(s){s&&S(e)}}}function Xr(t){var Dt,il,Ot,Ve,Rt,Gt,vt,rt,Mt,zt;let e,l,n,i,s,o,f,r=(((il=(Dt=t[0].conf)==null?void 0:Dt.common)==null?void 0:il.import)??"Import")+"",c,m,_=(((Ve=(Ot=t[0].conf)==null?void 0:Ot.common)==null?void 0:Ve.export)??"Export")+"",d,v,w=(((Gt=(Rt=t[0].conf)==null?void 0:Rt.price)==null?void 0:Gt.both)??"Both")+"",y,M,g,T,E=(((rt=(vt=t[0].conf)==null?void 0:vt.price)==null?void 0:rt.fixed)??"Fixed")+"",D,C,F,A,R,O,z,G,B,W=(((Mt=t[0].common)==null?void 0:Mt.days)??"Days")+"",j,Y,X,U,K,$,le,H=(((zt=t[0].common)==null?void 0:zt.hours)??"Hours")+"",Z,re,ae,fe,ce,ee,Q,J,he,Me,P,b,L,q,V,ne,ie,_e,me,ue,be,ke,Ee,Ie,Re,Ue,Ye,Qe,Le,tt,se,Ce,lt,gt,mt,Ze,at;function Ht(){t[12].call(n,t[31],t[32])}function dt(){t[13].call(o,t[31],t[32])}function Tt(){t[14].call(g,t[31],t[32])}function Ct(){t[15].call(O,t[31],t[32])}let qt=Ge({length:7}),xe=[];for(let pe=0;pe<qt.length;pe+=1)xe[pe]=Wr(Ur(t,qt,pe));let pt=Ge({length:8}),Pe=[];for(let pe=0;pe<pt.length;pe+=1)Pe[pe]=zr(Br(t,pt,pe));let je=Ge({length:8}),Je=[];for(let pe=0;pe<je.length;pe+=1)Je[pe]=Kr(jr(t,je,pe));let Xe=Ge({length:8}),et=[];for(let pe=0;pe<Xe.length;pe+=1)et[pe]=Vr(Rr(t,Xe,pe));let ve=Ge({length:31}),qe=[];for(let pe=0;pe<ve.length;pe+=1)qe[pe]=Vm(Km(t,ve,pe));function Lt(){t[20].call(b,t[31],t[32])}let bt=Ge({length:12}),Be=[];for(let pe=0;pe<bt.length;pe+=1)Be[pe]=Gr(Fr(t,bt,pe));function ut(){t[21].call(V,t[31],t[32])}let $e=Ge({length:31}),It=[];for(let pe=0;pe<$e.length;pe+=1)It[pe]=Gm(zm(t,$e,pe));function Wt(){t[22].call(ue,t[31],t[32])}let ze=Ge({length:12}),we=[];for(let pe=0;pe<ze.length;pe+=1)we[pe]=Yr(Dr(t,ze,pe));function Te(){t[23].call(Ee,t[31],t[32])}function Ke(){return t[24](t[32])}function nt(){return t[25](t[32])}function st(){return t[26](t[32])}function _t(){return t[27](t[32])}function Vt(){return t[28](t[32])}function Ft(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=h(),s=p("div"),o=p("select"),f=p("option"),c=k(r),m=p("option"),d=k(_),v=p("option"),y=k(w),M=h(),g=p("select"),T=p("option"),D=k(E),C=p("option"),C.textContent="+",F=p("option"),F.textContent="-",A=p("option"),A.textContent="%",R=h(),O=p("input"),z=h(),G=p("div"),B=p("span"),j=k(W),Y=k(":"),X=h(),U=p("div");for(let pe=0;pe<xe.length;pe+=1)xe[pe].c();K=h(),$=p("div"),le=p("span"),Z=k(H),re=k(":"),ae=h(),fe=p("div"),ce=p("div");for(let pe=0;pe<Pe.length;pe+=1)Pe[pe].c();ee=h(),Q=p("div");for(let pe=0;pe<Je.length;pe+=1)Je[pe].c();J=h(),he=p("div");for(let pe=0;pe<et.length;pe+=1)et[pe].c();Me=h(),P=p("div"),b=p("select"),L=p("option"),L.textContent="-";for(let pe=0;pe<qe.length;pe+=1)qe[pe].c();q=h(),V=p("select"),ne=p("option"),ne.textContent="-";for(let pe=0;pe<Be.length;pe+=1)Be[pe].c();ie=h(),_e=p("input"),me=h(),ue=p("select"),be=p("option"),be.textContent="-";for(let pe=0;pe<It.length;pe+=1)It[pe].c();ke=h(),Ee=p("select"),Ie=p("option"),Ie.textContent="-";for(let pe=0;pe<we.length;pe+=1)we[pe].c();Re=h(),Ue=p("div"),Ye=p("span"),Ye.textContent="⇧",Qe=h(),Le=p("span"),tt=k("⇩"),Ce=h(),lt=p("span"),lt.textContent="🗑",gt=h(),mt=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,te(f,f.__value),m.__value=2,te(m,m.__value),v.__value=3,te(v,v.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Jt(dt),T.__value=0,te(T,T.__value),C.__value=1,te(C,C.__value),F.__value=3,te(F,F.__value),A.__value=2,te(A,A.__value),u(g,"name","rt"),u(g,"class","in-m"),t[30].t===void 0&&Jt(Tt),u(O,"name","rv"),u(O,"type","number"),u(O,"class","in-l tr"),xl(O,"width","100px"),u(O,"min","0.0001"),u(O,"max","99.9999"),u(O,"step","0.0001"),u(s,"class","flex mr-3"),u(B,"class","mr-2"),u(G,"class","flex flex-wrap mr-3"),u(le,"class","mr-2"),u($,"class","flex flex-wrap mr-3"),L.__value=0,te(L,L.__value),u(b,"name","rsd"),u(b,"class","in-f"),t[30].s.d===void 0&&Jt(Lt),ne.__value=0,te(ne,ne.__value),u(V,"name","rsm"),u(V,"class","in-m"),t[30].s.m===void 0&&Jt(ut),u(_e,"class","in-m"),_e.disabled=!0,_e.value="to",xl(_e,"width","20px"),xl(_e,"color","#888"),be.__value=0,te(be,be.__value),u(ue,"name","red"),u(ue,"class","in-m"),t[30].e.d===void 0&&Jt(Wt),Ie.__value=0,te(Ie,Ie.__value),u(Ee,"name","rem"),u(Ee,"class","in-l"),t[30].e.m===void 0&&Jt(Te),u(P,"class","flex flex-wrap mr-3"),u(Ye,"class",t[32]>0?"text-green-600":"text-gray-300"),u(Le,"class",se=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(lt,"class","text-red-500 text-xs"),u(Ue,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(mt,"class","m-3")},m(pe,it){N(pe,e,it),a(e,l),a(l,n),te(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,d),a(o,v),a(v,y),ft(o,t[30].d,!0),a(s,M),a(s,g),a(g,T),a(T,D),a(g,C),a(g,F),a(g,A),ft(g,t[30].t,!0),a(s,R),a(s,O),te(O,t[30].v),a(e,z),a(e,G),a(G,B),a(B,j),a(B,Y),a(G,X),a(G,U);for(let He=0;He<xe.length;He+=1)xe[He]&&xe[He].m(U,null);a(e,K),a(e,$),a($,le),a(le,Z),a(le,re),a($,ae),a($,fe),a(fe,ce);for(let He=0;He<Pe.length;He+=1)Pe[He]&&Pe[He].m(ce,null);a(fe,ee),a(fe,Q);for(let He=0;He<Je.length;He+=1)Je[He]&&Je[He].m(Q,null);a(fe,J),a(fe,he);for(let He=0;He<et.length;He+=1)et[He]&&et[He].m(he,null);a(e,Me),a(e,P),a(P,b),a(b,L);for(let He=0;He<qe.length;He+=1)qe[He]&&qe[He].m(b,null);ft(b,t[30].s.d,!0),a(P,q),a(P,V),a(V,ne);for(let He=0;He<Be.length;He+=1)Be[He]&&Be[He].m(V,null);ft(V,t[30].s.m,!0),a(P,ie),a(P,_e),a(P,me),a(P,ue),a(ue,be);for(let He=0;He<It.length;He+=1)It[He]&&It[He].m(ue,null);ft(ue,t[30].e.d,!0),a(P,ke),a(P,Ee),a(Ee,Ie);for(let He=0;He<we.length;He+=1)we[He]&&we[He].m(Ee,null);ft(Ee,t[30].e.m,!0),a(e,Re),a(e,Ue),a(Ue,Ye),a(Ue,Qe),a(Ue,Le),a(Le,tt),a(Ue,Ce),a(Ue,lt),N(pe,gt,it),N(pe,mt,it),Ze||(at=[ge(n,"input",Ht),ge(o,"change",dt),ge(g,"change",Tt),ge(O,"input",Ct),ge(b,"change",Lt),ge(V,"change",ut),ge(ue,"change",Wt),ge(Ee,"change",Te),ge(Ye,"click",Ke),ge(Ye,"keypress",nt),ge(Le,"click",st),ge(Le,"keypress",_t),ge(lt,"click",Vt),ge(lt,"keypress",Ft)],Ze=!0)},p(pe,it){var He,sl,Yt,xt,ul,ol,Qt,Zt,fl,Ae;if(t=pe,it[0]&2&&n.value!==t[30].n&&te(n,t[30].n),it[0]&1&&r!==(r=(((sl=(He=t[0].conf)==null?void 0:He.common)==null?void 0:sl.import)??"Import")+"")&&I(c,r),it[0]&1&&_!==(_=(((xt=(Yt=t[0].conf)==null?void 0:Yt.common)==null?void 0:xt.export)??"Export")+"")&&I(d,_),it[0]&1&&w!==(w=(((ol=(ul=t[0].conf)==null?void 0:ul.price)==null?void 0:ol.both)??"Both")+"")&&I(y,w),it[0]&2&&ft(o,t[30].d),it[0]&1&&E!==(E=(((Zt=(Qt=t[0].conf)==null?void 0:Qt.price)==null?void 0:Zt.fixed)??"Fixed")+"")&&I(D,E),it[0]&2&&ft(g,t[30].t),it[0]&2&&kt(O.value)!==t[30].v&&te(O,t[30].v),it[0]&1&&W!==(W=(((fl=t[0].common)==null?void 0:fl.days)??"Days")+"")&&I(j,W),it[0]&82){qt=Ge({length:7});let de;for(de=0;de<qt.length;de+=1){const jt=Ur(t,qt,de);xe[de]?xe[de].p(jt,it):(xe[de]=Wr(jt),xe[de].c(),xe[de].m(U,null))}for(;de<xe.length;de+=1)xe[de].d(1);xe.length=qt.length}if(it[0]&1&&H!==(H=(((Ae=t[0].common)==null?void 0:Ae.hours)??"Hours")+"")&&I(Z,H),it[0]&66){pt=Ge({length:8});let de;for(de=0;de<pt.length;de+=1){const jt=Br(t,pt,de);Pe[de]?Pe[de].p(jt,it):(Pe[de]=zr(jt),Pe[de].c(),Pe[de].m(ce,null))}for(;de<Pe.length;de+=1)Pe[de].d(1);Pe.length=pt.length}if(it[0]&66){je=Ge({length:8});let de;for(de=0;de<je.length;de+=1){const jt=jr(t,je,de);Je[de]?Je[de].p(jt,it):(Je[de]=Kr(jt),Je[de].c(),Je[de].m(Q,null))}for(;de<Je.length;de+=1)Je[de].d(1);Je.length=je.length}if(it[0]&66){Xe=Ge({length:8});let de;for(de=0;de<Xe.length;de+=1){const jt=Rr(t,Xe,de);et[de]?et[de].p(jt,it):(et[de]=Vr(jt),et[de].c(),et[de].m(he,null))}for(;de<et.length;de+=1)et[de].d(1);et.length=Xe.length}if(it[0]&2&&ft(b,t[30].s.d),it[0]&1){bt=Ge({length:12});let de;for(de=0;de<bt.length;de+=1){const jt=Fr(t,bt,de);Be[de]?Be[de].p(jt,it):(Be[de]=Gr(jt),Be[de].c(),Be[de].m(V,null))}for(;de<Be.length;de+=1)Be[de].d(1);Be.length=bt.length}if(it[0]&2&&ft(V,t[30].s.m),it[0]&2&&ft(ue,t[30].e.d),it[0]&1){ze=Ge({length:12});let de;for(de=0;de<ze.length;de+=1){const jt=Dr(t,ze,de);we[de]?we[de].p(jt,it):(we[de]=Yr(jt),we[de].c(),we[de].m(Ee,null))}for(;de<we.length;de+=1)we[de].d(1);we.length=ze.length}it[0]&2&&ft(Ee,t[30].e.m),it[0]&2&&se!==(se=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(Le,"class",se)},d(pe){pe&&(S(e),S(gt),S(mt)),Xt(xe,pe),Xt(Pe,pe),Xt(Je,pe),Xt(et,pe),Xt(qe,pe),Xt(Be,pe),Xt(It,pe),Xt(we,pe),Ze=!1,Ut(at)}}}function Ym(t){var K,$,le,H,Z,re,ae,fe,ce;let e,l,n=((($=(K=t[0].conf)==null?void 0:K.price)==null?void 0:$.title)??"Price")+"",i,s,o,f,r,c,m,_,d,v,w,y,M,g=(((H=(le=t[0].conf)==null?void 0:le.price)==null?void 0:H.btn_add)??"Add")+"",T,E,D,C,F,A,R=(((Z=t[0].btn)==null?void 0:Z.save)??"Save")+"",O,z,G,B,W,j,Y,X,U=t[1].o&&Hr(t);return G=new cl({props:{active:t[2],message:((ae=(re=t[0].conf)==null?void 0:re.price)==null?void 0:ae.mask_loading)??"Loading"}}),W=new cl({props:{active:t[3],message:((ce=(fe=t[0].conf)==null?void 0:fe.price)==null?void 0:ce.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("hr"),c=h(),m=p("form"),_=p("input"),d=h(),U&&U.c(),v=h(),w=p("div"),y=p("div"),M=p("button"),T=k(g),E=h(),D=p("div"),D.innerHTML="",C=h(),F=p("div"),A=p("button"),O=k(R),z=h(),Ne(G.$$.fragment),B=h(),Ne(W.$$.fragment),u(l,"class","text-sm"),u(o,"href",Il("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(_,"type","hidden"),u(_,"name","r"),_.value="true",u(M,"type","button"),u(M,"class","btn-pri"),u(D,"class","text-center"),u(A,"type","submit"),u(A,"class","btn-pri"),u(F,"class","text-right"),u(w,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(ee,Q){N(ee,e,Q),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,d),U&&U.m(m,null),a(m,v),a(m,w),a(w,y),a(y,M),a(M,T),a(w,E),a(w,D),a(w,C),a(w,F),a(F,A),a(A,O),N(ee,z,Q),ye(G,ee,Q),N(ee,B,Q),ye(W,ee,Q),j=!0,Y||(X=[ge(M,"click",t[7]),ge(m,"submit",Gn(t[5]))],Y=!0)},p(ee,Q){var Me,P,b,L,q,V,ne,ie,_e;(!j||Q[0]&1)&&n!==(n=(((P=(Me=ee[0].conf)==null?void 0:Me.price)==null?void 0:P.title)??"Price")+"")&&I(i,n),ee[1].o?U?U.p(ee,Q):(U=Hr(ee),U.c(),U.m(m,v)):U&&(U.d(1),U=null),(!j||Q[0]&1)&&g!==(g=(((L=(b=ee[0].conf)==null?void 0:b.price)==null?void 0:L.btn_add)??"Add")+"")&&I(T,g),(!j||Q[0]&1)&&R!==(R=(((q=ee[0].btn)==null?void 0:q.save)??"Save")+"")&&I(O,R);const J={};Q[0]&4&&(J.active=ee[2]),Q[0]&1&&(J.message=((ne=(V=ee[0].conf)==null?void 0:V.price)==null?void 0:ne.mask_loading)??"Loading"),G.$set(J);const he={};Q[0]&8&&(he.active=ee[3]),Q[0]&1&&(he.message=((_e=(ie=ee[0].conf)==null?void 0:ie.price)==null?void 0:_e.mask_saving)??"Saving"),W.$set(he)},i(ee){j||(x(G.$$.fragment,ee),x(W.$$.fragment,ee),j=!0)},o(ee){oe(G.$$.fragment,ee),oe(W.$$.fragment,ee),j=!1},d(ee){ee&&(S(e),S(z),S(B)),U&&U.d(),Se(G,ee),Se(W,ee),Y=!1,Ut(X)}}}function Xm(t,e,l){let{basepath:n="/"}=e,i={};Sl.subscribe(U=>{l(0,i=U)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;nu.subscribe(U=>{U.o&&(l(1,o=U),l(2,f=!1))}),h1();async function c(U){l(3,r=!0);const K=new URLSearchParams;K.append("r","true"),K.append("rc",o.o.length),o.o.forEach(function(le,H){K.append("rt"+H,le.t),K.append("rn"+H,le.n),K.append("rd"+H,le.d),K.append("ra"+H,le.a),K.append("rh"+H,le.h),K.append("rv"+H,le.v),K.append("rsm"+H,le.s.m),K.append("rsd"+H,le.s.d),K.append("rem"+H,le.e.m),K.append("red"+H,le.e.d)}),await(await fetch("save",{method:"POST",body:K})).json(),l(3,r=!1),vi(n+"configuration")}let m=function(U,K){return U.includes(K)?U=U.filter(function($){return $!==K}):U.push(K),U},_=function(){let U=o.o;U.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=U,o)},d=function(U){let K=o.o;K.splice(U,1),l(1,o.o=K,o)},v=function(U){if(U<=0)return;let K=o.o;var $=K[U];K[U]=K[U-1],K[U-1]=$,l(1,o.o=K,o)},w=function(U){let K=o.o;if(!(U>=K.length-1)){var $=K[U];K[U]=K[U+1],K[U+1]=$,l(1,o.o=K,o)}};function y(U,K){U[K].n=this.value,l(1,o)}function M(U,K){U[K].d=ll(this),l(1,o)}function g(U,K){U[K].t=ll(this),l(1,o)}function T(U,K){U[K].v=kt(this.value),l(1,o)}const E=(U,K,$,le)=>l(1,$[le].a=m(U.a,K),o),D=(U,K,$,le)=>l(1,$[le].h=m(U.h,K),o),C=(U,K,$,le)=>l(1,$[le].h=m(U.h,K+8),o),F=(U,K,$,le)=>l(1,$[le].h=m(U.h,K+16),o);function A(U,K){U[K].s.d=ll(this),l(1,o)}function R(U,K){U[K].s.m=ll(this),l(1,o)}function O(U,K){U[K].e.d=ll(this),l(1,o)}function z(U,K){U[K].e.m=ll(this),l(1,o)}const G=U=>v(U),B=U=>v(U),W=U=>w(U),j=U=>w(U),Y=U=>d(U),X=U=>d(U);return t.$$set=U=>{"basepath"in U&&l(11,n=U.basepath)},[i,o,f,r,s,c,m,_,d,v,w,n,y,M,g,T,E,D,C,F,A,R,O,z,G,B,W,j,Y,X]}class Jm extends Et{constructor(e){super(),At(this,e,Xm,Ym,Pt,{basepath:11},null,[-1,-1])}}function Jr(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function Qr(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function Zr(t){let e,l,n,i=Ge(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=$r(Qr(t,i,o));return{c(){e=p("div"),e.textContent="Import",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){N(o,e,f),N(o,l,f),N(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=Ge(o[1]);let r;for(r=0;r<i.length;r+=1){const c=Qr(o,i,r);s[r]?s[r].p(c,f):(s[r]=$r(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(S(e),S(l),S(n)),Xt(s,o)}}}function $r(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,_,d;function v(){t[11].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=k(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,y){N(w,e,y),a(e,l),a(l,i),a(e,s),a(e,o),te(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),_||(d=ge(o,"input",v),_=!0)},p(w,y){t=w,y&2&&n!==(n=t[13].name+"")&&I(i,n),y&2&&f!==(f=t[13].key)&&u(o,"name",f),y&3&&kt(o.value)!==t[0][t[13].key]&&te(o,t[0][t[13].key])},d(w){w&&S(e),_=!1,d()}}}function xr(t){let e,l,n,i=Ge(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ef(Jr(t,i,o));return{c(){e=p("div"),e.textContent="Export",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){N(o,e,f),N(o,l,f),N(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=Ge(o[2]);let r;for(r=0;r<i.length;r+=1){const c=Jr(o,i,r);s[r]?s[r].p(c,f):(s[r]=ef(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(S(e),S(l),S(n)),Xt(s,o)}}}function ef(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,_,d;function v(){t[12].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=k(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,y){N(w,e,y),a(e,l),a(l,i),a(e,s),a(e,o),te(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),_||(d=ge(o,"input",v),_=!0)},p(w,y){t=w,y&4&&n!==(n=t[13].name+"")&&I(i,n),y&4&&f!==(f=t[13].key)&&u(o,"name",f),y&5&&kt(o.value)!==t[0][t[13].key]&&te(o,t[0][t[13].key])},d(w){w&&S(e),_=!1,d()}}}function Qm(t){var D,C,F;let e,l,n,i,s,o,f,r,c,m,_=(((D=t[3].btn)==null?void 0:D.save)??"Save")+"",d,v,w,y,M,g,T=t[1]&&Zr(t),E=t[2]&&t[4]&&xr(t);return w=new cl({props:{active:t[5],message:((F=(C=t[3].conf)==null?void 0:C.mask)==null?void 0:F.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),T&&T.c(),n=h(),E&&E.c(),i=h(),s=p("div"),o=p("div"),f=p("button"),f.textContent="Clear all",r=h(),c=p("div"),m=p("button"),d=k(_),v=h(),Ne(w.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(A,R){N(A,e,R),a(e,l),T&&T.m(l,null),a(l,n),E&&E.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,d),N(A,v,R),ye(w,A,R),y=!0,M||(g=[ge(f,"click",t[6]),ge(e,"submit",Gn(t[7]))],M=!0)},p(A,[R]){var z,G,B;A[1]?T?T.p(A,R):(T=Zr(A),T.c(),T.m(l,n)):T&&(T.d(1),T=null),A[2]&&A[4]?E?E.p(A,R):(E=xr(A),E.c(),E.m(l,i)):E&&(E.d(1),E=null),(!y||R&8)&&_!==(_=(((z=A[3].btn)==null?void 0:z.save)??"Save")+"")&&I(d,_);const O={};R&32&&(O.active=A[5]),R&8&&(O.message=((B=(G=A[3].conf)==null?void 0:G.mask)==null?void 0:B.saving)??"Saving"),w.$set(O)},i(A){y||(x(w.$$.fragment,A),y=!0)},o(A){oe(w.$$.fragment,A),y=!1},d(A){A&&(S(e),S(v)),T&&T.d(),E&&E.d(),Se(w,A),M=!1,Ut(g)}}}function Zm(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};Sl.subscribe(M=>{l(3,f=M)});let r=!1,c,m;async function _(){if(confirm("Clear all data?"))for(let M in i)(M.startsWith("i")||M.startsWith("e"))&&l(0,i[M]=0,i)}let d=!1;async function v(M){l(5,d=!0);const g=new FormData(M.target),T=new URLSearchParams;for(let D of g){const[C,F]=D;T.append(C,F)}await(await fetch(s,{method:"POST",body:T})).json(),l(5,d=!1),vi(o)}function w(M){i[M.key]=kt(this.value),l(0,i)}function y(M){i[M.key]=kt(this.value),l(0,i)}return t.$$set=M=>{"prefix"in M&&l(8,n=M.prefix),"data"in M&&l(0,i=M.data),"url"in M&&l(9,s=M.url),"basepath"in M&&l(10,o=M.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let M in i){let g=[];M.startsWith("i")?g=c:M.startsWith("e")&&(g=m,i[M]&&l(4,r=!0)),g.push({key:M,name:n+" "+M.substring(1),value:i[M]})}}},[i,c,m,f,r,d,_,v,n,s,o,w,y]}class ru extends Et{constructor(e){super(),At(this,e,Zm,Qm,Pt,{prefix:8,data:0,url:9,basepath:10})}}function tf(t){let e,l;return e=new b0({props:{data:t[6],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function $m(t){let e,l;return e=new Um({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function xm(t){let e,l;return e=new _1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function ed(t){let e,l;return e=new tm({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function td(t){let e,l;return e=new Jm({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function ld(t){let e,l;return e=new cm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function nd(t){let e,l;return e=new ms({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:We,i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function id(t){let e,l;return e=new ms({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:We,i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function sd(t){let e,l;return e=new ms({props:{title:"private key",action:"/mqtt-key"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:We,i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function od(t){let e,l;return e=new Cm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function ad(t){let e,l;return e=new ru({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function rd(t){let e,l;return e=new ru({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function fd(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,y,M,g,T,E,D,C,F,A,R=!t[9]&&tf(t);return l=new wl({props:{path:"/welcome",$$slots:{default:[$m]},$$scope:{ctx:t}}}),i=new wl({props:{path:"/",$$slots:{default:[xm]},$$scope:{ctx:t}}}),o=new wl({props:{path:"/configuration",$$slots:{default:[ed]},$$scope:{ctx:t}}}),r=new wl({props:{path:"/priceconfig",$$slots:{default:[td]},$$scope:{ctx:t}}}),m=new wl({props:{path:"/status",$$slots:{default:[ld]},$$scope:{ctx:t}}}),d=new wl({props:{path:"/mqtt-ca",$$slots:{default:[nd]},$$scope:{ctx:t}}}),w=new wl({props:{path:"/mqtt-cert",$$slots:{default:[id]},$$scope:{ctx:t}}}),M=new wl({props:{path:"/mqtt-key",$$slots:{default:[sd]},$$scope:{ctx:t}}}),T=new wl({props:{path:"/setup",$$slots:{default:[od]},$$scope:{ctx:t}}}),D=new wl({props:{path:"/edit-day",$$slots:{default:[ad]},$$scope:{ctx:t}}}),F=new wl({props:{path:"/edit-month",$$slots:{default:[rd]},$$scope:{ctx:t}}}),{c(){R&&R.c(),e=h(),Ne(l.$$.fragment),n=h(),Ne(i.$$.fragment),s=h(),Ne(o.$$.fragment),f=h(),Ne(r.$$.fragment),c=h(),Ne(m.$$.fragment),_=h(),Ne(d.$$.fragment),v=h(),Ne(w.$$.fragment),y=h(),Ne(M.$$.fragment),g=h(),Ne(T.$$.fragment),E=h(),Ne(D.$$.fragment),C=h(),Ne(F.$$.fragment)},m(O,z){R&&R.m(O,z),N(O,e,z),ye(l,O,z),N(O,n,z),ye(i,O,z),N(O,s,z),ye(o,O,z),N(O,f,z),ye(r,O,z),N(O,c,z),ye(m,O,z),N(O,_,z),ye(d,O,z),N(O,v,z),ye(w,O,z),N(O,y,z),ye(M,O,z),N(O,g,z),ye(T,O,z),N(O,E,z),ye(D,O,z),N(O,C,z),ye(F,O,z),A=!0},p(O,z){O[9]?R&&(St(),oe(R,1,1,()=>{R=null}),Nt()):R?(R.p(O,z),z&512&&x(R,1)):(R=tf(O),R.c(),x(R,1),R.m(e.parentNode,e));const G={};z&65537&&(G.$$scope={dirty:z,ctx:O}),l.$set(G);const B={};z&66046&&(B.$$scope={dirty:z,ctx:O}),i.$set(B);const W={};z&65729&&(W.$$scope={dirty:z,ctx:O}),o.$set(W);const j={};z&65537&&(j.$$scope={dirty:z,ctx:O}),r.$set(j);const Y={};z&65728&&(Y.$$scope={dirty:z,ctx:O}),m.$set(Y);const X={};z&65536&&(X.$$scope={dirty:z,ctx:O}),d.$set(X);const U={};z&65536&&(U.$$scope={dirty:z,ctx:O}),w.$set(U);const K={};z&65536&&(K.$$scope={dirty:z,ctx:O}),M.$set(K);const $={};z&65728&&($.$$scope={dirty:z,ctx:O}),T.$set($);const le={};z&65541&&(le.$$scope={dirty:z,ctx:O}),D.$set(le);const H={};z&65545&&(H.$$scope={dirty:z,ctx:O}),F.$set(H)},i(O){A||(x(R),x(l.$$.fragment,O),x(i.$$.fragment,O),x(o.$$.fragment,O),x(r.$$.fragment,O),x(m.$$.fragment,O),x(d.$$.fragment,O),x(w.$$.fragment,O),x(M.$$.fragment,O),x(T.$$.fragment,O),x(D.$$.fragment,O),x(F.$$.fragment,O),A=!0)},o(O){oe(R),oe(l.$$.fragment,O),oe(i.$$.fragment,O),oe(o.$$.fragment,O),oe(r.$$.fragment,O),oe(m.$$.fragment,O),oe(d.$$.fragment,O),oe(w.$$.fragment,O),oe(M.$$.fragment,O),oe(T.$$.fragment,O),oe(D.$$.fragment,O),oe(F.$$.fragment,O),A=!1},d(O){O&&(S(e),S(n),S(s),S(f),S(c),S(_),S(v),S(y),S(g),S(E),S(C)),R&&R.d(O),Se(l,O),Se(i,O),Se(o,O),Se(r,O),Se(m,O),Se(d,O),Se(w,O),Se(M,O),Se(T,O),Se(D,O),Se(F,O)}}}function lf(t){let e,l,n,i;const s=[cd,ud],o=[];function f(r,c){return r[7].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){o[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(St(),oe(o[m],1,1,()=>{o[m]=null}),Nt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),x(l,1),l.m(n.parentNode,n))},i(r){i||(x(l),i=!0)},o(r){oe(l),i=!1},d(r){r&&S(n),o[e].d(r)}}}function ud(t){let e,l;return e=new cl({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:We,i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function cd(t){let e,l;return e=new cl({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){oe(e.$$.fragment,n),l=!1},d(n){Se(e,n)}}}function md(t){let e,l,n,i;l=new Lf({props:{basepath:t[0],$$slots:{default:[fd]},$$scope:{ctx:t}}});let s=t[7].booting&&lf(t);return{c(){e=p("div"),Ne(l.$$.fragment),n=h(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){N(o,e,f),ye(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&66559&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,f),f&128&&x(s,1)):(s=lf(o),s.c(),x(s,1),s.m(e,null)):s&&(St(),oe(s,1,1,()=>{s=null}),Nt())},i(o){i||(x(l.$$.fragment,o),x(s),i=!0)},o(o){oe(l.$$.fragment,o),oe(s),i=!1},d(o){o&&S(e),Se(l),s&&s.d()}}}function dd(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/"),_i("no");let s;os.subscribe(E=>{l(1,s=E)});let o;Wf.subscribe(E=>{l(2,o=E)});let f;zf.subscribe(E=>{l(3,f=E)});let r;Kf.subscribe(E=>{l(4,r=E)});let c={};Sl.subscribe(E=>{l(5,c=E)});let m,_={},d={},v;const w=(E="")=>{if(typeof E!="string")return"/";let D=E||"/";return i&&i!=="/"&&D.startsWith(i)&&(D=D.slice(i.length),D.startsWith("/")||(D=`/${D}`)),D.startsWith("/")||(D=`/${D}`),D.length>1&&(D=D.replace(/\/+$/,"")),D||"/"};ml.subscribe(E=>{var C;l(7,d=E);const D=(()=>typeof window>"u"?"":w(window.location.pathname??"/").replace(/^\/+/,""))();if(d.usrcfg===!1){D!=="setup"&&D!=="welcome"&&vi(i+"welcome");return}d.ui.k===1?document.documentElement.classList.add("dark"):d.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),d.ui.lang&&d.ui.lang!=((C=c==null?void 0:c.language)==null?void 0:C.code)&&_i(d.ui.lang),d.version&&v&&d.version!=v&&window.location.reload(),v=d.version,m&&clearTimeout(m),m=setTimeout(ki,!_||!_.u||_.u<30||d!=null&&d.upgrading?1e4:3e5)}),Hc.subscribe(E=>{l(6,_=E),s1(E)});let y={};Gf.subscribe(E=>{l(8,y=E)}),Vf();let M=typeof window<"u"?w(window.location.pathname??"/"):"/";const g=(E="/")=>E==="/setup"||E==="/welcome",T=()=>{typeof window<"u"&&l(10,M=w(window.location.pathname??"/"))};return hi(()=>{T();const E=()=>T();window.addEventListener("popstate",E);const D=history.pushState,C=history.replaceState;return history.pushState=function(...F){D.apply(this,F),T()},history.replaceState=function(...F){C.apply(this,F),T()},()=>{window.removeEventListener("popstate",E),history.pushState=D,history.replaceState=C}}),gi(()=>{T()}),t.$$.update=()=>{t.$$.dirty&1024&&l(9,n=g(M))},[i,s,o,f,r,c,_,d,y,n,M]}class pd extends Et{constructor(e){super(),At(this,e,dd,md,Pt,{})}}new pd({target:document.getElementById("app")});
